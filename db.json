{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/search/index.php","path":"search/index.php","modified":0,"renderable":0},{"_id":"themes/hexo-theme-yelee/source/apple-touch-icon.png","path":"apple-touch-icon.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/bg-1.jpg","path":"background/bg-1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/bg-2.jpg","path":"background/bg-2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/bg-3.jpg","path":"background/bg-3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/bg-4.jpg","path":"background/bg-4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/GithubRepoWidget.js","path":"js/GithubRepoWidget.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/instagram.js","path":"js/instagram.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/mobile.js","path":"js/mobile.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/pc.js","path":"js/pc.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/toc.js","path":"js/toc.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/CSDN.png","path":"img/CSDN.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/Plunker.png","path":"img/Plunker.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/SegmentFault.png","path":"img/SegmentFault.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/TiddlyWiki.png","path":"img/TiddlyWiki.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/V2EX.png","path":"img/V2EX.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/scrollbar_arrow.png","path":"img/scrollbar_arrow.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/flake.png","path":"img/flake.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/博客园.png","path":"img/博客园.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/新浪微博.png","path":"img/新浪微博.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/知乎.png","path":"img/知乎.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/简书.png","path":"img/简书.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/网易云音乐.png","path":"img/网易云音乐.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/虾米音乐.png","path":"img/虾米音乐.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/豆瓣.png","path":"img/豆瓣.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/bg-5.jpg","path":"background/bg-5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/bg-6.jpg","path":"background/bg-6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/js/embed.js","path":"js/embed.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-1.jpg","path":"background/backup/bg-1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-2.jpg","path":"background/backup/bg-2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-3.jpg","path":"background/backup/bg-3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-4.jpg","path":"background/backup/bg-4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-yelee/source/img/avatar.png","path":"img/avatar.png","modified":0,"renderable":1}],"Cache":[{"_id":"themes/hexo-theme-yelee/.gitignore","hash":"79b4a9ac435bc5833a0bc461ebacb10908b34ed3","modified":1465959934010},{"_id":"themes/hexo-theme-yelee/README.md","hash":"825ab90532b65fe925ada7ba513e45e8dccc7a82","modified":1466054194743},{"_id":"themes/hexo-theme-yelee/_config.yml","hash":"e9ac7f5ca48c9d57603859833e901507f57c8808","modified":1480579932732},{"_id":"themes/hexo-theme-yelee/package.json","hash":"0199dfb3d44cf520b67464817d13c44a7766b8d6","modified":1466054194776},{"_id":"source/search/index.php","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1465956676337},{"_id":"source/404/index.md","hash":"d885ddf832a3a698b2714c4e0c22c934e4aff179","modified":1480575025842},{"_id":"source/about/index.md","hash":"e72fcef55bf84d94be92efbbfa17010e51a130ae","modified":1480575026484},{"_id":"source/_posts/2016-04-25.ui-router_use.md","hash":"327dfe38f97b76b82482821806377686a3da1719","modified":1480578759616},{"_id":"source/_posts/2016-04-23.angularjs_validate.md","hash":"80c53ee557fc66f83e434fb462deb0da2f86df2f","modified":1480578759652},{"_id":"source/_posts/2016-04-27.angularjs_$http_anysc.md","hash":"726b51450e8a5682a5e492e3456ba07430d58972","modified":1480575030467},{"_id":"source/_posts/2016-04-28.from_ng-options.md","hash":"0c10b5e9db7daa2cb7ac9f7cb8e24ce178a69329","modified":1480575031087},{"_id":"source/_posts/2016-05-03.angularjs_keyboard_event.md","hash":"a7336454976d231671afbeb374f661decbf4a580","modified":1480575028250},{"_id":"source/_posts/2016-05-04.angularjs_checkbox.md","hash":"01a26f5212cfb300c15bd3a0cc98952188e4c39b","modified":1480578788302},{"_id":"source/_posts/2016-05-05.atom_use_and_plugins.md","hash":"465b49d58ab051b8863b930a42929f135cdb816c","modified":1480577808589},{"_id":"source/_posts/2016-05-12.linux_crontab_task.md","hash":"ea994fe1a877fa8935ff5537e26768bbc7b9d591","modified":1480575029983},{"_id":"source/_posts/2016-05-13.nodejs_online_chat.md","hash":"676f2bbc3611303fef69d86694624d90ab465e35","modified":1480578231121},{"_id":"source/_posts/2016-05-11.markdown_syntax.md","hash":"65929f4e495deb92c7771047844e09dc3343c12f","modified":1480575026225},{"_id":"source/_posts/2016-05-14.aboutme.md","hash":"71ec5ed56c3cf5ce21be30e628806e8ff8ba5ba6","modified":1480579015940},{"_id":"source/_posts/2016-05-14.webpack_basic_use.md","hash":"5dad95b31c9fc7545e04192c5dc078b12f1d1738","modified":1480579015815},{"_id":"source/_posts/2016-05-16.excel_markdown_table.md","hash":"452d1fc145c8d3aaccd08f46da423f5d87b16c73","modified":1480575026674},{"_id":"source/_posts/2016-05-16.nodejs_process.md","hash":"44aeed060f3e5b11153e8b6e36b9551a6c80bd1e","modified":1480575027616},{"_id":"source/_posts/2016-05-17.webpack_loader.md","hash":"4b76e63a53b4f3c43de9f8f655daed4fc4180c18","modified":1480575028058},{"_id":"source/_posts/2016-05-17.webpack_plugins.md","hash":"4cab40647788220d5cb8bcd8f4443af91a4cf14d","modified":1480575029758},{"_id":"source/_posts/2016-05-19.es6_syntax.md","hash":"8de0d0fda376af4052aac41a33d9d47a192f080f","modified":1480575029573},{"_id":"source/_posts/2016-05-18.webpack_params.md","hash":"0963b449a496dd2c6aa37540569c0d0c0f975c6a","modified":1480575029635},{"_id":"source/_posts/2016-05-19.javasciprt_syntax.md","hash":"cd0a7cd659119f2156812fc07262d6c7e3c30b2b","modified":1480575025711},{"_id":"source/_posts/2016-05-21.png_gif_transparency.md","hash":"5be845fc3af6895c6e4d9b21128a8ea95a33be88","modified":1480575027465},{"_id":"source/_posts/2016-05-23.anki_templates.md","hash":"42e844033f21ea4bd010c73fa07e196695a65567","modified":1480575026997},{"_id":"source/_posts/2016-05-25.sublime_config.md","hash":"64a456f81df8db64cfcab2db2473335e79a1ac65","modified":1480575029834},{"_id":"source/_posts/2016-05-24.nodejs_koa.md","hash":"59587ea4b2a3efdcd426250db93dd150c426065e","modified":1480575028467},{"_id":"source/_posts/2016-05-26.koa_generator.md","hash":"2728742b3371d96b290c1ab183f68edcf1d2b67a","modified":1480579015774},{"_id":"source/_posts/2016-05-27.mongodb_use.md","hash":"af97845f3210364723a457d1a2a4b9cc61f631b8","modified":1480575025606},{"_id":"source/_posts/2016-05-30.markdownpad2.md","hash":"3ac48defc673ace1afb8fd638d704cc22be9c67e","modified":1467082171359},{"_id":"source/_posts/2016-06-01.npm_modules_share.md","hash":"36451ab87154323a5944575ede777a020eac934b","modified":1480577827472},{"_id":"source/_posts/2016-06-02.nodejs_spider_system.md","hash":"cfe876ce44bc35dd29fc48cb16a1a04f194043aa","modified":1480573901644},{"_id":"source/_posts/2016-06-02.package.json_scripts.md","hash":"4cf6408f7545bd322639f01d15acda3efec55cf1","modified":1480575028918},{"_id":"source/_posts/2016-06-03.css_font_family.md","hash":"b63bfcf3a4d16bb65bc347c328801e136929e51d","modified":1480575028427},{"_id":"source/_posts/2016-06-04.anki_excel_shortcuts.md","hash":"1be7e7b57098e85af96b5099708852d51a8e0fcb","modified":1480575027337},{"_id":"source/_posts/2016-06-05.front_end_tools.md","hash":"f466642d7b496dd7c2fa6b584e8e208ca6d8c397","modified":1480575025475},{"_id":"source/_posts/2016-06-07.gulp_use.md","hash":"04b6102c450c5646dd3cf9f1ce36c757d51601f3","modified":1480575031027},{"_id":"source/_posts/2016-06-07.markdown_table_style.md","hash":"014ba7be48328d4ad933f77eb9f705ddc156bdac","modified":1480575030120},{"_id":"source/_posts/2016-06-17.linux_chmod.md","hash":"7d216d00530a356354d3c60c58f6ffde1acd9790","modified":1480578211648},{"_id":"source/_posts/2016-06-17.duoshuo_disqus_comment_ount.md","hash":"ca132aec01a58e12eb643435aa4d3e2811a16864","modified":1480575025135},{"_id":"source/_posts/2016-06-17.linux_disk.md","hash":"25af573816de73a823315ea86dd1e32cbc895de0","modified":1480575028316},{"_id":"source/_posts/2016-06-17.public_dns.md","hash":"c91aa780392e8b339ce7451f2a6d16295380e26b","modified":1480577857631},{"_id":"source/_posts/2016-06-20.react_environment.md","hash":"4a95939605542459b20a4d7f5d0fee99b71b0d91","modified":1480575028209},{"_id":"source/_posts/2016-06-22.angular2_study_note_environment.md","hash":"7e855423417488d17429a403cc94858a6016e865","modified":1480575025874},{"_id":"source/_posts/2016-06-23.angular2_study_note_component.md","hash":"0faa251b04b8ea4ddacb7fe11355947e4cbb74b4","modified":1480578101067},{"_id":"source/_posts/2016-06-24.angular2_study_note_click_event.md","hash":"25f478c2fb875a0167f4f9a7bb52d6fa2e4d5e66","modified":1480575029869},{"_id":"source/_posts/2016-06-25.angular2_study_note_ng-tag.md","hash":"33adf76e0dc1754626b3b3cd28b41b19e875e841","modified":1480575028027},{"_id":"source/_posts/2016-06-26.angular2_study_note_other.md","hash":"1050168d3521b6ec7c6043f411f0d18a45fe579f","modified":1480575028791},{"_id":"source/_posts/2016-06-27.angular2_study_service_http.md","hash":"2e53dfc034ef07ec4d89b440e9286885578c1f1f","modified":1480578156406},{"_id":"source/_posts/2016-06-28.angular2_study_form.md","hash":"a567137dabc6c2e7b9b31dce8fa330f2b5e4a2a5","modified":1467277899051},{"_id":"source/_posts/2016-06-29.angular2_study_router.md","hash":"3edeeb3d0b8a7b43dc620fc5be0f5935f38b4257","modified":1467082051388},{"_id":"source/_posts/2016-06-30.angular2_study_animate.md","hash":"06015029b7efc5ffef726634fcd5fcb4230839e1","modified":1480575028744},{"_id":"source/_posts/2016-07-01.year_2016_study_plan.md","hash":"ed6b2ed54415882575443519a3da96e198abb802","modified":1480575028603},{"_id":"source/_posts/2016-07-02.javascript_design_pattern.md","hash":"cb07d2bba161f9bc3af02e4d45610ff0e5ed1bfd","modified":1480575030516},{"_id":"source/_posts/2016-07-12.rxjs_study.md","hash":"d426099af684d73c546523720b5fe087a38e693b","modified":1480575027729},{"_id":"source/_posts/2016-07-21.angular_api_common.md","hash":"66dd8c3e2d2389bd6165f5a2c1375a302f3430e1","modified":1480575030293},{"_id":"source/_posts/2016-07-28.angular_api_router.md","hash":"fe02f5619c965a39ba49698d6135a295c7e7be57","modified":1480575027673},{"_id":"source/_posts/2016-07-29.ionic2环境搭建.md","hash":"d197f41784b001efc19129fbb1b05cafb18ad818","modified":1480575029604},{"_id":"source/_posts/2016-08-22.yargs插件的应用(native script增强).md","hash":"c3a4c01f4f223eea2841ee1aa0f6aa67ea9a7697","modified":1480575025506},{"_id":"source/_posts/2016-08-24.一部神奇的动漫.md","hash":"38674c3f5bc26e0313d595725a4275e396f1b382","modified":1480579015856},{"_id":"source/_posts/2016-08-28.日本的生活习惯.md","hash":"08bfa4e0a787895082f8947ddadf7f2ac9f43c61","modified":1480575027051},{"_id":"source/_posts/2016-10-08.だいすきなアニメ.md","hash":"292574a18cc9a4292020d14cf6d5169d0165a914","modified":1480575026127},{"_id":"source/_posts/2016-10-24.使用Servlet做简单的上传功能.md","hash":"7a989a8382a761860a87dfe89cc4c26b3a3738dd","modified":1480580166916},{"_id":"source/_posts/2016-10-28.Maven 与 IntelliJ IDEA 的完美结合.md","hash":"aa70c95cf7d72191eab3c00ce483209360b5cd82","modified":1480575027697},{"_id":"source/_posts/2016-10-29.spring boot 相关资料.md","hash":"b6ab01eadf514f0292d947714ccc0afefc11c9db","modified":1480575026635},{"_id":"source/_posts/2016-11-01.spring boot 做前后分离的跨域问题.md","hash":"e766e572dc811ac56a0155d5c679f522a8f8f42a","modified":1480575030084},{"_id":"source/_posts/2016-11-02.spring boot 做前后分离时间格式化.md","hash":"4293bf069619403b2d90baa572993f97ae577744","modified":1480575027964},{"_id":"source/search/index.md","hash":"8ac73eae64b68caa55754f46581e6e54a1237b43","modified":1478063644825},{"_id":"source/tags/index.md","hash":"04df53802ca8020d5387ce9eb4adb95816802d7c","modified":1478063644830},{"_id":"themes/hexo-theme-yelee/.github/ISSUE_TEMPLATE.md","hash":"ce083abf397c12747893a23e901d46558b53e0ad","modified":1465959934008},{"_id":"themes/hexo-theme-yelee/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1465959934266},{"_id":"themes/hexo-theme-yelee/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1465959934264},{"_id":"themes/hexo-theme-yelee/layout/index.ejs","hash":"2030c8f693fceec8f32934dbd4f8f8050d90d237","modified":1466127311951},{"_id":"themes/hexo-theme-yelee/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1465959934277},{"_id":"themes/hexo-theme-yelee/layout/layout.ejs","hash":"3a4350f23a1286345f76c949466c97a7200dae8e","modified":1466054194772},{"_id":"themes/hexo-theme-yelee/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1465959934278},{"_id":"themes/hexo-theme-yelee/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1465959934279},{"_id":"themes/hexo-theme-yelee/languages/default.yml","hash":"9ab84dc75602f84b02d050426cbd1406580d40d9","modified":1466054194753},{"_id":"themes/hexo-theme-yelee/languages/en.yml","hash":"9ab84dc75602f84b02d050426cbd1406580d40d9","modified":1480579848727},{"_id":"themes/hexo-theme-yelee/languages/zh-Hans.yml","hash":"9ab84dc75602f84b02d050426cbd1406580d40d9","modified":1480579851318},{"_id":"themes/hexo-theme-yelee/languages/zh-Hant-TW.yml","hash":"9ab84dc75602f84b02d050426cbd1406580d40d9","modified":1480579855864},{"_id":"themes/hexo-theme-yelee/languages/zh-Hant-HK.yml","hash":"9ab84dc75602f84b02d050426cbd1406580d40d9","modified":1480579855900},{"_id":"themes/hexo-theme-yelee/source/apple-touch-icon.png","hash":"c0fda117fa166d63b9eb690cc5e4fb2caaf493b3","modified":1465959934281},{"_id":"source/_posts/.idea/_posts.iml","hash":"980957b57c4f1eae5e85d664d8375f83d47d3e5a","modified":1478053988715},{"_id":"source/_posts/.idea/compiler.xml","hash":"28e05f3319365120af902bebf13c6aa66b02a609","modified":1478053988863},{"_id":"source/_posts/.idea/misc.xml","hash":"cd79a59820991a26dcacd29ba34fc3c5e6d4d1de","modified":1478053988776},{"_id":"source/_posts/.idea/modules.xml","hash":"6abd6dcb985048745c9214d67295bdf1597307ee","modified":1478053988946},{"_id":"source/_posts/.idea/vcs.xml","hash":"2d907a36075e3eccb23ee1a5a91887aefb425ed1","modified":1478054004247},{"_id":"source/_posts/.idea/workspace.xml","hash":"3dcb1198af1be4118c57c2509661d4df3904e48f","modified":1478055370523},{"_id":"themes/hexo-theme-yelee/layout/_partial/after-footer.ejs","hash":"60906cb6c6d8ced0196f785c40c3e10dab649d4d","modified":1465959934036},{"_id":"themes/hexo-theme-yelee/layout/_partial/archive-post.ejs","hash":"0ecc2ad07b4abad80f564ac1858c50bcbdff34f8","modified":1465959934039},{"_id":"themes/hexo-theme-yelee/layout/_partial/archive.ejs","hash":"a4eacc2bc1278095a0ef99f904b0634c78f980eb","modified":1465959934048},{"_id":"themes/hexo-theme-yelee/layout/_partial/article.ejs","hash":"29749e14db1a5f1ab5e82f486ac0c7f8417c86c0","modified":1465959934065},{"_id":"themes/hexo-theme-yelee/layout/_partial/background.ejs","hash":"aeef39abef66ee0bd6c9efe856eaeb1b81416d41","modified":1465959934109},{"_id":"themes/hexo-theme-yelee/layout/_partial/footer.ejs","hash":"4f208916c3f0d9e9591038452c4fc51a354511ce","modified":1480556550857},{"_id":"themes/hexo-theme-yelee/layout/_partial/google-analytics.ejs","hash":"1ccc627d7697e68fddc367c73ac09920457e5b35","modified":1465959934173},{"_id":"themes/hexo-theme-yelee/layout/_partial/head.ejs","hash":"9cba318551b9455539d39c00a06f73b7927ca3d6","modified":1465959934192},{"_id":"themes/hexo-theme-yelee/layout/_partial/header.ejs","hash":"b69855e07b65117769adc515cb64b803932068c9","modified":1465959934193},{"_id":"themes/hexo-theme-yelee/layout/_partial/left-col.ejs","hash":"06c5fa07ee00abd62198f33d5e29928fb192b588","modified":1466067358042},{"_id":"themes/hexo-theme-yelee/layout/_partial/ie-updater.ejs","hash":"8d1e1f3953efbcf5ec84a451439a62a1c95b55d7","modified":1465959934196},{"_id":"themes/hexo-theme-yelee/layout/_partial/mathjax.ejs","hash":"ce868f8b2b5b377cadc270e3a5bb5826f8bf0dee","modified":1465959934210},{"_id":"themes/hexo-theme-yelee/layout/_partial/mobile-nav.ejs","hash":"306be982577b0ef968f855d0dfeaab6b180b8a50","modified":1465959934213},{"_id":"themes/hexo-theme-yelee/layout/_partial/page.ejs","hash":"cfce60062cdb60893baeda7fa0266ae4086c2bc8","modified":1465959934217},{"_id":"themes/hexo-theme-yelee/layout/_partial/post-nav-button.ejs","hash":"0a98bffdd14f6677721841c0ac4487a86c77266c","modified":1465959934220},{"_id":"themes/hexo-theme-yelee/layout/_partial/scrolling-button.ejs","hash":"c5e1c3a8e1e6b0d927ac25a7fb8720ee7ac83ad8","modified":1465959934251},{"_id":"themes/hexo-theme-yelee/layout/_partial/tag-cloud-page.ejs","hash":"c7b25ef136e129c948ac37d6ff19e8815ab9fee6","modified":1465975695838},{"_id":"themes/hexo-theme-yelee/layout/_partial/toc.ejs","hash":"53bc5091b92703c96e90472c0b4c82ad5ef10965","modified":1465959934263},{"_id":"themes/hexo-theme-yelee/source/background/bg-1.jpg","hash":"9a5241de4c880f13a278f6980bf11d4dfb214d82","modified":1465959934302},{"_id":"themes/hexo-theme-yelee/source/background/bg-2.jpg","hash":"d1e0b92e8fa822e44d185b5e1bf94ab47bc98a0a","modified":1465959934305},{"_id":"themes/hexo-theme-yelee/source/background/bg-3.jpg","hash":"d476909f06fe8267c676952e3582bf9e9ff73585","modified":1465959934309},{"_id":"themes/hexo-theme-yelee/source/background/bg-4.jpg","hash":"8e80d0b7786c3bf7b9648c0190719e78001e9eeb","modified":1465959934313},{"_id":"themes/hexo-theme-yelee/source/css/_extend.styl","hash":"8ab1ad313bd6707d248c5ca1ee9a5eab8d815e42","modified":1465959934323},{"_id":"themes/hexo-theme-yelee/source/css/_variables.styl","hash":"803faa7a85d9fafb8072a2abd912b46c546eee92","modified":1465959934429},{"_id":"themes/hexo-theme-yelee/source/css/style.styl","hash":"30cb6b33627d9e1a18e9a19627441282df93c99a","modified":1466127311954},{"_id":"themes/hexo-theme-yelee/source/js/GithubRepoWidget.js","hash":"5fb1bf6cf973062771ddf275ceeca5bc69c81c77","modified":1465959934460},{"_id":"themes/hexo-theme-yelee/source/js/instagram.js","hash":"81e13cacf4947118ed1920e59b04ccf6beef6b86","modified":1465959934461},{"_id":"themes/hexo-theme-yelee/source/js/main.js","hash":"ac2a3fc075432c6d9651c3b8ee56bf6e5d072ff4","modified":1465959934467},{"_id":"themes/hexo-theme-yelee/source/js/mobile.js","hash":"8abc32d18f16db56f51caad607cffb6ca756eca9","modified":1465959934473},{"_id":"themes/hexo-theme-yelee/source/js/pc.js","hash":"1e4cdfa31e828e11b848fed3c3541c6591bf9b5d","modified":1465959934490},{"_id":"themes/hexo-theme-yelee/source/js/search.js","hash":"001e324844e63f3bfb6f60d173b9c6954127be0b","modified":1465959934497},{"_id":"themes/hexo-theme-yelee/source/js/toc.js","hash":"a36e55a655551d75d703210326bbf54d98fc86fb","modified":1465959934504},{"_id":"themes/hexo-theme-yelee/source/img/CSDN.png","hash":"59f7d89eda8a7310a0ee1607e153c0829af7eb6e","modified":1465959934441},{"_id":"themes/hexo-theme-yelee/source/img/Plunker.png","hash":"14a0054b9b4a0e459987f34b9ab48ab22dbe5cf9","modified":1465959934442},{"_id":"themes/hexo-theme-yelee/source/img/SegmentFault.png","hash":"1afbc7e575e2e9ed9404be84a3f92f7ca8345a9c","modified":1465959934443},{"_id":"themes/hexo-theme-yelee/source/img/TiddlyWiki.png","hash":"b7f68f8f9c45561a9455aee0bfb80e35cae6f8df","modified":1465959934444},{"_id":"themes/hexo-theme-yelee/source/img/V2EX.png","hash":"d0768de8555f9be0ee8ce956198cef454d4e4d7c","modified":1465959934445},{"_id":"themes/hexo-theme-yelee/source/img/scrollbar_arrow.png","hash":"af987032f2171867bb58b165d2180eb5dcbea637","modified":1465959934447},{"_id":"themes/hexo-theme-yelee/source/img/flake.png","hash":"c9ffbbf2affd167191c8cab54b96e5a8e8dc9468","modified":1466127311968},{"_id":"themes/hexo-theme-yelee/source/img/博客园.png","hash":"5ff6f4c9f1fc1695217a57436d58b246d9d2f197","modified":1465959934448},{"_id":"themes/hexo-theme-yelee/source/img/新浪微博.png","hash":"7a145ed1daee0c172cda77098f4254fc21f9eeee","modified":1465959934449},{"_id":"themes/hexo-theme-yelee/source/img/知乎.png","hash":"ed6d3c304789e112d09f40784fa6add1f1a38bd6","modified":1465959934450},{"_id":"themes/hexo-theme-yelee/source/img/简书.png","hash":"5c91ee83cab4abe160240e09de345b6935c8cb37","modified":1465959934451},{"_id":"themes/hexo-theme-yelee/source/img/网易云音乐.png","hash":"4fd1275fd988584811cf710207eb077f2306f271","modified":1465959934452},{"_id":"themes/hexo-theme-yelee/source/img/虾米音乐.png","hash":"a0039b049779b1f37c0b0b91760943b7bf25c8f1","modified":1465959934453},{"_id":"themes/hexo-theme-yelee/source/img/豆瓣.png","hash":"f1fc97f98612bcdf4a681542e5388483b40a5300","modified":1465959934454},{"_id":"themes/hexo-theme-yelee/source/background/bg-5.jpg","hash":"e4a3631b6b0f94ebce30a6f01ecb2b6ed7cfdb0b","modified":1465959934317},{"_id":"themes/hexo-theme-yelee/source/background/bg-6.jpg","hash":"51b427f07ffc6f2ad97651f23cc16e8f19ed02f9","modified":1465959934322},{"_id":"themes/hexo-theme-yelee/source/js/embed.js","hash":"a7e67a61b66d72700f44480d00af5c88dcfcf540","modified":1480577113406},{"_id":"source/_posts/.idea/copyright/profiles_settings.xml","hash":"c2580bc1e302143d8dfca4ce9d57a8fcbf12a3e6","modified":1478053988902},{"_id":"source/_posts/.idea/dictionaries/xiaomo.xml","hash":"d90ff33b79e8b39da921b6247bdaff1265009467","modified":1478054190187},{"_id":"themes/hexo-theme-yelee/layout/_partial/comments/click2show.ejs","hash":"ecc4d3ca997c6fd127e00fa2edf0158b925d1d3e","modified":1465959934115},{"_id":"themes/hexo-theme-yelee/layout/_partial/comments/disqus.ejs","hash":"df7ee469b648b12b5ee3104ef513d54cbb7418af","modified":1465959934149},{"_id":"themes/hexo-theme-yelee/layout/_partial/comments/duoshuo.ejs","hash":"651c41f1ee323e326799221a685b33cf89ae12aa","modified":1480581725384},{"_id":"themes/hexo-theme-yelee/layout/_partial/comments/youyan.ejs","hash":"d150085faee4809ba50f69c55d904605699040cb","modified":1465959934162},{"_id":"themes/hexo-theme-yelee/layout/_partial/post/category.ejs","hash":"08c8d98bc6a73d3f72a3b0b30521ff28e1b657a7","modified":1465959934226},{"_id":"themes/hexo-theme-yelee/layout/_partial/post/date.ejs","hash":"a9fc6bac9e1b90c1c17c0d0ffd97f9b108072fbe","modified":1465959934229},{"_id":"themes/hexo-theme-yelee/layout/_partial/post/nav.ejs","hash":"6f531dbc9cc7ae42d2486d6707f826cfe7d9d8bc","modified":1465959934237},{"_id":"themes/hexo-theme-yelee/layout/_partial/post/share.ejs","hash":"e4ef0b77e6ccc042d360b1c543f728f286a4b9c8","modified":1480579494622},{"_id":"themes/hexo-theme-yelee/layout/_partial/post/tag.ejs","hash":"7d2693a1162bf26e4b1ae9b789e0b2a2637ddbd5","modified":1465959934247},{"_id":"themes/hexo-theme-yelee/layout/_partial/post/title.ejs","hash":"d4a460a35e2112d0c7414fd5e19b3a16093f1caf","modified":1465959934248},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-1.jpg","hash":"31d7bb15211000c05656899302f8ec9ee3de0e9f","modified":1465959934286},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-2.jpg","hash":"7ae358f3ab8b41558444053400e796c41b3ba0e2","modified":1465959934290},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-3.jpg","hash":"1a06d3a660bfb99b62d760e4e1e09de168a4c74c","modified":1465959934294},{"_id":"themes/hexo-theme-yelee/source/background/backup/bg-4.jpg","hash":"6df1383d0f6134016d844df9abb740a6e0c0b2c5","modified":1465959934298},{"_id":"themes/hexo-theme-yelee/source/css/_partial/archive.styl","hash":"27ccc6374d04cd93717a2b6c587342b6cbe6fc80","modified":1465959934326},{"_id":"themes/hexo-theme-yelee/source/css/_partial/article.styl","hash":"b9ecd0c6ea348d5d865390b2497c7f24180c882b","modified":1465959934330},{"_id":"themes/hexo-theme-yelee/source/css/_partial/footer.styl","hash":"e920a40d228b844f8636ae3c1c202850e779e38d","modified":1465959934362},{"_id":"themes/hexo-theme-yelee/source/css/_partial/header.styl","hash":"67e59feb18eee6026717cb440d86ab9551782628","modified":1465959934363},{"_id":"themes/hexo-theme-yelee/source/css/_partial/highlight.styl","hash":"4e34bf9340ce9b15d2d59fc4ea761d1d110927cf","modified":1465959934366},{"_id":"themes/hexo-theme-yelee/source/css/_partial/instagram.styl","hash":"a093443add2f529396d6b6bdef1675bc3acf3958","modified":1465959934369},{"_id":"themes/hexo-theme-yelee/source/css/_partial/main.styl","hash":"371770b054ca345d53d92cea08e977ac1a495fa2","modified":1465959934373},{"_id":"themes/hexo-theme-yelee/source/css/_partial/mobile-slider.styl","hash":"39db458d4e9f6973afc1390b4d3fc0291fff4c40","modified":1465959934376},{"_id":"themes/hexo-theme-yelee/source/css/_partial/mobile.styl","hash":"dfb20f2515a26d75e42fe09741e91cc889426b11","modified":1465959934379},{"_id":"themes/hexo-theme-yelee/source/css/_partial/page.styl","hash":"ca3f871adf8fdb296e4394070605dded53d93cb2","modified":1465959934382},{"_id":"themes/hexo-theme-yelee/source/css/_partial/scroll.styl","hash":"f32deb9192568a2ea789d77a23a08d07f4e57d59","modified":1465959934385},{"_id":"themes/hexo-theme-yelee/source/css/_partial/search.styl","hash":"688ff535a6005be02d947be75d22cfe1f8ce72cd","modified":1465959934388},{"_id":"themes/hexo-theme-yelee/source/css/_partial/share.styl","hash":"88c1277397b71eb1f3473a94d9542314f983cd09","modified":1465959934391},{"_id":"themes/hexo-theme-yelee/source/css/_partial/tagcloud.styl","hash":"b38b275728bfe11809defe1077b03cb423c3c92f","modified":1465959934394},{"_id":"themes/hexo-theme-yelee/source/css/_partial/toc.styl","hash":"25a951db2960655db3a6c344c8ad228c7c2e1222","modified":1465959934397},{"_id":"themes/hexo-theme-yelee/source/css/_partial/wheelmenu.styl","hash":"9e57421eab562ea13d0ed2b2e1415eee79fa23d0","modified":1465959934399},{"_id":"themes/hexo-theme-yelee/source/css/_util/grid.styl","hash":"1aa883ab432d9e4139c89dcbd40ae2bd1528d029","modified":1465959934401},{"_id":"themes/hexo-theme-yelee/source/css/_util/mixin.styl","hash":"429bad87fc156eacf226c5e35b0eafc277f2504b","modified":1465959934402},{"_id":"themes/hexo-theme-yelee/source/img/avatar.png","hash":"c48182d4135fd2d1a80f9e82f42b50d1d77ac8cd","modified":1465891468328},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/blockquote.styl","hash":"5e6edb9ad49288743ed550a2bd8c9a3c8e208455","modified":1465959934333},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/code-block.styl","hash":"4db1a992a06fd92b779f0afc9bb8bb3667bdb101","modified":1465959934336},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/color-scheme.styl","hash":"b58262a9f8903e75df431291745e19ccd8ff243a","modified":1465959934347},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/heading.styl","hash":"c29799f09ebd87767fd9cc3b1fa795db44a94670","modified":1465959934350},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/inline-code.styl","hash":"a15292b2b3541ea022c0fb7441875192dee5ad9d","modified":1465959934353},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/list.styl","hash":"7db683e2837a078ad7817fb88914535588e49cfa","modified":1465959934356},{"_id":"themes/hexo-theme-yelee/source/css/_partial/customise/social-icon.styl","hash":"59805e22dd29d260742c9892a23c7014dbdb3fb1","modified":1465967101389},{"_id":"public/atom.xml","hash":"816a330bf9432140d569a4a23c4d1ef2e8f225dc","modified":1480580177546},{"_id":"public/search.xml","hash":"0c9f13d694cd1b17a28a4494b3e6a5694672cf6a","modified":1480580176451},{"_id":"public/sitemap.xml","hash":"6106e0112b8784610a6c709ea851ca39fc63fd7e","modified":1480580177596},{"_id":"public/about/index.html","hash":"43d24523256629a3435d58b76997cce8df17f54f","modified":1480581736882},{"_id":"public/404.html","hash":"96f99947667dacbd35583bf3ea73b47196954d9c","modified":1480579946758},{"_id":"public/search/index.html","hash":"f3524a92578c09efaeccd62422bc125584ff927f","modified":1480581736883},{"_id":"public/tags/index.html","hash":"5af71aa127b6756048ed7babb5a3eafddc1e6517","modified":1480581736883},{"_id":"public/2016/11/02/java_spring_boot_data_format/index.html","hash":"1fcdcb8ea02879761d56b3583bb9f3f78a55f5c8","modified":1478849602117},{"_id":"public/2016/11/01/java_spring_boot_cors/index.html","hash":"f54d3ab37282ad4be95b71d9719635b965042a6d","modified":1478849602128},{"_id":"public/2016/10/29/java_spring_ziliao/index.html","hash":"d50be995959dee93b460d26feab51aa3983ea213","modified":1478849602128},{"_id":"public/2016/10/28/java_idea_maven/index.html","hash":"704216b8c186bf78ae91b9a2ece7f5ebe1f500e8","modified":1478849602128},{"_id":"public/2016/10/24/java_servlet_upload/index.html","hash":"7b73cb1dd2de16f1122208f5da892304e3ea9746","modified":1478849602128},{"_id":"public/2016/10/08/nihon_anime/index.html","hash":"9385715a8d8bf8d734031173b6abf77657e0df9b","modified":1478849602128},{"_id":"public/2016/08/28/nihon_sekaku/index.html","hash":"fc7e4a5ebdaaeb861ab5fc2530b9faeeb1b15f29","modified":1478849602128},{"_id":"public/2016/08/24/bangumi_dongli/index.html","hash":"658d3552a903260bb464cd04039500314c9fe203","modified":1478849602128},{"_id":"public/2016/08/22/npm_yargs/index.html","hash":"05b61f8cd1f92365b2eac21e803743a684f180f4","modified":1478849602128},{"_id":"public/2016/07/28/angular2_api_roter/index.html","hash":"eff4f5c5a2d6acb5284fe8ef1582acc978cbb85f","modified":1478849602129},{"_id":"public/2016/07/28/ionic2_environment/index.html","hash":"df36de76d2ff3e284e5587b84c9dc79820c81999","modified":1478849602128},{"_id":"public/2016/07/21/angular2_api_common/index.html","hash":"6d2654251ccfd25e7e22f96ae0e86fc00f2715a5","modified":1478849602130},{"_id":"public/2016/07/12/javascript_rxjs_study_1/index.html","hash":"d1f80b2b02853a7aee22886148068f17d82a5ffa","modified":1478849602129},{"_id":"public/2016/07/02/javascript_design_pattern/index.html","hash":"7b88026203b289d5d37d0f4cafb7967a23eb957b","modified":1478849602130},{"_id":"public/2016/07/01/2016_study_plan/index.html","hash":"de993aa1379ac1dac30e80f720468345c29e51c4","modified":1478849602130},{"_id":"public/2016/06/30/angular2_study_animate/index.html","hash":"a4fc8d29d4bc61f8214003e0bf06518b6f52f759","modified":1478849602130},{"_id":"public/2016/06/29/angular2_study_forms/index.html","hash":"93e6f3ceada927d805852934a4902ad9267bc5f5","modified":1478849602130},{"_id":"public/2016/06/28/angular2_study_forms/index.html","hash":"8bee11b292dfb76f3250f07fc15f4560a9371ae5","modified":1478849602131},{"_id":"public/2016/06/27/angular2_study_service_http/index.html","hash":"beeb4fa40002903aa7c4e35d69739f6886878b01","modified":1478849602131},{"_id":"public/2016/06/26/angular2_study_note_other/index.html","hash":"5371b8f469480cc6eb677c1b5eec33114fd8534e","modified":1478849602131},{"_id":"public/2016/06/25/angular2_study_note_ng-tag/index.html","hash":"cc009a68e22d3d6bf8d467ee95a999c71c424e9b","modified":1480124380287},{"_id":"public/2016/06/24/angular2_study_note_ng-tag/index.html","hash":"eb8a1d8403513aaf9172361839dbf5c6b4e5dd29","modified":1478849602131},{"_id":"public/2016/06/23/angular2_study_note_component/index.html","hash":"1c827c8547f661321114688e087b86f63717b2dd","modified":1478849602131},{"_id":"public/2016/06/22/angular2_study_note_environment/index.html","hash":"1a22cc9c34f3c9eb0db9aa51c019070e2fd7238e","modified":1478849602132},{"_id":"public/2016/06/21/react_environment/index.html","hash":"102e893430cc608daacda0527b3b75efa80e05b6","modified":1478849602132},{"_id":"public/2016/06/17/duoshuo_comment/index.html","hash":"9ededf77db6b26a0bd7ce00ba9477b3bd3b3b00b","modified":1478849602132},{"_id":"public/2016/06/17/public_dns/index.html","hash":"75cac2f83cf025bb8ade62e5823fb1eab46cbf1d","modified":1478849602132},{"_id":"public/2016/06/17/linux_disk/index.html","hash":"fe26b4fe23f1113b9adf0ce14c34df0a7da9d73c","modified":1478849602132},{"_id":"public/2016/06/17/linux_chmod/index.html","hash":"2530c914b609d03ba0832b8b1d2d7e2fe6c27f99","modified":1478849602132},{"_id":"public/2016/06/07/markdown-table-style/index.html","hash":"e439e5a7aefe021ee7e650ab2ea315e142a52931","modified":1478849602132},{"_id":"public/2016/06/07/gulp_use/index.html","hash":"262082f7f4b211eb71360f45cdf9992ec354c528","modified":1478849602132},{"_id":"public/2016/06/05/front-end-tools/index.html","hash":"805d87eae774bf0e744e0d8efc99b5d161c3a579","modified":1478849602132},{"_id":"public/2016/06/04/anki-excel-shortcuts/index.html","hash":"577f0a5020f2cbec72e15a70a8557db549ef5a96","modified":1478849602132},{"_id":"public/2016/06/03/css-font-family/index.html","hash":"542a193f3f6a7e316a7f726c18853525a27b6864","modified":1478849602132},{"_id":"public/2016/06/03/node_spider/index.html","hash":"7e43ca1a45009ab515ee8ded2639dca856443c97","modified":1478849602132},{"_id":"public/2016/06/02/package.json_scripts/index.html","hash":"12fc0b7be981ce56e87335aac3c73f26fa8daa45","modified":1478849602132},{"_id":"public/2016/06/01/npm_modules_share/index.html","hash":"744af66bee4062bd518207f261c09f88143dee93","modified":1478849602132},{"_id":"public/2016/05/30/markdownpad2/index.html","hash":"84a437cf9c4348090d91de4fce99052bfc5761fe","modified":1478849602132},{"_id":"public/2016/05/27/mongodb_use/index.html","hash":"c91584c89fcb165f2f80f7ca10ee7947aef779ce","modified":1478849602133},{"_id":"public/2016/05/26/koa_generator/index.html","hash":"2d2a0aefea5a1f707bebdf64f6692fa084ccd0e7","modified":1478849602132},{"_id":"public/2016/05/24/node_koa/index.html","hash":"5c248ac0d6bb9b89cfcc0bd58dfa8b2085e61eec","modified":1478849602132},{"_id":"public/2016/05/20/javascript_syntax/index.html","hash":"01b0e0481eb9a3d2bf98f693ca3472eb36c57948","modified":1478849602132},{"_id":"public/2016/05/19/es6_syntax/index.html","hash":"6b7967f78c82dcde8356bcb4644fc97d7ca17705","modified":1478849602132},{"_id":"public/2016/05/17/webpack_params/index.html","hash":"b677cfa7531c1dd2afdcbdec05040f151ecc1cf9","modified":1478849602133},{"_id":"public/2016/05/17/webpack_plugins/index.html","hash":"0f5b23d34274801c212452f8338b34a4ba8bbd71","modified":1478849602133},{"_id":"public/2016/05/17/webpack_link/index.html","hash":"3d0b948195bf4a9035879f6cfb697657d7dc87ed","modified":1478849602133},{"_id":"public/2016/05/16/excel_markdown_table/index.html","hash":"191cb31615c32844ec561186c3ec9faea5a58c83","modified":1478849602133},{"_id":"public/2016/05/16/node_process/index.html","hash":"c985004dfb2c7aef2a8cc4597c39bd5798b48223","modified":1478849602133},{"_id":"public/2016/05/14/webpack_basic_use/index.html","hash":"4b26a9152e8c60e753546dea99ab8755f02070c8","modified":1478849602133},{"_id":"public/2016/05/14/about_me/index.html","hash":"a52d52b15a2f638112fac1ba15745552a56cbcee","modified":1478849602133},{"_id":"public/2016/05/13/node_online_chat/index.html","hash":"49b9cb0fc2b8616185ee96b7c15486ed81f113d0","modified":1478849602133},{"_id":"public/2016/05/12/linux_crontab/index.html","hash":"23c740cb5ab8c1be4d6e2f8b47a1d16916a9bbbb","modified":1478849602133},{"_id":"public/2016/05/11/angularjs_keyboard_event/index.html","hash":"bf308847fcb45d51bcdfc16dbebfff05c8cd0f35","modified":1478849602133},{"_id":"public/2016/05/11/angular_ui_router/index.html","hash":"5b4e98eeabbdd1d5cc0f47cfa525f77ebf70c649","modified":1478849602133},{"_id":"public/2016/05/11/markdown_syntax/index.html","hash":"81260ddab6d9d9a9d52bff73eab043b43c55ac0a","modified":1478849602133},{"_id":"public/2016/05/11/angular_http/index.html","hash":"d5fdc246d2a6351a41c39bed7e4b0616fe14041e","modified":1478849602133},{"_id":"public/2016/05/11/ng-options/index.html","hash":"24d0a6ce4f5cb5592f3a1e4bd4117d36718cf7fe","modified":1478849602133},{"_id":"public/2016/05/11/ng-checkbox/index.html","hash":"a24c572af6d2f81b5b1d0873fcc04f19f88a1c31","modified":1478849602134},{"_id":"public/2016/05/11/atom_plugins/index.html","hash":"afbe1c72b9729781dc36477b7202f2ff3ce9ecd0","modified":1478849602133},{"_id":"public/2016/05/10/angular_validate/index.html","hash":"f04256a4b2f45fc1bd0ee088fb5d3c07404f7d1a","modified":1478849602134},{"_id":"public/2015/11/30/sublime_config/index.html","hash":"111f7e028485f740d595bd7d4075cab43aea8c60","modified":1478849602134},{"_id":"public/2015/11/23/anki_templates/index.html","hash":"e007e00ddf7d9e9e390d6c1f4fc705175f1c9d0a","modified":1478849602134},{"_id":"public/2015/11/16/png_gif_transparency/index.html","hash":"f51afc7519ff92b23f0467ca598605fc6f3b2262","modified":1478849602134},{"_id":"public/archives/index.html","hash":"5e0dd65e26017f58eca4c3c4d344fd165ca94a28","modified":1480573390047},{"_id":"public/index.html","hash":"f8a0dbd18d5a80d4c8710614bbf48988d4b88742","modified":1480573390047},{"_id":"public/page/2/index.html","hash":"4c4d44746f2b553ddc93396c777920aa4a5eb0a1","modified":1480573390047},{"_id":"public/page/3/index.html","hash":"61a08e28edc9a617726dad05705a28c5542f178e","modified":1480573390047},{"_id":"public/page/4/index.html","hash":"0ede356a8cf32d31e677c67e2d5b44dca01fc4f2","modified":1480573390047},{"_id":"public/page/5/index.html","hash":"c5a4a9bf0908d2a559ebe87cf55d356d9b73ac01","modified":1480573390048},{"_id":"public/page/6/index.html","hash":"296b6c9379565b1bbb3b42adcf3daffc9d54a7f5","modified":1480573390048},{"_id":"public/page/7/index.html","hash":"8af28c0db3cd38661a69be11043cfb399fe98143","modified":1480573390048},{"_id":"public/tags/angular/index.html","hash":"7a32468d29a05c3bd0066adbf652669a4ecd8059","modified":1480573390048},{"_id":"public/tags/javascript/index.html","hash":"8c7ee02732d5155e1dceef0fa4821c4f0ab7db68","modified":1480573390048},{"_id":"public/tags/javascript/page/2/index.html","hash":"eb04381ae16a6feb1b4b4fb575750ee9f7d16470","modified":1480573390048},{"_id":"public/tags/javascript/page/3/index.html","hash":"ac5691a184e9a5d93b5608f49d0d7724bbad46d7","modified":1480573390048},{"_id":"public/tags/开发工具/index.html","hash":"aceeacdd1898d04cdb6c68b41ed4801d514829a6","modified":1480573390048},{"_id":"public/tags/linux/index.html","hash":"e325a964c76751a2fc04c2caa8fa30c3be348ebb","modified":1480573390048},{"_id":"public/tags/node/index.html","hash":"178191c94993260c3b4725b51fc82b68d30315b4","modified":1480573390048},{"_id":"public/tags/node/page/2/index.html","hash":"a63cd349564dec2f82509d9faea7bf676604664f","modified":1480573390048},{"_id":"public/tags/markdown/index.html","hash":"5d08c3478291b0dbebfe7889f93aa6c466d1da6f","modified":1480573390048},{"_id":"public/tags/生活/index.html","hash":"418566227342a9d732af2dfd391756b1b7f57183","modified":1480573390048},{"_id":"public/tags/webpack/index.html","hash":"90d7fbf1662378a8e97a01c529f36c1535907631","modified":1480573390048},{"_id":"public/tags/webpack/page/2/index.html","hash":"ce7fa8d40948b9d5b4172eb050de2eb5669363ca","modified":1480573390048},{"_id":"public/tags/es6/index.html","hash":"700375f2c2e96aaa0384d4c0d47562c0252afb4a","modified":1480573390048},{"_id":"public/tags/es5/index.html","hash":"e807f05e334537f8fe1629c8e5c406cf4f16472a","modified":1480573390048},{"_id":"public/tags/PhotoShop/index.html","hash":"8f7d82996fc09835fdbaf1c02ec8f35c235e5cb2","modified":1480573390048},{"_id":"public/tags/html/index.html","hash":"2a74cf776789f30e790c1c9fd7b4b88f46772ed7","modified":1480573390048},{"_id":"public/tags/css/index.html","hash":"4531a8d42887f232fb52edc6b2a5d246803d51b8","modified":1480573390049},{"_id":"public/tags/koa/index.html","hash":"860e29eb33558449fe4d407ca99dc9b2240a13a4","modified":1480573390049},{"_id":"public/tags/mongodb/index.html","hash":"73c69bcdb918b9b481d1f5ca3cdee9f0d9be47ed","modified":1480573390049},{"_id":"public/tags/npm/index.html","hash":"c67841ec89c2a8f841239d10f880fd05cd6d10da","modified":1480573390049},{"_id":"public/tags/git/index.html","hash":"cfb1408e30663733bf5f202450580ff8276ba41b","modified":1480573390050},{"_id":"public/tags/excel/index.html","hash":"da061ed8d18b6ff44689c6a2ba42a5c7145f6cab","modified":1480573390050},{"_id":"public/tags/gulp/index.html","hash":"c46f0a36af312f899c0e0716aa57805f64a9580e","modified":1480573390050},{"_id":"public/tags/JavaScript/index.html","hash":"6dd28db93fda424b60c5c529b0e90e2faa391cf0","modified":1480573390050},{"_id":"public/tags/jquery/index.html","hash":"26af8a4e4295b1bbe25b948635a86f44ad9993f7","modified":1480573390050},{"_id":"public/tags/reactjs/index.html","hash":"d601411067cc9387b8414c32346274d6fa799418","modified":1480573390050},{"_id":"public/tags/angular2/index.html","hash":"7b1576176a2cb2e7584ace6aa53708444e13ade8","modified":1480573390050},{"_id":"public/tags/angular2/page/2/index.html","hash":"221b695f3596825b6af8723e4504c3740561ff5c","modified":1478594480183},{"_id":"public/tags/sass/index.html","hash":"e0b9b29460635661d8bfec2732be5efd4ce0bd2b","modified":1480573390050},{"_id":"public/tags/typescript/index.html","hash":"60961314ea496fdd27fadf47da26f869dedf1510","modified":1480573390050},{"_id":"public/tags/rxjs/index.html","hash":"4c5119d8cd3be87deee4a6ef46ba4e9948a77e7e","modified":1480573390050},{"_id":"public/tags/动漫/index.html","hash":"3485b8cebaae50dfb4d5040ae90e02a6e16c401b","modified":1480573390050},{"_id":"public/tags/ionic2/index.html","hash":"19d61f15adcef77d859d4cd08b9684ccbee5db7e","modified":1480573390050},{"_id":"public/tags/java/index.html","hash":"aea3d298f8575e8e981d646bad4796318a97b466","modified":1480573390050},{"_id":"public/search/index.php","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1478062870205},{"_id":"public/apple-touch-icon.png","hash":"c0fda117fa166d63b9eb690cc5e4fb2caaf493b3","modified":1478062870207},{"_id":"public/background/bg-1.jpg","hash":"9a5241de4c880f13a278f6980bf11d4dfb214d82","modified":1478062870207},{"_id":"public/background/bg-2.jpg","hash":"d1e0b92e8fa822e44d185b5e1bf94ab47bc98a0a","modified":1478062870207},{"_id":"public/background/bg-3.jpg","hash":"d476909f06fe8267c676952e3582bf9e9ff73585","modified":1478062870207},{"_id":"public/background/bg-4.jpg","hash":"8e80d0b7786c3bf7b9648c0190719e78001e9eeb","modified":1478062870207},{"_id":"public/img/CSDN.png","hash":"59f7d89eda8a7310a0ee1607e153c0829af7eb6e","modified":1478062870207},{"_id":"public/img/Plunker.png","hash":"14a0054b9b4a0e459987f34b9ab48ab22dbe5cf9","modified":1478062870207},{"_id":"public/img/SegmentFault.png","hash":"1afbc7e575e2e9ed9404be84a3f92f7ca8345a9c","modified":1478062870207},{"_id":"public/img/TiddlyWiki.png","hash":"b7f68f8f9c45561a9455aee0bfb80e35cae6f8df","modified":1478062870207},{"_id":"public/img/V2EX.png","hash":"d0768de8555f9be0ee8ce956198cef454d4e4d7c","modified":1478062870207},{"_id":"public/img/scrollbar_arrow.png","hash":"af987032f2171867bb58b165d2180eb5dcbea637","modified":1478062870207},{"_id":"public/img/flake.png","hash":"c9ffbbf2affd167191c8cab54b96e5a8e8dc9468","modified":1478062870207},{"_id":"public/img/博客园.png","hash":"5ff6f4c9f1fc1695217a57436d58b246d9d2f197","modified":1478062870207},{"_id":"public/img/新浪微博.png","hash":"7a145ed1daee0c172cda77098f4254fc21f9eeee","modified":1478062870207},{"_id":"public/img/知乎.png","hash":"ed6d3c304789e112d09f40784fa6add1f1a38bd6","modified":1478062870207},{"_id":"public/img/简书.png","hash":"5c91ee83cab4abe160240e09de345b6935c8cb37","modified":1478062870207},{"_id":"public/img/网易云音乐.png","hash":"4fd1275fd988584811cf710207eb077f2306f271","modified":1478062870207},{"_id":"public/img/虾米音乐.png","hash":"a0039b049779b1f37c0b0b91760943b7bf25c8f1","modified":1478062870207},{"_id":"public/img/豆瓣.png","hash":"f1fc97f98612bcdf4a681542e5388483b40a5300","modified":1478062870207},{"_id":"public/background/backup/bg-1.jpg","hash":"31d7bb15211000c05656899302f8ec9ee3de0e9f","modified":1478062870208},{"_id":"public/background/backup/bg-2.jpg","hash":"7ae358f3ab8b41558444053400e796c41b3ba0e2","modified":1478062870208},{"_id":"public/background/backup/bg-3.jpg","hash":"1a06d3a660bfb99b62d760e4e1e09de168a4c74c","modified":1478062870209},{"_id":"public/background/backup/bg-4.jpg","hash":"6df1383d0f6134016d844df9abb740a6e0c0b2c5","modified":1478062870209},{"_id":"public/js/GithubRepoWidget.js","hash":"624e81a3b0e57495b0c0e0b3e056296c6e8ae5df","modified":1478062871439},{"_id":"public/js/instagram.js","hash":"f19adbcc0dac33536bc6660598059048ec901882","modified":1478062871439},{"_id":"public/css/style.css","hash":"2b65f94ac43d260644f72a72fc23f92eb174e51d","modified":1478062871441},{"_id":"public/background/bg-5.jpg","hash":"e4a3631b6b0f94ebce30a6f01ecb2b6ed7cfdb0b","modified":1478062871441},{"_id":"public/background/bg-6.jpg","hash":"51b427f07ffc6f2ad97651f23cc16e8f19ed02f9","modified":1478062871441},{"_id":"public/js/main.js","hash":"4bd3a2af9544f0b593f41befbcc9afe116c29631","modified":1478062871443},{"_id":"public/js/search.js","hash":"b456aaab98bbc3b0906f8a16d1e6e4f74dfcffda","modified":1478062871443},{"_id":"public/js/pc.js","hash":"973d1bb0bf775c98479b36714b59e127721b37bc","modified":1478062871443},{"_id":"public/js/mobile.js","hash":"0f4c1fcd6df47a196ed9495c225173402aa7d769","modified":1478062871443},{"_id":"public/js/toc.js","hash":"1f5d73b8d9ac332ed43ad79dbd72941a86b949aa","modified":1478062871443},{"_id":"public/js/embed.js","hash":"b7b49a4aa9d879be77e56d36820af19e0fb37796","modified":1480577348071},{"_id":"public/img/avatar.png","hash":"c48182d4135fd2d1a80f9e82f42b50d1d77ac8cd","modified":1478062871443},{"_id":"source/_posts/2016-11-07.日本动漫声优公演,来看看什么叫专业声优.md","hash":"c49d643668652752ae093a0427ed9a1526fe9831","modified":1480575027933},{"_id":"public/categories/angularjs之ui-router/index.html","hash":"2ad77b5cb92a35cd6606258f5a20c98861cfcff1","modified":1480573390043},{"_id":"public/categories/angularjs表单验证/index.html","hash":"88b83b0c2c2f18be93215f1f9685825eea2a1440","modified":1480573390043},{"_id":"public/categories/angularjs增删改查/index.html","hash":"db35be640e8b3a80486a8c634937e220dab7c6ec","modified":1480573390043},{"_id":"public/categories/atom插件/index.html","hash":"8eabd0052016b5933aa8bd16590a534cdd04ae6a","modified":1480573390044},{"_id":"public/categories/angularjs键盘事件/index.html","hash":"1a4751074282a5a03220af67ad475ccb00bbdb83","modified":1480573390043},{"_id":"public/categories/linux-crontab/index.html","hash":"221dd901e25be01f7305a7d15d9a3b8769988bfc","modified":1480573390044},{"_id":"public/categories/ng-checkbox/index.html","hash":"8d3cc2ec4c5a6e955a8a07d49d082091fbd702e4","modified":1480573390043},{"_id":"public/categories/ng-options/index.html","hash":"9f9470a008db7e4624e490f310df036c157b885d","modified":1480573390043},{"_id":"public/categories/nodejs之net模块/index.html","hash":"31801751021ef443191c7426d837617c715066a7","modified":1480573390044},{"_id":"public/categories/生活随笔/index.html","hash":"e64e4a4eefbe06f269d21c5bd1372bacbe5b9b3e","modified":1480573390044},{"_id":"public/categories/nodejs之process/index.html","hash":"e5da8451a11130cc5f245a47a6127d69eef90e1d","modified":1480573390044},{"_id":"public/categories/开发工具/index.html","hash":"3e1002eec1af3c30c5b2623a1274efaabfe4f29f","modified":1480573390044},{"_id":"public/categories/触类旁通/index.html","hash":"3c040f02a290fc15b26888aed2bf9f60008d16b1","modified":1480573390044},{"_id":"public/categories/webpack插件/index.html","hash":"5afe603518f8156a259b3e9b4fa122f588eb70e7","modified":1480573390044},{"_id":"public/categories/es6/index.html","hash":"10639692cc59a9459cdc5c9ee9672ee4731641c7","modified":1480573390044},{"_id":"public/categories/webpack/index.html","hash":"b6b5c0d8f1259eff7a86f9173b2970f0cad9c743","modified":1480573390044},{"_id":"public/categories/javascript/index.html","hash":"c4cc3d252414ea4d46fb4434612fa1aa6f4d04c1","modified":1480573390044},{"_id":"public/categories/markdown/index.html","hash":"8662841e6b1770812a20b0ae331016aba200fd38","modified":1480573390044},{"_id":"public/categories/自用笔记/index.html","hash":"40f1ef43508b030e16a9bc95e31c3b1982c59715","modified":1480573390044},{"_id":"public/categories/koa/index.html","hash":"b7d2421e070039b3a6301d8b861f28fdc795f6f8","modified":1480573390044},{"_id":"public/categories/webpack处理器/index.html","hash":"04a1c0ba2bd7f4c3bd3f74415f345b0b1449e0ca","modified":1480573390044},{"_id":"public/categories/npm/index.html","hash":"f63a54d0782ff4395e3a0ca01d9cb16843244229","modified":1480573390044},{"_id":"public/categories/mongodb/index.html","hash":"73f2da1a4a9a1962f400a1f7b57a068eb93a747e","modified":1480573390044},{"_id":"public/categories/node/index.html","hash":"47006d8cebc7d30a0ce85b091a3a2e7366fc818b","modified":1480573390044},{"_id":"public/categories/术业专攻/index.html","hash":"1ca5acf0bda6c4a5a71fa9abd3f7364ec77bafb0","modified":1480573390045},{"_id":"public/categories/linux权限操作/index.html","hash":"c40b9f98c03984b7ec4123413d871d7e46af3e9a","modified":1480573390047},{"_id":"public/categories/linux磁盘挂载/index.html","hash":"b405f68a3314d2ed8680a5e6e9f83c995994000d","modified":1480573390047},{"_id":"public/categories/angular2/index.html","hash":"f5f29874d48a99e5caf3f4835550546d2210c1ed","modified":1480573390047},{"_id":"public/categories/webpack/javascript/index.html","hash":"a56e1149542f92b6ac4fe9641dcb5c74fa405f55","modified":1480573390047},{"_id":"public/categories/生活/index.html","hash":"6e4c9543e35f28311059baebf19fc6f02df1f744","modified":1480573390047},{"_id":"public/categories/angular2/page/2/index.html","hash":"54dd54db9e64b85130c414f88b1fef3da3b59664","modified":1478594480178},{"_id":"public/categories/自用笔记/术业专攻/index.html","hash":"c8f1fbfd54142ac4aaf6fce6a047cf167f5a9b84","modified":1480573390047},{"_id":"public/categories/ionic2/index.html","hash":"ba8a232c58f37de94c25f482798a54d38e75d282","modified":1480573390047},{"_id":"public/categories/java/index.html","hash":"02491d25248091736a45aa9c18bd058913fc16ec","modified":1480573390047},{"_id":"public/categories/webpack/javascript/node/index.html","hash":"5453cb8decd825a1a03dd276e2cfde7c9d4e5e6a","modified":1480573390047},{"_id":"public/categories/前端框架/index.html","hash":"e1dc2bc6dd2f84335fd1214809dfdc691474d57b","modified":1480573390047},{"_id":"public/categories/webpack/javascript/node/开发工具/index.html","hash":"54e1636c009b4cba3f076d59a49c794955e4fc4d","modified":1480573390047},{"_id":"public/categories/gulp/index.html","hash":"5cdb3ec255f675f1557c60eaa7736dd62230f6bd","modified":1480573390045},{"_id":"public/2016/11/02/nihon_seiyou/index.html","hash":"d7258623defd82e14f60734c87cfb5c019286bf4","modified":1478506497918},{"_id":"public/2016/11/07/nihon_seiyou/index.html","hash":"20fa4900e2753688d805024374380722744b7e1e","modified":1478849602117},{"_id":"source/_posts/2016-11-08.lombok 简化java代码注解 理解.md","hash":"39486adce3df48aacbf71128a635f1320dba9ba2","modified":1480575027492},{"_id":"public/2016/11/08/java_lombok/index.html","hash":"aa43f0e98afe56b781ddeb2e46c6ae86eb5924e1","modified":1480057558119},{"_id":"source/_posts/2016-11-09.spring4免费全套视频教程.md","hash":"8f532fd543c5febc62d4902a8546e245608aac54","modified":1480575027092},{"_id":"public/2016/11/08/java_spring/index.html","hash":"161f38a970ac3355c435b1c114799e069dbf21c3","modified":1478849602117},{"_id":"public/tags/技术/index.html","hash":"d69e4470d31ff0746e0d1c820aad881881383eca","modified":1480573390051},{"_id":"source/_posts/2016-11-11.swagger ui生成api文档.md","hash":"864ad955380137b62959d769aa3465db349d426f","modified":1480575025941},{"_id":"public/2016/11/11/java_spring-boot_swagger-ui/index.html","hash":"6a20fad14e97468ae17de29d00fe9c945493ea17","modified":1478849987589},{"_id":"public/2016/11/11/JavaSpringBootSwaggerUi/index.html","hash":"0e3c2d03102be7c2ed34db76f4f68a47ae372a5d","modified":1480581736883},{"_id":"public/2016/11/08/JavaSpringVideo/index.html","hash":"4f68ddfe05ef1bffb4b22f4c99cbf49afb036f27","modified":1480581736883},{"_id":"public/2016/11/07/NihonSeiyou/index.html","hash":"da33aade0dc778fb151b113117add3015db9777d","modified":1480581736883},{"_id":"public/2016/11/02/JavaSpringBootDataFormat/index.html","hash":"126018f04c41b4c0af0a9d37eb597e6d7e35fbc6","modified":1480581736884},{"_id":"public/2016/11/01/JavaSpringBootCors/index.html","hash":"8ab7254433fc9a9e99d27129e604f4064a6bf8ed","modified":1480581736884},{"_id":"public/2016/10/29/JavaSpringZiliao/index.html","hash":"406bb23da881519c3f5c7038b09ecca240970426","modified":1480581736884},{"_id":"public/2016/10/28/JavaIdeaMaven/index.html","hash":"3a3a84f5efd284bebec2352e9d83dc5fbd2541ed","modified":1480581736884},{"_id":"public/2016/10/24/JavaServletUpload/index.html","hash":"d7bc95bc2f2facf549d751687c11c0268a29ad11","modified":1480581736884},{"_id":"public/2016/10/08/NihonAnime/index.html","hash":"0fac2fe74986f4127423ce6a0255ce4e710b0175","modified":1480581736884},{"_id":"public/2016/08/28/NihonSekaku/index.html","hash":"5255523cb4cc25538c324ee5d97d2022dac762b5","modified":1480581736884},{"_id":"public/2016/08/24/BangumiDongli/index.html","hash":"211973f76d831994576d05925e7c07d3484b542c","modified":1480581736884},{"_id":"public/2016/08/22/NpmYargs/index.html","hash":"2292716c24d02dbbb7d04ead1372c98843338f9a","modified":1480581736884},{"_id":"public/2016/07/28/Ionic2Environment/index.html","hash":"39aff98c63526885ad526c5fe4538a36298792fc","modified":1480581736884},{"_id":"public/2016/07/28/Angular2ApiRouter/index.html","hash":"02b5be67b728b5c63b2abdf6fcf19ca8a0a41685","modified":1480581736884},{"_id":"public/2016/07/21/Angular2ApiCommon/index.html","hash":"69e6149b9f5e1f620d4ad05092a115e2a1fd3258","modified":1480581736884},{"_id":"public/2016/07/12/JavascriptRxjsStudy/index.html","hash":"eb9db861f74b8d72d25198f22a5e06e7064eb10e","modified":1480581736884},{"_id":"public/2016/07/02/JavascriptDesignPattern/index.html","hash":"04e5c9212049a5e6e6d2cae17004624e6171d726","modified":1480581736884},{"_id":"public/2016/07/01/2016StudyPlan/index.html","hash":"a632d04a0a58149759396d3143a84d4f647f31a7","modified":1480581736884},{"_id":"public/2016/06/30/Angular2studyAnimate/index.html","hash":"b6d79640a755ccc9ed7ae1a428ff0b1964a43fca","modified":1480581736884},{"_id":"public/2016/06/27/Angular2StudyServiceHttp/index.html","hash":"4207e5cf8a6524a0bc8637c4d9a8a952e4cca0c0","modified":1480581736884},{"_id":"public/2016/06/26/Angular2StudyNoteOther/index.html","hash":"a05da84bca0d632b9caf77f25f0454f1b77cfa07","modified":1480581736884},{"_id":"public/2016/06/24/Angular2StudyNoteEvent/index.html","hash":"ea2bcabb0e1baeb1f45cdb49d01bf74b7f4d48a0","modified":1480581736885},{"_id":"public/2016/06/23/Angular2StudyNoteComponent/index.html","hash":"02cfa5746844ec9346a8df04da7859e054dabfc8","modified":1480581736885},{"_id":"public/2016/06/22/Angular2StudyNoteEnvironment/index.html","hash":"b8302dc1315bcc5a64b716b59ca498e467715a7d","modified":1480581736885},{"_id":"public/2016/06/21/ReactEnvironment/index.html","hash":"9b10d7ae42860671bf6a350c3deb2d5f7e30dc61","modified":1480581736885},{"_id":"public/2016/06/17/PublicDns/index.html","hash":"023dc68ebfbe48a16494c46bfe6d7dba5901f0f1","modified":1480581736886},{"_id":"public/2016/06/17/DuoshuoComment/index.html","hash":"cf7d5f08a757bad76bc5faafff5567dba714511f","modified":1480581736886},{"_id":"public/2016/06/17/LinuxDisk/index.html","hash":"8ae3a2cd89634b71b7a678f5735821dfc0ec7d7a","modified":1480581736886},{"_id":"public/2016/06/17/LinuxChmod/index.html","hash":"a8ad82ebbca7fb7e76e144d384773cee5f743f34","modified":1480581736886},{"_id":"public/2016/06/07/MarkdownTableStyle/index.html","hash":"4a91a7ad321361d3785938fd63997cabd105a2cf","modified":1480581736886},{"_id":"public/2016/06/07/GulpUse/index.html","hash":"3c56da6fc26df0f4685026487b72432256f3846b","modified":1480581736886},{"_id":"public/2016/06/05/FrontEndTools/index.html","hash":"443fa67acc7351791131d903a3b44117128d6967","modified":1480581736886},{"_id":"public/2016/06/04/AnkiExcelShortcuts/index.html","hash":"a2412570b30ca63d248bf2727a481d7fe3d83e52","modified":1480581736887},{"_id":"public/2016/06/03/CssFontFamily/index.html","hash":"6f35834bcb90dae6f32949cb3e92a2a9940a5c43","modified":1480581736886},{"_id":"public/2016/06/03/NodeSpider/index.html","hash":"68e33327baef4669f2e13a2c986d5464251b00a3","modified":1480581736887},{"_id":"public/2016/06/02/Package.jsonScripts/index.html","hash":"4822424403bb5520b8b32b2f268afe709d5faee3","modified":1480581736887},{"_id":"public/2016/06/01/NpmModulesShare/index.html","hash":"8972ed0c24bdb7c80a6a28a771cc5a86b1964989","modified":1480581736887},{"_id":"public/2016/05/27/MongodbUse/index.html","hash":"80c9c97821f384df422b70375b4d2191060bdea0","modified":1480581736887},{"_id":"public/2016/05/26/KoaGenerator/index.html","hash":"b020df078c68542de63fdaec38e9f932b22b041e","modified":1480581736887},{"_id":"public/2016/05/24/NodeKoa/index.html","hash":"28c95cd256c5edcd8f1d8574710e49dbcce9c0a4","modified":1480581736887},{"_id":"public/2016/05/20/JavascriptSyntax/index.html","hash":"630d1570a234e363656d22b0af06adb2242e57d4","modified":1480581736887},{"_id":"public/2016/05/19/Es6Syntax/index.html","hash":"28acb7abd1b078189e56a3d53600a4186da845d9","modified":1480581736887},{"_id":"public/2016/05/17/WebpackParams/index.html","hash":"248292198186f3513769d7416d4c3cbc1b43b6ea","modified":1480581736887},{"_id":"public/2016/05/17/WebpackPlugins/index.html","hash":"a9118772153dd0ba8e9818461528c330073565b5","modified":1480581736887},{"_id":"public/2016/05/17/WebpackLLink/index.html","hash":"02a52c560a6dc285b86b32acb89380987c2e84d7","modified":1480581736887},{"_id":"public/2016/05/16/ExcelMarkdownTable/index.html","hash":"ba2fa7dbe62219e2c3b3fef21a28f076f1c73915","modified":1480581736887},{"_id":"public/2016/05/16/NodeProcess/index.html","hash":"6b09f63e14b2d2eef21f9ec874cbc89005d4d3fd","modified":1480581736887},{"_id":"public/2016/05/14/WebpackBasicUse/index.html","hash":"c6bf6e62738e180da30267cb4218e841560b0369","modified":1480581736887},{"_id":"public/2016/05/14/AboutMe/index.html","hash":"c05aafdcb1121294ae4fcb3942d746d50ec340de","modified":1480581736887},{"_id":"public/2016/05/13/NodeOnlineChat/index.html","hash":"280b386f8be577959950ec8e93d8d7f8e78406f9","modified":1480581736887},{"_id":"public/2016/05/12/LinuxCrontab/index.html","hash":"5ff11d0bfab4e9a1f1e5aebc298aaf54e943a2c8","modified":1480581736888},{"_id":"public/2016/05/11/AngularKeyboardEvent/index.html","hash":"069a75bebdcc6f6e115fbee9328a636627f37bde","modified":1480581736888},{"_id":"public/2016/05/11/AngularUiRouter/index.html","hash":"48332d2479c135ced6b4bf0a47856862ea8e25e4","modified":1480581736888},{"_id":"public/2016/05/11/MarkdownSyntax/index.html","hash":"6b992b5372d5cffa7221b0d616055ead6f0ce42c","modified":1480581736888},{"_id":"public/2016/05/11/AngularHttp/index.html","hash":"5234bc763184069cc4dc499b5c9662c6621b7fb4","modified":1480581736888},{"_id":"public/2016/05/11/ngOptions/index.html","hash":"bd6b50aca923bc9fd18adbb82ddb5c29a1b01ee9","modified":1480581736888},{"_id":"public/2016/05/11/AtomPlugins/index.html","hash":"aa69f642026c2f51048e446000c2c99cf939d1b3","modified":1480581736888},{"_id":"public/2016/05/11/NgCheckbox/index.html","hash":"a1d2944879bc35bf73686af6506df596d796b717","modified":1480581736888},{"_id":"public/2016/05/10/AngularValidate/index.html","hash":"dd16af7c25017407601cc270e13cbf2f601646e1","modified":1480581736888},{"_id":"public/2015/11/30/SublimeConfig/index.html","hash":"500064c8605d0fc7f77860b02abbad96ce119c72","modified":1480581736888},{"_id":"public/2015/11/23/AnkiTemplates/index.html","hash":"20c805178d5d8157df8e3f20f65679742ce2a168","modified":1480581736888},{"_id":"public/2015/11/16/PngGifTransparency/index.html","hash":"b11384a6ea2be83fa87870eea4041da951aa6842","modified":1480581736888},{"_id":"source/_posts/2016-11-25.拥抱https(http全面切换到https).md","hash":"0ad8f92fe55dc03221cc2b108f3e67e95b04f693","modified":1480575030855},{"_id":"public/2016/11/25/HttpToHttps/index.html","hash":"f339469f02a59c8af10f7f11977399c9a65510b4","modified":1480581736883},{"_id":"public/categories/技术/index.html","hash":"08bbe8c96e94e7ff1ad5161d1366a8105eeb0672","modified":1480573390047},{"_id":"public/2016/11/08/JavaLombok/index.html","hash":"92183a6a2cac82cd0f984723a9829b6ab3034675","modified":1480581736883},{"_id":"public/2016/06/25/Angular2StudyNoteNgTag/index.html","hash":"14f62f90695dfd43b69182ca963718b928147c1e","modified":1480581736884}],"Category":[{"name":"angularjs之ui-router","_id":"civ0ggq5m0005rwvntg0qpcz5"},{"name":"angularjs表单验证","_id":"civ0ggq5z000crwvnae2602lp"},{"name":"angularjs增删改查","_id":"civ0ggq65000hrwvnj4diiqo8"},{"name":"ng-options","_id":"civ0ggq6b000prwvn1qh0p5l8"},{"name":"angularjs键盘事件","_id":"civ0ggq6h000vrwvnja3msgqg"},{"name":"ng-checkbox","_id":"civ0ggq6p0013rwvnxdinxbzw"},{"name":"atom插件","_id":"civ0ggq6t0019rwvnoqk8ob08"},{"name":"linux-crontab","_id":"civ0ggq70001grwvn3ivycz5t"},{"name":"nodejs之net模块","_id":"civ0ggq76001nrwvn8ys2s61t"},{"name":"markdown","_id":"civ0ggq7g001vrwvne5t69dx6"},{"name":"生活随笔","_id":"civ0ggq7k0022rwvnjf9394zz"},{"name":"开发工具","_id":"civ0ggq7o0027rwvn7ex5cf88"},{"name":"触类旁通","_id":"civ0ggq7x002frwvng677xew1"},{"name":"nodejs之process","_id":"civ0ggq83002nrwvn2rzvwrl2"},{"name":"webpack处理器","_id":"civ0ggq88002urwvnkm3sr5eo"},{"name":"webpack插件","_id":"civ0ggq8e0031rwvnfjpoiiyj"},{"name":"es6","_id":"civ0ggq8p0039rwvnucbv3nn3"},{"name":"webpack","_id":"civ0ggq93003hrwvnql4i2c20"},{"name":"javascript","_id":"civ0ggq9a003orwvn345t6n6s"},{"name":"自用笔记","_id":"civ0ggq9p0045rwvnylw7uc0o"},{"name":"koa","_id":"civ0ggq9s004drwvnjoocdws7"},{"name":"mongodb","_id":"civ0ggqa5004srwvn7sflk55t"},{"name":"npm","_id":"civ0ggqaa004zrwvn92yhc0o9"},{"name":"node","_id":"civ0ggqae0056rwvn6qudoqpz"},{"name":"gulp","_id":"civ0ggqar005srwvnng6z9qhd"},{"name":"术业专攻","_id":"civ0ggqat005vrwvnbwox9w1p"},{"name":"linux权限操作","_id":"civ0ggqau005yrwvndajrvbjo"},{"name":"linux磁盘挂载","_id":"civ0ggqaw0067rwvn0i4cmjat"},{"name":"前端框架","_id":"civ0ggqax006brwvnz6acxjbw"},{"name":"angular2","_id":"civ0ggqaz006grwvnq67onzdi"},{"name":"javascript","parent":"civ0ggq93003hrwvnql4i2c20","_id":"civ0ggqb3006vrwvn9u7twg4u"},{"name":"生活","_id":"civ0ggqbe007prwvnxcwt9h3f"},{"name":"术业专攻","parent":"civ0ggq9p0045rwvnylw7uc0o","_id":"civ0ggqbh007yrwvnyhebzoyq"},{"name":"ionic2","_id":"civ0ggqbl008brwvnuf2nculc"},{"name":"java","_id":"civ0ggqbt008zrwvndr69ph61"},{"name":"node","parent":"civ0ggqb3006vrwvn9u7twg4u","_id":"civ0ggqc2009trwvn50tgqoyn"},{"name":"开发工具","parent":"civ0ggqc2009trwvn50tgqoyn","_id":"civ0ggqc500a1rwvntv6su57d"},{"name":"技术","_id":"civxgxkrx0000ewvne1ot3ifh"}],"Data":[],"Page":[{"title":"404 Not Found：该页无法显示","comments":0,"_content":"<style type=\"text/css\">\n    .article-title {\n        font-size: 2.1em;\n    }\n    strong a {\n        color: #747474;\n    }\n    .share {\n        display: none;\n    }\n    .player {\n        margin-left: -10px;\n    }\n    .sign {\n        text-align: right;\n        font-style: italic;\n    }\n    #page-visit {\n        display: none;\n    }\n    .center {\n        text-align: center;\n        height: 2.5em;\n        font-weight: bold;\n    }\n    .search2 {\n        height: 2.2em;\n        font-size: 1em;\n        width: 50%;\n        margin: auto 24%;\n        color: #727272;\n        opacity: .6;\n        border: 2px solid lightgray;\n    }\n    .search2:hover {\n        opacity: 1;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3)\n        };\n    .article-entry hr {\n        margin: 0;\n    }\n    .pic {\n        text-align: center;\n        margin: 0;\n    }\n    .pic br {\n        display: none;\n    }\n</style>\n\n***\n\n<div class=\"pic\">\n<img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\">\n<img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\">\n</div>\n\n<p class=\"center\">很抱歉，您所访问的地址并不存在: </p>\n\n<p class=\"center\"><a href=\"/\">回主页</a> · <a href=\"/archives\">所有文章</a> · <a href=\"/about\">留言板</a></p>\n\n<p class=\"center\">可在边栏搜索框中对本站进行检索，以获取相关信息。</p>\n","source":"404/index.md","raw":"---\ntitle: 404 Not Found：该页无法显示\ncomments: false\npermalink: /404\n---\n<style type=\"text/css\">\n    .article-title {\n        font-size: 2.1em;\n    }\n    strong a {\n        color: #747474;\n    }\n    .share {\n        display: none;\n    }\n    .player {\n        margin-left: -10px;\n    }\n    .sign {\n        text-align: right;\n        font-style: italic;\n    }\n    #page-visit {\n        display: none;\n    }\n    .center {\n        text-align: center;\n        height: 2.5em;\n        font-weight: bold;\n    }\n    .search2 {\n        height: 2.2em;\n        font-size: 1em;\n        width: 50%;\n        margin: auto 24%;\n        color: #727272;\n        opacity: .6;\n        border: 2px solid lightgray;\n    }\n    .search2:hover {\n        opacity: 1;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3)\n        };\n    .article-entry hr {\n        margin: 0;\n    }\n    .pic {\n        text-align: center;\n        margin: 0;\n    }\n    .pic br {\n        display: none;\n    }\n</style>\n\n***\n\n<div class=\"pic\">\n<img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\">\n<img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\">\n</div>\n\n<p class=\"center\">很抱歉，您所访问的地址并不存在: </p>\n\n<p class=\"center\"><a href=\"/\">回主页</a> · <a href=\"/archives\">所有文章</a> · <a href=\"/about\">留言板</a></p>\n\n<p class=\"center\">可在边栏搜索框中对本站进行检索，以获取相关信息。</p>\n","date":"2016-12-01T06:50:25.869Z","updated":"2016-12-01T06:50:25.842Z","path":"/404.html","_id":"civ0ggq590000rwvnqsyftk00","layout":"page","content":"<style type=\"text/css\">\n    .article-title {\n        font-size: 2.1em;\n    }\n    strong a {\n        color: #747474;\n    }\n    .share {\n        display: none;\n    }\n    .player {\n        margin-left: -10px;\n    }\n    .sign {\n        text-align: right;\n        font-style: italic;\n    }\n    #page-visit {\n        display: none;\n    }\n    .center {\n        text-align: center;\n        height: 2.5em;\n        font-weight: bold;\n    }\n    .search2 {\n        height: 2.2em;\n        font-size: 1em;\n        width: 50%;\n        margin: auto 24%;\n        color: #727272;\n        opacity: .6;\n        border: 2px solid lightgray;\n    }\n    .search2:hover {\n        opacity: 1;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3)\n        };\n    .article-entry hr {\n        margin: 0;\n    }\n    .pic {\n        text-align: center;\n        margin: 0;\n    }\n    .pic br {\n        display: none;\n    }\n</style>\n\n<hr>\n<div class=\"pic\"><br><img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\"><br><img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\"><br></div>\n\n<p class=\"center\">很抱歉，您所访问的地址并不存在: </p>\n\n<p class=\"center\"><a href=\"/\">回主页</a> · <a href=\"/archives\">所有文章</a> · <a href=\"/about\">留言板</a></p>\n\n<p class=\"center\">可在边栏搜索框中对本站进行检索，以获取相关信息。</p>\n","excerpt":"","more":"<style type=\"text/css\">\n    .article-title {\n        font-size: 2.1em;\n    }\n    strong a {\n        color: #747474;\n    }\n    .share {\n        display: none;\n    }\n    .player {\n        margin-left: -10px;\n    }\n    .sign {\n        text-align: right;\n        font-style: italic;\n    }\n    #page-visit {\n        display: none;\n    }\n    .center {\n        text-align: center;\n        height: 2.5em;\n        font-weight: bold;\n    }\n    .search2 {\n        height: 2.2em;\n        font-size: 1em;\n        width: 50%;\n        margin: auto 24%;\n        color: #727272;\n        opacity: .6;\n        border: 2px solid lightgray;\n    }\n    .search2:hover {\n        opacity: 1;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3)\n        };\n    .article-entry hr {\n        margin: 0;\n    }\n    .pic {\n        text-align: center;\n        margin: 0;\n    }\n    .pic br {\n        display: none;\n    }\n</style>\n\n<hr>\n<div class=\"pic\"><br><img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\"><br><img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"xiaomo\"><br></div>\n\n<p class=\"center\">很抱歉，您所访问的地址并不存在: </p>\n\n<p class=\"center\"><a href=\"/\">回主页</a> · <a href=\"/archives\">所有文章</a> · <a href=\"/about\">留言板</a></p>\n\n<p class=\"center\">可在边栏搜索框中对本站进行检索，以获取相关信息。</p>\n"},{"title":"关于我 & 留言板","date":"2016-11-26T12:31:36.000Z","fancybox":false,"_content":"\n<style type=\"text/css\">\n\tstrong a {\n\t\tcolor: #747474;\n\t}\n\t.player {\n\t\ttext-align: center;\n\t\tmargin: .5em auto 0;\n\t\twidth: 100%;\n\t\tmax-width: 22em;\n\t}\n\t.player br {\n\t\tdisplay: none;\n\t}\n\t.sign {\n\t\ttext-align: right;\n\t\tfont-style: italic;\n\t}\n\t#ds-recent-visitors {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\t#ds-recent-visitors div img {\n\t\tdisplay: inline-block !important;\n\t\twidth: 56px ;\n\t\theight: 56px ;\n\t\tborder-radius: 50%;\n\t\tborder: 1px solid #ddd;\n\t\tpadding: 2px;\n\t}\n\t.article-entry img:first-child {\n\t\tdisplay: block;\n\t}\n\t.article-entry span {\n\t\tfont-family: Arial;\n\t}\n\t#ds-hot-posts {\n\t\tdisplay: none;\n\t}\n</style>\n\n---\n\n　　**2015年6月，从毕业仪式完成的那一刻，我似乎长大了不少。终于可以将自己热衷的变成应用到实现的工作中，开始了我的编程之路 <span>——</span> java游戏开发工程师。**\n\n<p class=\"sign\"><span>——</span>小莫</p>\n\n<img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"chrome\">\n\n**开博缘由:**\n> 在建立改造博客网站的过程中，学习和巩固所学知识；\n> 通过写博客的方式，加深理解，显性化自己的隐性知识；\n> 共享知识，吸引同好，交流进步。\n\n\n**人生历程:**\n > 1. 1992年出生于湖北；\n > 1. 2011年考入武汉工商学院-电子商务系；\n > 1. 2014-2015年开始于东忠集团、中智汇实习；\n > 1. 2015年毕业后专注于java企业级项目开发以及java网络游戏的开发。\n\n\n**从事编程工作前的一些个人相关信息和经验:**\n > 1. 非计算机类专业，文科生，编程经验基本为零；\n > 1. 能流畅阅读大部分英文和日语资料；\n > 1. 经常折腾各种系统、软件和手机 APP；\n > 1. 善用利用搜索解决各类问题；\n > 1. 追求“秩序”，喜欢把各种事物变得井井有条。\n\n\n **兴趣东好:**\n  > 1. 爱上网 ；\n  > 1. 爱游戏 ；\n  > 1. 爱打球 ；\n  > 1. 爱动漫 ；\n  > 1. 爱折腾 ；\n  > 1. 爱编程 。\n\n**欢迎交流:**\n> 个人邮件及社交网站等信息见左侧边栏底部；\n> 有什么留言或问题直接在文末留下评论即可。\n\n<hr>\n**最近访客:**\n<ul class=\"ds-recent-visitors\" data-num-items=\"46\" data-avatar-size=\"40\"></ul>\n","source":"about/index.md","raw":"title: 关于我 & 留言板\ndate: 2016-11-26 20:31:36\nfancybox: false\n---\n\n<style type=\"text/css\">\n\tstrong a {\n\t\tcolor: #747474;\n\t}\n\t.player {\n\t\ttext-align: center;\n\t\tmargin: .5em auto 0;\n\t\twidth: 100%;\n\t\tmax-width: 22em;\n\t}\n\t.player br {\n\t\tdisplay: none;\n\t}\n\t.sign {\n\t\ttext-align: right;\n\t\tfont-style: italic;\n\t}\n\t#ds-recent-visitors {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n\t#ds-recent-visitors div img {\n\t\tdisplay: inline-block !important;\n\t\twidth: 56px ;\n\t\theight: 56px ;\n\t\tborder-radius: 50%;\n\t\tborder: 1px solid #ddd;\n\t\tpadding: 2px;\n\t}\n\t.article-entry img:first-child {\n\t\tdisplay: block;\n\t}\n\t.article-entry span {\n\t\tfont-family: Arial;\n\t}\n\t#ds-hot-posts {\n\t\tdisplay: none;\n\t}\n</style>\n\n---\n\n　　**2015年6月，从毕业仪式完成的那一刻，我似乎长大了不少。终于可以将自己热衷的变成应用到实现的工作中，开始了我的编程之路 <span>——</span> java游戏开发工程师。**\n\n<p class=\"sign\"><span>——</span>小莫</p>\n\n<img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"chrome\">\n\n**开博缘由:**\n> 在建立改造博客网站的过程中，学习和巩固所学知识；\n> 通过写博客的方式，加深理解，显性化自己的隐性知识；\n> 共享知识，吸引同好，交流进步。\n\n\n**人生历程:**\n > 1. 1992年出生于湖北；\n > 1. 2011年考入武汉工商学院-电子商务系；\n > 1. 2014-2015年开始于东忠集团、中智汇实习；\n > 1. 2015年毕业后专注于java企业级项目开发以及java网络游戏的开发。\n\n\n**从事编程工作前的一些个人相关信息和经验:**\n > 1. 非计算机类专业，文科生，编程经验基本为零；\n > 1. 能流畅阅读大部分英文和日语资料；\n > 1. 经常折腾各种系统、软件和手机 APP；\n > 1. 善用利用搜索解决各类问题；\n > 1. 追求“秩序”，喜欢把各种事物变得井井有条。\n\n\n **兴趣东好:**\n  > 1. 爱上网 ；\n  > 1. 爱游戏 ；\n  > 1. 爱打球 ；\n  > 1. 爱动漫 ；\n  > 1. 爱折腾 ；\n  > 1. 爱编程 。\n\n**欢迎交流:**\n> 个人邮件及社交网站等信息见左侧边栏底部；\n> 有什么留言或问题直接在文末留下评论即可。\n\n<hr>\n**最近访客:**\n<ul class=\"ds-recent-visitors\" data-num-items=\"46\" data-avatar-size=\"40\"></ul>\n","updated":"2016-12-01T06:50:26.484Z","path":"about/index.html","_id":"civ0ggq5f0002rwvn15s7wv12","comments":1,"layout":"page","content":"<style type=\"text/css\">\n    strong a {\n        color: #747474;\n    }\n    .player {\n        text-align: center;\n        margin: .5em auto 0;\n        width: 100%;\n        max-width: 22em;\n    }\n    .player br {\n        display: none;\n    }\n    .sign {\n        text-align: right;\n        font-style: italic;\n    }\n    #ds-recent-visitors {\n        margin: 0;\n        padding: 0;\n    }\n    #ds-recent-visitors div img {\n        display: inline-block !important;\n        width: 56px ;\n        height: 56px ;\n        border-radius: 50%;\n        border: 1px solid #ddd;\n        padding: 2px;\n    }\n    .article-entry img:first-child {\n        display: block;\n    }\n    .article-entry span {\n        font-family: Arial;\n    }\n    #ds-hot-posts {\n        display: none;\n    }\n</style>\n\n<hr>\n<p>　　<strong>2015年6月，从毕业仪式完成的那一刻，我似乎长大了不少。终于可以将自己热衷的变成应用到实现的工作中，开始了我的编程之路 <span>——</span> java游戏开发工程师。</strong></p>\n<p class=\"sign\"><span>——</span>小莫</p>\n\n<p><img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"chrome\"></p>\n<p><strong>开博缘由:</strong></p>\n<blockquote>\n<p>在建立改造博客网站的过程中，学习和巩固所学知识；<br>通过写博客的方式，加深理解，显性化自己的隐性知识；<br>共享知识，吸引同好，交流进步。</p>\n</blockquote>\n<p><strong>人生历程:</strong></p>\n<blockquote>\n<ol>\n<li>1992年出生于湖北；</li>\n<li>2011年考入武汉工商学院-电子商务系；</li>\n<li>2014-2015年开始于东忠集团、中智汇实习；</li>\n<li>2015年毕业后专注于java企业级项目开发以及java网络游戏的开发。</li>\n</ol>\n</blockquote>\n<p><strong>从事编程工作前的一些个人相关信息和经验:</strong></p>\n<blockquote>\n<ol>\n<li>非计算机类专业，文科生，编程经验基本为零；</li>\n<li>能流畅阅读大部分英文和日语资料；</li>\n<li>经常折腾各种系统、软件和手机 APP；</li>\n<li>善用利用搜索解决各类问题；</li>\n<li>追求“秩序”，喜欢把各种事物变得井井有条。</li>\n</ol>\n</blockquote>\n<p> <strong>兴趣东好:</strong></p>\n<blockquote>\n<ol>\n<li>爱上网 ；</li>\n<li>爱游戏 ；</li>\n<li>爱打球 ；</li>\n<li>爱动漫 ；</li>\n<li>爱折腾 ；</li>\n<li>爱编程 。</li>\n</ol>\n</blockquote>\n<p><strong>欢迎交流:</strong></p>\n<blockquote>\n<p>个人邮件及社交网站等信息见左侧边栏底部；<br>有什么留言或问题直接在文末留下评论即可。</p>\n</blockquote>\n<p><hr><br><strong>最近访客:</strong></p>\n<ul class=\"ds-recent-visitors\" data-num-items=\"46\" data-avatar-size=\"40\"></ul>\n","excerpt":"","more":"<style type=\"text/css\">\n    strong a {\n        color: #747474;\n    }\n    .player {\n        text-align: center;\n        margin: .5em auto 0;\n        width: 100%;\n        max-width: 22em;\n    }\n    .player br {\n        display: none;\n    }\n    .sign {\n        text-align: right;\n        font-style: italic;\n    }\n    #ds-recent-visitors {\n        margin: 0;\n        padding: 0;\n    }\n    #ds-recent-visitors div img {\n        display: inline-block !important;\n        width: 56px ;\n        height: 56px ;\n        border-radius: 50%;\n        border: 1px solid #ddd;\n        padding: 2px;\n    }\n    .article-entry img:first-child {\n        display: block;\n    }\n    .article-entry span {\n        font-family: Arial;\n    }\n    #ds-hot-posts {\n        display: none;\n    }\n</style>\n\n<hr>\n<p>　　<strong>2015年6月，从毕业仪式完成的那一刻，我似乎长大了不少。终于可以将自己热衷的变成应用到实现的工作中，开始了我的编程之路 <span>——</span> java游戏开发工程师。</strong></p>\n<p class=\"sign\"><span>——</span>小莫</p>\n\n<p><img src=\"https://image.xiaomo.info/banner/aboutme.gif\" title=\"chrome\"></p>\n<p><strong>开博缘由:</strong></p>\n<blockquote>\n<p>在建立改造博客网站的过程中，学习和巩固所学知识；<br>通过写博客的方式，加深理解，显性化自己的隐性知识；<br>共享知识，吸引同好，交流进步。</p>\n</blockquote>\n<p><strong>人生历程:</strong></p>\n<blockquote>\n<ol>\n<li>1992年出生于湖北；</li>\n<li>2011年考入武汉工商学院-电子商务系；</li>\n<li>2014-2015年开始于东忠集团、中智汇实习；</li>\n<li>2015年毕业后专注于java企业级项目开发以及java网络游戏的开发。</li>\n</ol>\n</blockquote>\n<p><strong>从事编程工作前的一些个人相关信息和经验:</strong></p>\n<blockquote>\n<ol>\n<li>非计算机类专业，文科生，编程经验基本为零；</li>\n<li>能流畅阅读大部分英文和日语资料；</li>\n<li>经常折腾各种系统、软件和手机 APP；</li>\n<li>善用利用搜索解决各类问题；</li>\n<li>追求“秩序”，喜欢把各种事物变得井井有条。</li>\n</ol>\n</blockquote>\n<p> <strong>兴趣东好:</strong></p>\n<blockquote>\n<ol>\n<li>爱上网 ；</li>\n<li>爱游戏 ；</li>\n<li>爱打球 ；</li>\n<li>爱动漫 ；</li>\n<li>爱折腾 ；</li>\n<li>爱编程 。</li>\n</ol>\n</blockquote>\n<p><strong>欢迎交流:</strong></p>\n<blockquote>\n<p>个人邮件及社交网站等信息见左侧边栏底部；<br>有什么留言或问题直接在文末留下评论即可。</p>\n</blockquote>\n<p><hr><br><strong>最近访客:</strong></p>\n<ul class=\"ds-recent-visitors\" data-num-items=\"46\" data-avatar-size=\"40\"></ul>\n"},{"title":"search","date":"2016-06-15T02:10:10.000Z","_content":"# 搜索\nsearch:\n    path: search/search.xml","source":"search/index.md","raw":"---\ntitle: search\ndate: 2016-06-15 10:10:10\n---\n# 搜索\nsearch:\n    path: search/search.xml","updated":"2016-11-02T05:14:04.825Z","path":"search/index.html","_id":"civ0ggq5n0006rwvntbkw0ph6","comments":1,"layout":"page","content":"<h1 id=\"搜索\"><a href=\"#搜索\" class=\"headerlink\" title=\"搜索\"></a>搜索</h1><p>search:<br>    path: search/search.xml</p>\n","excerpt":"","more":"<h1 id=\"搜索\"><a href=\"#搜索\" class=\"headerlink\" title=\"搜索\"></a>搜索</h1><p>search:<br>    path: search/search.xml</p>\n"},{"title":"tags","date":"2016-06-15T03:24:53.000Z","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2016-06-15 11:24:53\n---\n","updated":"2016-11-02T05:14:04.830Z","path":"tags/index.html","_id":"civ0ggq5q0008rwvnjbm7n9w6","comments":1,"layout":"page","content":"","excerpt":"","more":""}],"Post":[{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"第三方组件ui-router的简单使用","_content":"因为1.x的angularjs自带的ng-router功能比较弱，不支持路由嵌套。因些我们要使用到ui-router这个组件\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、ui-router基本思路\n1. 多视图用@，嵌套用parent.child这种子路由\n2. 要切换的视图(main)用ui-view,始终不会变成其他内容的不需要路由  \n3. 要切换的路由ui-sref用子路由   \n* main.a\n* main.b\n* main.c\n* main.d\n*  ....\n\n### 二、效果图\n![uirouter效果](https://image.xiaomo.info/angular/uirouter.gif)\n\n### 三、代码实例\n\n#### 1. html 使用ui-sref\n```\n    <div class=\"col-md-1 list-group\" style=\"text-align: center\">\n        <a ui-sref=\"main.authority\" class=\"list-group-item\">权限管理</a>\n        <a ui-sref=\"main.blog\" class=\"list-group-item\">博客管理</a>\n        <a ui-sref=\"main.user\" class=\"list-group-item\">用户管理</a>\n        <a ui-sref=\"main.tag\" class=\"list-group-item\">标签管理</a>\n        <a ui-sref=\"main.changeLog\" class=\"list-group-item\">更新日志</a>\n        <a ui-sref=\"main.links\" class=\"list-group-item\">友情连接</a>\n        <a ui-sref=\"main.systemSet\" class=\"list-group-item\">系统设置</a>\n    </div>\n\n```\n\n#### 2. app.js 路由配置\n```\n\tmyApp.config(function ($stateProvider, $urlRouterProvider) {\n    $urlRouterProvider.otherwise('/login');\n    $stateProvider\n    /* ===========================================================登录===========================================================================*/\n        .state('login', {//登录\n            url: '/login',\n            templateUrl: './login.html',\n            controller: 'AdminLoginController'\n        })\n        .state('main', {//主界面\n            url: '/main',\n            templateUrl: './src/tpls/common/home.html',\n            controller: 'BasicInfoController'\n        })\n        /* ===========================================================博客===========================================================================*/\n        .state('main.blog', {//博客列表\n            url: '/blog',\n            templateUrl: './src/tpls/blog/blogList.html',\n            controller: 'BlogListController'\n        })\n        .state('main.addBlog', {//添加博客\n            url: '/addBlog',\n            templateUrl: './src/tpls/blog/addBlog.html',\n            controller: 'BlogAddController'\n        })\n        .state('main.editBlog', {//编辑博客\n            url: '/editBlog/:id',\n            templateUrl: './src/tpls/blog/editBlog.html',\n            controller: 'BlogEditController'\n        })\n        /* ===========================================================权限===========================================================================*/\n        .state('main.authority', {//权限列表\n            url: '/authority',\n            templateUrl: './src/tpls/authority/authorityList.html',\n            controller: 'AdminListController'\n        })\n        .state('main.addAuthority', {//添加权限\n            url: '/addAuthority',\n            templateUrl: './src/tpls/authority/AddAuthority.html',\n            controller: 'AdminAddController'\n        })\n        .state('main.editAuthority', {//编辑权限\n            url: '/editAuthority/:id',\n            templateUrl: './src/tpls/authority/authorityEdit.html',\n            controller: 'AdminEditController'\n        })\n        /* ===========================================================用户===========================================================================*/\n        .state('main.user', {//用户列表\n            url: '/user',\n            templateUrl: './src/tpls/user/userList.html',\n            controller: 'UserListController'\n        })\n        .state('main.addUser', {//添加用户\n            url: '/addUser',\n            templateUrl: './src/tpls/user/addUser.html',\n            controller: 'UserAddController'\n        })\n        .state('main.editUser', {//编辑用户\n            url: '/editUser/:id',\n            templateUrl: './src/tpls/user/editUser.html',\n            controller: 'UserEditController'\n        })\n        /* ===========================================================标签===========================================================================*/\n        .state('main.tag', {//标签列表\n            url: '/tag',\n            templateUrl: './src/tpls/tag/tagList.html',\n            controller: 'TagListController'\n        })\n        .state('main.addTag', {//添加标签\n            url: '/addTag',\n            templateUrl: './src/tpls/tag/addTag.html',\n            controller: 'TagAddController'\n        })\n        .state('main.editTag', {//编辑标签\n            url: '/editTag',\n            templateUrl: './src/tpls/tag/editTag.html',\n            controller: 'TagEditController'\n        })\n        /* ===========================================================日志===========================================================================*/\n        .state('main.changeLog', {//更新日志列表\n            url: '/changeLog',\n            templateUrl: './src/tpls/changeLog/changeLog.html',\n            controller: 'ChangeLogListController'\n        })\n        .state('main.addChangeLog', {//添加更新日志\n            url: '/addChangeLog',\n            templateUrl: './src/tpls/changeLog/addChangeLog.html',\n            controller: 'ChangeLogAddController'\n        })\n        .state('main.editChangeLog', {//编辑更新日志\n            url: '/editChangeLog',\n            templateUrl: './src/tpls/changeLog/editChangeLog.html',\n            controller: 'ChangeLogEditController'\n        })\n        /* ===========================================================友链===========================================================================*/\n        .state('main.links', {//友情链接列表\n            url: '/links',\n            templateUrl: './src/tpls/links/linkList.html',\n            controller: 'LinkListController'\n        })\n        .state('main.addLink', {//添加友情链接\n            url: '/addLink',\n            templateUrl: './src/tpls/links/addLink.html',\n            controller: 'LinkAddController'\n        })\n        .state('main.editLink', {//编辑友情链接\n            url: '/editLink',\n            templateUrl: './src/tpls/links/editLink.html',\n            controller: 'LinkEditController'\n        })\n        /* ===========================================================系统===========================================================================*/\n        .state('main.systemSet', {//系统设置\n            url: '/systemSet',\n            templateUrl: './src/tpls/systemSet/systemSet.html'\n        })\n});\n\n```\n\n### 四、 github\n附上我github的地址\n   [https://github.com/syoubaku](https://github.com/syoubaku)\n","source":"_posts/2016-04-25.ui-router_use.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: 第三方组件ui-router的简单使用\ntags:\n- angular\n- javascript\ncategory: angularjs之ui-router\npermalink: AngularUiRouter\n---\n因为1.x的angularjs自带的ng-router功能比较弱，不支持路由嵌套。因些我们要使用到ui-router这个组件\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、ui-router基本思路\n1. 多视图用@，嵌套用parent.child这种子路由\n2. 要切换的视图(main)用ui-view,始终不会变成其他内容的不需要路由  \n3. 要切换的路由ui-sref用子路由   \n* main.a\n* main.b\n* main.c\n* main.d\n*  ....\n\n### 二、效果图\n![uirouter效果](https://image.xiaomo.info/angular/uirouter.gif)\n\n### 三、代码实例\n\n#### 1. html 使用ui-sref\n```\n    <div class=\"col-md-1 list-group\" style=\"text-align: center\">\n        <a ui-sref=\"main.authority\" class=\"list-group-item\">权限管理</a>\n        <a ui-sref=\"main.blog\" class=\"list-group-item\">博客管理</a>\n        <a ui-sref=\"main.user\" class=\"list-group-item\">用户管理</a>\n        <a ui-sref=\"main.tag\" class=\"list-group-item\">标签管理</a>\n        <a ui-sref=\"main.changeLog\" class=\"list-group-item\">更新日志</a>\n        <a ui-sref=\"main.links\" class=\"list-group-item\">友情连接</a>\n        <a ui-sref=\"main.systemSet\" class=\"list-group-item\">系统设置</a>\n    </div>\n\n```\n\n#### 2. app.js 路由配置\n```\n\tmyApp.config(function ($stateProvider, $urlRouterProvider) {\n    $urlRouterProvider.otherwise('/login');\n    $stateProvider\n    /* ===========================================================登录===========================================================================*/\n        .state('login', {//登录\n            url: '/login',\n            templateUrl: './login.html',\n            controller: 'AdminLoginController'\n        })\n        .state('main', {//主界面\n            url: '/main',\n            templateUrl: './src/tpls/common/home.html',\n            controller: 'BasicInfoController'\n        })\n        /* ===========================================================博客===========================================================================*/\n        .state('main.blog', {//博客列表\n            url: '/blog',\n            templateUrl: './src/tpls/blog/blogList.html',\n            controller: 'BlogListController'\n        })\n        .state('main.addBlog', {//添加博客\n            url: '/addBlog',\n            templateUrl: './src/tpls/blog/addBlog.html',\n            controller: 'BlogAddController'\n        })\n        .state('main.editBlog', {//编辑博客\n            url: '/editBlog/:id',\n            templateUrl: './src/tpls/blog/editBlog.html',\n            controller: 'BlogEditController'\n        })\n        /* ===========================================================权限===========================================================================*/\n        .state('main.authority', {//权限列表\n            url: '/authority',\n            templateUrl: './src/tpls/authority/authorityList.html',\n            controller: 'AdminListController'\n        })\n        .state('main.addAuthority', {//添加权限\n            url: '/addAuthority',\n            templateUrl: './src/tpls/authority/AddAuthority.html',\n            controller: 'AdminAddController'\n        })\n        .state('main.editAuthority', {//编辑权限\n            url: '/editAuthority/:id',\n            templateUrl: './src/tpls/authority/authorityEdit.html',\n            controller: 'AdminEditController'\n        })\n        /* ===========================================================用户===========================================================================*/\n        .state('main.user', {//用户列表\n            url: '/user',\n            templateUrl: './src/tpls/user/userList.html',\n            controller: 'UserListController'\n        })\n        .state('main.addUser', {//添加用户\n            url: '/addUser',\n            templateUrl: './src/tpls/user/addUser.html',\n            controller: 'UserAddController'\n        })\n        .state('main.editUser', {//编辑用户\n            url: '/editUser/:id',\n            templateUrl: './src/tpls/user/editUser.html',\n            controller: 'UserEditController'\n        })\n        /* ===========================================================标签===========================================================================*/\n        .state('main.tag', {//标签列表\n            url: '/tag',\n            templateUrl: './src/tpls/tag/tagList.html',\n            controller: 'TagListController'\n        })\n        .state('main.addTag', {//添加标签\n            url: '/addTag',\n            templateUrl: './src/tpls/tag/addTag.html',\n            controller: 'TagAddController'\n        })\n        .state('main.editTag', {//编辑标签\n            url: '/editTag',\n            templateUrl: './src/tpls/tag/editTag.html',\n            controller: 'TagEditController'\n        })\n        /* ===========================================================日志===========================================================================*/\n        .state('main.changeLog', {//更新日志列表\n            url: '/changeLog',\n            templateUrl: './src/tpls/changeLog/changeLog.html',\n            controller: 'ChangeLogListController'\n        })\n        .state('main.addChangeLog', {//添加更新日志\n            url: '/addChangeLog',\n            templateUrl: './src/tpls/changeLog/addChangeLog.html',\n            controller: 'ChangeLogAddController'\n        })\n        .state('main.editChangeLog', {//编辑更新日志\n            url: '/editChangeLog',\n            templateUrl: './src/tpls/changeLog/editChangeLog.html',\n            controller: 'ChangeLogEditController'\n        })\n        /* ===========================================================友链===========================================================================*/\n        .state('main.links', {//友情链接列表\n            url: '/links',\n            templateUrl: './src/tpls/links/linkList.html',\n            controller: 'LinkListController'\n        })\n        .state('main.addLink', {//添加友情链接\n            url: '/addLink',\n            templateUrl: './src/tpls/links/addLink.html',\n            controller: 'LinkAddController'\n        })\n        .state('main.editLink', {//编辑友情链接\n            url: '/editLink',\n            templateUrl: './src/tpls/links/editLink.html',\n            controller: 'LinkEditController'\n        })\n        /* ===========================================================系统===========================================================================*/\n        .state('main.systemSet', {//系统设置\n            url: '/systemSet',\n            templateUrl: './src/tpls/systemSet/systemSet.html'\n        })\n});\n\n```\n\n### 四、 github\n附上我github的地址\n   [https://github.com/syoubaku](https://github.com/syoubaku)\n","slug":"AngularUiRouter","published":1,"updated":"2016-12-01T07:52:39.616Z","_id":"civ0ggq5a0001rwvnwt2ri3eb","comments":1,"layout":"post","photos":[],"link":"","content":"<p>因为1.x的angularjs自带的ng-router功能比较弱，不支持路由嵌套。因些我们要使用到ui-router这个组件<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、ui-router基本思路\"><a href=\"#一、ui-router基本思路\" class=\"headerlink\" title=\"一、ui-router基本思路\"></a>一、ui-router基本思路</h3><ol>\n<li>多视图用@，嵌套用parent.child这种子路由</li>\n<li>要切换的视图(main)用ui-view,始终不会变成其他内容的不需要路由  </li>\n<li>要切换的路由ui-sref用子路由   </li>\n</ol>\n<ul>\n<li>main.a</li>\n<li>main.b</li>\n<li>main.c</li>\n<li>main.d</li>\n<li>….</li>\n</ul>\n<h3 id=\"二、效果图\"><a href=\"#二、效果图\" class=\"headerlink\" title=\"二、效果图\"></a>二、效果图</h3><p><img src=\"https://image.xiaomo.info/angular/uirouter.gif\" alt=\"uirouter效果\"></p>\n<h3 id=\"三、代码实例\"><a href=\"#三、代码实例\" class=\"headerlink\" title=\"三、代码实例\"></a>三、代码实例</h3><h4 id=\"1-html-使用ui-sref\"><a href=\"#1-html-使用ui-sref\" class=\"headerlink\" title=\"1. html 使用ui-sref\"></a>1. html 使用ui-sref</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"col-md-1 list-group\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"text-align: center\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.authority\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>权限管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.blog\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>博客管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.user\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>用户管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.tag\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>标签管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.changeLog\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>更新日志<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.links\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>友情连接<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.systemSet\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>系统设置<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-app-js-路由配置\"><a href=\"#2-app-js-路由配置\" class=\"headerlink\" title=\"2. app.js 路由配置\"></a>2. app.js 路由配置</h4><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div></pre></td><td class=\"code\"><pre><div class=\"line\">    myApp.config(function (<span class=\"variable\">$stateProvider</span>, <span class=\"variable\">$urlRouterProvider</span>) &#123;</div><div class=\"line\">    <span class=\"variable\">$urlRouterProvider</span>.otherwise('/login');</div><div class=\"line\">    <span class=\"variable\">$stateProvider</span></div><div class=\"line\">    /* ===========================================================登录===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('login', &#123;//登录</div><div class=\"line\">            url: '/login',</div><div class=\"line\">            templateUrl: './login.html',</div><div class=\"line\">            controller: 'AdminLoginController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main', &#123;//主界面</div><div class=\"line\">            url: '/main',</div><div class=\"line\">            templateUrl: './src/tpls/common/home.html',</div><div class=\"line\">            controller: 'BasicInfoController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================博客===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.blog', &#123;//博客列表</div><div class=\"line\">            url: '/blog',</div><div class=\"line\">            templateUrl: './src/tpls/blog/blogList.html',</div><div class=\"line\">            controller: 'B<span class=\"keyword\">log</span>ListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addB<span class=\"keyword\">log</span>', &#123;//添加博客</div><div class=\"line\">            url: '/addB<span class=\"keyword\">log</span>',</div><div class=\"line\">            templateUrl: './src/tpls/blog/addB<span class=\"keyword\">log</span>.html',</div><div class=\"line\">            controller: 'B<span class=\"keyword\">log</span>AddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editB<span class=\"keyword\">log</span>', &#123;//编辑博客</div><div class=\"line\">            url: '/editB<span class=\"keyword\">log</span>/:id',</div><div class=\"line\">            templateUrl: './src/tpls/blog/editB<span class=\"keyword\">log</span>.html',</div><div class=\"line\">            controller: 'B<span class=\"keyword\">log</span>EditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================权限===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.authority', &#123;//权限列表</div><div class=\"line\">            url: '/authority',</div><div class=\"line\">            templateUrl: './src/tpls/authority/authorityList.html',</div><div class=\"line\">            controller: 'AdminListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addAuthority', &#123;//添加权限</div><div class=\"line\">            url: '/addAuthority',</div><div class=\"line\">            templateUrl: './src/tpls/authority/AddAuthority.html',</div><div class=\"line\">            controller: 'AdminAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editAuthority', &#123;//编辑权限</div><div class=\"line\">            url: '/editAuthority/:id',</div><div class=\"line\">            templateUrl: './src/tpls/authority/authorityEdit.html',</div><div class=\"line\">            controller: 'AdminEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================用户===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.<span class=\"keyword\">user</span>', &#123;//用户列表</div><div class=\"line\">            url: '/<span class=\"keyword\">user</span>',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">user</span>/<span class=\"keyword\">user</span>List.html',</div><div class=\"line\">            controller: 'UserListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addUser', &#123;//添加用户</div><div class=\"line\">            url: '/addUser',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">user</span>/addUser.html',</div><div class=\"line\">            controller: 'UserAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editUser', &#123;//编辑用户</div><div class=\"line\">            url: '/editUser/:id',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">user</span>/editUser.html',</div><div class=\"line\">            controller: 'UserEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================标签===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.<span class=\"keyword\">tag</span>', &#123;//标签列表</div><div class=\"line\">            url: '/<span class=\"keyword\">tag</span>',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">tag</span>/<span class=\"keyword\">tag</span>List.html',</div><div class=\"line\">            controller: 'TagListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addTag', &#123;//添加标签</div><div class=\"line\">            url: '/addTag',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">tag</span>/addTag.html',</div><div class=\"line\">            controller: 'TagAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editTag', &#123;//编辑标签</div><div class=\"line\">            url: '/editTag',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">tag</span>/editTag.html',</div><div class=\"line\">            controller: 'TagEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================日志===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.changeLog', &#123;//更新日志列表</div><div class=\"line\">            url: '/changeLog',</div><div class=\"line\">            templateUrl: './src/tpls/changeLog/changeLog.html',</div><div class=\"line\">            controller: 'ChangeLogListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addChangeLog', &#123;//添加更新日志</div><div class=\"line\">            url: '/addChangeLog',</div><div class=\"line\">            templateUrl: './src/tpls/changeLog/addChangeLog.html',</div><div class=\"line\">            controller: 'ChangeLogAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editChangeLog', &#123;//编辑更新日志</div><div class=\"line\">            url: '/editChangeLog',</div><div class=\"line\">            templateUrl: './src/tpls/changeLog/editChangeLog.html',</div><div class=\"line\">            controller: 'ChangeLogEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================友链===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.links', &#123;//友情链接列表</div><div class=\"line\">            url: '/links',</div><div class=\"line\">            templateUrl: './src/tpls/links/linkList.html',</div><div class=\"line\">            controller: 'LinkListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addLink', &#123;//添加友情链接</div><div class=\"line\">            url: '/addLink',</div><div class=\"line\">            templateUrl: './src/tpls/links/addLink.html',</div><div class=\"line\">            controller: 'LinkAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editLink', &#123;//编辑友情链接</div><div class=\"line\">            url: '/editLink',</div><div class=\"line\">            templateUrl: './src/tpls/links/editLink.html',</div><div class=\"line\">            controller: 'LinkEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================系统===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.systemSet', &#123;//系统设置</div><div class=\"line\">            url: '/systemSet',</div><div class=\"line\">            templateUrl: './src/tpls/systemSet/systemSet.html'</div><div class=\"line\">        &#125;)</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h3 id=\"四、-github\"><a href=\"#四、-github\" class=\"headerlink\" title=\"四、 github\"></a>四、 github</h3><p>附上我github的地址<br>   <a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku</a></p>\n","excerpt":"<p>因为1.x的angularjs自带的ng-router功能比较弱，不支持路由嵌套。因些我们要使用到ui-router这个组件<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、ui-router基本思路\"><a href=\"#一、ui-router基本思路\" class=\"headerlink\" title=\"一、ui-router基本思路\"></a>一、ui-router基本思路</h3><ol>\n<li>多视图用@，嵌套用parent.child这种子路由</li>\n<li>要切换的视图(main)用ui-view,始终不会变成其他内容的不需要路由  </li>\n<li>要切换的路由ui-sref用子路由   </li>\n</ol>\n<ul>\n<li>main.a</li>\n<li>main.b</li>\n<li>main.c</li>\n<li>main.d</li>\n<li>….</li>\n</ul>\n<h3 id=\"二、效果图\"><a href=\"#二、效果图\" class=\"headerlink\" title=\"二、效果图\"></a>二、效果图</h3><p><img src=\"https://image.xiaomo.info/angular/uirouter.gif\" alt=\"uirouter效果\"></p>\n<h3 id=\"三、代码实例\"><a href=\"#三、代码实例\" class=\"headerlink\" title=\"三、代码实例\"></a>三、代码实例</h3><h4 id=\"1-html-使用ui-sref\"><a href=\"#1-html-使用ui-sref\" class=\"headerlink\" title=\"1. html 使用ui-sref\"></a>1. html 使用ui-sref</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"col-md-1 list-group\"</span> <span class=\"attr\">style</span>=<span class=\"string\">\"text-align: center\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.authority\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>权限管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.blog\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>博客管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.user\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>用户管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.tag\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>标签管理<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.changeLog\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>更新日志<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.links\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>友情连接<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">ui-sref</span>=<span class=\"string\">\"main.systemSet\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>系统设置<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-app-js-路由配置\"><a href=\"#2-app-js-路由配置\" class=\"headerlink\" title=\"2. app.js 路由配置\"></a>2. app.js 路由配置</h4><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div></pre></td><td class=\"code\"><pre><div class=\"line\">    myApp.config(function (<span class=\"variable\">$stateProvider</span>, <span class=\"variable\">$urlRouterProvider</span>) &#123;</div><div class=\"line\">    <span class=\"variable\">$urlRouterProvider</span>.otherwise('/login');</div><div class=\"line\">    <span class=\"variable\">$stateProvider</span></div><div class=\"line\">    /* ===========================================================登录===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('login', &#123;//登录</div><div class=\"line\">            url: '/login',</div><div class=\"line\">            templateUrl: './login.html',</div><div class=\"line\">            controller: 'AdminLoginController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main', &#123;//主界面</div><div class=\"line\">            url: '/main',</div><div class=\"line\">            templateUrl: './src/tpls/common/home.html',</div><div class=\"line\">            controller: 'BasicInfoController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================博客===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.blog', &#123;//博客列表</div><div class=\"line\">            url: '/blog',</div><div class=\"line\">            templateUrl: './src/tpls/blog/blogList.html',</div><div class=\"line\">            controller: 'B<span class=\"keyword\">log</span>ListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addB<span class=\"keyword\">log</span>', &#123;//添加博客</div><div class=\"line\">            url: '/addB<span class=\"keyword\">log</span>',</div><div class=\"line\">            templateUrl: './src/tpls/blog/addB<span class=\"keyword\">log</span>.html',</div><div class=\"line\">            controller: 'B<span class=\"keyword\">log</span>AddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editB<span class=\"keyword\">log</span>', &#123;//编辑博客</div><div class=\"line\">            url: '/editB<span class=\"keyword\">log</span>/:id',</div><div class=\"line\">            templateUrl: './src/tpls/blog/editB<span class=\"keyword\">log</span>.html',</div><div class=\"line\">            controller: 'B<span class=\"keyword\">log</span>EditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================权限===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.authority', &#123;//权限列表</div><div class=\"line\">            url: '/authority',</div><div class=\"line\">            templateUrl: './src/tpls/authority/authorityList.html',</div><div class=\"line\">            controller: 'AdminListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addAuthority', &#123;//添加权限</div><div class=\"line\">            url: '/addAuthority',</div><div class=\"line\">            templateUrl: './src/tpls/authority/AddAuthority.html',</div><div class=\"line\">            controller: 'AdminAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editAuthority', &#123;//编辑权限</div><div class=\"line\">            url: '/editAuthority/:id',</div><div class=\"line\">            templateUrl: './src/tpls/authority/authorityEdit.html',</div><div class=\"line\">            controller: 'AdminEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================用户===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.<span class=\"keyword\">user</span>', &#123;//用户列表</div><div class=\"line\">            url: '/<span class=\"keyword\">user</span>',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">user</span>/<span class=\"keyword\">user</span>List.html',</div><div class=\"line\">            controller: 'UserListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addUser', &#123;//添加用户</div><div class=\"line\">            url: '/addUser',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">user</span>/addUser.html',</div><div class=\"line\">            controller: 'UserAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editUser', &#123;//编辑用户</div><div class=\"line\">            url: '/editUser/:id',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">user</span>/editUser.html',</div><div class=\"line\">            controller: 'UserEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================标签===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.<span class=\"keyword\">tag</span>', &#123;//标签列表</div><div class=\"line\">            url: '/<span class=\"keyword\">tag</span>',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">tag</span>/<span class=\"keyword\">tag</span>List.html',</div><div class=\"line\">            controller: 'TagListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addTag', &#123;//添加标签</div><div class=\"line\">            url: '/addTag',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">tag</span>/addTag.html',</div><div class=\"line\">            controller: 'TagAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editTag', &#123;//编辑标签</div><div class=\"line\">            url: '/editTag',</div><div class=\"line\">            templateUrl: './src/tpls/<span class=\"keyword\">tag</span>/editTag.html',</div><div class=\"line\">            controller: 'TagEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================日志===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.changeLog', &#123;//更新日志列表</div><div class=\"line\">            url: '/changeLog',</div><div class=\"line\">            templateUrl: './src/tpls/changeLog/changeLog.html',</div><div class=\"line\">            controller: 'ChangeLogListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addChangeLog', &#123;//添加更新日志</div><div class=\"line\">            url: '/addChangeLog',</div><div class=\"line\">            templateUrl: './src/tpls/changeLog/addChangeLog.html',</div><div class=\"line\">            controller: 'ChangeLogAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editChangeLog', &#123;//编辑更新日志</div><div class=\"line\">            url: '/editChangeLog',</div><div class=\"line\">            templateUrl: './src/tpls/changeLog/editChangeLog.html',</div><div class=\"line\">            controller: 'ChangeLogEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================友链===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.links', &#123;//友情链接列表</div><div class=\"line\">            url: '/links',</div><div class=\"line\">            templateUrl: './src/tpls/links/linkList.html',</div><div class=\"line\">            controller: 'LinkListController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.addLink', &#123;//添加友情链接</div><div class=\"line\">            url: '/addLink',</div><div class=\"line\">            templateUrl: './src/tpls/links/addLink.html',</div><div class=\"line\">            controller: 'LinkAddController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.editLink', &#123;//编辑友情链接</div><div class=\"line\">            url: '/editLink',</div><div class=\"line\">            templateUrl: './src/tpls/links/editLink.html',</div><div class=\"line\">            controller: 'LinkEditController'</div><div class=\"line\">        &#125;)</div><div class=\"line\">        /* ===========================================================系统===========================================================================*/</div><div class=\"line\">        .<span class=\"keyword\">state</span>('main.systemSet', &#123;//系统设置</div><div class=\"line\">            url: '/systemSet',</div><div class=\"line\">            templateUrl: './src/tpls/systemSet/systemSet.html'</div><div class=\"line\">        &#125;)</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h3 id=\"四、-github\"><a href=\"#四、-github\" class=\"headerlink\" title=\"四、 github\"></a>四、 github</h3><p>附上我github的地址<br>   <a href=\"https://github.com/syoubaku\">https://github.com/syoubaku</a></p>"},{"author":"小莫","date":"2016-05-09T16:00:00.000Z","title":"angularjs的验证系统","_content":"使用angularjs的验证系统来做前端验证需要注意的一些地方\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、 效果图\n ![angularjs验证效果图](https://image.xiaomo.info/angular/validate.gif)\n### 二、 要点\n#### 1：form\n给form起一个名字,并禁掉原生的验证\n#### 2. 显示时机\n\n这个div是要在内容发生变化且不合法才会显示\n\n\n```\n   <div class=\"error\" ng-show=\"addBlogForm.title.$dirty && addBlogForm.title.$invalid\">\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.required\">请输入标题内容</small>\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.minlength\">标题内容最少长度为3</small>\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.maxlength\">标题最大长度为64</small>\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.unique\">\n                        这个标题己经被用过了，请换一个标题吧\n                    </small>\n     </div>\n```\n\n#### 3. 格式\n格式为fromName.inputName.$error.xxx   例子如上\n\n#### 4. 判断\n将提交按钮是否可用交给ng来判断:合法的时候才可用\n\n>代码示例\n\n```\n <button ng-click=\"addBlog()\" class=\"btn btn-info\" ng-disabled=\"addBlogForm.$invalid\">添加博客\n```\n### 三、插件\n 以上介绍的是angularjs的原生的验证，下面是一些关于验证的扩展插件\n\n|所属|名字|\n| :-----: |:-----:|\n|angular-ui|ng-messages|\n|第三方扩展| w5cValidator|\n|jquery-validate|JQ的插件|\n\n### 四、 github\n附上我github的地址\n   [https://github.com/syoubaku](https://github.com/syoubaku)\n","source":"_posts/2016-04-23.angularjs_validate.md","raw":"---\nauthor: 小莫\ndate: 2016-05-10\ntitle: angularjs的验证系统\ntags:\n- angular\n- javascript\ncategory: angularjs表单验证\npermalink: AngularValidate\n---\n使用angularjs的验证系统来做前端验证需要注意的一些地方\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、 效果图\n ![angularjs验证效果图](https://image.xiaomo.info/angular/validate.gif)\n### 二、 要点\n#### 1：form\n给form起一个名字,并禁掉原生的验证\n#### 2. 显示时机\n\n这个div是要在内容发生变化且不合法才会显示\n\n\n```\n   <div class=\"error\" ng-show=\"addBlogForm.title.$dirty && addBlogForm.title.$invalid\">\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.required\">请输入标题内容</small>\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.minlength\">标题内容最少长度为3</small>\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.maxlength\">标题最大长度为64</small>\n                    <small class=\"error\" ng-show=\"addBlogForm.title.$error.unique\">\n                        这个标题己经被用过了，请换一个标题吧\n                    </small>\n     </div>\n```\n\n#### 3. 格式\n格式为fromName.inputName.$error.xxx   例子如上\n\n#### 4. 判断\n将提交按钮是否可用交给ng来判断:合法的时候才可用\n\n>代码示例\n\n```\n <button ng-click=\"addBlog()\" class=\"btn btn-info\" ng-disabled=\"addBlogForm.$invalid\">添加博客\n```\n### 三、插件\n 以上介绍的是angularjs的原生的验证，下面是一些关于验证的扩展插件\n\n|所属|名字|\n| :-----: |:-----:|\n|angular-ui|ng-messages|\n|第三方扩展| w5cValidator|\n|jquery-validate|JQ的插件|\n\n### 四、 github\n附上我github的地址\n   [https://github.com/syoubaku](https://github.com/syoubaku)\n","slug":"AngularValidate","published":1,"updated":"2016-12-01T07:52:39.652Z","_id":"civ0ggq5h0003rwvnr4iky3qr","comments":1,"layout":"post","photos":[],"link":"","content":"<p>使用angularjs的验证系统来做前端验证需要注意的一些地方<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-效果图\"><a href=\"#一、-效果图\" class=\"headerlink\" title=\"一、 效果图\"></a>一、 效果图</h3><p> <img src=\"https://image.xiaomo.info/angular/validate.gif\" alt=\"angularjs验证效果图\"></p>\n<h3 id=\"二、-要点\"><a href=\"#二、-要点\" class=\"headerlink\" title=\"二、 要点\"></a>二、 要点</h3><h4 id=\"1：form\"><a href=\"#1：form\" class=\"headerlink\" title=\"1：form\"></a>1：form</h4><p>给form起一个名字,并禁掉原生的验证</p>\n<h4 id=\"2-显示时机\"><a href=\"#2-显示时机\" class=\"headerlink\" title=\"2. 显示时机\"></a>2. 显示时机</h4><p>这个div是要在内容发生变化且不合法才会显示</p>\n<figure class=\"highlight ceylon\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;div <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$dirty &amp;&amp; addBlogForm.title.$invalid\"</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.required\"</span>&gt;请输入标题内容&lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.minlength\"</span>&gt;标题内容最少长度为<span class=\"number\">3</span>&lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.maxlength\"</span>&gt;标题最大长度为<span class=\"number\">64</span>&lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.unique\"</span>&gt;</div><div class=\"line\">                     这个标题己经被用过了，请换一个标题吧</div><div class=\"line\">                 &lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">  &lt;/div&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"3-格式\"><a href=\"#3-格式\" class=\"headerlink\" title=\"3. 格式\"></a>3. 格式</h4><p>格式为fromName.inputName.$error.xxx   例子如上</p>\n<h4 id=\"4-判断\"><a href=\"#4-判断\" class=\"headerlink\" title=\"4. 判断\"></a>4. 判断</h4><p>将提交按钮是否可用交给ng来判断:合法的时候才可用</p>\n<blockquote>\n<p>代码示例</p>\n</blockquote>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button ng-<span class=\"built_in\">click</span>=<span class=\"string\">\"addBlog()\"</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"btn btn-info\"</span> ng-disabled=<span class=\"string\">\"addBlogForm.$invalid\"</span>&gt;添加博客</div></pre></td></tr></table></figure>\n<h3 id=\"三、插件\"><a href=\"#三、插件\" class=\"headerlink\" title=\"三、插件\"></a>三、插件</h3><p> 以上介绍的是angularjs的原生的验证，下面是一些关于验证的扩展插件</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">所属</th>\n<th style=\"text-align:center\">名字</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">angular-ui</td>\n<td style=\"text-align:center\">ng-messages</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">第三方扩展</td>\n<td style=\"text-align:center\">w5cValidator</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">jquery-validate</td>\n<td style=\"text-align:center\">JQ的插件</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"四、-github\"><a href=\"#四、-github\" class=\"headerlink\" title=\"四、 github\"></a>四、 github</h3><p>附上我github的地址<br>   <a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku</a></p>\n","excerpt":"<p>使用angularjs的验证系统来做前端验证需要注意的一些地方<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-效果图\"><a href=\"#一、-效果图\" class=\"headerlink\" title=\"一、 效果图\"></a>一、 效果图</h3><p> <img src=\"https://image.xiaomo.info/angular/validate.gif\" alt=\"angularjs验证效果图\"></p>\n<h3 id=\"二、-要点\"><a href=\"#二、-要点\" class=\"headerlink\" title=\"二、 要点\"></a>二、 要点</h3><h4 id=\"1：form\"><a href=\"#1：form\" class=\"headerlink\" title=\"1：form\"></a>1：form</h4><p>给form起一个名字,并禁掉原生的验证</p>\n<h4 id=\"2-显示时机\"><a href=\"#2-显示时机\" class=\"headerlink\" title=\"2. 显示时机\"></a>2. 显示时机</h4><p>这个div是要在内容发生变化且不合法才会显示</p>\n<figure class=\"highlight ceylon\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;div <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$dirty &amp;&amp; addBlogForm.title.$invalid\"</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.required\"</span>&gt;请输入标题内容&lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.minlength\"</span>&gt;标题内容最少长度为<span class=\"number\">3</span>&lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.maxlength\"</span>&gt;标题最大长度为<span class=\"number\">64</span>&lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">                 &lt;<span class=\"keyword\">small</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"error\"</span> ng-show=<span class=\"string\">\"addBlogForm.title.$error.unique\"</span>&gt;</div><div class=\"line\">                     这个标题己经被用过了，请换一个标题吧</div><div class=\"line\">                 &lt;/<span class=\"keyword\">small</span>&gt;</div><div class=\"line\">  &lt;/div&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"3-格式\"><a href=\"#3-格式\" class=\"headerlink\" title=\"3. 格式\"></a>3. 格式</h4><p>格式为fromName.inputName.$error.xxx   例子如上</p>\n<h4 id=\"4-判断\"><a href=\"#4-判断\" class=\"headerlink\" title=\"4. 判断\"></a>4. 判断</h4><p>将提交按钮是否可用交给ng来判断:合法的时候才可用</p>\n<blockquote>\n<p>代码示例</p>\n</blockquote>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button ng-<span class=\"built_in\">click</span>=<span class=\"string\">\"addBlog()\"</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"btn btn-info\"</span> ng-disabled=<span class=\"string\">\"addBlogForm.$invalid\"</span>&gt;添加博客</div></pre></td></tr></table></figure>\n<h3 id=\"三、插件\"><a href=\"#三、插件\" class=\"headerlink\" title=\"三、插件\"></a>三、插件</h3><p> 以上介绍的是angularjs的原生的验证，下面是一些关于验证的扩展插件</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">所属</th>\n<th style=\"text-align:center\">名字</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">angular-ui</td>\n<td style=\"text-align:center\">ng-messages</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">第三方扩展</td>\n<td style=\"text-align:center\">w5cValidator</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">jquery-validate</td>\n<td style=\"text-align:center\">JQ的插件</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"四、-github\"><a href=\"#四、-github\" class=\"headerlink\" title=\"四、 github\"></a>四、 github</h3><p>附上我github的地址<br>   <a href=\"https://github.com/syoubaku\">https://github.com/syoubaku</a></p>"},{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"使用angularjs的$http异步删除数据","_content":"因为我在使用angularjs做异步删除数据的时候遇到了一些问题，所以把这些问题记录下面供大家参考，也加深自己的印象。\n\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、前言\n有人会说删除这东西有什么可讲的，写个删除的service，controller调用一下不就完了。\n嗯...看起来是这样，但是具体实现起来真的有这么简单吗？首先有以下几个坑\n* 怎么确定数据是否删除成功？\n* 怎么同步视图的数据库的内容？\n\n### 二、 思路\n#### 1.实现方式一\n删除数据库中对应的内容,然后将$scope中的对应的内容splice\n#### 2.实现方式二\n删除数据库中对应的内容，然后再reload一下数据(也就是再调用一次查询方法，这种消耗可想而知，并且还要保证先删除数据再查询)\n\n### 三、 具体实现方式\n>删除数据的service：用异步，返回promise\n```\nservice('deleteBlogService',//删除博客\n        ['$rootScope',\n            '$http',\n            '$q',\n            function ($rootScope, $http, $q) {\n                var result = {};\n                result.operate = function (blogId) {\n                    var deferred = $q.defer();\n                    $http({\n                        headers: {\n                            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                        },\n                        url: $rootScope.$baseUrl + \"/admin/blog/deleteBlogById\",\n                        method: 'GET',\n                        dataType: 'json',\n                        params: {\n                            id: blogId\n                        }\n                    })\n                        .success(function (data) {\n                            deferred.resolve(data);\n                            console.log(\"删除成功！\");\n                        })\n                        .error(function () {\n                            deferred.reject();\n                            alert(\"删除失败！\")\n                        });\n                    return deferred.promise;\n                };\n                return result;\n            }])\n```\ncontroller里面注意事项\n>要特别注意执行顺序：确保己经删除完成之后再去reload数据，不然会出来视图不更新\n\n```\n                /**\n                 * 删除博客\n                 */\n                $scope.deleteBlog = function (blogId) {\n                    var deletePromise = deleteBlogService.operate(blogId);\n                    deletePromise.then(function (data) {\n                        if (data.status == 200) {\n                            var promise = getBlogListService.operate($scope.currentPage);\n                            promise.then(function (data) {\n                                $scope.blogs = data.blogs;\n                                $scope.pageCount = $scope.blogs.totalPages;\n                            });\n                        }\n                    });\n                };\n```\n","source":"_posts/2016-04-27.angularjs_$http_anysc.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: 使用angularjs的$http异步删除数据\ntags:\n- angular\n- javascript\ncategory: angularjs增删改查\npermalink: AngularHttp\n---\n因为我在使用angularjs做异步删除数据的时候遇到了一些问题，所以把这些问题记录下面供大家参考，也加深自己的印象。\n\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、前言\n有人会说删除这东西有什么可讲的，写个删除的service，controller调用一下不就完了。\n嗯...看起来是这样，但是具体实现起来真的有这么简单吗？首先有以下几个坑\n* 怎么确定数据是否删除成功？\n* 怎么同步视图的数据库的内容？\n\n### 二、 思路\n#### 1.实现方式一\n删除数据库中对应的内容,然后将$scope中的对应的内容splice\n#### 2.实现方式二\n删除数据库中对应的内容，然后再reload一下数据(也就是再调用一次查询方法，这种消耗可想而知，并且还要保证先删除数据再查询)\n\n### 三、 具体实现方式\n>删除数据的service：用异步，返回promise\n```\nservice('deleteBlogService',//删除博客\n        ['$rootScope',\n            '$http',\n            '$q',\n            function ($rootScope, $http, $q) {\n                var result = {};\n                result.operate = function (blogId) {\n                    var deferred = $q.defer();\n                    $http({\n                        headers: {\n                            'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'\n                        },\n                        url: $rootScope.$baseUrl + \"/admin/blog/deleteBlogById\",\n                        method: 'GET',\n                        dataType: 'json',\n                        params: {\n                            id: blogId\n                        }\n                    })\n                        .success(function (data) {\n                            deferred.resolve(data);\n                            console.log(\"删除成功！\");\n                        })\n                        .error(function () {\n                            deferred.reject();\n                            alert(\"删除失败！\")\n                        });\n                    return deferred.promise;\n                };\n                return result;\n            }])\n```\ncontroller里面注意事项\n>要特别注意执行顺序：确保己经删除完成之后再去reload数据，不然会出来视图不更新\n\n```\n                /**\n                 * 删除博客\n                 */\n                $scope.deleteBlog = function (blogId) {\n                    var deletePromise = deleteBlogService.operate(blogId);\n                    deletePromise.then(function (data) {\n                        if (data.status == 200) {\n                            var promise = getBlogListService.operate($scope.currentPage);\n                            promise.then(function (data) {\n                                $scope.blogs = data.blogs;\n                                $scope.pageCount = $scope.blogs.totalPages;\n                            });\n                        }\n                    });\n                };\n```\n","slug":"AngularHttp","published":1,"updated":"2016-12-01T06:50:30.467Z","_id":"civ0ggq5o0007rwvnhuvr1u2f","comments":1,"layout":"post","photos":[],"link":"","content":"<p>因为我在使用angularjs做异步删除数据的时候遇到了一些问题，所以把这些问题记录下面供大家参考，也加深自己的印象。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>有人会说删除这东西有什么可讲的，写个删除的service，controller调用一下不就完了。<br>嗯…看起来是这样，但是具体实现起来真的有这么简单吗？首先有以下几个坑</p>\n<ul>\n<li>怎么确定数据是否删除成功？</li>\n<li>怎么同步视图的数据库的内容？</li>\n</ul>\n<h3 id=\"二、-思路\"><a href=\"#二、-思路\" class=\"headerlink\" title=\"二、 思路\"></a>二、 思路</h3><h4 id=\"1-实现方式一\"><a href=\"#1-实现方式一\" class=\"headerlink\" title=\"1.实现方式一\"></a>1.实现方式一</h4><p>删除数据库中对应的内容,然后将$scope中的对应的内容splice</p>\n<h4 id=\"2-实现方式二\"><a href=\"#2-实现方式二\" class=\"headerlink\" title=\"2.实现方式二\"></a>2.实现方式二</h4><p>删除数据库中对应的内容，然后再reload一下数据(也就是再调用一次查询方法，这种消耗可想而知，并且还要保证先删除数据再查询)</p>\n<h3 id=\"三、-具体实现方式\"><a href=\"#三、-具体实现方式\" class=\"headerlink\" title=\"三、 具体实现方式\"></a>三、 具体实现方式</h3><blockquote>\n<p>删除数据的service：用异步，返回promise<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">service(<span class=\"string\">'deleteBlogService'</span>,<span class=\"comment\">//删除博客</span></div><div class=\"line\">        [<span class=\"string\">'$rootScope'</span>,</div><div class=\"line\">            <span class=\"string\">'$http'</span>,</div><div class=\"line\">            <span class=\"string\">'$q'</span>,</div><div class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($rootScope, $http, $q)</span> </span>&#123;</div><div class=\"line\">                <span class=\"keyword\">var</span> result = &#123;&#125;;</div><div class=\"line\">                result.operate = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(blogId)</span> </span>&#123;</div><div class=\"line\">                    <span class=\"keyword\">var</span> deferred = $q.defer();</div><div class=\"line\">                    $http(&#123;</div><div class=\"line\">                        headers: &#123;</div><div class=\"line\">                            <span class=\"string\">'Content-Type'</span>: <span class=\"string\">'application/x-www-form-urlencoded;charset=UTF-8'</span></div><div class=\"line\">                        &#125;,</div><div class=\"line\">                        url: $rootScope.$baseUrl + <span class=\"string\">\"/admin/blog/deleteBlogById\"</span>,</div><div class=\"line\">                        method: <span class=\"string\">'GET'</span>,</div><div class=\"line\">                        dataType: <span class=\"string\">'json'</span>,</div><div class=\"line\">                        params: &#123;</div><div class=\"line\">                            id: blogId</div><div class=\"line\">                        &#125;</div><div class=\"line\">                    &#125;)</div><div class=\"line\">                        .success(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(data)</span> </span>&#123;</div><div class=\"line\">                            deferred.resolve(data);</div><div class=\"line\">                            console.log(<span class=\"string\">\"删除成功！\"</span>);</div><div class=\"line\">                        &#125;)</div><div class=\"line\">                        .error(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">                            deferred.reject();</div><div class=\"line\">                            alert(<span class=\"string\">\"删除失败！\"</span>)</div><div class=\"line\">                        &#125;);</div><div class=\"line\">                    <span class=\"keyword\">return</span> deferred.promise;</div><div class=\"line\">                &#125;;</div><div class=\"line\">                <span class=\"keyword\">return</span> result;</div><div class=\"line\">            &#125;])</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p>controller里面注意事项</p>\n<blockquote>\n<p>要特别注意执行顺序：确保己经删除完成之后再去reload数据，不然会出来视图不更新</p>\n</blockquote>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * 删除博客</div><div class=\"line\"> */</div><div class=\"line\">$scope.deleteBlog = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(blogId)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> deletePromise = deleteBlogService.operate(blogId);</div><div class=\"line\">    deletePromise.then(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(data)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (data.status == <span class=\"number\">200</span>) &#123;</div><div class=\"line\">            <span class=\"keyword\">var</span> promise = getBlogListService.operate($scope.currentPage);</div><div class=\"line\">            promise.then(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(data)</span> </span>&#123;</div><div class=\"line\">                $scope.blogs = data.blogs;</div><div class=\"line\">                $scope.pageCount = $scope.blogs.totalPages;</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n","excerpt":"<p>因为我在使用angularjs做异步删除数据的时候遇到了一些问题，所以把这些问题记录下面供大家参考，也加深自己的印象。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>有人会说删除这东西有什么可讲的，写个删除的service，controller调用一下不就完了。<br>嗯…看起来是这样，但是具体实现起来真的有这么简单吗？首先有以下几个坑</p>\n<ul>\n<li>怎么确定数据是否删除成功？</li>\n<li>怎么同步视图的数据库的内容？</li>\n</ul>\n<h3 id=\"二、-思路\"><a href=\"#二、-思路\" class=\"headerlink\" title=\"二、 思路\"></a>二、 思路</h3><h4 id=\"1-实现方式一\"><a href=\"#1-实现方式一\" class=\"headerlink\" title=\"1.实现方式一\"></a>1.实现方式一</h4><p>删除数据库中对应的内容,然后将$scope中的对应的内容splice</p>\n<h4 id=\"2-实现方式二\"><a href=\"#2-实现方式二\" class=\"headerlink\" title=\"2.实现方式二\"></a>2.实现方式二</h4><p>删除数据库中对应的内容，然后再reload一下数据(也就是再调用一次查询方法，这种消耗可想而知，并且还要保证先删除数据再查询)</p>\n<h3 id=\"三、-具体实现方式\"><a href=\"#三、-具体实现方式\" class=\"headerlink\" title=\"三、 具体实现方式\"></a>三、 具体实现方式</h3><blockquote>\n<p>删除数据的service：用异步，返回promise<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">service(<span class=\"string\">'deleteBlogService'</span>,<span class=\"comment\">//删除博客</span></div><div class=\"line\">        [<span class=\"string\">'$rootScope'</span>,</div><div class=\"line\">            <span class=\"string\">'$http'</span>,</div><div class=\"line\">            <span class=\"string\">'$q'</span>,</div><div class=\"line\">            <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($rootScope, $http, $q)</span> </span>&#123;</div><div class=\"line\">                <span class=\"keyword\">var</span> result = &#123;&#125;;</div><div class=\"line\">                result.operate = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(blogId)</span> </span>&#123;</div><div class=\"line\">                    <span class=\"keyword\">var</span> deferred = $q.defer();</div><div class=\"line\">                    $http(&#123;</div><div class=\"line\">                        headers: &#123;</div><div class=\"line\">                            <span class=\"string\">'Content-Type'</span>: <span class=\"string\">'application/x-www-form-urlencoded;charset=UTF-8'</span></div><div class=\"line\">                        &#125;,</div><div class=\"line\">                        url: $rootScope.$baseUrl + <span class=\"string\">\"/admin/blog/deleteBlogById\"</span>,</div><div class=\"line\">                        method: <span class=\"string\">'GET'</span>,</div><div class=\"line\">                        dataType: <span class=\"string\">'json'</span>,</div><div class=\"line\">                        params: &#123;</div><div class=\"line\">                            id: blogId</div><div class=\"line\">                        &#125;</div><div class=\"line\">                    &#125;)</div><div class=\"line\">                        .success(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(data)</span> </span>&#123;</div><div class=\"line\">                            deferred.resolve(data);</div><div class=\"line\">                            console.log(<span class=\"string\">\"删除成功！\"</span>);</div><div class=\"line\">                        &#125;)</div><div class=\"line\">                        .error(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">                            deferred.reject();</div><div class=\"line\">                            alert(<span class=\"string\">\"删除失败！\"</span>)</div><div class=\"line\">                        &#125;);</div><div class=\"line\">                    <span class=\"keyword\">return</span> deferred.promise;</div><div class=\"line\">                &#125;;</div><div class=\"line\">                <span class=\"keyword\">return</span> result;</div><div class=\"line\">            &#125;])</div></pre></td></tr></table></figure></p>\n</blockquote>\n<p>controller里面注意事项</p>\n<blockquote>\n<p>要特别注意执行顺序：确保己经删除完成之后再去reload数据，不然会出来视图不更新</p>\n</blockquote>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * 删除博客</div><div class=\"line\"> */</span></div><div class=\"line\">$scope.deleteBlog = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(blogId)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> deletePromise = deleteBlogService.operate(blogId);</div><div class=\"line\">    deletePromise.then(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(data)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (data.status == <span class=\"number\">200</span>) &#123;</div><div class=\"line\">            <span class=\"keyword\">var</span> promise = getBlogListService.operate($scope.currentPage);</div><div class=\"line\">            promise.then(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(data)</span> </span>&#123;</div><div class=\"line\">                $scope.blogs = data.blogs;</div><div class=\"line\">                $scope.pageCount = $scope.blogs.totalPages;</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"表单添加之ng-options","_content":"我们在使用select>option的时候经常会遇到一些问题，这里是对ng-options使用的一些总结。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、前言\n这个ng-options感觉略坑啊，跟原生的select、option不太一样\n\n### 二、 要解决的几个问题\n#### 1. select下拉框的默认值\n#### 2. 通过选择不同的值传给后台\n#### 3. ng-options的值要设置在$scope中\n\n### 三、 代码实例\n#### 1.html中的展示\n\n\n```\n<div class=\"form-group\">\n    <label class=\"col-md-2 control-label\">\n        权限：\n    </label>\n    <div class=\"col-md-10\">\n        <select title=\"权限\" ng-model=\"adminUser.authLevel\"\n                ng-options=\"authLevel.name for authLevel in adminUser.authLevels\">\n            <option value=\"\">-- 请选择 --</option>\n        </select>\n        {{adminUser.authLevel}}\n    </div>\n</div>\n```\n\n>代码解释：ng-options类似于ng-repeat,把$scope中的内容循环展示出来,设置一个ng-model\n\n#### 2. controller\n controller中设置ng-options的默认值\n\n```\n $scope.adminUser = {};\n $scope.adminUser.authLevels = [{'id': 1, 'name': '超级管理员'}, {'id': 2, 'name': '普通管理员'}];\n```\n\n>controller中接收设置的ng-model,就可以解决html和controller之间的通讯了\n\n### 三、参考文档\n\n参考自 ：[runjs源码](http://runjs.cn/code/nhi8ubrb)\n","source":"_posts/2016-04-28.from_ng-options.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: 表单添加之ng-options\ntags:\n- angular\n- javascript\ncategory: ng-options\npermalink: ngOptions\n---\n我们在使用select>option的时候经常会遇到一些问题，这里是对ng-options使用的一些总结。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、前言\n这个ng-options感觉略坑啊，跟原生的select、option不太一样\n\n### 二、 要解决的几个问题\n#### 1. select下拉框的默认值\n#### 2. 通过选择不同的值传给后台\n#### 3. ng-options的值要设置在$scope中\n\n### 三、 代码实例\n#### 1.html中的展示\n\n\n```\n<div class=\"form-group\">\n    <label class=\"col-md-2 control-label\">\n        权限：\n    </label>\n    <div class=\"col-md-10\">\n        <select title=\"权限\" ng-model=\"adminUser.authLevel\"\n                ng-options=\"authLevel.name for authLevel in adminUser.authLevels\">\n            <option value=\"\">-- 请选择 --</option>\n        </select>\n        {{adminUser.authLevel}}\n    </div>\n</div>\n```\n\n>代码解释：ng-options类似于ng-repeat,把$scope中的内容循环展示出来,设置一个ng-model\n\n#### 2. controller\n controller中设置ng-options的默认值\n\n```\n $scope.adminUser = {};\n $scope.adminUser.authLevels = [{'id': 1, 'name': '超级管理员'}, {'id': 2, 'name': '普通管理员'}];\n```\n\n>controller中接收设置的ng-model,就可以解决html和controller之间的通讯了\n\n### 三、参考文档\n\n参考自 ：[runjs源码](http://runjs.cn/code/nhi8ubrb)\n","slug":"ngOptions","published":1,"updated":"2016-12-01T06:50:31.087Z","_id":"civ0ggq5r0009rwvn8f31xj1i","comments":1,"layout":"post","photos":[],"link":"","content":"<p>我们在使用select&gt;option的时候经常会遇到一些问题，这里是对ng-options使用的一些总结。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>这个ng-options感觉略坑啊，跟原生的select、option不太一样</p>\n<h3 id=\"二、-要解决的几个问题\"><a href=\"#二、-要解决的几个问题\" class=\"headerlink\" title=\"二、 要解决的几个问题\"></a>二、 要解决的几个问题</h3><h4 id=\"1-select下拉框的默认值\"><a href=\"#1-select下拉框的默认值\" class=\"headerlink\" title=\"1. select下拉框的默认值\"></a>1. select下拉框的默认值</h4><h4 id=\"2-通过选择不同的值传给后台\"><a href=\"#2-通过选择不同的值传给后台\" class=\"headerlink\" title=\"2. 通过选择不同的值传给后台\"></a>2. 通过选择不同的值传给后台</h4><h4 id=\"3-ng-options的值要设置在-scope中\"><a href=\"#3-ng-options的值要设置在-scope中\" class=\"headerlink\" title=\"3. ng-options的值要设置在$scope中\"></a>3. ng-options的值要设置在$scope中</h4><h3 id=\"三、-代码实例\"><a href=\"#三、-代码实例\" class=\"headerlink\" title=\"三、 代码实例\"></a>三、 代码实例</h3><h4 id=\"1-html中的展示\"><a href=\"#1-html中的展示\" class=\"headerlink\" title=\"1.html中的展示\"></a>1.html中的展示</h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"form-group\"</span>&gt;</span></span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">class</span>=<span class=\"string\">\"col-md-2 control-label\"</span>&gt;</span></div><div class=\"line\">        权限：</div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"col-md-10\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">title</span>=<span class=\"string\">\"权限\"</span> <span class=\"attr\">ng-model</span>=<span class=\"string\">\"adminUser.authLevel\"</span></span></div><div class=\"line\">                <span class=\"attr\">ng-options</span>=<span class=\"string\">\"authLevel.name for authLevel in adminUser.authLevels\"</span>&gt;</div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">\"\"</span>&gt;</span>-- 请选择 --<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></div><div class=\"line\">        <span class=\"template-variable\">&#123;&#123;adminUser.authLevel&#125;&#125;</span><span class=\"xml\"></span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<blockquote>\n<p>代码解释：ng-options类似于ng-repeat,把$scope中的内容循环展示出来,设置一个ng-model</p>\n</blockquote>\n<h4 id=\"2-controller\"><a href=\"#2-controller\" class=\"headerlink\" title=\"2. controller\"></a>2. controller</h4><p> controller中设置ng-options的默认值</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$scope.adminUser = &#123;&#125;;</div><div class=\"line\">$scope.adminUser.authLevels = [&#123;<span class=\"string\">'id'</span>: <span class=\"number\">1</span>, <span class=\"string\">'name'</span>: <span class=\"string\">'超级管理员'</span>&#125;, &#123;<span class=\"string\">'id'</span>: <span class=\"number\">2</span>, <span class=\"string\">'name'</span>: <span class=\"string\">'普通管理员'</span>&#125;];</div></pre></td></tr></table></figure>\n<blockquote>\n<p>controller中接收设置的ng-model,就可以解决html和controller之间的通讯了</p>\n</blockquote>\n<h3 id=\"三、参考文档\"><a href=\"#三、参考文档\" class=\"headerlink\" title=\"三、参考文档\"></a>三、参考文档</h3><p>参考自 ：<a href=\"http://runjs.cn/code/nhi8ubrb\" target=\"_blank\" rel=\"external\">runjs源码</a></p>\n","excerpt":"<p>我们在使用select&gt;option的时候经常会遇到一些问题，这里是对ng-options使用的一些总结。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、前言\"><a href=\"#一、前言\" class=\"headerlink\" title=\"一、前言\"></a>一、前言</h3><p>这个ng-options感觉略坑啊，跟原生的select、option不太一样</p>\n<h3 id=\"二、-要解决的几个问题\"><a href=\"#二、-要解决的几个问题\" class=\"headerlink\" title=\"二、 要解决的几个问题\"></a>二、 要解决的几个问题</h3><h4 id=\"1-select下拉框的默认值\"><a href=\"#1-select下拉框的默认值\" class=\"headerlink\" title=\"1. select下拉框的默认值\"></a>1. select下拉框的默认值</h4><h4 id=\"2-通过选择不同的值传给后台\"><a href=\"#2-通过选择不同的值传给后台\" class=\"headerlink\" title=\"2. 通过选择不同的值传给后台\"></a>2. 通过选择不同的值传给后台</h4><h4 id=\"3-ng-options的值要设置在-scope中\"><a href=\"#3-ng-options的值要设置在-scope中\" class=\"headerlink\" title=\"3. ng-options的值要设置在$scope中\"></a>3. ng-options的值要设置在$scope中</h4><h3 id=\"三、-代码实例\"><a href=\"#三、-代码实例\" class=\"headerlink\" title=\"三、 代码实例\"></a>三、 代码实例</h3><h4 id=\"1-html中的展示\"><a href=\"#1-html中的展示\" class=\"headerlink\" title=\"1.html中的展示\"></a>1.html中的展示</h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"form-group\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">class</span>=<span class=\"string\">\"col-md-2 control-label\"</span>&gt;</span></div><div class=\"line\">        权限：</div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"col-md-10\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">title</span>=<span class=\"string\">\"权限\"</span> <span class=\"attr\">ng-model</span>=<span class=\"string\">\"adminUser.authLevel\"</span></div><div class=\"line\">                <span class=\"attr\">ng-options</span>=<span class=\"string\">\"authLevel.name for authLevel in adminUser.authLevels\"</span>&gt;</span></div><div class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">option</span> <span class=\"attr\">value</span>=<span class=\"string\">\"\"</span>&gt;</span>-- 请选择 --<span class=\"tag\">&lt;/<span class=\"name\">option</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></div><div class=\"line\">        </span><span class=\"template-variable\">&#123;&#123;adminUser.authLevel&#125;&#125;</span><span class=\"xml\"></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<blockquote>\n<p>代码解释：ng-options类似于ng-repeat,把$scope中的内容循环展示出来,设置一个ng-model</p>\n</blockquote>\n<h4 id=\"2-controller\"><a href=\"#2-controller\" class=\"headerlink\" title=\"2. controller\"></a>2. controller</h4><p> controller中设置ng-options的默认值</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">$scope.adminUser = &#123;&#125;;</div><div class=\"line\">$scope.adminUser.authLevels = [&#123;<span class=\"string\">'id'</span>: <span class=\"number\">1</span>, <span class=\"string\">'name'</span>: <span class=\"string\">'超级管理员'</span>&#125;, &#123;<span class=\"string\">'id'</span>: <span class=\"number\">2</span>, <span class=\"string\">'name'</span>: <span class=\"string\">'普通管理员'</span>&#125;];</div></pre></td></tr></table></figure>\n<blockquote>\n<p>controller中接收设置的ng-model,就可以解决html和controller之间的通讯了</p>\n</blockquote>\n<h3 id=\"三、参考文档\"><a href=\"#三、参考文档\" class=\"headerlink\" title=\"三、参考文档\"></a>三、参考文档</h3><p>参考自 ：<a href=\"http://runjs.cn/code/nhi8ubrb\">runjs源码</a></p>"},{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"angularjs键盘事件","_content":"\n 使用angularjs的键盘事件来增强用户体验。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、绑定键盘事件\n（尤其注意：不能用a标签，不然会失效）\n>推荐button\n#### 方法一：ng内置指令\n```\n<button ng-click=\"login()\" ng-keypress=\"todoSomething($event)\" class=\"btn btn-success btn-lg\" ng-disabled=\"loginForm.$invalid\">\n    登录\n</button>\n```\n>说明：在对应的控制器中的$scope上绑定一个todoSomething方法\n```\n    $scope.todoSomething=function($event){\n        if($event.keyCode==13){//回车\n            login();\n        }\n    }\n```\n#### 方法二：自定义指令\n> html\n```\n<button ng-click=\"login()\" ng-enter=\"login()\" class=\"btn btn-success btn-lg\" ng-disabled=\"loginForm.$invalid\">\n    登录\n</button>\n```\n>指令\n```\nmyApp.directive('ngEnter', function () {\n        return function (scope, element, attrs) {\n            element.bind(\"keydown keypress\", function (event) {\n                if (event.which === 13) {\n                    scope.$apply(function () {\n                        scope.$eval(attrs.ngEnter);\n                    });\n                    event.preventDefault();\n                }\n            });\n        };\n    });\n```\n### 二、总结\n\n两种方法都能实现敲回车登录的功能，不过推荐指令的方式，对$scope的污染比较低\n\n>参考文档：[angularjs学习笔记—事件指令](https://segmentfault.com/a/1190000002634554#articleHeader8)\n","source":"_posts/2016-05-03.angularjs_keyboard_event.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: angularjs键盘事件\ntags:\n- angular\n- javascript\ncategory: angularjs键盘事件\npermalink: AngularKeyboardEvent\n---\n\n 使用angularjs的键盘事件来增强用户体验。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、绑定键盘事件\n（尤其注意：不能用a标签，不然会失效）\n>推荐button\n#### 方法一：ng内置指令\n```\n<button ng-click=\"login()\" ng-keypress=\"todoSomething($event)\" class=\"btn btn-success btn-lg\" ng-disabled=\"loginForm.$invalid\">\n    登录\n</button>\n```\n>说明：在对应的控制器中的$scope上绑定一个todoSomething方法\n```\n    $scope.todoSomething=function($event){\n        if($event.keyCode==13){//回车\n            login();\n        }\n    }\n```\n#### 方法二：自定义指令\n> html\n```\n<button ng-click=\"login()\" ng-enter=\"login()\" class=\"btn btn-success btn-lg\" ng-disabled=\"loginForm.$invalid\">\n    登录\n</button>\n```\n>指令\n```\nmyApp.directive('ngEnter', function () {\n        return function (scope, element, attrs) {\n            element.bind(\"keydown keypress\", function (event) {\n                if (event.which === 13) {\n                    scope.$apply(function () {\n                        scope.$eval(attrs.ngEnter);\n                    });\n                    event.preventDefault();\n                }\n            });\n        };\n    });\n```\n### 二、总结\n\n两种方法都能实现敲回车登录的功能，不过推荐指令的方式，对$scope的污染比较低\n\n>参考文档：[angularjs学习笔记—事件指令](https://segmentfault.com/a/1190000002634554#articleHeader8)\n","slug":"AngularKeyboardEvent","published":1,"updated":"2016-12-01T06:50:28.250Z","_id":"civ0ggq5w000brwvnw1kht6nt","comments":1,"layout":"post","photos":[],"link":"","content":"<p> 使用angularjs的键盘事件来增强用户体验。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、绑定键盘事件\"><a href=\"#一、绑定键盘事件\" class=\"headerlink\" title=\"一、绑定键盘事件\"></a>一、绑定键盘事件</h3><p>（尤其注意：不能用a标签，不然会失效）</p>\n<blockquote>\n<p>推荐button</p>\n<h4 id=\"方法一：ng内置指令\"><a href=\"#方法一：ng内置指令\" class=\"headerlink\" title=\"方法一：ng内置指令\"></a>方法一：ng内置指令</h4><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button ng-<span class=\"built_in\">click</span>=<span class=\"string\">\"login()\"</span> ng-keypress=<span class=\"string\">\"todoSomething($event)\"</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"btn btn-success btn-lg\"</span> ng-disabled=<span class=\"string\">\"loginForm.$invalid\"</span>&gt;</div><div class=\"line\">    登录</div><div class=\"line\">&lt;/button&gt;</div></pre></td></tr></table></figure>\n<p>说明：在对应的控制器中的$scope上绑定一个todoSomething方法<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$scope.todoSomething=<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">($event)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>($event.keyCode==<span class=\"number\">13</span>)&#123;<span class=\"comment\">//回车</span></div><div class=\"line\">        login();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h4 id=\"方法二：自定义指令\"><a href=\"#方法二：自定义指令\" class=\"headerlink\" title=\"方法二：自定义指令\"></a>方法二：自定义指令</h4><blockquote>\n<p>html<br><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button ng-<span class=\"built_in\">click</span>=<span class=\"string\">\"login()\"</span> ng-enter=<span class=\"string\">\"login()\"</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"btn btn-success btn-lg\"</span> ng-disabled=<span class=\"string\">\"loginForm.$invalid\"</span>&gt;</div><div class=\"line\">    登录</div><div class=\"line\">&lt;/button&gt;</div></pre></td></tr></table></figure></p>\n<p>指令<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.directive(<span class=\"string\">'ngEnter'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(scope, element, attrs)</span> </span>&#123;</div><div class=\"line\">            element.bind(<span class=\"string\">\"keydown keypress\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(event)</span> </span>&#123;</div><div class=\"line\">                <span class=\"keyword\">if</span> (event.which === <span class=\"number\">13</span>) &#123;</div><div class=\"line\">                    scope.$apply(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">                        scope.$eval(attrs.ngEnter);</div><div class=\"line\">                    &#125;);</div><div class=\"line\">                    event.preventDefault();</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"二、总结\"><a href=\"#二、总结\" class=\"headerlink\" title=\"二、总结\"></a>二、总结</h3><p>两种方法都能实现敲回车登录的功能，不过推荐指令的方式，对$scope的污染比较低</p>\n<blockquote>\n<p>参考文档：<a href=\"https://segmentfault.com/a/1190000002634554#articleHeader8\" target=\"_blank\" rel=\"external\">angularjs学习笔记—事件指令</a></p>\n</blockquote>\n","excerpt":"<p> 使用angularjs的键盘事件来增强用户体验。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、绑定键盘事件\"><a href=\"#一、绑定键盘事件\" class=\"headerlink\" title=\"一、绑定键盘事件\"></a>一、绑定键盘事件</h3><p>（尤其注意：不能用a标签，不然会失效）</p>\n<blockquote>\n<p>推荐button</p>\n<h4 id=\"方法一：ng内置指令\"><a href=\"#方法一：ng内置指令\" class=\"headerlink\" title=\"方法一：ng内置指令\"></a>方法一：ng内置指令</h4><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button ng-<span class=\"built_in\">click</span>=<span class=\"string\">\"login()\"</span> ng-keypress=<span class=\"string\">\"todoSomething($event)\"</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"btn btn-success btn-lg\"</span> ng-disabled=<span class=\"string\">\"loginForm.$invalid\"</span>&gt;</div><div class=\"line\">    登录</div><div class=\"line\">&lt;/button&gt;</div></pre></td></tr></table></figure>\n<p>说明：在对应的控制器中的$scope上绑定一个todoSomething方法<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$scope.todoSomething=<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">($event)</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>($event.keyCode==<span class=\"number\">13</span>)&#123;<span class=\"comment\">//回车</span></div><div class=\"line\">        login();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h4 id=\"方法二：自定义指令\"><a href=\"#方法二：自定义指令\" class=\"headerlink\" title=\"方法二：自定义指令\"></a>方法二：自定义指令</h4><blockquote>\n<p>html<br><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;button ng-<span class=\"built_in\">click</span>=<span class=\"string\">\"login()\"</span> ng-enter=<span class=\"string\">\"login()\"</span> <span class=\"keyword\">class</span>=<span class=\"string\">\"btn btn-success btn-lg\"</span> ng-disabled=<span class=\"string\">\"loginForm.$invalid\"</span>&gt;</div><div class=\"line\">    登录</div><div class=\"line\">&lt;/button&gt;</div></pre></td></tr></table></figure></p>\n<p>指令<br><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">myApp.directive(<span class=\"string\">'ngEnter'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(scope, element, attrs)</span> </span>&#123;</div><div class=\"line\">            element.bind(<span class=\"string\">\"keydown keypress\"</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(event)</span> </span>&#123;</div><div class=\"line\">                <span class=\"keyword\">if</span> (event.which === <span class=\"number\">13</span>) &#123;</div><div class=\"line\">                    scope.$apply(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">                        scope.$eval(attrs.ngEnter);</div><div class=\"line\">                    &#125;);</div><div class=\"line\">                    event.preventDefault();</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125;);</div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure></p>\n</blockquote>\n<h3 id=\"二、总结\"><a href=\"#二、总结\" class=\"headerlink\" title=\"二、总结\"></a>二、总结</h3><p>两种方法都能实现敲回车登录的功能，不过推荐指令的方式，对$scope的污染比较低</p>\n<blockquote>\n<p>参考文档：<a href=\"https://segmentfault.com/a/1190000002634554#articleHeader8\">angularjs学习笔记—事件指令</a></p>\n</blockquote>"},{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"angularjs复选框","_content":"使用angularjs做复选框，这也是一个常见的需求。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、代码\n\n#### 1. html\n```\n<div ng-repeat=\"tag in tags.content track by $index \">\n        <input type=\"checkbox\"\n               title=\"标签\"\n               class=\"btn \"\n               id=\"{{tag.id}}\"\n               name=\"{{tag.name}}\"\n               ng-checked=\"isSelected(tag.id)\" //动态 true false\n               ng-click=\"updateSelection($event,tag.id)\" //将id添加到Array中\n               ng-model=\"tags\">\n        {{tag.name}}\n</div>\n```\n\n#### 2. controller\n\n```\n    $scope.selected = [];\n    $scope.selectedTags = [];\n\n    //实际操作数组的方法\n    var updateSelected = function (action, id, name) {\n        if (action == 'add' && $scope.selected.indexOf(id) == -1) {\n            $scope.selected.push(id);\n            $scope.selectedTags.push(name);\n        }\n        if (action == 'remove' && $scope.selected.indexOf(id) != -1) {\n            var idx = $scope.selected.indexOf(id);\n            $scope.selected.splice(idx, 1);\n            $scope.selectedTags.splice(idx, 1);\n        }\n        console.log($scope.selected);\n    };\n\n    //根据传入的动作和要操作的id更新Array\n    $scope.updateSelection = function ($event, id) {\n        var checkbox = $event.target;\n        var action = (checkbox.checked ? 'add' : 'remove');\n        updateSelected(action, id, checkbox.name);\n    };\n\n    //返回true false\n    $scope.isSelected = function (id) {\n        return $scope.selected.indexOf(id) >= 0;\n    };\n```\n\n### 二、效果图\n\n![checkbox效果图](https://image.xiaomo.info/angular/checkbox.gif)\n\n### 三、参考文档\n> [ZH奶酪：AngularJS判断checkbox/复选框是否选中并实时显示](http://www.cnblogs.com/CheeseZH/p/4517701.html)\n\n### 四、 附上我github的地址\n   [https://github.com/syoubaku](https://github.com/syoubaku)\n","source":"_posts/2016-05-04.angularjs_checkbox.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: angularjs复选框\ntags:\n- angular\n- javascript\ncategory: ng-checkbox\npermalink: NgCheckbox\n---\n使用angularjs做复选框，这也是一个常见的需求。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、代码\n\n#### 1. html\n```\n<div ng-repeat=\"tag in tags.content track by $index \">\n        <input type=\"checkbox\"\n               title=\"标签\"\n               class=\"btn \"\n               id=\"{{tag.id}}\"\n               name=\"{{tag.name}}\"\n               ng-checked=\"isSelected(tag.id)\" //动态 true false\n               ng-click=\"updateSelection($event,tag.id)\" //将id添加到Array中\n               ng-model=\"tags\">\n        {{tag.name}}\n</div>\n```\n\n#### 2. controller\n\n```\n    $scope.selected = [];\n    $scope.selectedTags = [];\n\n    //实际操作数组的方法\n    var updateSelected = function (action, id, name) {\n        if (action == 'add' && $scope.selected.indexOf(id) == -1) {\n            $scope.selected.push(id);\n            $scope.selectedTags.push(name);\n        }\n        if (action == 'remove' && $scope.selected.indexOf(id) != -1) {\n            var idx = $scope.selected.indexOf(id);\n            $scope.selected.splice(idx, 1);\n            $scope.selectedTags.splice(idx, 1);\n        }\n        console.log($scope.selected);\n    };\n\n    //根据传入的动作和要操作的id更新Array\n    $scope.updateSelection = function ($event, id) {\n        var checkbox = $event.target;\n        var action = (checkbox.checked ? 'add' : 'remove');\n        updateSelected(action, id, checkbox.name);\n    };\n\n    //返回true false\n    $scope.isSelected = function (id) {\n        return $scope.selected.indexOf(id) >= 0;\n    };\n```\n\n### 二、效果图\n\n![checkbox效果图](https://image.xiaomo.info/angular/checkbox.gif)\n\n### 三、参考文档\n> [ZH奶酪：AngularJS判断checkbox/复选框是否选中并实时显示](http://www.cnblogs.com/CheeseZH/p/4517701.html)\n\n### 四、 附上我github的地址\n   [https://github.com/syoubaku](https://github.com/syoubaku)\n","slug":"NgCheckbox","published":1,"updated":"2016-12-01T07:53:08.302Z","_id":"civ0ggq60000drwvnn89dmayo","comments":1,"layout":"post","photos":[],"link":"","content":"<p>使用angularjs做复选框，这也是一个常见的需求。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、代码\"><a href=\"#一、代码\" class=\"headerlink\" title=\"一、代码\"></a>一、代码</h3><h4 id=\"1-html\"><a href=\"#1-html\" class=\"headerlink\" title=\"1. html\"></a>1. html</h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-repeat</span>=<span class=\"string\">\"tag in tags.content track by $index \"</span>&gt;</span></span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"checkbox\"</span></span></div><div class=\"line\">               <span class=\"attr\">title</span>=<span class=\"string\">\"标签\"</span></div><div class=\"line\">               <span class=\"attr\">class</span>=<span class=\"string\">\"btn \"</span></div><div class=\"line\">               <span class=\"attr\">id</span>=<span class=\"string\">\"</span><span class=\"template-variable\">&#123;&#123;tag.id&#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span></span></span></div><div class=\"line\">               <span class=\"attr\">name</span>=<span class=\"string\">\"</span><span class=\"template-variable\">&#123;&#123;tag.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span></span></span></div><div class=\"line\">               <span class=\"attr\">ng-checked</span>=<span class=\"string\">\"isSelected(tag.id)\"</span> //动态 <span class=\"attr\">true</span> <span class=\"attr\">false</span></div><div class=\"line\">               <span class=\"attr\">ng-click</span>=<span class=\"string\">\"updateSelection($event,tag.id)\"</span> //将<span class=\"attr\">id</span>添加到<span class=\"attr\">Array</span>中</div><div class=\"line\">               <span class=\"attr\">ng-model</span>=<span class=\"string\">\"tags\"</span>&gt;</div><div class=\"line\">        <span class=\"template-variable\">&#123;&#123;tag.name&#125;&#125;</span><span class=\"xml\"></span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-controller\"><a href=\"#2-controller\" class=\"headerlink\" title=\"2. controller\"></a>2. controller</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\">$scope.selected = [];</div><div class=\"line\">$scope.selectedTags = [];</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//实际操作数组的方法</span></div><div class=\"line\"><span class=\"keyword\">var</span> updateSelected = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(action, id, name)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (action == <span class=\"string\">'add'</span> &amp;&amp; $scope.selected.indexOf(id) == <span class=\"number\">-1</span>) &#123;</div><div class=\"line\">        $scope.selected.push(id);</div><div class=\"line\">        $scope.selectedTags.push(name);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">if</span> (action == <span class=\"string\">'remove'</span> &amp;&amp; $scope.selected.indexOf(id) != <span class=\"number\">-1</span>) &#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> idx = $scope.selected.indexOf(id);</div><div class=\"line\">        $scope.selected.splice(idx, <span class=\"number\">1</span>);</div><div class=\"line\">        $scope.selectedTags.splice(idx, <span class=\"number\">1</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">    console.log($scope.selected);</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//根据传入的动作和要操作的id更新Array</span></div><div class=\"line\">$scope.updateSelection = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($event, id)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> checkbox = $event.target;</div><div class=\"line\">    <span class=\"keyword\">var</span> action = (checkbox.checked ? <span class=\"string\">'add'</span> : <span class=\"string\">'remove'</span>);</div><div class=\"line\">    updateSelected(action, id, checkbox.name);</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//返回true false</span></div><div class=\"line\">$scope.isSelected = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(id)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> $scope.selected.indexOf(id) &gt;= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"二、效果图\"><a href=\"#二、效果图\" class=\"headerlink\" title=\"二、效果图\"></a>二、效果图</h3><p><img src=\"https://image.xiaomo.info/angular/checkbox.gif\" alt=\"checkbox效果图\"></p>\n<h3 id=\"三、参考文档\"><a href=\"#三、参考文档\" class=\"headerlink\" title=\"三、参考文档\"></a>三、参考文档</h3><blockquote>\n<p><a href=\"http://www.cnblogs.com/CheeseZH/p/4517701.html\" target=\"_blank\" rel=\"external\">ZH奶酪：AngularJS判断checkbox/复选框是否选中并实时显示</a></p>\n</blockquote>\n<h3 id=\"四、-附上我github的地址\"><a href=\"#四、-附上我github的地址\" class=\"headerlink\" title=\"四、 附上我github的地址\"></a>四、 附上我github的地址</h3><p>   <a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku</a></p>\n","excerpt":"<p>使用angularjs做复选框，这也是一个常见的需求。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、代码\"><a href=\"#一、代码\" class=\"headerlink\" title=\"一、代码\"></a>一、代码</h3><h4 id=\"1-html\"><a href=\"#1-html\" class=\"headerlink\" title=\"1. html\"></a>1. html</h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">ng-repeat</span>=<span class=\"string\">\"tag in tags.content track by $index \"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"checkbox\"</span></div><div class=\"line\">               <span class=\"attr\">title</span>=<span class=\"string\">\"标签\"</span></div><div class=\"line\">               <span class=\"attr\">class</span>=<span class=\"string\">\"btn \"</span></div><div class=\"line\">               <span class=\"attr\">id</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123;tag.id&#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span></div><div class=\"line\">               <span class=\"attr\">name</span>=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;&#123;tag.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span></div><div class=\"line\">               <span class=\"attr\">ng-checked</span>=<span class=\"string\">\"isSelected(tag.id)\"</span> //动态 <span class=\"attr\">true</span> <span class=\"attr\">false</span></div><div class=\"line\">               <span class=\"attr\">ng-click</span>=<span class=\"string\">\"updateSelection($event,tag.id)\"</span> //将<span class=\"attr\">id</span>添加到<span class=\"attr\">Array</span>中</div><div class=\"line\">               <span class=\"attr\">ng-model</span>=<span class=\"string\">\"tags\"</span>&gt;</span></div><div class=\"line\">        </span><span class=\"template-variable\">&#123;&#123;tag.name&#125;&#125;</span><span class=\"xml\"></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<h4 id=\"2-controller\"><a href=\"#2-controller\" class=\"headerlink\" title=\"2. controller\"></a>2. controller</h4><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div></pre></td><td class=\"code\"><pre><div class=\"line\">$scope.selected = [];</div><div class=\"line\">$scope.selectedTags = [];</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//实际操作数组的方法</span></div><div class=\"line\"><span class=\"keyword\">var</span> updateSelected = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(action, id, name)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (action == <span class=\"string\">'add'</span> &amp;&amp; $scope.selected.indexOf(id) == <span class=\"number\">-1</span>) &#123;</div><div class=\"line\">        $scope.selected.push(id);</div><div class=\"line\">        $scope.selectedTags.push(name);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">if</span> (action == <span class=\"string\">'remove'</span> &amp;&amp; $scope.selected.indexOf(id) != <span class=\"number\">-1</span>) &#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> idx = $scope.selected.indexOf(id);</div><div class=\"line\">        $scope.selected.splice(idx, <span class=\"number\">1</span>);</div><div class=\"line\">        $scope.selectedTags.splice(idx, <span class=\"number\">1</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">    console.log($scope.selected);</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//根据传入的动作和要操作的id更新Array</span></div><div class=\"line\">$scope.updateSelection = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">($event, id)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> checkbox = $event.target;</div><div class=\"line\">    <span class=\"keyword\">var</span> action = (checkbox.checked ? <span class=\"string\">'add'</span> : <span class=\"string\">'remove'</span>);</div><div class=\"line\">    updateSelected(action, id, checkbox.name);</div><div class=\"line\">&#125;;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//返回true false</span></div><div class=\"line\">$scope.isSelected = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(id)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> $scope.selected.indexOf(id) &gt;= <span class=\"number\">0</span>;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"二、效果图\"><a href=\"#二、效果图\" class=\"headerlink\" title=\"二、效果图\"></a>二、效果图</h3><p><img src=\"https://image.xiaomo.info/angular/checkbox.gif\" alt=\"checkbox效果图\"></p>\n<h3 id=\"三、参考文档\"><a href=\"#三、参考文档\" class=\"headerlink\" title=\"三、参考文档\"></a>三、参考文档</h3><blockquote>\n<p><a href=\"http://www.cnblogs.com/CheeseZH/p/4517701.html\">ZH奶酪：AngularJS判断checkbox/复选框是否选中并实时显示</a></p>\n</blockquote>\n<h3 id=\"四、-附上我github的地址\"><a href=\"#四、-附上我github的地址\" class=\"headerlink\" title=\"四、 附上我github的地址\"></a>四、 附上我github的地址</h3><p>   <a href=\"https://github.com/syoubaku\">https://github.com/syoubaku</a></p>"},{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"atom的使用和插件的安装","_content":"由于生活在天朝这个神奇的国度，因此任何网站都会被强。因此安装插件就会很困扰，那么我们除了翻墙要怎么去解决这个问题呢？\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/atom.png)](https://github.com/syoubaku)\n### 一、在讲插件之前，插入一个小知识\n\n怎么使用atom实时预览markdown效果\n>windows下 `ctrl+shit+p`打开搜索框，输入 `mdpt` 之后`enter`就可以看到实时效果了\n\n### 二、 插件安装\n\n`file -> Settings -> install `即可打开插件安装列表。\n> 注意！！注意！但是你会发现99%的插件安装都不成功。所以 这就是问题所在\n\n但是不要气馁，我们有的是办法。虽然`install`页不能安装，但是可以搜索啊。\n\n我们搜索想要的插件，他会有一个issues界面，我们打开这个界面就可以找到他github的仓库地址。\n>好了，正戏开始！！！！\n\n#### 1. 搜索插件\n`preferences->update`可以搜索插件,然后找到github地址\n#### 2. 下载插件\n在atom的插件配置文件目录下把该插件clone下来。\n#### 3. 下载依赖\ncd到插件根目录，然后cnpm install 或者npm install\n#### 4. 插件生效\n重启atom,你就会发现你想要的插件装好了。\n\n******\n总结：虽然我们折腾了这么多东西，但是终究是实现了我们的目的不是么？谁让我们生在天朝这个神奇的国度呢。\n\n### 三. 插件卸载\n\n这个就不用多说了吧，直接删除插件目录下对应的文件夹就好了\n\n### 四、 最后给个gif的教程\n配着文字版看 真是爽歪歪有木有！！！\n![atom插件安装分享](https://image.xiaomo.info/ide/atomPlugins.gif)\n","source":"_posts/2016-05-05.atom_use_and_plugins.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: atom的使用和插件的安装\ntags:\n- 开发工具\ncategory: atom插件\npermalink: AtomPlugins\n---\n由于生活在天朝这个神奇的国度，因此任何网站都会被强。因此安装插件就会很困扰，那么我们除了翻墙要怎么去解决这个问题呢？\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/atom.png)](https://github.com/syoubaku)\n### 一、在讲插件之前，插入一个小知识\n\n怎么使用atom实时预览markdown效果\n>windows下 `ctrl+shit+p`打开搜索框，输入 `mdpt` 之后`enter`就可以看到实时效果了\n\n### 二、 插件安装\n\n`file -> Settings -> install `即可打开插件安装列表。\n> 注意！！注意！但是你会发现99%的插件安装都不成功。所以 这就是问题所在\n\n但是不要气馁，我们有的是办法。虽然`install`页不能安装，但是可以搜索啊。\n\n我们搜索想要的插件，他会有一个issues界面，我们打开这个界面就可以找到他github的仓库地址。\n>好了，正戏开始！！！！\n\n#### 1. 搜索插件\n`preferences->update`可以搜索插件,然后找到github地址\n#### 2. 下载插件\n在atom的插件配置文件目录下把该插件clone下来。\n#### 3. 下载依赖\ncd到插件根目录，然后cnpm install 或者npm install\n#### 4. 插件生效\n重启atom,你就会发现你想要的插件装好了。\n\n******\n总结：虽然我们折腾了这么多东西，但是终究是实现了我们的目的不是么？谁让我们生在天朝这个神奇的国度呢。\n\n### 三. 插件卸载\n\n这个就不用多说了吧，直接删除插件目录下对应的文件夹就好了\n\n### 四、 最后给个gif的教程\n配着文字版看 真是爽歪歪有木有！！！\n![atom插件安装分享](https://image.xiaomo.info/ide/atomPlugins.gif)\n","slug":"AtomPlugins","published":1,"updated":"2016-12-01T07:36:48.589Z","_id":"civ0ggq63000frwvnqhxfbhj9","comments":1,"layout":"post","photos":[],"link":"","content":"<p>由于生活在天朝这个神奇的国度，因此任何网站都会被强。因此安装插件就会很困扰，那么我们除了翻墙要怎么去解决这个问题呢？<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/atom.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、在讲插件之前，插入一个小知识\"><a href=\"#一、在讲插件之前，插入一个小知识\" class=\"headerlink\" title=\"一、在讲插件之前，插入一个小知识\"></a>一、在讲插件之前，插入一个小知识</h3><p>怎么使用atom实时预览markdown效果</p>\n<blockquote>\n<p>windows下 <code>ctrl+shit+p</code>打开搜索框，输入 <code>mdpt</code> 之后<code>enter</code>就可以看到实时效果了</p>\n</blockquote>\n<h3 id=\"二、-插件安装\"><a href=\"#二、-插件安装\" class=\"headerlink\" title=\"二、 插件安装\"></a>二、 插件安装</h3><p><code>file -&gt; Settings -&gt; install</code>即可打开插件安装列表。</p>\n<blockquote>\n<p>注意！！注意！但是你会发现99%的插件安装都不成功。所以 这就是问题所在</p>\n</blockquote>\n<p>但是不要气馁，我们有的是办法。虽然<code>install</code>页不能安装，但是可以搜索啊。</p>\n<p>我们搜索想要的插件，他会有一个issues界面，我们打开这个界面就可以找到他github的仓库地址。</p>\n<blockquote>\n<p>好了，正戏开始！！！！</p>\n</blockquote>\n<h4 id=\"1-搜索插件\"><a href=\"#1-搜索插件\" class=\"headerlink\" title=\"1. 搜索插件\"></a>1. 搜索插件</h4><p><code>preferences-&gt;update</code>可以搜索插件,然后找到github地址</p>\n<h4 id=\"2-下载插件\"><a href=\"#2-下载插件\" class=\"headerlink\" title=\"2. 下载插件\"></a>2. 下载插件</h4><p>在atom的插件配置文件目录下把该插件clone下来。</p>\n<h4 id=\"3-下载依赖\"><a href=\"#3-下载依赖\" class=\"headerlink\" title=\"3. 下载依赖\"></a>3. 下载依赖</h4><p>cd到插件根目录，然后cnpm install 或者npm install</p>\n<h4 id=\"4-插件生效\"><a href=\"#4-插件生效\" class=\"headerlink\" title=\"4. 插件生效\"></a>4. 插件生效</h4><p>重启atom,你就会发现你想要的插件装好了。</p>\n<hr>\n<p>总结：虽然我们折腾了这么多东西，但是终究是实现了我们的目的不是么？谁让我们生在天朝这个神奇的国度呢。</p>\n<h3 id=\"三-插件卸载\"><a href=\"#三-插件卸载\" class=\"headerlink\" title=\"三. 插件卸载\"></a>三. 插件卸载</h3><p>这个就不用多说了吧，直接删除插件目录下对应的文件夹就好了</p>\n<h3 id=\"四、-最后给个gif的教程\"><a href=\"#四、-最后给个gif的教程\" class=\"headerlink\" title=\"四、 最后给个gif的教程\"></a>四、 最后给个gif的教程</h3><p>配着文字版看 真是爽歪歪有木有！！！<br><img src=\"https://image.xiaomo.info/ide/atomPlugins.gif\" alt=\"atom插件安装分享\"></p>\n","excerpt":"<p>由于生活在天朝这个神奇的国度，因此任何网站都会被强。因此安装插件就会很困扰，那么我们除了翻墙要怎么去解决这个问题呢？<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/atom.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、在讲插件之前，插入一个小知识\"><a href=\"#一、在讲插件之前，插入一个小知识\" class=\"headerlink\" title=\"一、在讲插件之前，插入一个小知识\"></a>一、在讲插件之前，插入一个小知识</h3><p>怎么使用atom实时预览markdown效果</p>\n<blockquote>\n<p>windows下 <code>ctrl+shit+p</code>打开搜索框，输入 <code>mdpt</code> 之后<code>enter</code>就可以看到实时效果了</p>\n</blockquote>\n<h3 id=\"二、-插件安装\"><a href=\"#二、-插件安装\" class=\"headerlink\" title=\"二、 插件安装\"></a>二、 插件安装</h3><p><code>file -&gt; Settings -&gt; install</code>即可打开插件安装列表。</p>\n<blockquote>\n<p>注意！！注意！但是你会发现99%的插件安装都不成功。所以 这就是问题所在</p>\n</blockquote>\n<p>但是不要气馁，我们有的是办法。虽然<code>install</code>页不能安装，但是可以搜索啊。</p>\n<p>我们搜索想要的插件，他会有一个issues界面，我们打开这个界面就可以找到他github的仓库地址。</p>\n<blockquote>\n<p>好了，正戏开始！！！！</p>\n</blockquote>\n<h4 id=\"1-搜索插件\"><a href=\"#1-搜索插件\" class=\"headerlink\" title=\"1. 搜索插件\"></a>1. 搜索插件</h4><p><code>preferences-&gt;update</code>可以搜索插件,然后找到github地址</p>\n<h4 id=\"2-下载插件\"><a href=\"#2-下载插件\" class=\"headerlink\" title=\"2. 下载插件\"></a>2. 下载插件</h4><p>在atom的插件配置文件目录下把该插件clone下来。</p>\n<h4 id=\"3-下载依赖\"><a href=\"#3-下载依赖\" class=\"headerlink\" title=\"3. 下载依赖\"></a>3. 下载依赖</h4><p>cd到插件根目录，然后cnpm install 或者npm install</p>\n<h4 id=\"4-插件生效\"><a href=\"#4-插件生效\" class=\"headerlink\" title=\"4. 插件生效\"></a>4. 插件生效</h4><p>重启atom,你就会发现你想要的插件装好了。</p>\n<hr>\n<p>总结：虽然我们折腾了这么多东西，但是终究是实现了我们的目的不是么？谁让我们生在天朝这个神奇的国度呢。</p>\n<h3 id=\"三-插件卸载\"><a href=\"#三-插件卸载\" class=\"headerlink\" title=\"三. 插件卸载\"></a>三. 插件卸载</h3><p>这个就不用多说了吧，直接删除插件目录下对应的文件夹就好了</p>\n<h3 id=\"四、-最后给个gif的教程\"><a href=\"#四、-最后给个gif的教程\" class=\"headerlink\" title=\"四、 最后给个gif的教程\"></a>四、 最后给个gif的教程</h3><p>配着文字版看 真是爽歪歪有木有！！！<br><img src=\"https://image.xiaomo.info/ide/atomPlugins.gif\" alt=\"atom插件安装分享\"></p>"},{"author":"小莫","date":"2016-05-11T16:00:00.000Z","title":"linux下使用定时器跑任务","_content":"我打算把github的代码用jenkins实时同步到线上，但是因为买的阿里云是个学习机内存太小容易跌机，因此打算使用linux的定时任务来做同步。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/linux.png)](https://github.com/syoubaku)\n### 一、准备工作  \n1. 选好一个目录放shell脚本\n2. 写一个shell,注意最好是echo一句话，方便测试\n3. 确保你的机器上装了crontab服务且处于开启状态\n\n### 二、正式开工 \n#### 1. 检查crontab服务  \n键入命令 `/sbin/service crond status `    \n返回结果:  `crond (pid  6621) is running...`  如果是运行状态就是可以的    \n\n#### 2. 写shell的目录\n切换到目标目录 `cd /data2/xiaomo.info/java/bin`\n\n#### 3. 开始写shell   \n创建文件：`$: touch gitpull.sh`  \n打开文件：`$: vim gitpull.sh `  \n粘入以下内容  \n```\n    #!/bin/sh\n    cd /data2/xiaomo.info/myBlog\n    git pull\n    echo '当前时间'`date '+%Y-%m-%d %H:%M:%S'`'执行git clone 命令';\n```\n\n#### 4. 写定时任务\n查看定时任务 `$: crontab -l`     \n创建定时任务 `$: crontab -e `   \n粘入下面的内容   \n```\n  #每分钟 执行git clone 命令\n\t*/1 * * * * /bin/sh /data2/xiaomo.info/java/bin/gitpull.sh >>/data2/xiaomo.info/java/bin/git.log &\n```\n\n### 三、验证设置的定时任务是否生效\n\n说明：在定时任务中 使用 `>>` 可以将`echo`的内容转到日志中，因此 我们只需要查看日志中有没有输出对应的话就可以判断是否生效。   \n\n```\n\ttail -f /data2/xiaomo.info/java/bin/git.log\n```\n观察一下一分钟后是否有日志打出，有的话就代表执行成功！！\n\n### 四、参考文档\n>[定时任务参考文档](http://www.cnblogs.com/joer/archive/2010/09/23/1841240.html)\n","source":"_posts/2016-05-12.linux_crontab_task.md","raw":"---\nauthor: 小莫\ndate: 2016-05-12\ntitle: linux下使用定时器跑任务\ntags:\n- linux\ncategory: linux-crontab\npermalink: LinuxCrontab\n---\n我打算把github的代码用jenkins实时同步到线上，但是因为买的阿里云是个学习机内存太小容易跌机，因此打算使用linux的定时任务来做同步。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/linux.png)](https://github.com/syoubaku)\n### 一、准备工作  \n1. 选好一个目录放shell脚本\n2. 写一个shell,注意最好是echo一句话，方便测试\n3. 确保你的机器上装了crontab服务且处于开启状态\n\n### 二、正式开工 \n#### 1. 检查crontab服务  \n键入命令 `/sbin/service crond status `    \n返回结果:  `crond (pid  6621) is running...`  如果是运行状态就是可以的    \n\n#### 2. 写shell的目录\n切换到目标目录 `cd /data2/xiaomo.info/java/bin`\n\n#### 3. 开始写shell   \n创建文件：`$: touch gitpull.sh`  \n打开文件：`$: vim gitpull.sh `  \n粘入以下内容  \n```\n    #!/bin/sh\n    cd /data2/xiaomo.info/myBlog\n    git pull\n    echo '当前时间'`date '+%Y-%m-%d %H:%M:%S'`'执行git clone 命令';\n```\n\n#### 4. 写定时任务\n查看定时任务 `$: crontab -l`     \n创建定时任务 `$: crontab -e `   \n粘入下面的内容   \n```\n  #每分钟 执行git clone 命令\n\t*/1 * * * * /bin/sh /data2/xiaomo.info/java/bin/gitpull.sh >>/data2/xiaomo.info/java/bin/git.log &\n```\n\n### 三、验证设置的定时任务是否生效\n\n说明：在定时任务中 使用 `>>` 可以将`echo`的内容转到日志中，因此 我们只需要查看日志中有没有输出对应的话就可以判断是否生效。   \n\n```\n\ttail -f /data2/xiaomo.info/java/bin/git.log\n```\n观察一下一分钟后是否有日志打出，有的话就代表执行成功！！\n\n### 四、参考文档\n>[定时任务参考文档](http://www.cnblogs.com/joer/archive/2010/09/23/1841240.html)\n","slug":"LinuxCrontab","published":1,"updated":"2016-12-01T06:50:29.983Z","_id":"civ0ggq67000jrwvnvqwv5toi","comments":1,"layout":"post","photos":[],"link":"","content":"<p>我打算把github的代码用jenkins实时同步到线上，但是因为买的阿里云是个学习机内存太小容易跌机，因此打算使用linux的定时任务来做同步。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h3><ol>\n<li>选好一个目录放shell脚本</li>\n<li>写一个shell,注意最好是echo一句话，方便测试</li>\n<li>确保你的机器上装了crontab服务且处于开启状态</li>\n</ol>\n<h3 id=\"二、正式开工\"><a href=\"#二、正式开工\" class=\"headerlink\" title=\"二、正式开工\"></a>二、正式开工</h3><h4 id=\"1-检查crontab服务\"><a href=\"#1-检查crontab服务\" class=\"headerlink\" title=\"1. 检查crontab服务\"></a>1. 检查crontab服务</h4><p>键入命令 <code>/sbin/service crond status</code><br>返回结果:  <code>crond (pid  6621) is running...</code>  如果是运行状态就是可以的    </p>\n<h4 id=\"2-写shell的目录\"><a href=\"#2-写shell的目录\" class=\"headerlink\" title=\"2. 写shell的目录\"></a>2. 写shell的目录</h4><p>切换到目标目录 <code>cd /data2/xiaomo.info/java/bin</code></p>\n<h4 id=\"3-开始写shell\"><a href=\"#3-开始写shell\" class=\"headerlink\" title=\"3. 开始写shell\"></a>3. 开始写shell</h4><p>创建文件：<code>$: touch gitpull.sh</code><br>打开文件：<code>$: vim gitpull.sh</code><br>粘入以下内容<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/sh</span></div><div class=\"line\"><span class=\"built_in\">cd</span> /data2/xiaomo.info/myB<span class=\"built_in\">log</span></div><div class=\"line\">git pull</div><div class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'当前时间'</span>`date <span class=\"string\">'+%Y-%m-%d %H:%M:%S'</span>`<span class=\"string\">'执行git clone 命令'</span>;</div></pre></td></tr></table></figure></p>\n<h4 id=\"4-写定时任务\"><a href=\"#4-写定时任务\" class=\"headerlink\" title=\"4. 写定时任务\"></a>4. 写定时任务</h4><p>查看定时任务 <code>$: crontab -l</code><br>创建定时任务 <code>$: crontab -e</code><br>粘入下面的内容<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"comment\">#每分钟 执行git clone 命令</span></div><div class=\"line\">*<span class=\"regexp\">/1 * * * * /</span>bin<span class=\"regexp\">/sh /</span>data2<span class=\"regexp\">/xiaomo.info/</span>java<span class=\"regexp\">/bin/gi</span>tpull.sh &gt;&gt;<span class=\"regexp\">/data2/</span>xiaomo.info<span class=\"regexp\">/java/</span>bin<span class=\"regexp\">/git.log &amp;</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"三、验证设置的定时任务是否生效\"><a href=\"#三、验证设置的定时任务是否生效\" class=\"headerlink\" title=\"三、验证设置的定时任务是否生效\"></a>三、验证设置的定时任务是否生效</h3><p>说明：在定时任务中 使用 <code>&gt;&gt;</code> 可以将<code>echo</code>的内容转到日志中，因此 我们只需要查看日志中有没有输出对应的话就可以判断是否生效。   </p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">tail -f <span class=\"regexp\">/data2/</span>xiaomo.info<span class=\"regexp\">/java/</span>bin<span class=\"regexp\">/git.log</span></div></pre></td></tr></table></figure>\n<p>观察一下一分钟后是否有日志打出，有的话就代表执行成功！！</p>\n<h3 id=\"四、参考文档\"><a href=\"#四、参考文档\" class=\"headerlink\" title=\"四、参考文档\"></a>四、参考文档</h3><blockquote>\n<p><a href=\"http://www.cnblogs.com/joer/archive/2010/09/23/1841240.html\" target=\"_blank\" rel=\"external\">定时任务参考文档</a></p>\n</blockquote>\n","excerpt":"<p>我打算把github的代码用jenkins实时同步到线上，但是因为买的阿里云是个学习机内存太小容易跌机，因此打算使用linux的定时任务来做同步。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h3><ol>\n<li>选好一个目录放shell脚本</li>\n<li>写一个shell,注意最好是echo一句话，方便测试</li>\n<li>确保你的机器上装了crontab服务且处于开启状态</li>\n</ol>\n<h3 id=\"二、正式开工\"><a href=\"#二、正式开工\" class=\"headerlink\" title=\"二、正式开工\"></a>二、正式开工</h3><h4 id=\"1-检查crontab服务\"><a href=\"#1-检查crontab服务\" class=\"headerlink\" title=\"1. 检查crontab服务\"></a>1. 检查crontab服务</h4><p>键入命令 <code>/sbin/service crond status</code><br>返回结果:  <code>crond (pid  6621) is running...</code>  如果是运行状态就是可以的    </p>\n<h4 id=\"2-写shell的目录\"><a href=\"#2-写shell的目录\" class=\"headerlink\" title=\"2. 写shell的目录\"></a>2. 写shell的目录</h4><p>切换到目标目录 <code>cd /data2/xiaomo.info/java/bin</code></p>\n<h4 id=\"3-开始写shell\"><a href=\"#3-开始写shell\" class=\"headerlink\" title=\"3. 开始写shell\"></a>3. 开始写shell</h4><p>创建文件：<code>$: touch gitpull.sh</code><br>打开文件：<code>$: vim gitpull.sh</code><br>粘入以下内容<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">#!/bin/sh</span></div><div class=\"line\"><span class=\"built_in\">cd</span> /data2/xiaomo.info/myB<span class=\"built_in\">log</span></div><div class=\"line\">git pull</div><div class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">'当前时间'</span>`date <span class=\"string\">'+%Y-%m-%d %H:%M:%S'</span>`<span class=\"string\">'执行git clone 命令'</span>;</div></pre></td></tr></table></figure></p>\n<h4 id=\"4-写定时任务\"><a href=\"#4-写定时任务\" class=\"headerlink\" title=\"4. 写定时任务\"></a>4. 写定时任务</h4><p>查看定时任务 <code>$: crontab -l</code><br>创建定时任务 <code>$: crontab -e</code><br>粘入下面的内容<br><figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"comment\">#每分钟 执行git clone 命令</span></div><div class=\"line\">*<span class=\"regexp\">/1 * * * * /</span>bin<span class=\"regexp\">/sh /</span>data2<span class=\"regexp\">/xiaomo.info/</span>java<span class=\"regexp\">/bin/gi</span>tpull.sh &gt;&gt;<span class=\"regexp\">/data2/</span>xiaomo.info<span class=\"regexp\">/java/</span>bin<span class=\"regexp\">/git.log &amp;</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"三、验证设置的定时任务是否生效\"><a href=\"#三、验证设置的定时任务是否生效\" class=\"headerlink\" title=\"三、验证设置的定时任务是否生效\"></a>三、验证设置的定时任务是否生效</h3><p>说明：在定时任务中 使用 <code>&gt;&gt;</code> 可以将<code>echo</code>的内容转到日志中，因此 我们只需要查看日志中有没有输出对应的话就可以判断是否生效。   </p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">tail -f <span class=\"regexp\">/data2/</span>xiaomo.info<span class=\"regexp\">/java/</span>bin<span class=\"regexp\">/git.log</span></div></pre></td></tr></table></figure>\n<p>观察一下一分钟后是否有日志打出，有的话就代表执行成功！！</p>\n<h3 id=\"四、参考文档\"><a href=\"#四、参考文档\" class=\"headerlink\" title=\"四、参考文档\"></a>四、参考文档</h3><blockquote>\n<p><a href=\"http://www.cnblogs.com/joer/archive/2010/09/23/1841240.html\">定时任务参考文档</a></p>\n</blockquote>"},{"author":"小莫","date":"2016-05-12T16:00:00.000Z","title":"使用nodejs搭建一个简易的即时聊天软件","_content":"最近在学习node，跟着书上的例子写的一个基于net模块的tcp服务器，感觉挺有意思在此分享一下。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、搭建简易的服务器##\n`vim server.js`\n```\n//引入node的net模块\nvar net = require('net')\n//创建一个服务器\nvar chatServer = net.createServer();\n//定义一个客户端列表\nvar clientList = [];\n//监听连接...\nchatServer.on('connection', function(client) {\n//给客户端反馈\nclient.name = client.remoteAddress+':'+client.remotePort;\nclient.write('Hi!'+client.name+',您己成功连接服务器，可以正常通讯了..\\n');\nconsole.log(client.name+'加入了聊天...')\n//将客户端放到客户端列表中\nclientList.push(client);\n//监听客户端信信息并给出反馈\nclient.on('data', function(data) {\n// 把数据发送给所有客户端\n      broadcast(data,client);\n    });\n\n//监听离线事件\nclient.on('end',function(){\n    console.log(client.name+'quit...')\n    clientList.splice(clientList.indexOf(client),1);\n    client.write('用户:'+client.name+'退出了当前服务\\n');\n    })\n//监听错误事件\nclient.on('error',function(e){\n    console.log(e);\n})\n\n})\n/**\n *  广播消息\n **/\n function broadcast(message,client){\n     var cleanUp=[];\n     for(var i=0;i<clientList.length;i++) {\n         if(clientList[i]!==client[i]){\n             if(clientList[i].writable){\n             clientList[i].write(client.name+'说:'+message);\n             } else{\n                 cleanUp.push(clientList[i]);\n                 clientList[i].destroy();\n             }\n         }\n     }\n     //在写入循环中删除死节点，消除垃圾索引\n     for(var i =0;i<cleanUp.length;i++){\n         clientList.splice(clientList.indexOf(cleanUp[i],i));\n     }\n }\n\n```\n开启服务器\n`node server.js`\n`chatServer is running at port 9000...`  \n此时服务己经成功开启\n\n### 二、客户端连接##\n格式： `telnet host port`  \n例如我在本地再开启一个shell窗口  \n `telnet localhost 9000`  \n Hi!127.0.0.1:43358,您己成功连接服务器，可以正常通讯了..\n\n### 三、测试效果   \n#### 1. 开启服务器\n#### 2. 客户端连接\n#### 3. 测试通讯  \n下面是gif效果图\n![tcp在线聊天服务器](https://image.xiaomo.info/linux/tcpServer.gif)\n","source":"_posts/2016-05-13.nodejs_online_chat.md","raw":"---\nauthor: 小莫\ndate: 2016-05-13\ntitle: 使用nodejs搭建一个简易的即时聊天软件\ntags:\n- node\n- javascript\n- linux\ncategory: nodejs之net模块\npermalink: NodeOnlineChat\n---\n最近在学习node，跟着书上的例子写的一个基于net模块的tcp服务器，感觉挺有意思在此分享一下。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、搭建简易的服务器##\n`vim server.js`\n```\n//引入node的net模块\nvar net = require('net')\n//创建一个服务器\nvar chatServer = net.createServer();\n//定义一个客户端列表\nvar clientList = [];\n//监听连接...\nchatServer.on('connection', function(client) {\n//给客户端反馈\nclient.name = client.remoteAddress+':'+client.remotePort;\nclient.write('Hi!'+client.name+',您己成功连接服务器，可以正常通讯了..\\n');\nconsole.log(client.name+'加入了聊天...')\n//将客户端放到客户端列表中\nclientList.push(client);\n//监听客户端信信息并给出反馈\nclient.on('data', function(data) {\n// 把数据发送给所有客户端\n      broadcast(data,client);\n    });\n\n//监听离线事件\nclient.on('end',function(){\n    console.log(client.name+'quit...')\n    clientList.splice(clientList.indexOf(client),1);\n    client.write('用户:'+client.name+'退出了当前服务\\n');\n    })\n//监听错误事件\nclient.on('error',function(e){\n    console.log(e);\n})\n\n})\n/**\n *  广播消息\n **/\n function broadcast(message,client){\n     var cleanUp=[];\n     for(var i=0;i<clientList.length;i++) {\n         if(clientList[i]!==client[i]){\n             if(clientList[i].writable){\n             clientList[i].write(client.name+'说:'+message);\n             } else{\n                 cleanUp.push(clientList[i]);\n                 clientList[i].destroy();\n             }\n         }\n     }\n     //在写入循环中删除死节点，消除垃圾索引\n     for(var i =0;i<cleanUp.length;i++){\n         clientList.splice(clientList.indexOf(cleanUp[i],i));\n     }\n }\n\n```\n开启服务器\n`node server.js`\n`chatServer is running at port 9000...`  \n此时服务己经成功开启\n\n### 二、客户端连接##\n格式： `telnet host port`  \n例如我在本地再开启一个shell窗口  \n `telnet localhost 9000`  \n Hi!127.0.0.1:43358,您己成功连接服务器，可以正常通讯了..\n\n### 三、测试效果   \n#### 1. 开启服务器\n#### 2. 客户端连接\n#### 3. 测试通讯  \n下面是gif效果图\n![tcp在线聊天服务器](https://image.xiaomo.info/linux/tcpServer.gif)\n","slug":"NodeOnlineChat","published":1,"updated":"2016-12-01T07:43:51.121Z","_id":"civ0ggq69000lrwvnttf9bzkk","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近在学习node，跟着书上的例子写的一个基于net模块的tcp服务器，感觉挺有意思在此分享一下。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、搭建简易的服务器\"><a href=\"#一、搭建简易的服务器\" class=\"headerlink\" title=\"一、搭建简易的服务器\"></a>一、搭建简易的服务器</h3><p><code>vim server.js</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//引入node的net模块</span></div><div class=\"line\"><span class=\"keyword\">var</span> net = <span class=\"built_in\">require</span>(<span class=\"string\">'net'</span>)</div><div class=\"line\"><span class=\"comment\">//创建一个服务器</span></div><div class=\"line\"><span class=\"keyword\">var</span> chatServer = net.createServer();</div><div class=\"line\"><span class=\"comment\">//定义一个客户端列表</span></div><div class=\"line\"><span class=\"keyword\">var</span> clientList = [];</div><div class=\"line\"><span class=\"comment\">//监听连接...</span></div><div class=\"line\">chatServer.on(<span class=\"string\">'connection'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">client</span>) </span>&#123;</div><div class=\"line\"><span class=\"comment\">//给客户端反馈</span></div><div class=\"line\">client.name = client.remoteAddress+<span class=\"string\">':'</span>+client.remotePort;</div><div class=\"line\">client.write(<span class=\"string\">'Hi!'</span>+client.name+<span class=\"string\">',您己成功连接服务器，可以正常通讯了..\\n'</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(client.name+<span class=\"string\">'加入了聊天...'</span>)</div><div class=\"line\"><span class=\"comment\">//将客户端放到客户端列表中</span></div><div class=\"line\">clientList.push(client);</div><div class=\"line\"><span class=\"comment\">//监听客户端信信息并给出反馈</span></div><div class=\"line\">client.on(<span class=\"string\">'data'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>) </span>&#123;</div><div class=\"line\"><span class=\"comment\">// 把数据发送给所有客户端</span></div><div class=\"line\">      broadcast(data,client);</div><div class=\"line\">    &#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//监听离线事件</span></div><div class=\"line\">client.on(<span class=\"string\">'end'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(client.name+<span class=\"string\">'quit...'</span>)</div><div class=\"line\">    clientList.splice(clientList.indexOf(client),<span class=\"number\">1</span>);</div><div class=\"line\">    client.write(<span class=\"string\">'用户:'</span>+client.name+<span class=\"string\">'退出了当前服务\\n'</span>);</div><div class=\"line\">    &#125;)</div><div class=\"line\"><span class=\"comment\">//监听错误事件</span></div><div class=\"line\">client.on(<span class=\"string\">'error'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(e);</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> *  广播消息</div><div class=\"line\"> **/</div><div class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">broadcast</span>(<span class=\"params\">message,client</span>)</span>&#123;</div><div class=\"line\">     <span class=\"keyword\">var</span> cleanUp=[];</div><div class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;clientList.length;i++) &#123;</div><div class=\"line\">         <span class=\"keyword\">if</span>(clientList[i]!==client[i])&#123;</div><div class=\"line\">             <span class=\"keyword\">if</span>(clientList[i].writable)&#123;</div><div class=\"line\">             clientList[i].write(client.name+<span class=\"string\">'说:'</span>+message);</div><div class=\"line\">             &#125; <span class=\"keyword\">else</span>&#123;</div><div class=\"line\">                 cleanUp.push(clientList[i]);</div><div class=\"line\">                 clientList[i].destroy();</div><div class=\"line\">             &#125;</div><div class=\"line\">         &#125;</div><div class=\"line\">     &#125;</div><div class=\"line\">     <span class=\"comment\">//在写入循环中删除死节点，消除垃圾索引</span></div><div class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i =<span class=\"number\">0</span>;i&lt;cleanUp.length;i++)&#123;</div><div class=\"line\">         clientList.splice(clientList.indexOf(cleanUp[i],i));</div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure></p>\n<p>开启服务器<br><code>node server.js</code><br><code>chatServer is running at port 9000...</code><br>此时服务己经成功开启</p>\n<h3 id=\"二、客户端连接\"><a href=\"#二、客户端连接\" class=\"headerlink\" title=\"二、客户端连接\"></a>二、客户端连接</h3><p>格式： <code>telnet host port</code><br>例如我在本地再开启一个shell窗口<br> <code>telnet localhost 9000</code><br> Hi!127.0.0.1:43358,您己成功连接服务器，可以正常通讯了..</p>\n<h3 id=\"三、测试效果\"><a href=\"#三、测试效果\" class=\"headerlink\" title=\"三、测试效果\"></a>三、测试效果</h3><h4 id=\"1-开启服务器\"><a href=\"#1-开启服务器\" class=\"headerlink\" title=\"1. 开启服务器\"></a>1. 开启服务器</h4><h4 id=\"2-客户端连接\"><a href=\"#2-客户端连接\" class=\"headerlink\" title=\"2. 客户端连接\"></a>2. 客户端连接</h4><h4 id=\"3-测试通讯\"><a href=\"#3-测试通讯\" class=\"headerlink\" title=\"3. 测试通讯\"></a>3. 测试通讯</h4><p>下面是gif效果图<br><img src=\"https://image.xiaomo.info/linux/tcpServer.gif\" alt=\"tcp在线聊天服务器\"></p>\n","excerpt":"<p>最近在学习node，跟着书上的例子写的一个基于net模块的tcp服务器，感觉挺有意思在此分享一下。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、搭建简易的服务器\"><a href=\"#一、搭建简易的服务器\" class=\"headerlink\" title=\"一、搭建简易的服务器\"></a>一、搭建简易的服务器</h3><p><code>vim server.js</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//引入node的net模块</span></div><div class=\"line\"><span class=\"keyword\">var</span> net = <span class=\"built_in\">require</span>(<span class=\"string\">'net'</span>)</div><div class=\"line\"><span class=\"comment\">//创建一个服务器</span></div><div class=\"line\"><span class=\"keyword\">var</span> chatServer = net.createServer();</div><div class=\"line\"><span class=\"comment\">//定义一个客户端列表</span></div><div class=\"line\"><span class=\"keyword\">var</span> clientList = [];</div><div class=\"line\"><span class=\"comment\">//监听连接...</span></div><div class=\"line\">chatServer.on(<span class=\"string\">'connection'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">client</span>) </span>&#123;</div><div class=\"line\"><span class=\"comment\">//给客户端反馈</span></div><div class=\"line\">client.name = client.remoteAddress+<span class=\"string\">':'</span>+client.remotePort;</div><div class=\"line\">client.write(<span class=\"string\">'Hi!'</span>+client.name+<span class=\"string\">',您己成功连接服务器，可以正常通讯了..\\n'</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(client.name+<span class=\"string\">'加入了聊天...'</span>)</div><div class=\"line\"><span class=\"comment\">//将客户端放到客户端列表中</span></div><div class=\"line\">clientList.push(client);</div><div class=\"line\"><span class=\"comment\">//监听客户端信信息并给出反馈</span></div><div class=\"line\">client.on(<span class=\"string\">'data'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">data</span>) </span>&#123;</div><div class=\"line\"><span class=\"comment\">// 把数据发送给所有客户端</span></div><div class=\"line\">      broadcast(data,client);</div><div class=\"line\">    &#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//监听离线事件</span></div><div class=\"line\">client.on(<span class=\"string\">'end'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(client.name+<span class=\"string\">'quit...'</span>)</div><div class=\"line\">    clientList.splice(clientList.indexOf(client),<span class=\"number\">1</span>);</div><div class=\"line\">    client.write(<span class=\"string\">'用户:'</span>+client.name+<span class=\"string\">'退出了当前服务\\n'</span>);</div><div class=\"line\">    &#125;)</div><div class=\"line\"><span class=\"comment\">//监听错误事件</span></div><div class=\"line\">client.on(<span class=\"string\">'error'</span>,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(e);</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> *  广播消息</div><div class=\"line\"> **/</span></div><div class=\"line\"> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">broadcast</span>(<span class=\"params\">message,client</span>)</span>&#123;</div><div class=\"line\">     <span class=\"keyword\">var</span> cleanUp=[];</div><div class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;clientList.length;i++) &#123;</div><div class=\"line\">         <span class=\"keyword\">if</span>(clientList[i]!==client[i])&#123;</div><div class=\"line\">             <span class=\"keyword\">if</span>(clientList[i].writable)&#123;</div><div class=\"line\">             clientList[i].write(client.name+<span class=\"string\">'说:'</span>+message);</div><div class=\"line\">             &#125; <span class=\"keyword\">else</span>&#123;</div><div class=\"line\">                 cleanUp.push(clientList[i]);</div><div class=\"line\">                 clientList[i].destroy();</div><div class=\"line\">             &#125;</div><div class=\"line\">         &#125;</div><div class=\"line\">     &#125;</div><div class=\"line\">     <span class=\"comment\">//在写入循环中删除死节点，消除垃圾索引</span></div><div class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i =<span class=\"number\">0</span>;i&lt;cleanUp.length;i++)&#123;</div><div class=\"line\">         clientList.splice(clientList.indexOf(cleanUp[i],i));</div><div class=\"line\">     &#125;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure></p>\n<p>开启服务器<br><code>node server.js</code><br><code>chatServer is running at port 9000...</code><br>此时服务己经成功开启</p>\n<h3 id=\"二、客户端连接\"><a href=\"#二、客户端连接\" class=\"headerlink\" title=\"二、客户端连接\"></a>二、客户端连接</h3><p>格式： <code>telnet host port</code><br>例如我在本地再开启一个shell窗口<br> <code>telnet localhost 9000</code><br> Hi!127.0.0.1:43358,您己成功连接服务器，可以正常通讯了..</p>\n<h3 id=\"三、测试效果\"><a href=\"#三、测试效果\" class=\"headerlink\" title=\"三、测试效果\"></a>三、测试效果</h3><h4 id=\"1-开启服务器\"><a href=\"#1-开启服务器\" class=\"headerlink\" title=\"1. 开启服务器\"></a>1. 开启服务器</h4><h4 id=\"2-客户端连接\"><a href=\"#2-客户端连接\" class=\"headerlink\" title=\"2. 客户端连接\"></a>2. 客户端连接</h4><h4 id=\"3-测试通讯\"><a href=\"#3-测试通讯\" class=\"headerlink\" title=\"3. 测试通讯\"></a>3. 测试通讯</h4><p>下面是gif效果图<br><img src=\"https://image.xiaomo.info/linux/tcpServer.gif\" alt=\"tcp在线聊天服务器\"></p>"},{"author":"小莫","date":"2016-05-10T16:00:00.000Z","title":"markdown语法","_content":"markdown的一些基本语法，大致够用了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/markdown.png)](https://github.com/syoubaku)\n### 1.标题(h标签)\nh1-h6对应1-6个#\n\n### 2.列表(li>li)\n#### 1. 无序列表\n\n##### 代码\n\n```\n    * 1\n    * 2\n    * 3\n```\n\n##### 效果图\n* 1\n* 2\n* 3\n\n#### 2. 有序列表\n\n##### 代码\n\n```\n    1. 1\n    2. 2\n    3. 3\n```\n\n#### 效果图\n1. 1\n2. 2\n3. 3\n\n### 3.引用(blockquote)\n\n#### 代码\n\n```\n>这个是引用的内容\n```\n\n#### 效果图\n>这个是引用的内容\n\n### 4.图片与链接\n#### 1. 图片\n\n名字、url\n\n##### 代码\n\n```\n![小莫](http://mouapp.com/Mou_128.png)\n```\n\n##### 效果图\n![小莫](http://mouapp.com/Mou_128.png)\n\n#### 2.链接\n\n##### 代码\n\n```\n[小莫的主页](http://www.xiaomo.info)\n```\n\n##### 效果图\n[小莫的主页](http://www.xiaomo.info)\n\n### 5.粗体与斜体\n#### 说明\n用两个 * 包含一段文本就是粗体的语法，用一个 * 包含一段文本就是斜体的语法。\n\n##### 代码\n\n```\n**这里是粗体**\n*这里是斜体*\n```\n\n##### 效果图\n**这里是粗体**\n*这里是斜体*\n\n### 6.表格\n#### 说明：\n\n##### 代码\n\n```\n冒号控制居中样式 连续三根短横线表格\n| Tables        | Are           | Cool  |\n| :-----------: |:--------:  | :---:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n```\n\n##### 效果图\n冒号控制居中样式 连续三根短横线表格\n| Tables        | Are           | Cool  |\n| :-----------: |:--------:  | :---:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n\n### 7.代码框\n\n（一个tab即可,如果没效果用3个飘号[esc下面那个]）\n\n    function Hello(){\n            console.log(\"hello\");\n        }\n\n\n### 8.分割线(hr)  \n三个或三个以上的星号、减号或者下划线\n\n### 9.换行、分段  \n行末加两个或以上个空格\n分段：两个回车\n\n### 10. 带url的目录\n\n#### 代码\n\n\n```\n    [1. 安装][1]  \n    [2. 目录结构][2]  \n    [3. 配置说明][3]  \n    [4. 编写博客][4]  \n\n    [1]:http://gitblogdoc.sinaapp.com/blog/gitblog/install.html\n    [2]:http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html\n    [3]:http://gitblogdoc.sinaapp.com/blog/gitblog/config.html\n    [4]:http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html\n```\n\n#### 效果图\n\n[1. 安装][1]  \n[2. 目录结构][2]  \n[3. 配置说明][3]  \n[4. 编写博客][4]  \n\n[1]:http://gitblogdoc.sinaapp.com/blog/gitblog/install.html\n[2]:http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html\n[3]:http://gitblogdoc.sinaapp.com/blog/gitblog/config.html\n[4]:http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html\n","source":"_posts/2016-05-11.markdown_syntax.md","raw":"---\nauthor: 小莫\ndate: 2016-05-11\ntitle: markdown语法\ntags:\n- markdown\ncategory: markdown\npermalink: MarkdownSyntax\n---\nmarkdown的一些基本语法，大致够用了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/markdown.png)](https://github.com/syoubaku)\n### 1.标题(h标签)\nh1-h6对应1-6个#\n\n### 2.列表(li>li)\n#### 1. 无序列表\n\n##### 代码\n\n```\n    * 1\n    * 2\n    * 3\n```\n\n##### 效果图\n* 1\n* 2\n* 3\n\n#### 2. 有序列表\n\n##### 代码\n\n```\n    1. 1\n    2. 2\n    3. 3\n```\n\n#### 效果图\n1. 1\n2. 2\n3. 3\n\n### 3.引用(blockquote)\n\n#### 代码\n\n```\n>这个是引用的内容\n```\n\n#### 效果图\n>这个是引用的内容\n\n### 4.图片与链接\n#### 1. 图片\n\n名字、url\n\n##### 代码\n\n```\n![小莫](http://mouapp.com/Mou_128.png)\n```\n\n##### 效果图\n![小莫](http://mouapp.com/Mou_128.png)\n\n#### 2.链接\n\n##### 代码\n\n```\n[小莫的主页](http://www.xiaomo.info)\n```\n\n##### 效果图\n[小莫的主页](http://www.xiaomo.info)\n\n### 5.粗体与斜体\n#### 说明\n用两个 * 包含一段文本就是粗体的语法，用一个 * 包含一段文本就是斜体的语法。\n\n##### 代码\n\n```\n**这里是粗体**\n*这里是斜体*\n```\n\n##### 效果图\n**这里是粗体**\n*这里是斜体*\n\n### 6.表格\n#### 说明：\n\n##### 代码\n\n```\n冒号控制居中样式 连续三根短横线表格\n| Tables        | Are           | Cool  |\n| :-----------: |:--------:  | :---:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n```\n\n##### 效果图\n冒号控制居中样式 连续三根短横线表格\n| Tables        | Are           | Cool  |\n| :-----------: |:--------:  | :---:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n\n### 7.代码框\n\n（一个tab即可,如果没效果用3个飘号[esc下面那个]）\n\n    function Hello(){\n            console.log(\"hello\");\n        }\n\n\n### 8.分割线(hr)  \n三个或三个以上的星号、减号或者下划线\n\n### 9.换行、分段  \n行末加两个或以上个空格\n分段：两个回车\n\n### 10. 带url的目录\n\n#### 代码\n\n\n```\n    [1. 安装][1]  \n    [2. 目录结构][2]  \n    [3. 配置说明][3]  \n    [4. 编写博客][4]  \n\n    [1]:http://gitblogdoc.sinaapp.com/blog/gitblog/install.html\n    [2]:http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html\n    [3]:http://gitblogdoc.sinaapp.com/blog/gitblog/config.html\n    [4]:http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html\n```\n\n#### 效果图\n\n[1. 安装][1]  \n[2. 目录结构][2]  \n[3. 配置说明][3]  \n[4. 编写博客][4]  \n\n[1]:http://gitblogdoc.sinaapp.com/blog/gitblog/install.html\n[2]:http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html\n[3]:http://gitblogdoc.sinaapp.com/blog/gitblog/config.html\n[4]:http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html\n","slug":"MarkdownSyntax","published":1,"updated":"2016-12-01T06:50:26.225Z","_id":"civ0ggq6c000qrwvnd4dawuc3","comments":1,"layout":"post","photos":[],"link":"","content":"<p>markdown的一些基本语法，大致够用了<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/markdown.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"1-标题-h标签\"><a href=\"#1-标题-h标签\" class=\"headerlink\" title=\"1.标题(h标签)\"></a>1.标题(h标签)</h3><p>h1-h6对应1-6个#</p>\n<h3 id=\"2-列表-li-gt-li\"><a href=\"#2-列表-li-gt-li\" class=\"headerlink\" title=\"2.列表(li&gt;li)\"></a>2.列表(li&gt;li)</h3><h4 id=\"1-无序列表\"><a href=\"#1-无序列表\" class=\"headerlink\" title=\"1. 无序列表\"></a>1. 无序列表</h4><h5 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"bullet\">* </span>1</div><div class=\"line\"><span class=\"bullet\">* </span>2</div><div class=\"line\"><span class=\"bullet\">* </span>3</div></pre></td></tr></table></figure>\n<h5 id=\"效果图\"><a href=\"#效果图\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><ul>\n<li>1</li>\n<li>2</li>\n<li>3</li>\n</ul>\n<h4 id=\"2-有序列表\"><a href=\"#2-有序列表\" class=\"headerlink\" title=\"2. 有序列表\"></a>2. 有序列表</h4><h5 id=\"代码-1\"><a href=\"#代码-1\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"number\">1.</span> <span class=\"number\">1</span></div><div class=\"line\"><span class=\"number\">2.</span> <span class=\"number\">2</span></div><div class=\"line\"><span class=\"number\">3.</span> <span class=\"number\">3</span></div></pre></td></tr></table></figure>\n<h4 id=\"效果图-1\"><a href=\"#效果图-1\" class=\"headerlink\" title=\"效果图\"></a>效果图</h4><ol>\n<li>1</li>\n<li>2</li>\n<li>3</li>\n</ol>\n<h3 id=\"3-引用-blockquote\"><a href=\"#3-引用-blockquote\" class=\"headerlink\" title=\"3.引用(blockquote)\"></a>3.引用(blockquote)</h3><h4 id=\"代码-2\"><a href=\"#代码-2\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&gt;这个是引用的内容</div></pre></td></tr></table></figure>\n<h4 id=\"效果图-2\"><a href=\"#效果图-2\" class=\"headerlink\" title=\"效果图\"></a>效果图</h4><blockquote>\n<p>这个是引用的内容</p>\n</blockquote>\n<h3 id=\"4-图片与链接\"><a href=\"#4-图片与链接\" class=\"headerlink\" title=\"4.图片与链接\"></a>4.图片与链接</h3><h4 id=\"1-图片\"><a href=\"#1-图片\" class=\"headerlink\" title=\"1. 图片\"></a>1. 图片</h4><p>名字、url</p>\n<h5 id=\"代码-3\"><a href=\"#代码-3\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">![<span class=\"string\">小莫</span>](<span class=\"link\">http://mouapp.com/Mou_128.png</span>)</div></pre></td></tr></table></figure>\n<h5 id=\"效果图-3\"><a href=\"#效果图-3\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p><img src=\"http://mouapp.com/Mou_128.png\" alt=\"小莫\"></p>\n<h4 id=\"2-链接\"><a href=\"#2-链接\" class=\"headerlink\" title=\"2.链接\"></a>2.链接</h4><h5 id=\"代码-4\"><a href=\"#代码-4\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"string\">小莫的主页</span>](<span class=\"link\">http://www.xiaomo.info</span>)</div></pre></td></tr></table></figure>\n<h5 id=\"效果图-4\"><a href=\"#效果图-4\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p><a href=\"http://www.xiaomo.info\" target=\"_blank\" rel=\"external\">小莫的主页</a></p>\n<h3 id=\"5-粗体与斜体\"><a href=\"#5-粗体与斜体\" class=\"headerlink\" title=\"5.粗体与斜体\"></a>5.粗体与斜体</h3><h4 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h4><p>用两个 <em> 包含一段文本就是粗体的语法，用一个 </em> 包含一段文本就是斜体的语法。</p>\n<h5 id=\"代码-5\"><a href=\"#代码-5\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">*<span class=\"strong\">*这里是粗体*</span>*</div><div class=\"line\"><span class=\"strong\">*这里是斜体*</span></div></pre></td></tr></table></figure>\n<h5 id=\"效果图-5\"><a href=\"#效果图-5\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p><strong>这里是粗体</strong><br><em>这里是斜体</em></p>\n<h3 id=\"6-表格\"><a href=\"#6-表格\" class=\"headerlink\" title=\"6.表格\"></a>6.表格</h3><h4 id=\"说明：\"><a href=\"#说明：\" class=\"headerlink\" title=\"说明：\"></a>说明：</h4><h5 id=\"代码-6\"><a href=\"#代码-6\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">冒号控制居中样式 连续三根短横线表格</div><div class=\"line\">| Tables        | Are           | Cool  |</div><div class=\"line\">| <span class=\"symbol\">:-----------</span>: |<span class=\"symbol\">:--------</span>:  | <span class=\"symbol\">:---</span><span class=\"symbol\">:|</span></div><div class=\"line\">| col <span class=\"number\">3</span> is      | right-aligned | <span class=\"variable\">$1600</span> |</div><div class=\"line\">| col <span class=\"number\">2</span> is      | centered      |   <span class=\"variable\">$12</span> |</div><div class=\"line\">| zebra stripes | are neat      |    <span class=\"variable\">$1</span> |</div></pre></td></tr></table></figure>\n<h5 id=\"效果图-6\"><a href=\"#效果图-6\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p>冒号控制居中样式 连续三根短横线表格<br>| Tables        | Are           | Cool  |<br>| :———–: |:——–:  | :—:|<br>| col 3 is      | right-aligned | $1600 |<br>| col 2 is      | centered      |   $12 |<br>| zebra stripes | are neat      |    $1 |</p>\n<h3 id=\"7-代码框\"><a href=\"#7-代码框\" class=\"headerlink\" title=\"7.代码框\"></a>7.代码框</h3><p>（一个tab即可,如果没效果用3个飘号[esc下面那个]）</p>\n<pre><code>function Hello(){\n        console.log(&quot;hello&quot;);\n    }\n</code></pre><h3 id=\"8-分割线-hr\"><a href=\"#8-分割线-hr\" class=\"headerlink\" title=\"8.分割线(hr)\"></a>8.分割线(hr)</h3><p>三个或三个以上的星号、减号或者下划线</p>\n<h3 id=\"9-换行、分段\"><a href=\"#9-换行、分段\" class=\"headerlink\" title=\"9.换行、分段\"></a>9.换行、分段</h3><p>行末加两个或以上个空格<br>分段：两个回车</p>\n<h3 id=\"10-带url的目录\"><a href=\"#10-带url的目录\" class=\"headerlink\" title=\"10. 带url的目录\"></a>10. 带url的目录</h3><h4 id=\"代码-7\"><a href=\"#代码-7\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"string\">1. 安装</span>][<span class=\"symbol\">1</span>]  </div><div class=\"line\">[<span class=\"string\">2. 目录结构</span>][<span class=\"symbol\">2</span>]  </div><div class=\"line\">[<span class=\"string\">3. 配置说明</span>][<span class=\"symbol\">3</span>]  </div><div class=\"line\">[<span class=\"string\">4. 编写博客</span>][<span class=\"symbol\">4</span>]  </div><div class=\"line\"></div><div class=\"line\">[<span class=\"symbol\">1</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/install.html</span></div><div class=\"line\">[<span class=\"symbol\">2</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html</span></div><div class=\"line\">[<span class=\"symbol\">3</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/config.html</span></div><div class=\"line\">[<span class=\"symbol\">4</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html</span></div></pre></td></tr></table></figure>\n<h4 id=\"效果图-7\"><a href=\"#效果图-7\" class=\"headerlink\" title=\"效果图\"></a>效果图</h4><p><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/install.html\" target=\"_blank\" rel=\"external\">1. 安装</a><br><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html\" target=\"_blank\" rel=\"external\">2. 目录结构</a><br><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/config.html\" target=\"_blank\" rel=\"external\">3. 配置说明</a><br><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html\" target=\"_blank\" rel=\"external\">4. 编写博客</a>  </p>\n","excerpt":"<p>markdown的一些基本语法，大致够用了<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/markdown.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"1-标题-h标签\"><a href=\"#1-标题-h标签\" class=\"headerlink\" title=\"1.标题(h标签)\"></a>1.标题(h标签)</h3><p>h1-h6对应1-6个#</p>\n<h3 id=\"2-列表-li-gt-li\"><a href=\"#2-列表-li-gt-li\" class=\"headerlink\" title=\"2.列表(li&gt;li)\"></a>2.列表(li&gt;li)</h3><h4 id=\"1-无序列表\"><a href=\"#1-无序列表\" class=\"headerlink\" title=\"1. 无序列表\"></a>1. 无序列表</h4><h5 id=\"代码\"><a href=\"#代码\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"bullet\">* </span>1</div><div class=\"line\"><span class=\"bullet\">* </span>2</div><div class=\"line\"><span class=\"bullet\">* </span>3</div></pre></td></tr></table></figure>\n<h5 id=\"效果图\"><a href=\"#效果图\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><ul>\n<li>1</li>\n<li>2</li>\n<li>3</li>\n</ul>\n<h4 id=\"2-有序列表\"><a href=\"#2-有序列表\" class=\"headerlink\" title=\"2. 有序列表\"></a>2. 有序列表</h4><h5 id=\"代码-1\"><a href=\"#代码-1\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"number\">1.</span> <span class=\"number\">1</span></div><div class=\"line\"><span class=\"number\">2.</span> <span class=\"number\">2</span></div><div class=\"line\"><span class=\"number\">3.</span> <span class=\"number\">3</span></div></pre></td></tr></table></figure>\n<h4 id=\"效果图-1\"><a href=\"#效果图-1\" class=\"headerlink\" title=\"效果图\"></a>效果图</h4><ol>\n<li>1</li>\n<li>2</li>\n<li>3</li>\n</ol>\n<h3 id=\"3-引用-blockquote\"><a href=\"#3-引用-blockquote\" class=\"headerlink\" title=\"3.引用(blockquote)\"></a>3.引用(blockquote)</h3><h4 id=\"代码-2\"><a href=\"#代码-2\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">&gt;这个是引用的内容</div></pre></td></tr></table></figure>\n<h4 id=\"效果图-2\"><a href=\"#效果图-2\" class=\"headerlink\" title=\"效果图\"></a>效果图</h4><blockquote>\n<p>这个是引用的内容</p>\n</blockquote>\n<h3 id=\"4-图片与链接\"><a href=\"#4-图片与链接\" class=\"headerlink\" title=\"4.图片与链接\"></a>4.图片与链接</h3><h4 id=\"1-图片\"><a href=\"#1-图片\" class=\"headerlink\" title=\"1. 图片\"></a>1. 图片</h4><p>名字、url</p>\n<h5 id=\"代码-3\"><a href=\"#代码-3\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">![<span class=\"string\">小莫</span>](<span class=\"link\">http://mouapp.com/Mou_128.png</span>)</div></pre></td></tr></table></figure>\n<h5 id=\"效果图-3\"><a href=\"#效果图-3\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p><img src=\"http://mouapp.com/Mou_128.png\" alt=\"小莫\"></p>\n<h4 id=\"2-链接\"><a href=\"#2-链接\" class=\"headerlink\" title=\"2.链接\"></a>2.链接</h4><h5 id=\"代码-4\"><a href=\"#代码-4\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"string\">小莫的主页</span>](<span class=\"link\">http://www.xiaomo.info</span>)</div></pre></td></tr></table></figure>\n<h5 id=\"效果图-4\"><a href=\"#效果图-4\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p><a href=\"http://www.xiaomo.info\">小莫的主页</a></p>\n<h3 id=\"5-粗体与斜体\"><a href=\"#5-粗体与斜体\" class=\"headerlink\" title=\"5.粗体与斜体\"></a>5.粗体与斜体</h3><h4 id=\"说明\"><a href=\"#说明\" class=\"headerlink\" title=\"说明\"></a>说明</h4><p>用两个 <em> 包含一段文本就是粗体的语法，用一个 </em> 包含一段文本就是斜体的语法。</p>\n<h5 id=\"代码-5\"><a href=\"#代码-5\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">*<span class=\"strong\">*这里是粗体*</span>*</div><div class=\"line\"><span class=\"strong\">*这里是斜体*</span></div></pre></td></tr></table></figure>\n<h5 id=\"效果图-5\"><a href=\"#效果图-5\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p><strong>这里是粗体</strong><br><em>这里是斜体</em></p>\n<h3 id=\"6-表格\"><a href=\"#6-表格\" class=\"headerlink\" title=\"6.表格\"></a>6.表格</h3><h4 id=\"说明：\"><a href=\"#说明：\" class=\"headerlink\" title=\"说明：\"></a>说明：</h4><h5 id=\"代码-6\"><a href=\"#代码-6\" class=\"headerlink\" title=\"代码\"></a>代码</h5><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">冒号控制居中样式 连续三根短横线表格</div><div class=\"line\">| Tables        | Are           | Cool  |</div><div class=\"line\">| <span class=\"symbol\">:-----------</span>: |<span class=\"symbol\">:--------</span>:  | <span class=\"symbol\">:---</span><span class=\"symbol\">:|</span></div><div class=\"line\">| col <span class=\"number\">3</span> is      | right-aligned | <span class=\"variable\">$1600</span> |</div><div class=\"line\">| col <span class=\"number\">2</span> is      | centered      |   <span class=\"variable\">$12</span> |</div><div class=\"line\">| zebra stripes | are neat      |    <span class=\"variable\">$1</span> |</div></pre></td></tr></table></figure>\n<h5 id=\"效果图-6\"><a href=\"#效果图-6\" class=\"headerlink\" title=\"效果图\"></a>效果图</h5><p>冒号控制居中样式 连续三根短横线表格<br>| Tables        | Are           | Cool  |<br>| :———–: |:——–:  | :—:|<br>| col 3 is      | right-aligned | $1600 |<br>| col 2 is      | centered      |   $12 |<br>| zebra stripes | are neat      |    $1 |</p>\n<h3 id=\"7-代码框\"><a href=\"#7-代码框\" class=\"headerlink\" title=\"7.代码框\"></a>7.代码框</h3><p>（一个tab即可,如果没效果用3个飘号[esc下面那个]）</p>\n<pre><code>function Hello(){\n        console.log(&quot;hello&quot;);\n    }\n</code></pre><h3 id=\"8-分割线-hr\"><a href=\"#8-分割线-hr\" class=\"headerlink\" title=\"8.分割线(hr)\"></a>8.分割线(hr)</h3><p>三个或三个以上的星号、减号或者下划线</p>\n<h3 id=\"9-换行、分段\"><a href=\"#9-换行、分段\" class=\"headerlink\" title=\"9.换行、分段\"></a>9.换行、分段</h3><p>行末加两个或以上个空格<br>分段：两个回车</p>\n<h3 id=\"10-带url的目录\"><a href=\"#10-带url的目录\" class=\"headerlink\" title=\"10. 带url的目录\"></a>10. 带url的目录</h3><h4 id=\"代码-7\"><a href=\"#代码-7\" class=\"headerlink\" title=\"代码\"></a>代码</h4><figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"string\">1. 安装</span>][<span class=\"symbol\">1</span>]  </div><div class=\"line\">[<span class=\"string\">2. 目录结构</span>][<span class=\"symbol\">2</span>]  </div><div class=\"line\">[<span class=\"string\">3. 配置说明</span>][<span class=\"symbol\">3</span>]  </div><div class=\"line\">[<span class=\"string\">4. 编写博客</span>][<span class=\"symbol\">4</span>]  </div><div class=\"line\"></div><div class=\"line\">[<span class=\"symbol\">1</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/install.html</span></div><div class=\"line\">[<span class=\"symbol\">2</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html</span></div><div class=\"line\">[<span class=\"symbol\">3</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/config.html</span></div><div class=\"line\">[<span class=\"symbol\">4</span>]:<span class=\"link\">http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html</span></div></pre></td></tr></table></figure>\n<h4 id=\"效果图-7\"><a href=\"#效果图-7\" class=\"headerlink\" title=\"效果图\"></a>效果图</h4><p><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/install.html\">1. 安装</a><br><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/struct.html\">2. 目录结构</a><br><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/config.html\">3. 配置说明</a><br><a href=\"http://gitblogdoc.sinaapp.com/blog/gitblog/edit.html\">4. 编写博客</a>  </p>"},{"author":"小莫","date":"2016-05-13T16:00:00.000Z","title":"我的个人简历","_content":"\n我的简历\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n[点击下载简历](https://image.xiaomo.info/blog/aboutMe.doc)\n","source":"_posts/2016-05-14.aboutme.md","raw":"---\nauthor: 小莫\ndate: 2016-05-14\ntitle: 我的个人简历\ntags:\n- 生活\ncategory: 生活随笔\npermalink: AboutMe\n---\n\n我的简历\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n[点击下载简历](https://image.xiaomo.info/blog/aboutMe.doc)\n","slug":"AboutMe","published":1,"updated":"2016-12-01T07:56:55.940Z","_id":"civ0ggq6f000srwvn4kjosuay","comments":1,"layout":"post","photos":[],"link":"","content":"<p>我的简历<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a><br><a href=\"https://image.xiaomo.info/blog/aboutMe.doc\" target=\"_blank\" rel=\"external\">点击下载简历</a></p>\n","excerpt":"<p>我的简历<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a><br><a href=\"https://image.xiaomo.info/blog/aboutMe.doc\">点击下载简历</a></p>"},{"author":"小莫","date":"2016-05-13T16:00:00.000Z","title":"webpack使用之基础篇","_content":"说到自动化构建，你想到了什么？基于AMD的requirejs？还是基于commoJS的browserify？他们都在各自的领域或者说时代发挥了很重要的作用。但是时代的变迁，webpack成了现在的佼佼者，我们不知道什么时候wepback也会被取代，但是现在我们必须要掌握。我不担心我学完webpack新东西来了就没用了，相反的我很期待也很高兴有新的东西来取代webpack，因为如果能取代，必然是更好的东西。如果是更好的，那又为什么要拒绝呢？活在当下，认真学习。\n\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、基本简介  \nwebpack和requirejs browserify一样，都是一款打包工具，那为什么要选这个？我们进行一个对比\n#### 1. requirejs\n很老的产物了，它兴起的时候web模块化的标准都还没有完善。那个时候出了一款基于AMD的打包工具，\n不得不说对前端的发展起到了至关重要的作用，如果它可以功成身退了。\n#### 2. browserify\n是一个和webpack差不多同时代的产物，但是它只支持基于commonJS，对于AMD来说只能兴叹了。\n并且它只支持打包js,如果你对这两个缺点不那么在意，那么就是它了。\n#### 3. webpack\n支持AMD和commonJS,以模块化为起点,我们不仅可以用它打包js，也可以打包css，\n包括图片。webpack把任何一个文件都看成一个模块，因此你准备好要迎接模块化的挑战了吗？\n\n### 二、环境搭建   \n#### 1. IDE推荐  \n `IDEA`、`webstrom`、`sublime`、`atom`  都是很不错的编辑工具，`idea`大而全，`webstrom`是`idea`的简化版、`sublime`轻量但不失稳重、`atom`新兴但不失典雅，东西不分上下，重在自己喜欢。找一个自己顺手的就好，顺便一提，我现在主要使用`IDEA`、辅助`atom`。因为我是一个`java`党啊，少不了`IDEA`，`atom`的界面是我最喜欢的。\n#### 2. 开始建项目写配置  \n a.新建项目 `mkdir webpack-study && cd webpack-study`  \n b.初始化环境 `npm init -y`  \n c.安装工具(如果你没安装taobao源，把cnpm换成npm)  `npm install --save-dev webpack webpack-dev-server`  \n说明:webpack是核心文件、wepback-dev-server是类http-server的web启动工具，建议安装一下这个server  \nd.新建配置文件  (名字一定不能换) `touch webpack.config.js`  \ne. 配置webpack\n\n```\nmodule.exprots={\n  entry:'./index.js',\n  output:{\n    path:__dirname+'/dist',\n    filename:'bundle.js'\n  }\n}\n```\n\n说明:  \n模块化`module.export`\n入口文件:`entry` 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了  \n输出 `output`,`path`是输出路径,`__dirname`是nodejs的全局变量，表示当前目录, `filename`，打包后的文件名\n\n### 三、 写一个小测试\n#### 1. 新建入口文件并写入文件  \n`vim index.js`  \n`document.write('Hello world');`  \n#### 2. 新建一个css  \n`touch style.css`  \n```\n  body{\n    background-color:pink;\n  }\n```\n\n#### 3.新建一个html  \n`touch index.html`  \n写下以下内容  \n```\n  <!doctype html>\n  <html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>hello webpack</title>\n    <script src=\"dist/bundle.js\"></script>\n  </head>\n  <body>\n  </body>\n  </html>\n```\n\n说明:  \n模块化`module.export`\n入口文件:`entry` 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了  \n输出 `output`,`path`是输出路径,`__dirname`是nodejs的全局变量，表示当前目录, `filename`，打包后的文件名\n\n### 三、 写一个小测试\n#### 1. 新建入口文件并写入文件  \n`vim index.js`  `document.write('Hello world');`  \n#### 2. 新建一个css  \n`touch style.css`  \n\n```\n  body{\n    background-color:pink;\n  }\n```\n\n#### 3.新建一个html  \n`touch index.html`  \n写下以下内容  \n```\n  <!doctype html>\n  <html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>hello webpack</title>\n    <script src=\"dist/bundle.js\"></script>\n  </head>\n  <body>\n  </body>\n  </html>\n```\n\n#### 4.webpack的重头戏\n\n那就是loaders，wepback的一大特色就是可以将一些浏览器不能原生支持的文件通过loaders编译成浏览器可以支持的文件\na.安装loaders  \n`npm install style-loader css-loader `  \nb.打开`webpack.config.js`  \n添加模块\n```\n  module:{\n    loaders:[\n    {\n      test:/\\.css$/,\n      loaders:['style-loader','css-loader']\n      }\n  ]\n\n  }\n```\n\n说明：  \n模块下定义大的loaders去loader需要的东西，它是一个数组，意味着它可以定义多个  \n一个对象就是一个loader，`test`用正则匹配文件后缀  \nloaders指定采用哪个loader,注意它是从右往左执行，所以这里先执行css-loader  \n`css-loader`处理css的一些url，包括相对的绝对的之类的东西  \n`style-loader` 是将css文件采用js动态写入html页面\nc.使用css  \n打开`index.js`  (因为我们这里没有用babel,所以就用es5来写)\n`require('./style.css');`\n\n### 四、查看效果\n我们现在可以使用`webpack-dev-server`这个东西了\n如果你己经全局安装了(`cnpm install -g webpack-dev-server`),直接命令`webpack-dev-server`就可以开起来了，当然你也可以在package.json文件里面添加script，文件如下\n\n```\n{\n\"name\": \"webpack-study\",\n\"version\": \"1.0.0\",\n\"description\": \"\",\n\"main\": \"index.js\",\n\"scripts\": {\n\"start\":\"webpack-dev-server --progcess\",\n\"build\":\"webpack --progress\",\n\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n},\n\"keywords\": [],\n\"author\": \"\",\n\"license\": \"ISC\",\n\"devDependencies\": {\n\"css-loader\": \"^0.23.1\",\n\"style-loader\": \"^0.13.1\",\n\"webpack\": \"^1.13.0\",\n\"webpack-dev-server\": \"^1.14.1\"\n  }\n}\n\n```\n\n这里我们就可以使用`npm run build`来编译，使用`npm run start`来开启服务器  \n\n```\n➜  webpack-study git:(master) ✗ npm run build\n\n> webpack-study@1.0.0 build /Users/xiaomo/workspace/webpack-study\n> webpack --progress\nHash: 11ffef2911f2436a3948\nVersion: webpack 1.13.0\nTime: 64ms\n    Asset     Size  Chunks             Chunk Names\nbundle.js  1.42 kB       0  [emitted]  main\n   [0] ./index.js 30 bytes {0} [built]\n   ➜  webpack-study git:(master) ✗ npm run start\n\n   > webpack-study@1.0.0 start /Users/xiaomo/workspace/webpack-study\n   > webpack-dev-server --progcess\n\n   http://localhost:8080/webpack-dev-server/\n   webpack result is served from /\n   content is served from /Users/xiaomo/workspace/webpack-study\n   Hash: 11ffef2911f2436a3948\n   Version: webpack 1.13.0\n   Time: 80ms\n       Asset     Size  Chunks             Chunk Names\n   bundle.js  1.42 kB       0  [emitted]  main\n   chunk    {0} bundle.js (main) 30 bytes [rendered]\n       [0] ./index.js 30 bytes {0} [built]\n   webpack: bundle is now VALID.\n\n```\n\nb.然后访问 http://locahost:8080 就可以看到效果了\n\n### 五、动态效果展示和总结\n#### 1. 总共有5个文件\n`webpack.config.ks`、`index.js`、`index.html`、`style.css`、`package.json`，编译好要使用的只有`index.html`和`dist/bundle.js`两个文件\n#### 2. gif动画\n会展示一下5个文件的内容\n#### 3. 演示一下效果\n![webpack的简单使用](https://image.xiaomo.info/banner/webpack.gif)\n如果觉得图小可以点击下面链接查看大图  \n[webpack的简单使用](https://image.xiaomo.info/webpack/webpack.gif)\n","source":"_posts/2016-05-14.webpack_basic_use.md","raw":"---\nauthor: 小莫\ndate: 2016-05-14\ntitle: webpack使用之基础篇\ntags:\n- webpack\n- 开发工具\ncategory: 开发工具\npermalink: WebpackBasicUse\n---\n说到自动化构建，你想到了什么？基于AMD的requirejs？还是基于commoJS的browserify？他们都在各自的领域或者说时代发挥了很重要的作用。但是时代的变迁，webpack成了现在的佼佼者，我们不知道什么时候wepback也会被取代，但是现在我们必须要掌握。我不担心我学完webpack新东西来了就没用了，相反的我很期待也很高兴有新的东西来取代webpack，因为如果能取代，必然是更好的东西。如果是更好的，那又为什么要拒绝呢？活在当下，认真学习。\n\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、基本简介  \nwebpack和requirejs browserify一样，都是一款打包工具，那为什么要选这个？我们进行一个对比\n#### 1. requirejs\n很老的产物了，它兴起的时候web模块化的标准都还没有完善。那个时候出了一款基于AMD的打包工具，\n不得不说对前端的发展起到了至关重要的作用，如果它可以功成身退了。\n#### 2. browserify\n是一个和webpack差不多同时代的产物，但是它只支持基于commonJS，对于AMD来说只能兴叹了。\n并且它只支持打包js,如果你对这两个缺点不那么在意，那么就是它了。\n#### 3. webpack\n支持AMD和commonJS,以模块化为起点,我们不仅可以用它打包js，也可以打包css，\n包括图片。webpack把任何一个文件都看成一个模块，因此你准备好要迎接模块化的挑战了吗？\n\n### 二、环境搭建   \n#### 1. IDE推荐  \n `IDEA`、`webstrom`、`sublime`、`atom`  都是很不错的编辑工具，`idea`大而全，`webstrom`是`idea`的简化版、`sublime`轻量但不失稳重、`atom`新兴但不失典雅，东西不分上下，重在自己喜欢。找一个自己顺手的就好，顺便一提，我现在主要使用`IDEA`、辅助`atom`。因为我是一个`java`党啊，少不了`IDEA`，`atom`的界面是我最喜欢的。\n#### 2. 开始建项目写配置  \n a.新建项目 `mkdir webpack-study && cd webpack-study`  \n b.初始化环境 `npm init -y`  \n c.安装工具(如果你没安装taobao源，把cnpm换成npm)  `npm install --save-dev webpack webpack-dev-server`  \n说明:webpack是核心文件、wepback-dev-server是类http-server的web启动工具，建议安装一下这个server  \nd.新建配置文件  (名字一定不能换) `touch webpack.config.js`  \ne. 配置webpack\n\n```\nmodule.exprots={\n  entry:'./index.js',\n  output:{\n    path:__dirname+'/dist',\n    filename:'bundle.js'\n  }\n}\n```\n\n说明:  \n模块化`module.export`\n入口文件:`entry` 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了  \n输出 `output`,`path`是输出路径,`__dirname`是nodejs的全局变量，表示当前目录, `filename`，打包后的文件名\n\n### 三、 写一个小测试\n#### 1. 新建入口文件并写入文件  \n`vim index.js`  \n`document.write('Hello world');`  \n#### 2. 新建一个css  \n`touch style.css`  \n```\n  body{\n    background-color:pink;\n  }\n```\n\n#### 3.新建一个html  \n`touch index.html`  \n写下以下内容  \n```\n  <!doctype html>\n  <html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>hello webpack</title>\n    <script src=\"dist/bundle.js\"></script>\n  </head>\n  <body>\n  </body>\n  </html>\n```\n\n说明:  \n模块化`module.export`\n入口文件:`entry` 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了  \n输出 `output`,`path`是输出路径,`__dirname`是nodejs的全局变量，表示当前目录, `filename`，打包后的文件名\n\n### 三、 写一个小测试\n#### 1. 新建入口文件并写入文件  \n`vim index.js`  `document.write('Hello world');`  \n#### 2. 新建一个css  \n`touch style.css`  \n\n```\n  body{\n    background-color:pink;\n  }\n```\n\n#### 3.新建一个html  \n`touch index.html`  \n写下以下内容  \n```\n  <!doctype html>\n  <html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>hello webpack</title>\n    <script src=\"dist/bundle.js\"></script>\n  </head>\n  <body>\n  </body>\n  </html>\n```\n\n#### 4.webpack的重头戏\n\n那就是loaders，wepback的一大特色就是可以将一些浏览器不能原生支持的文件通过loaders编译成浏览器可以支持的文件\na.安装loaders  \n`npm install style-loader css-loader `  \nb.打开`webpack.config.js`  \n添加模块\n```\n  module:{\n    loaders:[\n    {\n      test:/\\.css$/,\n      loaders:['style-loader','css-loader']\n      }\n  ]\n\n  }\n```\n\n说明：  \n模块下定义大的loaders去loader需要的东西，它是一个数组，意味着它可以定义多个  \n一个对象就是一个loader，`test`用正则匹配文件后缀  \nloaders指定采用哪个loader,注意它是从右往左执行，所以这里先执行css-loader  \n`css-loader`处理css的一些url，包括相对的绝对的之类的东西  \n`style-loader` 是将css文件采用js动态写入html页面\nc.使用css  \n打开`index.js`  (因为我们这里没有用babel,所以就用es5来写)\n`require('./style.css');`\n\n### 四、查看效果\n我们现在可以使用`webpack-dev-server`这个东西了\n如果你己经全局安装了(`cnpm install -g webpack-dev-server`),直接命令`webpack-dev-server`就可以开起来了，当然你也可以在package.json文件里面添加script，文件如下\n\n```\n{\n\"name\": \"webpack-study\",\n\"version\": \"1.0.0\",\n\"description\": \"\",\n\"main\": \"index.js\",\n\"scripts\": {\n\"start\":\"webpack-dev-server --progcess\",\n\"build\":\"webpack --progress\",\n\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\n},\n\"keywords\": [],\n\"author\": \"\",\n\"license\": \"ISC\",\n\"devDependencies\": {\n\"css-loader\": \"^0.23.1\",\n\"style-loader\": \"^0.13.1\",\n\"webpack\": \"^1.13.0\",\n\"webpack-dev-server\": \"^1.14.1\"\n  }\n}\n\n```\n\n这里我们就可以使用`npm run build`来编译，使用`npm run start`来开启服务器  \n\n```\n➜  webpack-study git:(master) ✗ npm run build\n\n> webpack-study@1.0.0 build /Users/xiaomo/workspace/webpack-study\n> webpack --progress\nHash: 11ffef2911f2436a3948\nVersion: webpack 1.13.0\nTime: 64ms\n    Asset     Size  Chunks             Chunk Names\nbundle.js  1.42 kB       0  [emitted]  main\n   [0] ./index.js 30 bytes {0} [built]\n   ➜  webpack-study git:(master) ✗ npm run start\n\n   > webpack-study@1.0.0 start /Users/xiaomo/workspace/webpack-study\n   > webpack-dev-server --progcess\n\n   http://localhost:8080/webpack-dev-server/\n   webpack result is served from /\n   content is served from /Users/xiaomo/workspace/webpack-study\n   Hash: 11ffef2911f2436a3948\n   Version: webpack 1.13.0\n   Time: 80ms\n       Asset     Size  Chunks             Chunk Names\n   bundle.js  1.42 kB       0  [emitted]  main\n   chunk    {0} bundle.js (main) 30 bytes [rendered]\n       [0] ./index.js 30 bytes {0} [built]\n   webpack: bundle is now VALID.\n\n```\n\nb.然后访问 http://locahost:8080 就可以看到效果了\n\n### 五、动态效果展示和总结\n#### 1. 总共有5个文件\n`webpack.config.ks`、`index.js`、`index.html`、`style.css`、`package.json`，编译好要使用的只有`index.html`和`dist/bundle.js`两个文件\n#### 2. gif动画\n会展示一下5个文件的内容\n#### 3. 演示一下效果\n![webpack的简单使用](https://image.xiaomo.info/banner/webpack.gif)\n如果觉得图小可以点击下面链接查看大图  \n[webpack的简单使用](https://image.xiaomo.info/webpack/webpack.gif)\n","slug":"WebpackBasicUse","published":1,"updated":"2016-12-01T07:56:55.815Z","_id":"civ0ggq6i000xrwvnyoyp3e7k","comments":1,"layout":"post","photos":[],"link":"","content":"<p>说到自动化构建，你想到了什么？基于AMD的requirejs？还是基于commoJS的browserify？他们都在各自的领域或者说时代发挥了很重要的作用。但是时代的变迁，webpack成了现在的佼佼者，我们不知道什么时候wepback也会被取代，但是现在我们必须要掌握。我不担心我学完webpack新东西来了就没用了，相反的我很期待也很高兴有新的东西来取代webpack，因为如果能取代，必然是更好的东西。如果是更好的，那又为什么要拒绝呢？活在当下，认真学习。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、基本简介\"><a href=\"#一、基本简介\" class=\"headerlink\" title=\"一、基本简介\"></a>一、基本简介</h3><p>webpack和requirejs browserify一样，都是一款打包工具，那为什么要选这个？我们进行一个对比</p>\n<h4 id=\"1-requirejs\"><a href=\"#1-requirejs\" class=\"headerlink\" title=\"1. requirejs\"></a>1. requirejs</h4><p>很老的产物了，它兴起的时候web模块化的标准都还没有完善。那个时候出了一款基于AMD的打包工具，<br>不得不说对前端的发展起到了至关重要的作用，如果它可以功成身退了。</p>\n<h4 id=\"2-browserify\"><a href=\"#2-browserify\" class=\"headerlink\" title=\"2. browserify\"></a>2. browserify</h4><p>是一个和webpack差不多同时代的产物，但是它只支持基于commonJS，对于AMD来说只能兴叹了。<br>并且它只支持打包js,如果你对这两个缺点不那么在意，那么就是它了。</p>\n<h4 id=\"3-webpack\"><a href=\"#3-webpack\" class=\"headerlink\" title=\"3. webpack\"></a>3. webpack</h4><p>支持AMD和commonJS,以模块化为起点,我们不仅可以用它打包js，也可以打包css，<br>包括图片。webpack把任何一个文件都看成一个模块，因此你准备好要迎接模块化的挑战了吗？</p>\n<h3 id=\"二、环境搭建\"><a href=\"#二、环境搭建\" class=\"headerlink\" title=\"二、环境搭建\"></a>二、环境搭建</h3><h4 id=\"1-IDE推荐\"><a href=\"#1-IDE推荐\" class=\"headerlink\" title=\"1. IDE推荐\"></a>1. IDE推荐</h4><p> <code>IDEA</code>、<code>webstrom</code>、<code>sublime</code>、<code>atom</code>  都是很不错的编辑工具，<code>idea</code>大而全，<code>webstrom</code>是<code>idea</code>的简化版、<code>sublime</code>轻量但不失稳重、<code>atom</code>新兴但不失典雅，东西不分上下，重在自己喜欢。找一个自己顺手的就好，顺便一提，我现在主要使用<code>IDEA</code>、辅助<code>atom</code>。因为我是一个<code>java</code>党啊，少不了<code>IDEA</code>，<code>atom</code>的界面是我最喜欢的。</p>\n<h4 id=\"2-开始建项目写配置\"><a href=\"#2-开始建项目写配置\" class=\"headerlink\" title=\"2. 开始建项目写配置\"></a>2. 开始建项目写配置</h4><p> a.新建项目 <code>mkdir webpack-study &amp;&amp; cd webpack-study</code><br> b.初始化环境 <code>npm init -y</code><br> c.安装工具(如果你没安装taobao源，把cnpm换成npm)  <code>npm install --save-dev webpack webpack-dev-server</code><br>说明:webpack是核心文件、wepback-dev-server是类http-server的web启动工具，建议安装一下这个server<br>d.新建配置文件  (名字一定不能换) <code>touch webpack.config.js</code><br>e. 配置webpack</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">module.exprots=&#123;</div><div class=\"line\">  entry:<span class=\"string\">'./index.js'</span>,</div><div class=\"line\">  output:&#123;</div><div class=\"line\">    path:__dirname+<span class=\"string\">'/dist'</span>,</div><div class=\"line\">    filename:<span class=\"string\">'bundle.js'</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>说明:<br>模块化<code>module.export</code><br>入口文件:<code>entry</code> 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了<br>输出 <code>output</code>,<code>path</code>是输出路径,<code>__dirname</code>是nodejs的全局变量，表示当前目录, <code>filename</code>，打包后的文件名</p>\n<h3 id=\"三、-写一个小测试\"><a href=\"#三、-写一个小测试\" class=\"headerlink\" title=\"三、 写一个小测试\"></a>三、 写一个小测试</h3><h4 id=\"1-新建入口文件并写入文件\"><a href=\"#1-新建入口文件并写入文件\" class=\"headerlink\" title=\"1. 新建入口文件并写入文件\"></a>1. 新建入口文件并写入文件</h4><p><code>vim index.js</code><br><code>document.write(&#39;Hello world&#39;);</code>  </p>\n<h4 id=\"2-新建一个css\"><a href=\"#2-新建一个css\" class=\"headerlink\" title=\"2. 新建一个css\"></a>2. 新建一个css</h4><p><code>touch style.css</code><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">body</span>&#123;</div><div class=\"line\">  <span class=\"attribute\">background-color</span>:pink;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"3-新建一个html\"><a href=\"#3-新建一个html\" class=\"headerlink\" title=\"3.新建一个html\"></a>3.新建一个html</h4><p><code>touch index.html</code><br>写下以下内容<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!doctype html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>hello webpack<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"dist/bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<p>说明:<br>模块化<code>module.export</code><br>入口文件:<code>entry</code> 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了<br>输出 <code>output</code>,<code>path</code>是输出路径,<code>__dirname</code>是nodejs的全局变量，表示当前目录, <code>filename</code>，打包后的文件名</p>\n<h3 id=\"三、-写一个小测试-1\"><a href=\"#三、-写一个小测试-1\" class=\"headerlink\" title=\"三、 写一个小测试\"></a>三、 写一个小测试</h3><h4 id=\"1-新建入口文件并写入文件-1\"><a href=\"#1-新建入口文件并写入文件-1\" class=\"headerlink\" title=\"1. 新建入口文件并写入文件\"></a>1. 新建入口文件并写入文件</h4><p><code>vim index.js</code>  <code>document.write(&#39;Hello world&#39;);</code>  </p>\n<h4 id=\"2-新建一个css-1\"><a href=\"#2-新建一个css-1\" class=\"headerlink\" title=\"2. 新建一个css\"></a>2. 新建一个css</h4><p><code>touch style.css</code>  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">body</span>&#123;</div><div class=\"line\">  <span class=\"attribute\">background-color</span>:pink;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-新建一个html-1\"><a href=\"#3-新建一个html-1\" class=\"headerlink\" title=\"3.新建一个html\"></a>3.新建一个html</h4><p><code>touch index.html</code><br>写下以下内容<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!doctype html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>hello webpack<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"dist/bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<h4 id=\"4-webpack的重头戏\"><a href=\"#4-webpack的重头戏\" class=\"headerlink\" title=\"4.webpack的重头戏\"></a>4.webpack的重头戏</h4><p>那就是loaders，wepback的一大特色就是可以将一些浏览器不能原生支持的文件通过loaders编译成浏览器可以支持的文件<br>a.安装loaders<br><code>npm install style-loader css-loader</code><br>b.打开<code>webpack.config.js</code><br>添加模块<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>:&#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>:[</div><div class=\"line\">  &#123;</div><div class=\"line\">    test:/\\.css$/,</div><div class=\"line\">    loaders:[<span class=\"string\">'style-loader'</span>,<span class=\"string\">'css-loader'</span>]</div><div class=\"line\">    &#125;</div><div class=\"line\">]</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>说明：<br>模块下定义大的loaders去loader需要的东西，它是一个数组，意味着它可以定义多个<br>一个对象就是一个loader，<code>test</code>用正则匹配文件后缀<br>loaders指定采用哪个loader,注意它是从右往左执行，所以这里先执行css-loader<br><code>css-loader</code>处理css的一些url，包括相对的绝对的之类的东西<br><code>style-loader</code> 是将css文件采用js动态写入html页面<br>c.使用css<br>打开<code>index.js</code>  (因为我们这里没有用babel,所以就用es5来写)<br><code>require(&#39;./style.css&#39;);</code></p>\n<h3 id=\"四、查看效果\"><a href=\"#四、查看效果\" class=\"headerlink\" title=\"四、查看效果\"></a>四、查看效果</h3><p>我们现在可以使用<code>webpack-dev-server</code>这个东西了<br>如果你己经全局安装了(<code>cnpm install -g webpack-dev-server</code>),直接命令<code>webpack-dev-server</code>就可以开起来了，当然你也可以在package.json文件里面添加script，文件如下</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\"><span class=\"attr\">\"name\"</span>: <span class=\"string\">\"webpack-study\"</span>,</div><div class=\"line\"><span class=\"attr\">\"version\"</span>: <span class=\"string\">\"1.0.0\"</span>,</div><div class=\"line\"><span class=\"attr\">\"description\"</span>: <span class=\"string\">\"\"</span>,</div><div class=\"line\"><span class=\"attr\">\"main\"</span>: <span class=\"string\">\"index.js\"</span>,</div><div class=\"line\"><span class=\"attr\">\"scripts\"</span>: &#123;</div><div class=\"line\"><span class=\"attr\">\"start\"</span>:<span class=\"string\">\"webpack-dev-server --progcess\"</span>,</div><div class=\"line\"><span class=\"attr\">\"build\"</span>:<span class=\"string\">\"webpack --progress\"</span>,</div><div class=\"line\"><span class=\"attr\">\"test\"</span>: <span class=\"string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span></div><div class=\"line\">&#125;,</div><div class=\"line\"><span class=\"attr\">\"keywords\"</span>: [],</div><div class=\"line\"><span class=\"attr\">\"author\"</span>: <span class=\"string\">\"\"</span>,</div><div class=\"line\"><span class=\"attr\">\"license\"</span>: <span class=\"string\">\"ISC\"</span>,</div><div class=\"line\"><span class=\"attr\">\"devDependencies\"</span>: &#123;</div><div class=\"line\"><span class=\"attr\">\"css-loader\"</span>: <span class=\"string\">\"^0.23.1\"</span>,</div><div class=\"line\"><span class=\"attr\">\"style-loader\"</span>: <span class=\"string\">\"^0.13.1\"</span>,</div><div class=\"line\"><span class=\"attr\">\"webpack\"</span>: <span class=\"string\">\"^1.13.0\"</span>,</div><div class=\"line\"><span class=\"attr\">\"webpack-dev-server\"</span>: <span class=\"string\">\"^1.14.1\"</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>这里我们就可以使用<code>npm run build</code>来编译，使用<code>npm run start</code>来开启服务器  </p>\n<figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">➜  webpack-study git:(master) ✗ npm run build</div><div class=\"line\"></div><div class=\"line\">&gt; webpack-study@<span class=\"number\">1.0</span><span class=\"number\">.0</span> build /Users<span class=\"meta-keyword\">/xiaomo/</span>workspace/webpack-study</div><div class=\"line\">&gt; webpack --progress</div><div class=\"line\"><span class=\"symbol\">Hash:</span> <span class=\"number\">11f</span>fef2911f2436a3948</div><div class=\"line\"><span class=\"symbol\">Version:</span> webpack <span class=\"number\">1.13</span><span class=\"number\">.0</span></div><div class=\"line\"><span class=\"symbol\">Time:</span> <span class=\"number\">64</span>ms</div><div class=\"line\">    Asset     Size  Chunks             Chunk Names</div><div class=\"line\">bundle.js  <span class=\"number\">1.42</span> kB       <span class=\"number\">0</span>  [emitted]  main</div><div class=\"line\">   [<span class=\"number\">0</span>] ./index.js <span class=\"number\">30</span> <span class=\"class\">bytes </span>&#123;<span class=\"number\">0</span>&#125; [built]</div><div class=\"line\">   ➜  webpack-study git:(master) ✗ npm run start</div><div class=\"line\"></div><div class=\"line\">   &gt; webpack-study@<span class=\"number\">1.0</span><span class=\"number\">.0</span> start /Users<span class=\"meta-keyword\">/xiaomo/</span>workspace/webpack-study</div><div class=\"line\">   &gt; webpack-dev-server --progcess</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">   http:<span class=\"comment\">//localhost:8080/webpack-dev-server/</span></div><div class=\"line\">   webpack result is served from /</div><div class=\"line\">   content is served from /Users<span class=\"meta-keyword\">/xiaomo/</span>workspace/webpack-study</div><div class=\"line\"><span class=\"symbol\">   Hash:</span> <span class=\"number\">11f</span>fef2911f2436a3948</div><div class=\"line\"><span class=\"symbol\">   Version:</span> webpack <span class=\"number\">1.13</span><span class=\"number\">.0</span></div><div class=\"line\"><span class=\"symbol\">   Time:</span> <span class=\"number\">80</span>ms</div><div class=\"line\">       Asset     Size  Chunks             Chunk Names</div><div class=\"line\">   bundle.js  <span class=\"number\">1.42</span> kB       <span class=\"number\">0</span>  [emitted]  main</div><div class=\"line\">   chunk    &#123;<span class=\"number\">0</span>&#125; bundle.js (main) <span class=\"number\">30</span> bytes [rendered]</div><div class=\"line\">       [<span class=\"number\">0</span>] ./index.js <span class=\"number\">30</span> <span class=\"class\">bytes </span>&#123;<span class=\"number\">0</span>&#125; [built]</div><div class=\"line\"><span class=\"symbol\">   webpack:</span> bundle is now VALID.</div></pre></td></tr></table></figure>\n<p>b.然后访问 <a href=\"http://locahost:8080\" target=\"_blank\" rel=\"external\">http://locahost:8080</a> 就可以看到效果了</p>\n<h3 id=\"五、动态效果展示和总结\"><a href=\"#五、动态效果展示和总结\" class=\"headerlink\" title=\"五、动态效果展示和总结\"></a>五、动态效果展示和总结</h3><h4 id=\"1-总共有5个文件\"><a href=\"#1-总共有5个文件\" class=\"headerlink\" title=\"1. 总共有5个文件\"></a>1. 总共有5个文件</h4><p><code>webpack.config.ks</code>、<code>index.js</code>、<code>index.html</code>、<code>style.css</code>、<code>package.json</code>，编译好要使用的只有<code>index.html</code>和<code>dist/bundle.js</code>两个文件</p>\n<h4 id=\"2-gif动画\"><a href=\"#2-gif动画\" class=\"headerlink\" title=\"2. gif动画\"></a>2. gif动画</h4><p>会展示一下5个文件的内容</p>\n<h4 id=\"3-演示一下效果\"><a href=\"#3-演示一下效果\" class=\"headerlink\" title=\"3. 演示一下效果\"></a>3. 演示一下效果</h4><p><img src=\"https://image.xiaomo.info/banner/webpack.gif\" alt=\"webpack的简单使用\"><br>如果觉得图小可以点击下面链接查看大图<br><a href=\"https://image.xiaomo.info/webpack/webpack.gif\" target=\"_blank\" rel=\"external\">webpack的简单使用</a></p>\n","excerpt":"<p>说到自动化构建，你想到了什么？基于AMD的requirejs？还是基于commoJS的browserify？他们都在各自的领域或者说时代发挥了很重要的作用。但是时代的变迁，webpack成了现在的佼佼者，我们不知道什么时候wepback也会被取代，但是现在我们必须要掌握。我不担心我学完webpack新东西来了就没用了，相反的我很期待也很高兴有新的东西来取代webpack，因为如果能取代，必然是更好的东西。如果是更好的，那又为什么要拒绝呢？活在当下，认真学习。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、基本简介\"><a href=\"#一、基本简介\" class=\"headerlink\" title=\"一、基本简介\"></a>一、基本简介</h3><p>webpack和requirejs browserify一样，都是一款打包工具，那为什么要选这个？我们进行一个对比</p>\n<h4 id=\"1-requirejs\"><a href=\"#1-requirejs\" class=\"headerlink\" title=\"1. requirejs\"></a>1. requirejs</h4><p>很老的产物了，它兴起的时候web模块化的标准都还没有完善。那个时候出了一款基于AMD的打包工具，<br>不得不说对前端的发展起到了至关重要的作用，如果它可以功成身退了。</p>\n<h4 id=\"2-browserify\"><a href=\"#2-browserify\" class=\"headerlink\" title=\"2. browserify\"></a>2. browserify</h4><p>是一个和webpack差不多同时代的产物，但是它只支持基于commonJS，对于AMD来说只能兴叹了。<br>并且它只支持打包js,如果你对这两个缺点不那么在意，那么就是它了。</p>\n<h4 id=\"3-webpack\"><a href=\"#3-webpack\" class=\"headerlink\" title=\"3. webpack\"></a>3. webpack</h4><p>支持AMD和commonJS,以模块化为起点,我们不仅可以用它打包js，也可以打包css，<br>包括图片。webpack把任何一个文件都看成一个模块，因此你准备好要迎接模块化的挑战了吗？</p>\n<h3 id=\"二、环境搭建\"><a href=\"#二、环境搭建\" class=\"headerlink\" title=\"二、环境搭建\"></a>二、环境搭建</h3><h4 id=\"1-IDE推荐\"><a href=\"#1-IDE推荐\" class=\"headerlink\" title=\"1. IDE推荐\"></a>1. IDE推荐</h4><p> <code>IDEA</code>、<code>webstrom</code>、<code>sublime</code>、<code>atom</code>  都是很不错的编辑工具，<code>idea</code>大而全，<code>webstrom</code>是<code>idea</code>的简化版、<code>sublime</code>轻量但不失稳重、<code>atom</code>新兴但不失典雅，东西不分上下，重在自己喜欢。找一个自己顺手的就好，顺便一提，我现在主要使用<code>IDEA</code>、辅助<code>atom</code>。因为我是一个<code>java</code>党啊，少不了<code>IDEA</code>，<code>atom</code>的界面是我最喜欢的。</p>\n<h4 id=\"2-开始建项目写配置\"><a href=\"#2-开始建项目写配置\" class=\"headerlink\" title=\"2. 开始建项目写配置\"></a>2. 开始建项目写配置</h4><p> a.新建项目 <code>mkdir webpack-study &amp;&amp; cd webpack-study</code><br> b.初始化环境 <code>npm init -y</code><br> c.安装工具(如果你没安装taobao源，把cnpm换成npm)  <code>npm install --save-dev webpack webpack-dev-server</code><br>说明:webpack是核心文件、wepback-dev-server是类http-server的web启动工具，建议安装一下这个server<br>d.新建配置文件  (名字一定不能换) <code>touch webpack.config.js</code><br>e. 配置webpack</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">module.exprots=&#123;</div><div class=\"line\">  entry:<span class=\"string\">'./index.js'</span>,</div><div class=\"line\">  output:&#123;</div><div class=\"line\">    path:__dirname+<span class=\"string\">'/dist'</span>,</div><div class=\"line\">    filename:<span class=\"string\">'bundle.js'</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>说明:<br>模块化<code>module.export</code><br>入口文件:<code>entry</code> 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了<br>输出 <code>output</code>,<code>path</code>是输出路径,<code>__dirname</code>是nodejs的全局变量，表示当前目录, <code>filename</code>，打包后的文件名</p>\n<h3 id=\"三、-写一个小测试\"><a href=\"#三、-写一个小测试\" class=\"headerlink\" title=\"三、 写一个小测试\"></a>三、 写一个小测试</h3><h4 id=\"1-新建入口文件并写入文件\"><a href=\"#1-新建入口文件并写入文件\" class=\"headerlink\" title=\"1. 新建入口文件并写入文件\"></a>1. 新建入口文件并写入文件</h4><p><code>vim index.js</code><br><code>document.write(&#39;Hello world&#39;);</code>  </p>\n<h4 id=\"2-新建一个css\"><a href=\"#2-新建一个css\" class=\"headerlink\" title=\"2. 新建一个css\"></a>2. 新建一个css</h4><p><code>touch style.css</code><br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">body</span>&#123;</div><div class=\"line\">  <span class=\"attribute\">background-color</span>:pink;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"3-新建一个html\"><a href=\"#3-新建一个html\" class=\"headerlink\" title=\"3.新建一个html\"></a>3.新建一个html</h4><p><code>touch index.html</code><br>写下以下内容<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!doctype html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>hello webpack<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"dist/bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<p>说明:<br>模块化<code>module.export</code><br>入口文件:<code>entry</code> 有几个页面就有几个entry 如果是单页面（spa)，一个entry就够了<br>输出 <code>output</code>,<code>path</code>是输出路径,<code>__dirname</code>是nodejs的全局变量，表示当前目录, <code>filename</code>，打包后的文件名</p>\n<h3 id=\"三、-写一个小测试-1\"><a href=\"#三、-写一个小测试-1\" class=\"headerlink\" title=\"三、 写一个小测试\"></a>三、 写一个小测试</h3><h4 id=\"1-新建入口文件并写入文件-1\"><a href=\"#1-新建入口文件并写入文件-1\" class=\"headerlink\" title=\"1. 新建入口文件并写入文件\"></a>1. 新建入口文件并写入文件</h4><p><code>vim index.js</code>  <code>document.write(&#39;Hello world&#39;);</code>  </p>\n<h4 id=\"2-新建一个css-1\"><a href=\"#2-新建一个css-1\" class=\"headerlink\" title=\"2. 新建一个css\"></a>2. 新建一个css</h4><p><code>touch style.css</code>  </p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">body</span>&#123;</div><div class=\"line\">  <span class=\"attribute\">background-color</span>:pink;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-新建一个html-1\"><a href=\"#3-新建一个html-1\" class=\"headerlink\" title=\"3.新建一个html\"></a>3.新建一个html</h4><p><code>touch index.html</code><br>写下以下内容<br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!doctype html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"en\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>hello webpack<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"dist/bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<h4 id=\"4-webpack的重头戏\"><a href=\"#4-webpack的重头戏\" class=\"headerlink\" title=\"4.webpack的重头戏\"></a>4.webpack的重头戏</h4><p>那就是loaders，wepback的一大特色就是可以将一些浏览器不能原生支持的文件通过loaders编译成浏览器可以支持的文件<br>a.安装loaders<br><code>npm install style-loader css-loader</code><br>b.打开<code>webpack.config.js</code><br>添加模块<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>:&#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>:[</div><div class=\"line\">  &#123;</div><div class=\"line\">    test:/\\.css$/,</div><div class=\"line\">    loaders:[<span class=\"string\">'style-loader'</span>,<span class=\"string\">'css-loader'</span>]</div><div class=\"line\">    &#125;</div><div class=\"line\">]</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>说明：<br>模块下定义大的loaders去loader需要的东西，它是一个数组，意味着它可以定义多个<br>一个对象就是一个loader，<code>test</code>用正则匹配文件后缀<br>loaders指定采用哪个loader,注意它是从右往左执行，所以这里先执行css-loader<br><code>css-loader</code>处理css的一些url，包括相对的绝对的之类的东西<br><code>style-loader</code> 是将css文件采用js动态写入html页面<br>c.使用css<br>打开<code>index.js</code>  (因为我们这里没有用babel,所以就用es5来写)<br><code>require(&#39;./style.css&#39;);</code></p>\n<h3 id=\"四、查看效果\"><a href=\"#四、查看效果\" class=\"headerlink\" title=\"四、查看效果\"></a>四、查看效果</h3><p>我们现在可以使用<code>webpack-dev-server</code>这个东西了<br>如果你己经全局安装了(<code>cnpm install -g webpack-dev-server</code>),直接命令<code>webpack-dev-server</code>就可以开起来了，当然你也可以在package.json文件里面添加script，文件如下</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\"><span class=\"attr\">\"name\"</span>: <span class=\"string\">\"webpack-study\"</span>,</div><div class=\"line\"><span class=\"attr\">\"version\"</span>: <span class=\"string\">\"1.0.0\"</span>,</div><div class=\"line\"><span class=\"attr\">\"description\"</span>: <span class=\"string\">\"\"</span>,</div><div class=\"line\"><span class=\"attr\">\"main\"</span>: <span class=\"string\">\"index.js\"</span>,</div><div class=\"line\"><span class=\"attr\">\"scripts\"</span>: &#123;</div><div class=\"line\"><span class=\"attr\">\"start\"</span>:<span class=\"string\">\"webpack-dev-server --progcess\"</span>,</div><div class=\"line\"><span class=\"attr\">\"build\"</span>:<span class=\"string\">\"webpack --progress\"</span>,</div><div class=\"line\"><span class=\"attr\">\"test\"</span>: <span class=\"string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span></div><div class=\"line\">&#125;,</div><div class=\"line\"><span class=\"attr\">\"keywords\"</span>: [],</div><div class=\"line\"><span class=\"attr\">\"author\"</span>: <span class=\"string\">\"\"</span>,</div><div class=\"line\"><span class=\"attr\">\"license\"</span>: <span class=\"string\">\"ISC\"</span>,</div><div class=\"line\"><span class=\"attr\">\"devDependencies\"</span>: &#123;</div><div class=\"line\"><span class=\"attr\">\"css-loader\"</span>: <span class=\"string\">\"^0.23.1\"</span>,</div><div class=\"line\"><span class=\"attr\">\"style-loader\"</span>: <span class=\"string\">\"^0.13.1\"</span>,</div><div class=\"line\"><span class=\"attr\">\"webpack\"</span>: <span class=\"string\">\"^1.13.0\"</span>,</div><div class=\"line\"><span class=\"attr\">\"webpack-dev-server\"</span>: <span class=\"string\">\"^1.14.1\"</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>这里我们就可以使用<code>npm run build</code>来编译，使用<code>npm run start</code>来开启服务器  </p>\n<figure class=\"highlight dts\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">➜  webpack-study git:(master) ✗ npm run build</div><div class=\"line\"></div><div class=\"line\">&gt; webpack-study@<span class=\"number\">1.0</span><span class=\"number\">.0</span> build /Users<span class=\"meta-keyword\">/xiaomo/</span>workspace/webpack-study</div><div class=\"line\">&gt; webpack --progress</div><div class=\"line\"><span class=\"symbol\">Hash:</span> <span class=\"number\">11f</span>fef2911f2436a3948</div><div class=\"line\"><span class=\"symbol\">Version:</span> webpack <span class=\"number\">1.13</span><span class=\"number\">.0</span></div><div class=\"line\"><span class=\"symbol\">Time:</span> <span class=\"number\">64</span>ms</div><div class=\"line\">    Asset     Size  Chunks             Chunk Names</div><div class=\"line\">bundle.js  <span class=\"number\">1.42</span> kB       <span class=\"number\">0</span>  [emitted]  main</div><div class=\"line\">   [<span class=\"number\">0</span>] ./index.js <span class=\"number\">30</span> <span class=\"class\">bytes </span>&#123;<span class=\"number\">0</span>&#125; [built]</div><div class=\"line\">   ➜  webpack-study git:(master) ✗ npm run start</div><div class=\"line\"></div><div class=\"line\">   &gt; webpack-study@<span class=\"number\">1.0</span><span class=\"number\">.0</span> start /Users<span class=\"meta-keyword\">/xiaomo/</span>workspace/webpack-study</div><div class=\"line\">   &gt; webpack-dev-server --progcess</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">   http:</span><span class=\"comment\">//localhost:8080/webpack-dev-server/</span></div><div class=\"line\">   webpack result is served from /</div><div class=\"line\">   content is served from /Users<span class=\"meta-keyword\">/xiaomo/</span>workspace/webpack-study</div><div class=\"line\"><span class=\"symbol\">   Hash:</span> <span class=\"number\">11f</span>fef2911f2436a3948</div><div class=\"line\"><span class=\"symbol\">   Version:</span> webpack <span class=\"number\">1.13</span><span class=\"number\">.0</span></div><div class=\"line\"><span class=\"symbol\">   Time:</span> <span class=\"number\">80</span>ms</div><div class=\"line\">       Asset     Size  Chunks             Chunk Names</div><div class=\"line\">   bundle.js  <span class=\"number\">1.42</span> kB       <span class=\"number\">0</span>  [emitted]  main</div><div class=\"line\">   chunk    &#123;<span class=\"number\">0</span>&#125; bundle.js (main) <span class=\"number\">30</span> bytes [rendered]</div><div class=\"line\">       [<span class=\"number\">0</span>] ./index.js <span class=\"number\">30</span> <span class=\"class\">bytes </span>&#123;<span class=\"number\">0</span>&#125; [built]</div><div class=\"line\"><span class=\"symbol\">   webpack:</span> bundle is now VALID.</div></pre></td></tr></table></figure>\n<p>b.然后访问 <a href=\"http://locahost:8080\">http://locahost:8080</a> 就可以看到效果了</p>\n<h3 id=\"五、动态效果展示和总结\"><a href=\"#五、动态效果展示和总结\" class=\"headerlink\" title=\"五、动态效果展示和总结\"></a>五、动态效果展示和总结</h3><h4 id=\"1-总共有5个文件\"><a href=\"#1-总共有5个文件\" class=\"headerlink\" title=\"1. 总共有5个文件\"></a>1. 总共有5个文件</h4><p><code>webpack.config.ks</code>、<code>index.js</code>、<code>index.html</code>、<code>style.css</code>、<code>package.json</code>，编译好要使用的只有<code>index.html</code>和<code>dist/bundle.js</code>两个文件</p>\n<h4 id=\"2-gif动画\"><a href=\"#2-gif动画\" class=\"headerlink\" title=\"2. gif动画\"></a>2. gif动画</h4><p>会展示一下5个文件的内容</p>\n<h4 id=\"3-演示一下效果\"><a href=\"#3-演示一下效果\" class=\"headerlink\" title=\"3. 演示一下效果\"></a>3. 演示一下效果</h4><p><img src=\"https://image.xiaomo.info/banner/webpack.gif\" alt=\"webpack的简单使用\"><br>如果觉得图小可以点击下面链接查看大图<br><a href=\"https://image.xiaomo.info/webpack/webpack.gif\">webpack的简单使用</a></p>"},{"title":"用 Excel 生成和管理 Markdown 表格","date":"2016-05-16T10:18:33.000Z","toc":null,"author":null,"comments":1,"original":null,"_content":"\n<h2 id=\"intro\">前言</h2>Markdown 作为一种轻量级的标记语言，用来进行简单的文本排版，确实方便快捷。但 Markdown 标记语言的属性，也使得其在表格处理上略显繁琐且不直观。而 Excel 几乎就是表格的代名词，借助 Excel，可以改善我们在 Markdown 中使用表格的体验。下文将简单介绍怎么使用 Excel 生成和管理可用于 Markdown 文章的表格。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/markdown.png)](https://github.com/syoubaku)\n### 填写表格\n在 Excel 中正常填写你的表格内容，之后在标题行下插入一行，要居中的填入 **`:-:`**，要右对齐的填**`-:`**，其它全部填上**`-`**。\n\n-|左对齐|居中对齐|右对齐\n:-:|-|:-:|-:\n**:-:**|**-**|**:-:**|**-**:\n1|Left|Center|Right\n2|Left|Center|Right\n3|Left|Center|Right\n- 如图左上角，表头也不要留空，填上`-`提高兼容性。\n\n\n### 生成表格\n选中表格，复制，然后粘贴到 Markdown 编辑器中\n\n```\n-\t左对齐\t居中对齐\t右对齐\n:-:\t:-\t:-:\t-:\n1\tLeft\tCenter\tRight\n2\tLeft\tCenter\tRight\n3\tLeft\tCenter\tRight\n```\n\n复制出来的 Excel 默认以`tab`作为单元格分隔符，而 Markdown 则以`|`为分隔符。顺理成章，当我们使用 `|` 对原`tab`分隔符进行替换后，即可生成 Markdown 化的表格。\n\n```\n-|默认左对齐|居中对齐|内容右对齐\n:-:|-|:-:|-:\n1|Left|Center|Right\n2|Left|Center|Right\n3|Left|Center|Right\n```\n\n表格效果大致如下：\n\n-|左对齐|居中对齐|右对齐\n:-:|-|:-:|-:\n1|Left|Center|Right\n2|Left|Center|Right\n3|Left|Center|Right\n\n\n### 处理表格\n在 Excel 中，处理表格灵活方便，调整好后再按上面方法重新生成表格即可。\n\n- 可以对表格进行快速拖拽排序；\n- 可以用公式 `=row()` 给表格添加自动序号；\n- 当然我们也可以使用 Markdown 语法为单元格内容设置格式，添加超链接等；\n\n\n### 其他说明\n\n- Markdown 默认语法不支持单元格合并，更复杂的表格不适合用在 Markdown 中；\n- 这种写法的表格，目前已知在 GitHub 上不能正确解析；\n- [自用 Windows 和 Mac 软件推荐](/2015/09/20/windows-mac-software/)，这些表格处理经验基本是为了写左边这篇文章而积累的，大家可以看看效果。\n- 顺便推荐一个在线表格生成网站，[Tables Generator.com](http://www.tablesgenerator.com/markdown_tables)，在上面也可以快速生成通用的 Markdown 表格。使用网站的不便之处就是需要联网，而且这个网站还在[墙外]。\n","source":"_posts/2016-05-16.excel_markdown_table.md","raw":"---\ntitle: 用 Excel 生成和管理 Markdown 表格\ndate: 2016-05-16 18:18:33\ncategories:\n- 技术\ntags:\n- 技术\ntoc:\nauthor:\ncomments:\noriginal:\npermalink: ExcelMarkdownTable\n---\n\n<h2 id=\"intro\">前言</h2>Markdown 作为一种轻量级的标记语言，用来进行简单的文本排版，确实方便快捷。但 Markdown 标记语言的属性，也使得其在表格处理上略显繁琐且不直观。而 Excel 几乎就是表格的代名词，借助 Excel，可以改善我们在 Markdown 中使用表格的体验。下文将简单介绍怎么使用 Excel 生成和管理可用于 Markdown 文章的表格。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/markdown.png)](https://github.com/syoubaku)\n### 填写表格\n在 Excel 中正常填写你的表格内容，之后在标题行下插入一行，要居中的填入 **`:-:`**，要右对齐的填**`-:`**，其它全部填上**`-`**。\n\n-|左对齐|居中对齐|右对齐\n:-:|-|:-:|-:\n**:-:**|**-**|**:-:**|**-**:\n1|Left|Center|Right\n2|Left|Center|Right\n3|Left|Center|Right\n- 如图左上角，表头也不要留空，填上`-`提高兼容性。\n\n\n### 生成表格\n选中表格，复制，然后粘贴到 Markdown 编辑器中\n\n```\n-\t左对齐\t居中对齐\t右对齐\n:-:\t:-\t:-:\t-:\n1\tLeft\tCenter\tRight\n2\tLeft\tCenter\tRight\n3\tLeft\tCenter\tRight\n```\n\n复制出来的 Excel 默认以`tab`作为单元格分隔符，而 Markdown 则以`|`为分隔符。顺理成章，当我们使用 `|` 对原`tab`分隔符进行替换后，即可生成 Markdown 化的表格。\n\n```\n-|默认左对齐|居中对齐|内容右对齐\n:-:|-|:-:|-:\n1|Left|Center|Right\n2|Left|Center|Right\n3|Left|Center|Right\n```\n\n表格效果大致如下：\n\n-|左对齐|居中对齐|右对齐\n:-:|-|:-:|-:\n1|Left|Center|Right\n2|Left|Center|Right\n3|Left|Center|Right\n\n\n### 处理表格\n在 Excel 中，处理表格灵活方便，调整好后再按上面方法重新生成表格即可。\n\n- 可以对表格进行快速拖拽排序；\n- 可以用公式 `=row()` 给表格添加自动序号；\n- 当然我们也可以使用 Markdown 语法为单元格内容设置格式，添加超链接等；\n\n\n### 其他说明\n\n- Markdown 默认语法不支持单元格合并，更复杂的表格不适合用在 Markdown 中；\n- 这种写法的表格，目前已知在 GitHub 上不能正确解析；\n- [自用 Windows 和 Mac 软件推荐](/2015/09/20/windows-mac-software/)，这些表格处理经验基本是为了写左边这篇文章而积累的，大家可以看看效果。\n- 顺便推荐一个在线表格生成网站，[Tables Generator.com](http://www.tablesgenerator.com/markdown_tables)，在上面也可以快速生成通用的 Markdown 表格。使用网站的不便之处就是需要联网，而且这个网站还在[墙外]。\n","slug":"ExcelMarkdownTable","published":1,"updated":"2016-12-01T06:50:26.674Z","_id":"civ0ggq6m000zrwvn8fp23hjm","layout":"post","photos":[],"link":"","content":"<p></p><h2 id=\"intro\">前言</h2>Markdown 作为一种轻量级的标记语言，用来进行简单的文本排版，确实方便快捷。但 Markdown 标记语言的属性，也使得其在表格处理上略显繁琐且不直观。而 Excel 几乎就是表格的代名词，借助 Excel，可以改善我们在 Markdown 中使用表格的体验。下文将简单介绍怎么使用 Excel 生成和管理可用于 Markdown 文章的表格。<p></p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/markdown.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"填写表格\"><a href=\"#填写表格\" class=\"headerlink\" title=\"填写表格\"></a>填写表格</h3><p>在 Excel 中正常填写你的表格内容，之后在标题行下插入一行，要居中的填入 <strong><code>:-:</code></strong>，要右对齐的填<strong><code>-:</code></strong>，其它全部填上<strong><code>-</code></strong>。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>左对齐</th>\n<th style=\"text-align:center\">居中对齐</th>\n<th style=\"text-align:right\">右对齐</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>:-:</strong></td>\n<td><strong>-</strong></td>\n<td style=\"text-align:center\"><strong>:-:</strong></td>\n<td style=\"text-align:right\"><strong>-</strong>:</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>如图左上角，表头也不要留空，填上<code>-</code>提高兼容性。</li>\n</ul>\n<h3 id=\"生成表格\"><a href=\"#生成表格\" class=\"headerlink\" title=\"生成表格\"></a>生成表格</h3><p>选中表格，复制，然后粘贴到 Markdown 编辑器中</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"bullet\">-\t</span>左对齐\t居中对齐\t右对齐</div><div class=\"line\"><span class=\"meta\">:-:</span>\t:-\t:-:\t-:</div><div class=\"line\">1\tLeft\tCenter\tRight</div><div class=\"line\">2\tLeft\tCenter\tRight</div><div class=\"line\">3\tLeft\tCenter\tRight</div></pre></td></tr></table></figure>\n<p>复制出来的 Excel 默认以<code>tab</code>作为单元格分隔符，而 Markdown 则以<code>|</code>为分隔符。顺理成章，当我们使用 <code>|</code> 对原<code>tab</code>分隔符进行替换后，即可生成 Markdown 化的表格。</p>\n<figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">-|<span class=\"string\">默认左对齐</span>|<span class=\"string\">居中对齐</span>|<span class=\"string\">内容右对齐</span></div><div class=\"line\">:-:|<span class=\"string\">-</span>|<span class=\"string\">:-:</span>|<span class=\"string\">-:</span></div><div class=\"line\">1|<span class=\"string\">Left</span>|<span class=\"string\">Center</span>|Right</div><div class=\"line\">2|<span class=\"string\">Left</span>|<span class=\"string\">Center</span>|Right</div><div class=\"line\">3|<span class=\"string\">Left</span>|<span class=\"string\">Center</span>|Right</div></pre></td></tr></table></figure>\n<p>表格效果大致如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>左对齐</th>\n<th style=\"text-align:center\">居中对齐</th>\n<th style=\"text-align:right\">右对齐</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"处理表格\"><a href=\"#处理表格\" class=\"headerlink\" title=\"处理表格\"></a>处理表格</h3><p>在 Excel 中，处理表格灵活方便，调整好后再按上面方法重新生成表格即可。</p>\n<ul>\n<li>可以对表格进行快速拖拽排序；</li>\n<li>可以用公式 <code>=row()</code> 给表格添加自动序号；</li>\n<li>当然我们也可以使用 Markdown 语法为单元格内容设置格式，添加超链接等；</li>\n</ul>\n<h3 id=\"其他说明\"><a href=\"#其他说明\" class=\"headerlink\" title=\"其他说明\"></a>其他说明</h3><ul>\n<li>Markdown 默认语法不支持单元格合并，更复杂的表格不适合用在 Markdown 中；</li>\n<li>这种写法的表格，目前已知在 GitHub 上不能正确解析；</li>\n<li><a href=\"/2015/09/20/windows-mac-software/\">自用 Windows 和 Mac 软件推荐</a>，这些表格处理经验基本是为了写左边这篇文章而积累的，大家可以看看效果。</li>\n<li>顺便推荐一个在线表格生成网站，<a href=\"http://www.tablesgenerator.com/markdown_tables\" target=\"_blank\" rel=\"external\">Tables Generator.com</a>，在上面也可以快速生成通用的 Markdown 表格。使用网站的不便之处就是需要联网，而且这个网站还在[墙外]。</li>\n</ul>\n","excerpt":"<p><h2 id=\"intro\">前言</h2>Markdown 作为一种轻量级的标记语言，用来进行简单的文本排版，确实方便快捷。但 Markdown 标记语言的属性，也使得其在表格处理上略显繁琐且不直观。而 Excel 几乎就是表格的代名词，借助 Excel，可以改善我们在 Markdown 中使用表格的体验。下文将简单介绍怎么使用 Excel 生成和管理可用于 Markdown 文章的表格。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/markdown.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"填写表格\"><a href=\"#填写表格\" class=\"headerlink\" title=\"填写表格\"></a>填写表格</h3><p>在 Excel 中正常填写你的表格内容，之后在标题行下插入一行，要居中的填入 <strong><code>:-:</code></strong>，要右对齐的填<strong><code>-:</code></strong>，其它全部填上<strong><code>-</code></strong>。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>左对齐</th>\n<th style=\"text-align:center\">居中对齐</th>\n<th style=\"text-align:right\">右对齐</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>:-:</strong></td>\n<td><strong>-</strong></td>\n<td style=\"text-align:center\"><strong>:-:</strong></td>\n<td style=\"text-align:right\"><strong>-</strong>:</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>如图左上角，表头也不要留空，填上<code>-</code>提高兼容性。</li>\n</ul>\n<h3 id=\"生成表格\"><a href=\"#生成表格\" class=\"headerlink\" title=\"生成表格\"></a>生成表格</h3><p>选中表格，复制，然后粘贴到 Markdown 编辑器中</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"bullet\">-\t</span>左对齐\t居中对齐\t右对齐</div><div class=\"line\"><span class=\"meta\">:-:</span>\t:-\t:-:\t-:</div><div class=\"line\">1\tLeft\tCenter\tRight</div><div class=\"line\">2\tLeft\tCenter\tRight</div><div class=\"line\">3\tLeft\tCenter\tRight</div></pre></td></tr></table></figure>\n<p>复制出来的 Excel 默认以<code>tab</code>作为单元格分隔符，而 Markdown 则以<code>|</code>为分隔符。顺理成章，当我们使用 <code>|</code> 对原<code>tab</code>分隔符进行替换后，即可生成 Markdown 化的表格。</p>\n<figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">-|<span class=\"string\">默认左对齐</span>|<span class=\"string\">居中对齐</span>|<span class=\"string\">内容右对齐</div><div class=\"line\">:-:</span>|<span class=\"string\">-</span>|<span class=\"string\">:-:</span>|<span class=\"string\">-:</div><div class=\"line\">1</span>|<span class=\"string\">Left</span>|<span class=\"string\">Center</span>|Right</div><div class=\"line\">2|<span class=\"string\">Left</span>|<span class=\"string\">Center</span>|Right</div><div class=\"line\">3|<span class=\"string\">Left</span>|<span class=\"string\">Center</span>|Right</div></pre></td></tr></table></figure>\n<p>表格效果大致如下：</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>左对齐</th>\n<th style=\"text-align:center\">居中对齐</th>\n<th style=\"text-align:right\">右对齐</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>Left</td>\n<td style=\"text-align:center\">Center</td>\n<td style=\"text-align:right\">Right</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"处理表格\"><a href=\"#处理表格\" class=\"headerlink\" title=\"处理表格\"></a>处理表格</h3><p>在 Excel 中，处理表格灵活方便，调整好后再按上面方法重新生成表格即可。</p>\n<ul>\n<li>可以对表格进行快速拖拽排序；</li>\n<li>可以用公式 <code>=row()</code> 给表格添加自动序号；</li>\n<li>当然我们也可以使用 Markdown 语法为单元格内容设置格式，添加超链接等；</li>\n</ul>\n<h3 id=\"其他说明\"><a href=\"#其他说明\" class=\"headerlink\" title=\"其他说明\"></a>其他说明</h3><ul>\n<li>Markdown 默认语法不支持单元格合并，更复杂的表格不适合用在 Markdown 中；</li>\n<li>这种写法的表格，目前已知在 GitHub 上不能正确解析；</li>\n<li><a href=\"/2015/09/20/windows-mac-software/\">自用 Windows 和 Mac 软件推荐</a>，这些表格处理经验基本是为了写左边这篇文章而积累的，大家可以看看效果。</li>\n<li>顺便推荐一个在线表格生成网站，<a href=\"http://www.tablesgenerator.com/markdown_tables\">Tables Generator.com</a>，在上面也可以快速生成通用的 Markdown 表格。使用网站的不便之处就是需要联网，而且这个网站还在[墙外]。</li>\n</ul>"},{"author":"小莫","date":"2016-05-15T16:00:00.000Z","title":"nodejs的process模块","_content":"我们在使用webpack的时候经常会有两套配置，一套生产环境和一套测试环境。因此我们会用到一些系统变量，我们就需要用到process。process模块用来与当前进程互动，可以通过全局变量process访问，不必使用require命令加载。它是一个EventEmitter对象的实例。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、process属性。\n* process.pid：当前进程的进程号。\n* process.version：Node的版本，比如v0.10.18。\n* process.platform：当前系统平台，比如Linux。\n* process.title：默认值为“node”，可以自定义该值。\n* process.argv：当前进程的命令行参数数组。\n* process.env：指向当前shell的环境变量，比如process.env.HOME。\n* process.execPath：运行当前进程的可执行文件的绝对路径。\n* process.stdout：指向标准输出。\n* process.stdin：指向标准输入。\n* process.stderr：指向标准错误。\n\n\n下面是主要属性的介绍。\n\n#### 1. stdout\n\nprocess.stdout用来控制标准输出，也就是在命令行窗口向用户显示内容。它的write方法等同于console.log。\n\n```\nexports.log = function() {\n    process.stdout.write(format.apply(this, arguments) + '\\n');\n};\n```\n\n#### 2. argv\n\nprocess.argv返回命令行脚本的各个参数组成的数组。\n\n先新建一个脚本文件argv.js。\n\n```\n// argv.js\nconsole.log(\"argv: \",process.argv);\nconsole.log(\"argc: \",process.argc);\n```\n\n在命令行下调用这个脚本，会得到以下结果。\n```\nnode argv.js a b c\n# [ 'node', '/path/to/argv.js', 'a', 'b', 'c' ]\n```\n\n上面代码表示，argv返回数组的成员依次是命令行的各个部分。要得到真正的参数部分，可以把argv.js改写成下面这样。\n\n```\n// argv.js\nvar myArgs = process.argv.slice(2);\nconsole.log(myArgs);\n```\n\n#### 3.方法\n* process对象提供以下方法：\n* process.cwd()：返回运行当前脚本的工作目录的路径。_\n* process.chdir()：改变工作目录。\n* process.exit()：退出当前进程。\n* process.nextTick()：将一个回调函数放在下次事件循环的顶部。\n\nprocess.chdir()改变工作目录的例子。  \n\n```\nprocess.cwd()\n# '/home/aaa'\n\nprocess.chdir('/home/bbb')\n\nprocess.cwd()\n# '/home/bbb'\n```\n\nprocess.nextTick()的例子，指定下次事件循环首先运行的任务。\n\n```\nprocess.nextTick(function () {\n    console.log('Next event loop!');\n});\n```\n\n上面代码可以用setTimeout改写，但是nextTick的效果更高、描述更准确。\n\n```\nsetTimeout(function () {\n   console.log('Next event loop!');\n}, 0)\n```\n\n#### 4. 事件\n（1）exit事件   \n当前进程退出时，会触发exit事件，可以对该事件指定回调函数。这一个用来定时检查模块的状态的好钩子(hook)(例如单元测试),当主事件循环在执行完’exit’的回调函数后将不再执行,所以在exit事件中定义的定时器可能不会被加入事件列表.\n\n```\nprocess.on('exit', function () {\n  fs.writeFileSync('/tmp/myfile', 'This MUST be saved on exit.');\n});\n```\n\n（2）uncaughtException事件   \n当前进程抛出一个没有被捕捉的意外时，会触发uncaughtException事件。  \n\n```\nprocess.on('uncaughtException', function (err) {\n  console.error('An uncaught error occurred!');\n  console.error(err.stack);\n});\n```\n\n>摘自阮老师博客   [Node.js 概述](http://javascript.ruanyifeng.com/nodejs/basic.html#toc22)\n","source":"_posts/2016-05-16.nodejs_process.md","raw":"---\nauthor: 小莫\ndate: 2016-05-16\ntitle: nodejs的process模块\ntags:\n- node\n- es6\n- javascript\ncategory: nodejs之process\npermalink: NodeProcess\n---\n我们在使用webpack的时候经常会有两套配置，一套生产环境和一套测试环境。因此我们会用到一些系统变量，我们就需要用到process。process模块用来与当前进程互动，可以通过全局变量process访问，不必使用require命令加载。它是一个EventEmitter对象的实例。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、process属性。\n* process.pid：当前进程的进程号。\n* process.version：Node的版本，比如v0.10.18。\n* process.platform：当前系统平台，比如Linux。\n* process.title：默认值为“node”，可以自定义该值。\n* process.argv：当前进程的命令行参数数组。\n* process.env：指向当前shell的环境变量，比如process.env.HOME。\n* process.execPath：运行当前进程的可执行文件的绝对路径。\n* process.stdout：指向标准输出。\n* process.stdin：指向标准输入。\n* process.stderr：指向标准错误。\n\n\n下面是主要属性的介绍。\n\n#### 1. stdout\n\nprocess.stdout用来控制标准输出，也就是在命令行窗口向用户显示内容。它的write方法等同于console.log。\n\n```\nexports.log = function() {\n    process.stdout.write(format.apply(this, arguments) + '\\n');\n};\n```\n\n#### 2. argv\n\nprocess.argv返回命令行脚本的各个参数组成的数组。\n\n先新建一个脚本文件argv.js。\n\n```\n// argv.js\nconsole.log(\"argv: \",process.argv);\nconsole.log(\"argc: \",process.argc);\n```\n\n在命令行下调用这个脚本，会得到以下结果。\n```\nnode argv.js a b c\n# [ 'node', '/path/to/argv.js', 'a', 'b', 'c' ]\n```\n\n上面代码表示，argv返回数组的成员依次是命令行的各个部分。要得到真正的参数部分，可以把argv.js改写成下面这样。\n\n```\n// argv.js\nvar myArgs = process.argv.slice(2);\nconsole.log(myArgs);\n```\n\n#### 3.方法\n* process对象提供以下方法：\n* process.cwd()：返回运行当前脚本的工作目录的路径。_\n* process.chdir()：改变工作目录。\n* process.exit()：退出当前进程。\n* process.nextTick()：将一个回调函数放在下次事件循环的顶部。\n\nprocess.chdir()改变工作目录的例子。  \n\n```\nprocess.cwd()\n# '/home/aaa'\n\nprocess.chdir('/home/bbb')\n\nprocess.cwd()\n# '/home/bbb'\n```\n\nprocess.nextTick()的例子，指定下次事件循环首先运行的任务。\n\n```\nprocess.nextTick(function () {\n    console.log('Next event loop!');\n});\n```\n\n上面代码可以用setTimeout改写，但是nextTick的效果更高、描述更准确。\n\n```\nsetTimeout(function () {\n   console.log('Next event loop!');\n}, 0)\n```\n\n#### 4. 事件\n（1）exit事件   \n当前进程退出时，会触发exit事件，可以对该事件指定回调函数。这一个用来定时检查模块的状态的好钩子(hook)(例如单元测试),当主事件循环在执行完’exit’的回调函数后将不再执行,所以在exit事件中定义的定时器可能不会被加入事件列表.\n\n```\nprocess.on('exit', function () {\n  fs.writeFileSync('/tmp/myfile', 'This MUST be saved on exit.');\n});\n```\n\n（2）uncaughtException事件   \n当前进程抛出一个没有被捕捉的意外时，会触发uncaughtException事件。  \n\n```\nprocess.on('uncaughtException', function (err) {\n  console.error('An uncaught error occurred!');\n  console.error(err.stack);\n});\n```\n\n>摘自阮老师博客   [Node.js 概述](http://javascript.ruanyifeng.com/nodejs/basic.html#toc22)\n","slug":"NodeProcess","published":1,"updated":"2016-12-01T06:50:27.616Z","_id":"civ0ggq6o0012rwvnjqbexgyc","comments":1,"layout":"post","photos":[],"link":"","content":"<p>我们在使用webpack的时候经常会有两套配置，一套生产环境和一套测试环境。因此我们会用到一些系统变量，我们就需要用到process。process模块用来与当前进程互动，可以通过全局变量process访问，不必使用require命令加载。它是一个EventEmitter对象的实例。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、process属性。\"><a href=\"#一、process属性。\" class=\"headerlink\" title=\"一、process属性。\"></a>一、process属性。</h3><ul>\n<li>process.pid：当前进程的进程号。</li>\n<li>process.version：Node的版本，比如v0.10.18。</li>\n<li>process.platform：当前系统平台，比如Linux。</li>\n<li>process.title：默认值为“node”，可以自定义该值。</li>\n<li>process.argv：当前进程的命令行参数数组。</li>\n<li>process.env：指向当前shell的环境变量，比如process.env.HOME。</li>\n<li>process.execPath：运行当前进程的可执行文件的绝对路径。</li>\n<li>process.stdout：指向标准输出。</li>\n<li>process.stdin：指向标准输入。</li>\n<li>process.stderr：指向标准错误。</li>\n</ul>\n<p>下面是主要属性的介绍。</p>\n<h4 id=\"1-stdout\"><a href=\"#1-stdout\" class=\"headerlink\" title=\"1. stdout\"></a>1. stdout</h4><p>process.stdout用来控制标准输出，也就是在命令行窗口向用户显示内容。它的write方法等同于console.log。</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">exports.<span class=\"built_in\">log</span> = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span> &#123;</div><div class=\"line\">    process.stdout.<span class=\"built_in\">write</span>(<span class=\"keyword\">format</span>.apply(this, arguments) + <span class=\"string\">'\\n'</span>);</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h4 id=\"2-argv\"><a href=\"#2-argv\" class=\"headerlink\" title=\"2. argv\"></a>2. argv</h4><p>process.argv返回命令行脚本的各个参数组成的数组。</p>\n<p>先新建一个脚本文件argv.js。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// argv.js</span></div><div class=\"line\">console.<span class=\"built_in\">log</span>(<span class=\"string\">\"argv: \"</span>,process.argv);</div><div class=\"line\">console.<span class=\"built_in\">log</span>(<span class=\"string\">\"argc: \"</span>,process.argc);</div></pre></td></tr></table></figure>\n<p>在命令行下调用这个脚本，会得到以下结果。<br><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">node argv.js a b c</div><div class=\"line\"><span class=\"meta\"># [ <span class=\"string\">'node'</span>, <span class=\"string\">'/path/to/argv.js'</span>, <span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'c'</span> ]</span></div></pre></td></tr></table></figure></p>\n<p>上面代码表示，argv返回数组的成员依次是命令行的各个部分。要得到真正的参数部分，可以把argv.js改写成下面这样。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// argv.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> myArgs = process.argv.slice(<span class=\"number\">2</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(myArgs);</div></pre></td></tr></table></figure>\n<h4 id=\"3-方法\"><a href=\"#3-方法\" class=\"headerlink\" title=\"3.方法\"></a>3.方法</h4><ul>\n<li>process对象提供以下方法：</li>\n<li>process.cwd()：返回运行当前脚本的工作目录的路径。_</li>\n<li>process.chdir()：改变工作目录。</li>\n<li>process.exit()：退出当前进程。</li>\n<li>process.nextTick()：将一个回调函数放在下次事件循环的顶部。</li>\n</ul>\n<p>process.chdir()改变工作目录的例子。  </p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">process</span>.cwd()</div><div class=\"line\"># <span class=\"string\">'/home/aaa'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">process</span>.chdir(<span class=\"string\">'/home/bbb'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">process</span>.cwd()</div><div class=\"line\"># <span class=\"string\">'/home/bbb'</span></div></pre></td></tr></table></figure>\n<p>process.nextTick()的例子，指定下次事件循环首先运行的任务。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Next event loop!'</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>上面代码可以用setTimeout改写，但是nextTick的效果更高、描述更准确。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">'Next event loop!'</span>);</div><div class=\"line\">&#125;, <span class=\"number\">0</span>)</div></pre></td></tr></table></figure>\n<h4 id=\"4-事件\"><a href=\"#4-事件\" class=\"headerlink\" title=\"4. 事件\"></a>4. 事件</h4><p>（1）exit事件<br>当前进程退出时，会触发exit事件，可以对该事件指定回调函数。这一个用来定时检查模块的状态的好钩子(hook)(例如单元测试),当主事件循环在执行完’exit’的回调函数后将不再执行,所以在exit事件中定义的定时器可能不会被加入事件列表.</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">process.on(<span class=\"string\">'exit'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  fs.writeFileSync(<span class=\"string\">'/tmp/myfile'</span>, <span class=\"string\">'This MUST be saved on exit.'</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>（2）uncaughtException事件<br>当前进程抛出一个没有被捕捉的意外时，会触发uncaughtException事件。  </p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">process.<span class=\"keyword\">on</span>('uncaughtException', function (<span class=\"keyword\">err</span>) &#123;</div><div class=\"line\">  console.<span class=\"keyword\">error</span>('<span class=\"keyword\">An</span> uncaught <span class=\"keyword\">error</span> occurred!');</div><div class=\"line\">  console.<span class=\"keyword\">error</span>(<span class=\"keyword\">err</span>.<span class=\"keyword\">stack</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p>摘自阮老师博客   <a href=\"http://javascript.ruanyifeng.com/nodejs/basic.html#toc22\" target=\"_blank\" rel=\"external\">Node.js 概述</a></p>\n</blockquote>\n","excerpt":"<p>我们在使用webpack的时候经常会有两套配置，一套生产环境和一套测试环境。因此我们会用到一些系统变量，我们就需要用到process。process模块用来与当前进程互动，可以通过全局变量process访问，不必使用require命令加载。它是一个EventEmitter对象的实例。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、process属性。\"><a href=\"#一、process属性。\" class=\"headerlink\" title=\"一、process属性。\"></a>一、process属性。</h3><ul>\n<li>process.pid：当前进程的进程号。</li>\n<li>process.version：Node的版本，比如v0.10.18。</li>\n<li>process.platform：当前系统平台，比如Linux。</li>\n<li>process.title：默认值为“node”，可以自定义该值。</li>\n<li>process.argv：当前进程的命令行参数数组。</li>\n<li>process.env：指向当前shell的环境变量，比如process.env.HOME。</li>\n<li>process.execPath：运行当前进程的可执行文件的绝对路径。</li>\n<li>process.stdout：指向标准输出。</li>\n<li>process.stdin：指向标准输入。</li>\n<li>process.stderr：指向标准错误。</li>\n</ul>\n<p>下面是主要属性的介绍。</p>\n<h4 id=\"1-stdout\"><a href=\"#1-stdout\" class=\"headerlink\" title=\"1. stdout\"></a>1. stdout</h4><p>process.stdout用来控制标准输出，也就是在命令行窗口向用户显示内容。它的write方法等同于console.log。</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">exports.<span class=\"built_in\">log</span> = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span> &#123;</div><div class=\"line\">    process.stdout.<span class=\"built_in\">write</span>(<span class=\"keyword\">format</span>.apply(this, arguments) + <span class=\"string\">'\\n'</span>);</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h4 id=\"2-argv\"><a href=\"#2-argv\" class=\"headerlink\" title=\"2. argv\"></a>2. argv</h4><p>process.argv返回命令行脚本的各个参数组成的数组。</p>\n<p>先新建一个脚本文件argv.js。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// argv.js</span></div><div class=\"line\">console.<span class=\"built_in\">log</span>(<span class=\"string\">\"argv: \"</span>,process.argv);</div><div class=\"line\">console.<span class=\"built_in\">log</span>(<span class=\"string\">\"argc: \"</span>,process.argc);</div></pre></td></tr></table></figure>\n<p>在命令行下调用这个脚本，会得到以下结果。<br><figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">node argv.js a b c</div><div class=\"line\"><span class=\"meta\"># [ <span class=\"string\">'node'</span>, <span class=\"string\">'/path/to/argv.js'</span>, <span class=\"string\">'a'</span>, <span class=\"string\">'b'</span>, <span class=\"string\">'c'</span> ]</span></div></pre></td></tr></table></figure></p>\n<p>上面代码表示，argv返回数组的成员依次是命令行的各个部分。要得到真正的参数部分，可以把argv.js改写成下面这样。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// argv.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> myArgs = process.argv.slice(<span class=\"number\">2</span>);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(myArgs);</div></pre></td></tr></table></figure>\n<h4 id=\"3-方法\"><a href=\"#3-方法\" class=\"headerlink\" title=\"3.方法\"></a>3.方法</h4><ul>\n<li>process对象提供以下方法：</li>\n<li>process.cwd()：返回运行当前脚本的工作目录的路径。_</li>\n<li>process.chdir()：改变工作目录。</li>\n<li>process.exit()：退出当前进程。</li>\n<li>process.nextTick()：将一个回调函数放在下次事件循环的顶部。</li>\n</ul>\n<p>process.chdir()改变工作目录的例子。  </p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">process</span>.cwd()</div><div class=\"line\"># <span class=\"string\">'/home/aaa'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">process</span>.chdir(<span class=\"string\">'/home/bbb'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">process</span>.cwd()</div><div class=\"line\"># <span class=\"string\">'/home/bbb'</span></div></pre></td></tr></table></figure>\n<p>process.nextTick()的例子，指定下次事件循环首先运行的任务。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">process.nextTick(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Next event loop!'</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>上面代码可以用setTimeout改写，但是nextTick的效果更高、描述更准确。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">setTimeout(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">'Next event loop!'</span>);</div><div class=\"line\">&#125;, <span class=\"number\">0</span>)</div></pre></td></tr></table></figure>\n<h4 id=\"4-事件\"><a href=\"#4-事件\" class=\"headerlink\" title=\"4. 事件\"></a>4. 事件</h4><p>（1）exit事件<br>当前进程退出时，会触发exit事件，可以对该事件指定回调函数。这一个用来定时检查模块的状态的好钩子(hook)(例如单元测试),当主事件循环在执行完’exit’的回调函数后将不再执行,所以在exit事件中定义的定时器可能不会被加入事件列表.</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">process.on(<span class=\"string\">'exit'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  fs.writeFileSync(<span class=\"string\">'/tmp/myfile'</span>, <span class=\"string\">'This MUST be saved on exit.'</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>（2）uncaughtException事件<br>当前进程抛出一个没有被捕捉的意外时，会触发uncaughtException事件。  </p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">process.<span class=\"keyword\">on</span>('uncaughtException', function (<span class=\"keyword\">err</span>) &#123;</div><div class=\"line\">  console.<span class=\"keyword\">error</span>('<span class=\"keyword\">An</span> uncaught <span class=\"keyword\">error</span> occurred!');</div><div class=\"line\">  console.<span class=\"keyword\">error</span>(<span class=\"keyword\">err</span>.<span class=\"keyword\">stack</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<blockquote>\n<p>摘自阮老师博客   <a href=\"http://javascript.ruanyifeng.com/nodejs/basic.html#toc22\">Node.js 概述</a></p>\n</blockquote>"},{"author":"小莫","date":"2016-05-16T16:00:00.000Z","title":"webpack进阶之loader篇","_content":"webpack的loaders是一大特色，也是很重要的一部分。这遍博客我将分类讲解一些常用的laoder\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、loaders之 预处理\n* css-loader 处理css中路径引用等问题\n* style-loader 动态把样式写入css\n* sass-loader scss编译器\n* less-loader less编译器\n* postcss-loader scss再处理\n\n`npm install --save -dev css-loader style-loader sass-loader less-loader postcss-loader`  \n\n栗子:\n\n```\nmodule: {\n  loaders: [\n    {test: /\\.css$/, loader: \"style!css?sourceMap!postcss\"},\n    {test: /\\.less$/, loader: \"style!css!less|postcss\"},\n    {test: /\\.scss$/, loader: \"style!css!sass|postcss\"}\n  ]\n}\n```\n\n### 二、loaders之 js处理\n* babel-loader\n* jsx-loader\n\n`npm install --save-dev babel-core babel-preset-es2015  babel-loader jsx-loader`\n\n栗子  \n\n新建一个名字为`.babelrc`的文件\n\n```\n{\n  \"presets\": [\"es2015\",\"react\"],\n  \"plugins\":[\"antd\"]\n}\n```\n\n新建一个名字为`webpack.config.js`文件\n\n```\nmodule.exports ={\n entry: './entry.js',\n output: { path: __dirname,\n filename: 'bundle.js'\n },\n module: {\nloaders: [\n  {test: /\\.js$/, loader: \"babel\", exclude: /node_modules/},\n  {test: /\\.jsx$/, loader: \"jsx-loader\"}\n  {test: /.css$/, loader: 'style!css'} ]\n  }\n};\n```\n\n### 三、loaders之 图片处理\n* url-loader\n\n`npm install --save-dev url-loadr`\n\n```\nmodule: {\n  loaders: [\n    {test: /\\.(jpg|png)$/, loader: \"url?limit=8192\"},\n  ]\n}\n```\n\n### 四、loaders之 文件处理\n* file-loader\n\n`npm install --save-dev file-loader`\n\n```\nmodule: {\n  loaders: [\n    {\n      test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)$/,\n      loader: 'file'\n      },\n  ]\n}\n\n```\n\n### 五、loaders之 json处理\n* json-loader\n\n`npm install --save-dev json-loader`\n\n```\nmodule: {\n  loaders: [\n    {test: /\\.json$/,loader: 'json'},\n  ]\n}\n```\n\n### 六、loaders之 html处理\n* raw-loader\n\n`npm install --save-dev raw-loader`\n\n```\nmodule: {\n  loaders: [\n    { test: /\\.html$/,loader: 'raw'},\n  ]\n}\n```\n","source":"_posts/2016-05-17.webpack_loader.md","raw":"---\nauthor: 小莫\ndate: 2016-05-17\ntitle: webpack进阶之loader篇\ntags:\n- webpack\n- javascript\n- node\n- 开发工具\ncategory: webpack处理器\npermalink: WebpackLLink\n---\nwebpack的loaders是一大特色，也是很重要的一部分。这遍博客我将分类讲解一些常用的laoder\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、loaders之 预处理\n* css-loader 处理css中路径引用等问题\n* style-loader 动态把样式写入css\n* sass-loader scss编译器\n* less-loader less编译器\n* postcss-loader scss再处理\n\n`npm install --save -dev css-loader style-loader sass-loader less-loader postcss-loader`  \n\n栗子:\n\n```\nmodule: {\n  loaders: [\n    {test: /\\.css$/, loader: \"style!css?sourceMap!postcss\"},\n    {test: /\\.less$/, loader: \"style!css!less|postcss\"},\n    {test: /\\.scss$/, loader: \"style!css!sass|postcss\"}\n  ]\n}\n```\n\n### 二、loaders之 js处理\n* babel-loader\n* jsx-loader\n\n`npm install --save-dev babel-core babel-preset-es2015  babel-loader jsx-loader`\n\n栗子  \n\n新建一个名字为`.babelrc`的文件\n\n```\n{\n  \"presets\": [\"es2015\",\"react\"],\n  \"plugins\":[\"antd\"]\n}\n```\n\n新建一个名字为`webpack.config.js`文件\n\n```\nmodule.exports ={\n entry: './entry.js',\n output: { path: __dirname,\n filename: 'bundle.js'\n },\n module: {\nloaders: [\n  {test: /\\.js$/, loader: \"babel\", exclude: /node_modules/},\n  {test: /\\.jsx$/, loader: \"jsx-loader\"}\n  {test: /.css$/, loader: 'style!css'} ]\n  }\n};\n```\n\n### 三、loaders之 图片处理\n* url-loader\n\n`npm install --save-dev url-loadr`\n\n```\nmodule: {\n  loaders: [\n    {test: /\\.(jpg|png)$/, loader: \"url?limit=8192\"},\n  ]\n}\n```\n\n### 四、loaders之 文件处理\n* file-loader\n\n`npm install --save-dev file-loader`\n\n```\nmodule: {\n  loaders: [\n    {\n      test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)$/,\n      loader: 'file'\n      },\n  ]\n}\n\n```\n\n### 五、loaders之 json处理\n* json-loader\n\n`npm install --save-dev json-loader`\n\n```\nmodule: {\n  loaders: [\n    {test: /\\.json$/,loader: 'json'},\n  ]\n}\n```\n\n### 六、loaders之 html处理\n* raw-loader\n\n`npm install --save-dev raw-loader`\n\n```\nmodule: {\n  loaders: [\n    { test: /\\.html$/,loader: 'raw'},\n  ]\n}\n```\n","slug":"WebpackLLink","published":1,"updated":"2016-12-01T06:50:28.058Z","_id":"civ0ggq6q0014rwvn8xx4gghl","comments":1,"layout":"post","photos":[],"link":"","content":"<p>webpack的loaders是一大特色，也是很重要的一部分。这遍博客我将分类讲解一些常用的laoder<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、loaders之-预处理\"><a href=\"#一、loaders之-预处理\" class=\"headerlink\" title=\"一、loaders之 预处理\"></a>一、loaders之 预处理</h3><ul>\n<li>css-loader 处理css中路径引用等问题</li>\n<li>style-loader 动态把样式写入css</li>\n<li>sass-loader scss编译器</li>\n<li>less-loader less编译器</li>\n<li>postcss-loader scss再处理</li>\n</ul>\n<p><code>npm install --save -dev css-loader style-loader sass-loader less-loader postcss-loader</code>  </p>\n<p>栗子:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123;test: /\\.css$/, loader: <span class=\"string\">\"style!css?sourceMap!postcss\"</span>&#125;,</div><div class=\"line\">    &#123;<span class=\"attribute\">test</span>: /\\.less$/, loader: <span class=\"string\">\"style!css!less|postcss\"</span>&#125;,</div><div class=\"line\">    &#123;<span class=\"attribute\">test</span>: /\\.scss$/, loader: <span class=\"string\">\"style!css!sass|postcss\"</span>&#125;</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、loaders之-js处理\"><a href=\"#二、loaders之-js处理\" class=\"headerlink\" title=\"二、loaders之 js处理\"></a>二、loaders之 js处理</h3><ul>\n<li>babel-loader</li>\n<li>jsx-loader</li>\n</ul>\n<p><code>npm install --save-dev babel-core babel-preset-es2015  babel-loader jsx-loader</code></p>\n<p>栗子  </p>\n<p>新建一个名字为<code>.babelrc</code>的文件</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>,<span class=\"string\">\"react\"</span>],</div><div class=\"line\">  <span class=\"attr\">\"plugins\"</span>:[<span class=\"string\">\"antd\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>新建一个名字为<code>webpack.config.js</code>文件</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">module.exports =&#123;</div><div class=\"line\"><span class=\"symbol\"> entry:</span> <span class=\"string\">'./entry.js'</span>,</div><div class=\"line\"><span class=\"symbol\"> output:</span> &#123; <span class=\"string\">path:</span> __dirname,</div><div class=\"line\"><span class=\"symbol\"> filename:</span> <span class=\"string\">'bundle.js'</span></div><div class=\"line\"> &#125;,</div><div class=\"line\"><span class=\"symbol\"> module:</span> &#123;</div><div class=\"line\"><span class=\"string\">loaders:</span> [</div><div class=\"line\">  &#123;<span class=\"string\">test:</span> <span class=\"regexp\">/\\.js$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">\"babel\"</span>, <span class=\"string\">exclude:</span> <span class=\"regexp\">/node_modules/</span>&#125;,</div><div class=\"line\">  &#123;<span class=\"string\">test:</span> <span class=\"regexp\">/\\.jsx$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">\"jsx-loader\"</span>&#125;</div><div class=\"line\">  &#123;<span class=\"string\">test:</span> <span class=\"regexp\">/.css$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'style!css'</span>&#125; ]</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"三、loaders之-图片处理\"><a href=\"#三、loaders之-图片处理\" class=\"headerlink\" title=\"三、loaders之 图片处理\"></a>三、loaders之 图片处理</h3><ul>\n<li>url-loader</li>\n</ul>\n<p><code>npm install --save-dev url-loadr</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123;test: /\\.(jpg|png)$/, loader: <span class=\"string\">\"url?limit=8192\"</span>&#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"四、loaders之-文件处理\"><a href=\"#四、loaders之-文件处理\" class=\"headerlink\" title=\"四、loaders之 文件处理\"></a>四、loaders之 文件处理</h3><ul>\n<li>file-loader</li>\n</ul>\n<p><code>npm install --save-dev file-loader</code></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">module: &#123;</div><div class=\"line\">  loaders: [</div><div class=\"line\">    &#123;</div><div class=\"line\">      test: /\\.(png|<span class=\"type\">jpg</span>|<span class=\"type\">jpeg</span>|<span class=\"type\">gif</span>|<span class=\"type\">svg</span>|<span class=\"type\">woff</span>|<span class=\"type\">woff2</span>|<span class=\"type\">ttf</span>|<span class=\"type\">eot</span>)$/,</div><div class=\"line\">      loader: 'file'</div><div class=\"line\">      &#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"五、loaders之-json处理\"><a href=\"#五、loaders之-json处理\" class=\"headerlink\" title=\"五、loaders之 json处理\"></a>五、loaders之 json处理</h3><ul>\n<li>json-loader</li>\n</ul>\n<p><code>npm install --save-dev json-loader</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123;test: /\\.json$/,loader: <span class=\"string\">'json'</span>&#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"六、loaders之-html处理\"><a href=\"#六、loaders之-html处理\" class=\"headerlink\" title=\"六、loaders之 html处理\"></a>六、loaders之 html处理</h3><ul>\n<li>raw-loader</li>\n</ul>\n<p><code>npm install --save-dev raw-loader</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123; test: /\\.html$/,loader: <span class=\"string\">'raw'</span>&#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","excerpt":"<p>webpack的loaders是一大特色，也是很重要的一部分。这遍博客我将分类讲解一些常用的laoder<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、loaders之-预处理\"><a href=\"#一、loaders之-预处理\" class=\"headerlink\" title=\"一、loaders之 预处理\"></a>一、loaders之 预处理</h3><ul>\n<li>css-loader 处理css中路径引用等问题</li>\n<li>style-loader 动态把样式写入css</li>\n<li>sass-loader scss编译器</li>\n<li>less-loader less编译器</li>\n<li>postcss-loader scss再处理</li>\n</ul>\n<p><code>npm install --save -dev css-loader style-loader sass-loader less-loader postcss-loader</code>  </p>\n<p>栗子:</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123;test: /\\.css$/, loader: <span class=\"string\">\"style!css?sourceMap!postcss\"</span>&#125;,</div><div class=\"line\">    &#123;<span class=\"attribute\">test</span>: /\\.less$/, loader: <span class=\"string\">\"style!css!less|postcss\"</span>&#125;,</div><div class=\"line\">    &#123;<span class=\"attribute\">test</span>: /\\.scss$/, loader: <span class=\"string\">\"style!css!sass|postcss\"</span>&#125;</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、loaders之-js处理\"><a href=\"#二、loaders之-js处理\" class=\"headerlink\" title=\"二、loaders之 js处理\"></a>二、loaders之 js处理</h3><ul>\n<li>babel-loader</li>\n<li>jsx-loader</li>\n</ul>\n<p><code>npm install --save-dev babel-core babel-preset-es2015  babel-loader jsx-loader</code></p>\n<p>栗子  </p>\n<p>新建一个名字为<code>.babelrc</code>的文件</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>,<span class=\"string\">\"react\"</span>],</div><div class=\"line\">  <span class=\"attr\">\"plugins\"</span>:[<span class=\"string\">\"antd\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>新建一个名字为<code>webpack.config.js</code>文件</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">module.exports =&#123;</div><div class=\"line\"><span class=\"symbol\"> entry:</span> <span class=\"string\">'./entry.js'</span>,</div><div class=\"line\"><span class=\"symbol\"> output:</span> &#123; <span class=\"string\">path:</span> __dirname,</div><div class=\"line\"><span class=\"symbol\"> filename:</span> <span class=\"string\">'bundle.js'</span></div><div class=\"line\"> &#125;,</div><div class=\"line\"><span class=\"symbol\"> module:</span> &#123;</div><div class=\"line\"><span class=\"string\">loaders:</span> [</div><div class=\"line\">  &#123;<span class=\"string\">test:</span> <span class=\"regexp\">/\\.js$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">\"babel\"</span>, <span class=\"string\">exclude:</span> <span class=\"regexp\">/node_modules/</span>&#125;,</div><div class=\"line\">  &#123;<span class=\"string\">test:</span> <span class=\"regexp\">/\\.jsx$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">\"jsx-loader\"</span>&#125;</div><div class=\"line\">  &#123;<span class=\"string\">test:</span> <span class=\"regexp\">/.css$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'style!css'</span>&#125; ]</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<h3 id=\"三、loaders之-图片处理\"><a href=\"#三、loaders之-图片处理\" class=\"headerlink\" title=\"三、loaders之 图片处理\"></a>三、loaders之 图片处理</h3><ul>\n<li>url-loader</li>\n</ul>\n<p><code>npm install --save-dev url-loadr</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123;test: /\\.(jpg|png)$/, loader: <span class=\"string\">\"url?limit=8192\"</span>&#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"四、loaders之-文件处理\"><a href=\"#四、loaders之-文件处理\" class=\"headerlink\" title=\"四、loaders之 文件处理\"></a>四、loaders之 文件处理</h3><ul>\n<li>file-loader</li>\n</ul>\n<p><code>npm install --save-dev file-loader</code></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">module: &#123;</div><div class=\"line\">  loaders: [</div><div class=\"line\">    &#123;</div><div class=\"line\">      test: /\\.(png|<span class=\"type\">jpg</span>|<span class=\"type\">jpeg</span>|<span class=\"type\">gif</span>|<span class=\"type\">svg</span>|<span class=\"type\">woff</span>|<span class=\"type\">woff2</span>|<span class=\"type\">ttf</span>|<span class=\"type\">eot</span>)$/,</div><div class=\"line\">      loader: 'file'</div><div class=\"line\">      &#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"五、loaders之-json处理\"><a href=\"#五、loaders之-json处理\" class=\"headerlink\" title=\"五、loaders之 json处理\"></a>五、loaders之 json处理</h3><ul>\n<li>json-loader</li>\n</ul>\n<p><code>npm install --save-dev json-loader</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123;test: /\\.json$/,loader: <span class=\"string\">'json'</span>&#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"六、loaders之-html处理\"><a href=\"#六、loaders之-html处理\" class=\"headerlink\" title=\"六、loaders之 html处理\"></a>六、loaders之 html处理</h3><ul>\n<li>raw-loader</li>\n</ul>\n<p><code>npm install --save-dev raw-loader</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">module</span>: &#123;</div><div class=\"line\">  <span class=\"attribute\">loaders</span>: [</div><div class=\"line\">    &#123; test: /\\.html$/,loader: <span class=\"string\">'raw'</span>&#125;,</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-05-16T16:00:00.000Z","title":"webpack进阶之插件篇","_content":"上一篇博客讲解了webpack环境的基本，这一篇讲解一些更深入的内容和开发技巧。基本环境搭建就不展开讲了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、插件篇\n#### 1. 自动补全css3前缀\n\n autoprefixer  \n\n>官方是这样说的：`Parse CSS and add vendor prefixes to CSS rules using values from the Can I Use website`\n，也就是说它是一个自动检测兼容性给各个浏览器加个内核前缀的插件。  \n\n举个栗子：最新的弹性盒模型flux\n实际代码：\n```\n:fullscreen a {\n    display: flex\n}\n```\n\n插件自动补充后\n```\na {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex\n}\n```\n\n效果显而易见，我们可以更专注于css布局和美化，而不需要花过多的精力都写相同的外码而加上不同的前缀，也减少了冗余代码。\n\n使用方法:\n\n`cnpm install --save-dev autoprefixer postcss-loader`\n\n```\nvar autoprefixer = require('autoprefixer');\nmodule.exports={\n  //其他配置这里就不写了\n\n  module:{\n    loaders:[\n    {\n      test:/\\.css$/,\n      //在原有基础上加上一个postcss的loader就可以了\n      loaders:['style-loader','css-loader','postcss-loader']\n      }\n      ]\n  },\n  postcss:[autoprefixer({browsers:['last 2 versions']})]\n\n}\n```\n\n#### 2. 自动生成html插件\n\nhtml-webpack-plugin\n\n`cnpm install html-webpack-plugin --save-dev`\n\n```\n  //webpack.config.js\n  var HtmlWebpackPlugin = require('html-webpack-plugin');\n  module.exports={\n    entry:'./index.js',\n    output:{\n      path:__dirname+'/dist',\n      filename:'bundle.js'\n    }\n    plugins:[\n      new HtmlWebpackPlugin()\n    ]\n  }\n```\n\n>作用:它会在dist目录下自动生成一个index.html\n\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>Webpack App</title>\n  </head>\n  <body>\n    <script src=\"bundle.js\"></script>\n  </body>\n</html>\n```\n\n其他配置参数:\n\n```\n{\n  entry: 'index.js',\n  output: {\n    path: 'dist',\n    filename: 'bundle.js'\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'My App',\n      filename: 'admin.html',\n      template:'header.html',\n      inject: 'body',\n      favicon:'./images/favico.ico',\n      minify:true,\n      hash:true,\n      cache:false,\n      showErrors:false,\n      \"chunks\": {\n      \"head\": {\n        \"entry\": \"assets/head_bundle.js\",\n        \"css\": [ \"main.css\" ]\n      },\n      xhtml:false\n    })\n  ]\n}\n```\n\n```\n--- header.html ---\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\"/>\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n  </body>\n</html>\n```\n\n作用：   \n\n```\n  title: 设置title的名字   \n  filename: 设置这个html的文件名   \n  template:要使用的模块的路径  \n  inject: 把模板注入到哪个标签后 'body',   \n  favicon: 给html添加一个favicon  './images/favico.ico',   \n  minify:是否压缩  true false   \n  hash:是否hash化 true false ,     \n  cache:是否缓存,   \n  showErrors:是否显示错误,  \n  chunks:目前没太明白  \n  xhtml:是否自动毕业标签 默认false  \n```\n\n#### 3. 提取样式插件\n\nextract-text-webpack-plugin  \n\n>官网是这么解释的`Extract text from bundle into a file.`,把额外的数据加到编译好的文件中\n\n```\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nmodule.exports = {\n    module: {\n        loaders: [\n            { test: /\\.css$/, loader: ExtractTextPlugin.extract(\"style-loader\", \"css-loader\") }\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n                template: './src/public/index.html',\n                inject: 'body'\n            }),\n        new ExtractTextPlugin(\"[name].[hash].css\")\n    ]\n}\n```\n\n说明：将css放到index.html的body上面\n\n#### 4. 拷贝资源插件\n\n copy-webpack-plugin   \n\n>官方这样解释 `Copy files and directories in webpack`,在webpack中拷贝文件和文件夹\n\n```\ncnpm install --save-dev copy-webpack-plugin\n\nnew CopyWebpackPlugin([{\n    from: __dirname + '/src/public'\n}]),\n```\n\n>作用：把public 里面的内容全部拷贝到编译目录\n\n| 参数        | 作用           | 其他说明  |\n| :-----------: |:--------:  | :---:|\n| from      | 定义要拷贝的源目录 | from: __dirname + '/src/public' |\n| to      | 定义要烤盘膛的目标目录      |   from: __dirname + '/dist' |\n| toType | `file` 或者 `dir`     |    可选，默认是文件 |\n| force |强制覆盖先前的插件      |    可选 默认false |\n| context | 不知道作用      | 可选 默认 base context 可用  specific context |\n| flatten | 只拷贝文件不管文件夹      |    默认是false |\n| ignore | 忽略拷贝指定的文件  |    可以用模糊匹配 |\n\n\n#### 5. 全局挂载插件\n\nwebpack.ProvidePlugin [webpack内置插件 ]    \n\n```\nnew webpack.ProvidePlugin({\n    $: \"jquery\",\n    jQuery: \"jquery\",\n    \"window.jQuery\": \"jquery\"\n}))\nnew webpack.NoErrorsPlugin(),\nnew webpack.optimize.DedupePlugin(),\nnew webpack.optimize.UglifyJsPlugin(),\nnew webpack.optimize.CommonsChunkPlugin('common.js')\n```\n\n作用: 和上面5个一一对应  \n\n```\n  把一些需要的东西绑定到window上，暴露出来 成为全局变量\n  不显示错误插件\n  具体不是太清楚，先记录着\n  丑化js 混淆代码而用\n  提取公共代码的插件\n```\n\n### 二、一个完整的栗子\n```\n'use strict';\n\n// Modules\nvar webpack = require('webpack');\nvar autoprefixer = require('autoprefixer');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar CopyWebpackPlugin = require('copy-webpack-plugin');\n\n/**\n * Env\n * Get npm lifecycle event to identify the environment\n */\nvar ENV = process.env.npm_lifecycle_event;\nvar isTest = ENV === 'test' || ENV === 'test-watch';\nvar isProd = ENV === 'build';\n\nmodule.exports = function makeWebpackConfig() {\n    var config = {};\n\n    config.entry = isTest ? {} : {\n        app: './src/app/app.js'\n    };\n\n    config.output = isTest ? {} : {\n        // Absolute output directory\n        path: __dirname + '/dist',\n\n        publicPath: isProd ? '/' : 'http://localhost:8080/',\n\n        filename: isProd ? '[name].[hash].js' : '[name].bundle.js',\n\n        chunkFilename: isProd ? '[name].[hash].js' : '[name].bundle.js'\n    };\n\n    if (isTest) {\n        config.devtool = 'inline-source-map';\n    } else if (isProd) {\n        config.devtool = 'source-map';\n    } else {\n        config.devtool = 'eval-source-map';\n    }\n\n    config.module = {\n        preLoaders: [],\n        loaders: [{\n            test: /\\.js$/,\n            loader: 'babel',\n            exclude: /node_modules/\n        }, {\n            test: /\\.css/,\n            loader: isTest ? 'null' : ExtractTextPlugin.extract('style', 'css?sourceMap!postcss')\n        }, {\n            test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)$/,\n            loader: 'file'\n        }, {\n            test: /\\.json$/,\n            loader: 'json'\n        }, {\n            test: /\\.scss/,\n            loader: 'style!css!sass'\n        }, {\n            test: /\\.html$/,\n            loader: 'raw'\n        }]\n    };\n    if (isTest) {\n        config.module.preLoaders.push({\n            test: /\\.js$/,\n            exclude: [\n                /node_modules/,\n                /\\.spec\\.js$/\n            ],\n            loader: 'isparta-instrumenter'\n        })\n    }\n\n    config.postcss = [\n        autoprefixer({\n            browsers: ['last 2 version']\n        })\n    ];\n\n    config.plugins = [];\n    if (!isTest) {\n        config.plugins.push(\n            new HtmlWebpackPlugin({\n                template: './src/public/index.html',\n                inject: 'body'\n            }),\n\n            new ExtractTextPlugin('[name].[hash].css', {disable: !isProd})\n        )\n    }\n\n    if (isProd) {\n        config.plugins.push(\n            new webpack.NoErrorsPlugin(),\n\n            new webpack.optimize.DedupePlugin(),\n\n            new webpack.optimize.UglifyJsPlugin(),\n\n            new CopyWebpackPlugin([{\n                from: __dirname + '/src/public'\n            }]),\n            new webpack.ProvidePlugin({\n                $: \"jquery\",\n                jQuery: \"jquery\",\n                \"window.jQuery\": \"jquery\"\n            }))\n    }\n\n    config.devServer = {\n        contentBase: './src/public',\n        stats: 'minimal'\n    };\n\n    return config;\n}();\n\n```\n\n### 三、调试技巧\n\n```\nif (isTest) {\n    config.devtool = 'inline-source-map';\n} else if (isProd) {\n    config.devtool = 'source-map';\n} else {\n    config.devtool = 'eval-source-map';\n}\n```\n\n>作用: 使用source-map可以在debug的时候看到源代码，方便 查错\n","source":"_posts/2016-05-17.webpack_plugins.md","raw":"---\nauthor: 小莫\ndate: 2016-05-17\ntitle: webpack进阶之插件篇\ntags:\n- webpack\n- node\n- javascript\n- 开发工具\ncategory: webpack插件\npermalink: WebpackPlugins\n---\n上一篇博客讲解了webpack环境的基本，这一篇讲解一些更深入的内容和开发技巧。基本环境搭建就不展开讲了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、插件篇\n#### 1. 自动补全css3前缀\n\n autoprefixer  \n\n>官方是这样说的：`Parse CSS and add vendor prefixes to CSS rules using values from the Can I Use website`\n，也就是说它是一个自动检测兼容性给各个浏览器加个内核前缀的插件。  \n\n举个栗子：最新的弹性盒模型flux\n实际代码：\n```\n:fullscreen a {\n    display: flex\n}\n```\n\n插件自动补充后\n```\na {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex\n}\n```\n\n效果显而易见，我们可以更专注于css布局和美化，而不需要花过多的精力都写相同的外码而加上不同的前缀，也减少了冗余代码。\n\n使用方法:\n\n`cnpm install --save-dev autoprefixer postcss-loader`\n\n```\nvar autoprefixer = require('autoprefixer');\nmodule.exports={\n  //其他配置这里就不写了\n\n  module:{\n    loaders:[\n    {\n      test:/\\.css$/,\n      //在原有基础上加上一个postcss的loader就可以了\n      loaders:['style-loader','css-loader','postcss-loader']\n      }\n      ]\n  },\n  postcss:[autoprefixer({browsers:['last 2 versions']})]\n\n}\n```\n\n#### 2. 自动生成html插件\n\nhtml-webpack-plugin\n\n`cnpm install html-webpack-plugin --save-dev`\n\n```\n  //webpack.config.js\n  var HtmlWebpackPlugin = require('html-webpack-plugin');\n  module.exports={\n    entry:'./index.js',\n    output:{\n      path:__dirname+'/dist',\n      filename:'bundle.js'\n    }\n    plugins:[\n      new HtmlWebpackPlugin()\n    ]\n  }\n```\n\n>作用:它会在dist目录下自动生成一个index.html\n\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"UTF-8\">\n    <title>Webpack App</title>\n  </head>\n  <body>\n    <script src=\"bundle.js\"></script>\n  </body>\n</html>\n```\n\n其他配置参数:\n\n```\n{\n  entry: 'index.js',\n  output: {\n    path: 'dist',\n    filename: 'bundle.js'\n  },\n  plugins: [\n    new HtmlWebpackPlugin({\n      title: 'My App',\n      filename: 'admin.html',\n      template:'header.html',\n      inject: 'body',\n      favicon:'./images/favico.ico',\n      minify:true,\n      hash:true,\n      cache:false,\n      showErrors:false,\n      \"chunks\": {\n      \"head\": {\n        \"entry\": \"assets/head_bundle.js\",\n        \"css\": [ \"main.css\" ]\n      },\n      xhtml:false\n    })\n  ]\n}\n```\n\n```\n--- header.html ---\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\"/>\n    <title><%= htmlWebpackPlugin.options.title %></title>\n  </head>\n  <body>\n  </body>\n</html>\n```\n\n作用：   \n\n```\n  title: 设置title的名字   \n  filename: 设置这个html的文件名   \n  template:要使用的模块的路径  \n  inject: 把模板注入到哪个标签后 'body',   \n  favicon: 给html添加一个favicon  './images/favico.ico',   \n  minify:是否压缩  true false   \n  hash:是否hash化 true false ,     \n  cache:是否缓存,   \n  showErrors:是否显示错误,  \n  chunks:目前没太明白  \n  xhtml:是否自动毕业标签 默认false  \n```\n\n#### 3. 提取样式插件\n\nextract-text-webpack-plugin  \n\n>官网是这么解释的`Extract text from bundle into a file.`,把额外的数据加到编译好的文件中\n\n```\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nmodule.exports = {\n    module: {\n        loaders: [\n            { test: /\\.css$/, loader: ExtractTextPlugin.extract(\"style-loader\", \"css-loader\") }\n        ]\n    },\n    plugins: [\n        new HtmlWebpackPlugin({\n                template: './src/public/index.html',\n                inject: 'body'\n            }),\n        new ExtractTextPlugin(\"[name].[hash].css\")\n    ]\n}\n```\n\n说明：将css放到index.html的body上面\n\n#### 4. 拷贝资源插件\n\n copy-webpack-plugin   \n\n>官方这样解释 `Copy files and directories in webpack`,在webpack中拷贝文件和文件夹\n\n```\ncnpm install --save-dev copy-webpack-plugin\n\nnew CopyWebpackPlugin([{\n    from: __dirname + '/src/public'\n}]),\n```\n\n>作用：把public 里面的内容全部拷贝到编译目录\n\n| 参数        | 作用           | 其他说明  |\n| :-----------: |:--------:  | :---:|\n| from      | 定义要拷贝的源目录 | from: __dirname + '/src/public' |\n| to      | 定义要烤盘膛的目标目录      |   from: __dirname + '/dist' |\n| toType | `file` 或者 `dir`     |    可选，默认是文件 |\n| force |强制覆盖先前的插件      |    可选 默认false |\n| context | 不知道作用      | 可选 默认 base context 可用  specific context |\n| flatten | 只拷贝文件不管文件夹      |    默认是false |\n| ignore | 忽略拷贝指定的文件  |    可以用模糊匹配 |\n\n\n#### 5. 全局挂载插件\n\nwebpack.ProvidePlugin [webpack内置插件 ]    \n\n```\nnew webpack.ProvidePlugin({\n    $: \"jquery\",\n    jQuery: \"jquery\",\n    \"window.jQuery\": \"jquery\"\n}))\nnew webpack.NoErrorsPlugin(),\nnew webpack.optimize.DedupePlugin(),\nnew webpack.optimize.UglifyJsPlugin(),\nnew webpack.optimize.CommonsChunkPlugin('common.js')\n```\n\n作用: 和上面5个一一对应  \n\n```\n  把一些需要的东西绑定到window上，暴露出来 成为全局变量\n  不显示错误插件\n  具体不是太清楚，先记录着\n  丑化js 混淆代码而用\n  提取公共代码的插件\n```\n\n### 二、一个完整的栗子\n```\n'use strict';\n\n// Modules\nvar webpack = require('webpack');\nvar autoprefixer = require('autoprefixer');\nvar HtmlWebpackPlugin = require('html-webpack-plugin');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar CopyWebpackPlugin = require('copy-webpack-plugin');\n\n/**\n * Env\n * Get npm lifecycle event to identify the environment\n */\nvar ENV = process.env.npm_lifecycle_event;\nvar isTest = ENV === 'test' || ENV === 'test-watch';\nvar isProd = ENV === 'build';\n\nmodule.exports = function makeWebpackConfig() {\n    var config = {};\n\n    config.entry = isTest ? {} : {\n        app: './src/app/app.js'\n    };\n\n    config.output = isTest ? {} : {\n        // Absolute output directory\n        path: __dirname + '/dist',\n\n        publicPath: isProd ? '/' : 'http://localhost:8080/',\n\n        filename: isProd ? '[name].[hash].js' : '[name].bundle.js',\n\n        chunkFilename: isProd ? '[name].[hash].js' : '[name].bundle.js'\n    };\n\n    if (isTest) {\n        config.devtool = 'inline-source-map';\n    } else if (isProd) {\n        config.devtool = 'source-map';\n    } else {\n        config.devtool = 'eval-source-map';\n    }\n\n    config.module = {\n        preLoaders: [],\n        loaders: [{\n            test: /\\.js$/,\n            loader: 'babel',\n            exclude: /node_modules/\n        }, {\n            test: /\\.css/,\n            loader: isTest ? 'null' : ExtractTextPlugin.extract('style', 'css?sourceMap!postcss')\n        }, {\n            test: /\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)$/,\n            loader: 'file'\n        }, {\n            test: /\\.json$/,\n            loader: 'json'\n        }, {\n            test: /\\.scss/,\n            loader: 'style!css!sass'\n        }, {\n            test: /\\.html$/,\n            loader: 'raw'\n        }]\n    };\n    if (isTest) {\n        config.module.preLoaders.push({\n            test: /\\.js$/,\n            exclude: [\n                /node_modules/,\n                /\\.spec\\.js$/\n            ],\n            loader: 'isparta-instrumenter'\n        })\n    }\n\n    config.postcss = [\n        autoprefixer({\n            browsers: ['last 2 version']\n        })\n    ];\n\n    config.plugins = [];\n    if (!isTest) {\n        config.plugins.push(\n            new HtmlWebpackPlugin({\n                template: './src/public/index.html',\n                inject: 'body'\n            }),\n\n            new ExtractTextPlugin('[name].[hash].css', {disable: !isProd})\n        )\n    }\n\n    if (isProd) {\n        config.plugins.push(\n            new webpack.NoErrorsPlugin(),\n\n            new webpack.optimize.DedupePlugin(),\n\n            new webpack.optimize.UglifyJsPlugin(),\n\n            new CopyWebpackPlugin([{\n                from: __dirname + '/src/public'\n            }]),\n            new webpack.ProvidePlugin({\n                $: \"jquery\",\n                jQuery: \"jquery\",\n                \"window.jQuery\": \"jquery\"\n            }))\n    }\n\n    config.devServer = {\n        contentBase: './src/public',\n        stats: 'minimal'\n    };\n\n    return config;\n}();\n\n```\n\n### 三、调试技巧\n\n```\nif (isTest) {\n    config.devtool = 'inline-source-map';\n} else if (isProd) {\n    config.devtool = 'source-map';\n} else {\n    config.devtool = 'eval-source-map';\n}\n```\n\n>作用: 使用source-map可以在debug的时候看到源代码，方便 查错\n","slug":"WebpackPlugins","published":1,"updated":"2016-12-01T06:50:29.758Z","_id":"civ0ggq6r0018rwvn1xb7xsw2","comments":1,"layout":"post","photos":[],"link":"","content":"<p>上一篇博客讲解了webpack环境的基本，这一篇讲解一些更深入的内容和开发技巧。基本环境搭建就不展开讲了<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、插件篇\"><a href=\"#一、插件篇\" class=\"headerlink\" title=\"一、插件篇\"></a>一、插件篇</h3><h4 id=\"1-自动补全css3前缀\"><a href=\"#1-自动补全css3前缀\" class=\"headerlink\" title=\"1. 自动补全css3前缀\"></a>1. 自动补全css3前缀</h4><p> autoprefixer  </p>\n<blockquote>\n<p>官方是这样说的：<code>Parse CSS and add vendor prefixes to CSS rules using values from the Can I Use website</code><br>，也就是说它是一个自动检测兼容性给各个浏览器加个内核前缀的插件。  </p>\n</blockquote>\n<p>举个栗子：最新的弹性盒模型flux<br>实际代码：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-pseudo\">:fullscreen</span> <span class=\"selector-tag\">a</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: flex</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>插件自动补充后<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">a</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: -webkit-box;</div><div class=\"line\">    <span class=\"attribute\">display</span>: -webkit-flex;</div><div class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</div><div class=\"line\">    <span class=\"attribute\">display</span>: flex</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>效果显而易见，我们可以更专注于css布局和美化，而不需要花过多的精力都写相同的外码而加上不同的前缀，也减少了冗余代码。</p>\n<p>使用方法:</p>\n<p><code>cnpm install --save-dev autoprefixer postcss-loader</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> autoprefixer = <span class=\"built_in\">require</span>(<span class=\"string\">'autoprefixer'</span>);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports=&#123;</div><div class=\"line\">  <span class=\"comment\">//其他配置这里就不写了</span></div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">module</span>:&#123;</div><div class=\"line\">    loaders:[</div><div class=\"line\">    &#123;</div><div class=\"line\">      test:<span class=\"regexp\">/\\.css$/</span>,</div><div class=\"line\">      <span class=\"comment\">//在原有基础上加上一个postcss的loader就可以了</span></div><div class=\"line\">      loaders:[<span class=\"string\">'style-loader'</span>,<span class=\"string\">'css-loader'</span>,<span class=\"string\">'postcss-loader'</span>]</div><div class=\"line\">      &#125;</div><div class=\"line\">      ]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  postcss:[autoprefixer(&#123;browsers:[<span class=\"string\">'last 2 versions'</span>]&#125;)]</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-自动生成html插件\"><a href=\"#2-自动生成html插件\" class=\"headerlink\" title=\"2. 自动生成html插件\"></a>2. 自动生成html插件</h4><p>html-webpack-plugin</p>\n<p><code>cnpm install html-webpack-plugin --save-dev</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//webpack.config.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports=&#123;</div><div class=\"line\">  <span class=\"attr\">entry</span>:<span class=\"string\">'./index.js'</span>,</div><div class=\"line\">  <span class=\"attr\">output</span>:&#123;</div><div class=\"line\">    <span class=\"attr\">path</span>:__dirname+<span class=\"string\">'/dist'</span>,</div><div class=\"line\">    <span class=\"attr\">filename</span>:<span class=\"string\">'bundle.js'</span></div><div class=\"line\">  &#125;</div><div class=\"line\">  plugins:[</div><div class=\"line\">    <span class=\"keyword\">new</span> HtmlWebpackPlugin()</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>作用:它会在dist目录下自动生成一个index.html</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Webpack App<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>其他配置参数:</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attribute\">entry</span>: <span class=\"string\">'index.js'</span>,</div><div class=\"line\">  <span class=\"attribute\">output</span>: &#123;</div><div class=\"line\">    <span class=\"attribute\">path</span>: <span class=\"string\">'dist'</span>,</div><div class=\"line\">    <span class=\"attribute\">filename</span>: <span class=\"string\">'bundle.js'</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"attribute\">plugins</span>: [</div><div class=\"line\">    new HtmlWebpackPlugin(&#123;</div><div class=\"line\">      <span class=\"attribute\">title</span>: <span class=\"string\">'My App'</span>,</div><div class=\"line\">      <span class=\"attribute\">filename</span>: <span class=\"string\">'admin.html'</span>,</div><div class=\"line\">      <span class=\"attribute\">template</span>:<span class=\"string\">'header.html'</span>,</div><div class=\"line\">      <span class=\"attribute\">inject</span>: <span class=\"string\">'body'</span>,</div><div class=\"line\">      <span class=\"attribute\">favicon</span>:<span class=\"string\">'./images/favico.ico'</span>,</div><div class=\"line\">      <span class=\"attribute\">minify</span>:true,</div><div class=\"line\">      <span class=\"attribute\">hash</span>:true,</div><div class=\"line\">      <span class=\"attribute\">cache</span>:false,</div><div class=\"line\">      <span class=\"attribute\">showErrors</span>:false,</div><div class=\"line\">      <span class=\"string\">\"chunks\"</span>: &#123;</div><div class=\"line\">      <span class=\"string\">\"head\"</span>: &#123;</div><div class=\"line\">        <span class=\"string\">\"entry\"</span>: <span class=\"string\">\"assets/head_bundle.js\"</span>,</div><div class=\"line\">        <span class=\"string\">\"css\"</span>: [ <span class=\"string\">\"main.css\"</span> ]</div><div class=\"line\">      &#125;,</div><div class=\"line\">      <span class=\"attribute\">xhtml</span>:false</div><div class=\"line\">    &#125;)</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight erb\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\">--- header.html ---</span></div><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">%=</span></span><span class=\"ruby\"> htmlWebpackPlugin.options.title </span><span class=\"xml\"><span class=\"tag\">%&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>作用：   </p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">title:</span> 设置title的名字   </div><div class=\"line\"><span class=\"string\">filename:</span> 设置这个html的文件名   </div><div class=\"line\"><span class=\"string\">template:</span>要使用的模块的路径  </div><div class=\"line\"><span class=\"string\">inject:</span> 把模板注入到哪个标签后 <span class=\"string\">'body'</span>,   </div><div class=\"line\"><span class=\"string\">favicon:</span> 给html添加一个favicon  <span class=\"string\">'./images/favico.ico'</span>,   </div><div class=\"line\"><span class=\"string\">minify:</span>是否压缩  <span class=\"literal\">true</span> <span class=\"literal\">false</span>   </div><div class=\"line\"><span class=\"string\">hash:</span>是否hash化 <span class=\"literal\">true</span> <span class=\"literal\">false</span> ,     </div><div class=\"line\"><span class=\"string\">cache:</span>是否缓存,   </div><div class=\"line\"><span class=\"string\">showErrors:</span>是否显示错误,  </div><div class=\"line\"><span class=\"string\">chunks:</span>目前没太明白  </div><div class=\"line\"><span class=\"string\">xhtml:</span>是否自动毕业标签 默认<span class=\"literal\">false</span></div></pre></td></tr></table></figure>\n<h4 id=\"3-提取样式插件\"><a href=\"#3-提取样式插件\" class=\"headerlink\" title=\"3. 提取样式插件\"></a>3. 提取样式插件</h4><p>extract-text-webpack-plugin  </p>\n<blockquote>\n<p>官网是这么解释的<code>Extract text from bundle into a file.</code>,把额外的数据加到编译好的文件中</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> ExtractTextPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">\"extract-text-webpack-plugin\"</span>);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</div><div class=\"line\">    <span class=\"keyword\">module</span>: &#123;</div><div class=\"line\">        loaders: [</div><div class=\"line\">            &#123; test: <span class=\"regexp\">/\\.css$/</span>, loader: ExtractTextPlugin.extract(<span class=\"string\">\"style-loader\"</span>, <span class=\"string\">\"css-loader\"</span>) &#125;</div><div class=\"line\">        ]</div><div class=\"line\">    &#125;,</div><div class=\"line\">    plugins: [</div><div class=\"line\">        <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</div><div class=\"line\">                template: <span class=\"string\">'./src/public/index.html'</span>,</div><div class=\"line\">                inject: <span class=\"string\">'body'</span></div><div class=\"line\">            &#125;),</div><div class=\"line\">        <span class=\"keyword\">new</span> ExtractTextPlugin(<span class=\"string\">\"[name].[hash].css\"</span>)</div><div class=\"line\">    ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>说明：将css放到index.html的body上面</p>\n<h4 id=\"4-拷贝资源插件\"><a href=\"#4-拷贝资源插件\" class=\"headerlink\" title=\"4. 拷贝资源插件\"></a>4. 拷贝资源插件</h4><p> copy-webpack-plugin   </p>\n<blockquote>\n<p>官方这样解释 <code>Copy files and directories in webpack</code>,在webpack中拷贝文件和文件夹</p>\n</blockquote>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">cnpm install --save-dev <span class=\"keyword\">copy</span><span class=\"bash\">-webpack-plugin</span></div><div class=\"line\"></div><div class=\"line\">new CopyWebpackPlugin([&#123;</div><div class=\"line\">    <span class=\"keyword\">from</span>: __dirname + <span class=\"string\">'/src/public'</span></div><div class=\"line\">&#125;]),</div></pre></td></tr></table></figure>\n<blockquote>\n<p>作用：把public 里面的内容全部拷贝到编译目录</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">参数</th>\n<th style=\"text-align:center\">作用</th>\n<th style=\"text-align:center\">其他说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">from</td>\n<td style=\"text-align:center\">定义要拷贝的源目录</td>\n<td style=\"text-align:center\">from: __dirname + ‘/src/public’</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">to</td>\n<td style=\"text-align:center\">定义要烤盘膛的目标目录</td>\n<td style=\"text-align:center\">from: __dirname + ‘/dist’</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">toType</td>\n<td style=\"text-align:center\"><code>file</code> 或者 <code>dir</code></td>\n<td style=\"text-align:center\">可选，默认是文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">force</td>\n<td style=\"text-align:center\">强制覆盖先前的插件</td>\n<td style=\"text-align:center\">可选 默认false</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">context</td>\n<td style=\"text-align:center\">不知道作用</td>\n<td style=\"text-align:center\">可选 默认 base context 可用  specific context</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">flatten</td>\n<td style=\"text-align:center\">只拷贝文件不管文件夹</td>\n<td style=\"text-align:center\">默认是false</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ignore</td>\n<td style=\"text-align:center\">忽略拷贝指定的文件</td>\n<td style=\"text-align:center\">可以用模糊匹配</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"5-全局挂载插件\"><a href=\"#5-全局挂载插件\" class=\"headerlink\" title=\"5. 全局挂载插件\"></a>5. 全局挂载插件</h4><p>webpack.ProvidePlugin [webpack内置插件 ]    </p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">new webpack.ProvidePlugin(&#123;</div><div class=\"line\">    $: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">    jQuery: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">    <span class=\"string\">\"window.jQuery\"</span>: <span class=\"string\">\"jquery\"</span></div><div class=\"line\">&#125;))</div><div class=\"line\">new webpack.NoErrorsPlugin(),</div><div class=\"line\">new webpack<span class=\"selector-class\">.optimize</span><span class=\"selector-class\">.DedupePlugin</span>(),</div><div class=\"line\">new webpack<span class=\"selector-class\">.optimize</span><span class=\"selector-class\">.UglifyJsPlugin</span>(),</div><div class=\"line\">new webpack<span class=\"selector-class\">.optimize</span><span class=\"selector-class\">.CommonsChunkPlugin</span>(<span class=\"string\">'common.js'</span>)</div></pre></td></tr></table></figure>\n<p>作用: 和上面5个一一对应  </p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">把一些需要的东西绑定到<span class=\"built_in\">window</span>上，暴露出来 成为全局变量</div><div class=\"line\">不显示错误插件</div><div class=\"line\">具体不是太清楚，先记录着</div><div class=\"line\">丑化js 混淆代码而用</div><div class=\"line\">提取公共代码的插件</div></pre></td></tr></table></figure>\n<h3 id=\"二、一个完整的栗子\"><a href=\"#二、一个完整的栗子\" class=\"headerlink\" title=\"二、一个完整的栗子\"></a>二、一个完整的栗子</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">'use strict'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Modules</span></div><div class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> autoprefixer = <span class=\"built_in\">require</span>(<span class=\"string\">'autoprefixer'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> ExtractTextPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'extract-text-webpack-plugin'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> CopyWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'copy-webpack-plugin'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * Env</div><div class=\"line\"> * Get npm lifecycle event to identify the environment</div><div class=\"line\"> */</div><div class=\"line\"><span class=\"keyword\">var</span> ENV = process.env.npm_lifecycle_event;</div><div class=\"line\"><span class=\"keyword\">var</span> isTest = ENV === <span class=\"string\">'test'</span> || ENV === <span class=\"string\">'test-watch'</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> isProd = ENV === <span class=\"string\">'build'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">makeWebpackConfig</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> config = &#123;&#125;;</div><div class=\"line\"></div><div class=\"line\">    config.entry = isTest ? &#123;&#125; : &#123;</div><div class=\"line\">        <span class=\"attr\">app</span>: <span class=\"string\">'./src/app/app.js'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    config.output = isTest ? &#123;&#125; : &#123;</div><div class=\"line\">        <span class=\"comment\">// Absolute output directory</span></div><div class=\"line\">        path: __dirname + <span class=\"string\">'/dist'</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attr\">publicPath</span>: isProd ? <span class=\"string\">'/'</span> : <span class=\"string\">'http://localhost:8080/'</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attr\">filename</span>: isProd ? <span class=\"string\">'[name].[hash].js'</span> : <span class=\"string\">'[name].bundle.js'</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attr\">chunkFilename</span>: isProd ? <span class=\"string\">'[name].[hash].js'</span> : <span class=\"string\">'[name].bundle.js'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span> (isTest) &#123;</div><div class=\"line\">        config.devtool = <span class=\"string\">'inline-source-map'</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (isProd) &#123;</div><div class=\"line\">        config.devtool = <span class=\"string\">'source-map'</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">        config.devtool = <span class=\"string\">'eval-source-map'</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    config.module = &#123;</div><div class=\"line\">        <span class=\"attr\">preLoaders</span>: [],</div><div class=\"line\">        <span class=\"attr\">loaders</span>: [&#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'babel'</span>,</div><div class=\"line\">            <span class=\"attr\">exclude</span>: <span class=\"regexp\">/node_modules/</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: isTest ? <span class=\"string\">'null'</span> : ExtractTextPlugin.extract(<span class=\"string\">'style'</span>, <span class=\"string\">'css?sourceMap!postcss'</span>)</div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'file'</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.json$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'json'</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.scss/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'style!css!sass'</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.html$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'raw'</span></div><div class=\"line\">        &#125;]</div><div class=\"line\">    &#125;;</div><div class=\"line\">    <span class=\"keyword\">if</span> (isTest) &#123;</div><div class=\"line\">        config.module.preLoaders.push(&#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</div><div class=\"line\">            <span class=\"attr\">exclude</span>: [</div><div class=\"line\">                <span class=\"regexp\">/node_modules/</span>,</div><div class=\"line\">                /\\.spec\\.js$/</div><div class=\"line\">            ],</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'isparta-instrumenter'</span></div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    config.postcss = [</div><div class=\"line\">        autoprefixer(&#123;</div><div class=\"line\">            <span class=\"attr\">browsers</span>: [<span class=\"string\">'last 2 version'</span>]</div><div class=\"line\">        &#125;)</div><div class=\"line\">    ];</div><div class=\"line\"></div><div class=\"line\">    config.plugins = [];</div><div class=\"line\">    <span class=\"keyword\">if</span> (!isTest) &#123;</div><div class=\"line\">        config.plugins.push(</div><div class=\"line\">            <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</div><div class=\"line\">                <span class=\"attr\">template</span>: <span class=\"string\">'./src/public/index.html'</span>,</div><div class=\"line\">                <span class=\"attr\">inject</span>: <span class=\"string\">'body'</span></div><div class=\"line\">            &#125;),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> ExtractTextPlugin(<span class=\"string\">'[name].[hash].css'</span>, &#123;<span class=\"attr\">disable</span>: !isProd&#125;)</div><div class=\"line\">        )</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span> (isProd) &#123;</div><div class=\"line\">        config.plugins.push(</div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.NoErrorsPlugin(),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.optimize.DedupePlugin(),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.optimize.UglifyJsPlugin(),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> CopyWebpackPlugin([&#123;</div><div class=\"line\">                <span class=\"attr\">from</span>: __dirname + <span class=\"string\">'/src/public'</span></div><div class=\"line\">            &#125;]),</div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.ProvidePlugin(&#123;</div><div class=\"line\">                <span class=\"attr\">$</span>: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">                <span class=\"attr\">jQuery</span>: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">                <span class=\"string\">\"window.jQuery\"</span>: <span class=\"string\">\"jquery\"</span></div><div class=\"line\">            &#125;))</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    config.devServer = &#123;</div><div class=\"line\">        <span class=\"attr\">contentBase</span>: <span class=\"string\">'./src/public'</span>,</div><div class=\"line\">        <span class=\"attr\">stats</span>: <span class=\"string\">'minimal'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> config;</div><div class=\"line\">&#125;();</div></pre></td></tr></table></figure>\n<h3 id=\"三、调试技巧\"><a href=\"#三、调试技巧\" class=\"headerlink\" title=\"三、调试技巧\"></a>三、调试技巧</h3><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">if</span> (isTest) &#123;</div><div class=\"line\">    <span class=\"built_in\">config</span>.devtool = <span class=\"string\">'inline-source-map'</span>;</div><div class=\"line\">&#125; <span class=\"built_in\">else</span> <span class=\"built_in\">if</span> (isProd) &#123;</div><div class=\"line\">    <span class=\"built_in\">config</span>.devtool = <span class=\"string\">'source-map'</span>;</div><div class=\"line\">&#125; <span class=\"built_in\">else</span> &#123;</div><div class=\"line\">    <span class=\"built_in\">config</span>.devtool = <span class=\"string\">'eval-source-map'</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>作用: 使用source-map可以在debug的时候看到源代码，方便 查错</p>\n</blockquote>\n","excerpt":"<p>上一篇博客讲解了webpack环境的基本，这一篇讲解一些更深入的内容和开发技巧。基本环境搭建就不展开讲了<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、插件篇\"><a href=\"#一、插件篇\" class=\"headerlink\" title=\"一、插件篇\"></a>一、插件篇</h3><h4 id=\"1-自动补全css3前缀\"><a href=\"#1-自动补全css3前缀\" class=\"headerlink\" title=\"1. 自动补全css3前缀\"></a>1. 自动补全css3前缀</h4><p> autoprefixer  </p>\n<blockquote>\n<p>官方是这样说的：<code>Parse CSS and add vendor prefixes to CSS rules using values from the Can I Use website</code><br>，也就是说它是一个自动检测兼容性给各个浏览器加个内核前缀的插件。  </p>\n</blockquote>\n<p>举个栗子：最新的弹性盒模型flux<br>实际代码：<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-pseudo\">:fullscreen</span> <span class=\"selector-tag\">a</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: flex</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>插件自动补充后<br><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">a</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: -webkit-box;</div><div class=\"line\">    <span class=\"attribute\">display</span>: -webkit-flex;</div><div class=\"line\">    <span class=\"attribute\">display</span>: -ms-flexbox;</div><div class=\"line\">    <span class=\"attribute\">display</span>: flex</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>效果显而易见，我们可以更专注于css布局和美化，而不需要花过多的精力都写相同的外码而加上不同的前缀，也减少了冗余代码。</p>\n<p>使用方法:</p>\n<p><code>cnpm install --save-dev autoprefixer postcss-loader</code></p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> autoprefixer = <span class=\"built_in\">require</span>(<span class=\"string\">'autoprefixer'</span>);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports=&#123;</div><div class=\"line\">  <span class=\"comment\">//其他配置这里就不写了</span></div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">module</span>:&#123;</div><div class=\"line\">    loaders:[</div><div class=\"line\">    &#123;</div><div class=\"line\">      test:<span class=\"regexp\">/\\.css$/</span>,</div><div class=\"line\">      <span class=\"comment\">//在原有基础上加上一个postcss的loader就可以了</span></div><div class=\"line\">      loaders:[<span class=\"string\">'style-loader'</span>,<span class=\"string\">'css-loader'</span>,<span class=\"string\">'postcss-loader'</span>]</div><div class=\"line\">      &#125;</div><div class=\"line\">      ]</div><div class=\"line\">  &#125;,</div><div class=\"line\">  postcss:[autoprefixer(&#123;browsers:[<span class=\"string\">'last 2 versions'</span>]&#125;)]</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-自动生成html插件\"><a href=\"#2-自动生成html插件\" class=\"headerlink\" title=\"2. 自动生成html插件\"></a>2. 自动生成html插件</h4><p>html-webpack-plugin</p>\n<p><code>cnpm install html-webpack-plugin --save-dev</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//webpack.config.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports=&#123;</div><div class=\"line\">  <span class=\"attr\">entry</span>:<span class=\"string\">'./index.js'</span>,</div><div class=\"line\">  <span class=\"attr\">output</span>:&#123;</div><div class=\"line\">    <span class=\"attr\">path</span>:__dirname+<span class=\"string\">'/dist'</span>,</div><div class=\"line\">    <span class=\"attr\">filename</span>:<span class=\"string\">'bundle.js'</span></div><div class=\"line\">  &#125;</div><div class=\"line\">  plugins:[</div><div class=\"line\">    <span class=\"keyword\">new</span> HtmlWebpackPlugin()</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>作用:它会在dist目录下自动生成一个index.html</p>\n</blockquote>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Webpack App<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"bundle.js\"</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>其他配置参数:</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attribute\">entry</span>: <span class=\"string\">'index.js'</span>,</div><div class=\"line\">  <span class=\"attribute\">output</span>: &#123;</div><div class=\"line\">    <span class=\"attribute\">path</span>: <span class=\"string\">'dist'</span>,</div><div class=\"line\">    <span class=\"attribute\">filename</span>: <span class=\"string\">'bundle.js'</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"attribute\">plugins</span>: [</div><div class=\"line\">    new HtmlWebpackPlugin(&#123;</div><div class=\"line\">      <span class=\"attribute\">title</span>: <span class=\"string\">'My App'</span>,</div><div class=\"line\">      <span class=\"attribute\">filename</span>: <span class=\"string\">'admin.html'</span>,</div><div class=\"line\">      <span class=\"attribute\">template</span>:<span class=\"string\">'header.html'</span>,</div><div class=\"line\">      <span class=\"attribute\">inject</span>: <span class=\"string\">'body'</span>,</div><div class=\"line\">      <span class=\"attribute\">favicon</span>:<span class=\"string\">'./images/favico.ico'</span>,</div><div class=\"line\">      <span class=\"attribute\">minify</span>:true,</div><div class=\"line\">      <span class=\"attribute\">hash</span>:true,</div><div class=\"line\">      <span class=\"attribute\">cache</span>:false,</div><div class=\"line\">      <span class=\"attribute\">showErrors</span>:false,</div><div class=\"line\">      <span class=\"string\">\"chunks\"</span>: &#123;</div><div class=\"line\">      <span class=\"string\">\"head\"</span>: &#123;</div><div class=\"line\">        <span class=\"string\">\"entry\"</span>: <span class=\"string\">\"assets/head_bundle.js\"</span>,</div><div class=\"line\">        <span class=\"string\">\"css\"</span>: [ <span class=\"string\">\"main.css\"</span> ]</div><div class=\"line\">      &#125;,</div><div class=\"line\">      <span class=\"attribute\">xhtml</span>:false</div><div class=\"line\">    &#125;)</div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<figure class=\"highlight erb\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\">--- header.html ---</div><div class=\"line\"><span class=\"meta\">&lt;!DOCTYPE html&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"Content-type\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"text/html; charset=utf-8\"</span>/&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">%=</span></span></span><span class=\"ruby\"> htmlWebpackPlugin.options.title </span><span class=\"xml\"><span class=\"tag\">%&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<p>作用：   </p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">title:</span> 设置title的名字   </div><div class=\"line\"><span class=\"string\">filename:</span> 设置这个html的文件名   </div><div class=\"line\"><span class=\"string\">template:</span>要使用的模块的路径  </div><div class=\"line\"><span class=\"string\">inject:</span> 把模板注入到哪个标签后 <span class=\"string\">'body'</span>,   </div><div class=\"line\"><span class=\"string\">favicon:</span> 给html添加一个favicon  <span class=\"string\">'./images/favico.ico'</span>,   </div><div class=\"line\"><span class=\"string\">minify:</span>是否压缩  <span class=\"literal\">true</span> <span class=\"literal\">false</span>   </div><div class=\"line\"><span class=\"string\">hash:</span>是否hash化 <span class=\"literal\">true</span> <span class=\"literal\">false</span> ,     </div><div class=\"line\"><span class=\"string\">cache:</span>是否缓存,   </div><div class=\"line\"><span class=\"string\">showErrors:</span>是否显示错误,  </div><div class=\"line\"><span class=\"string\">chunks:</span>目前没太明白  </div><div class=\"line\"><span class=\"string\">xhtml:</span>是否自动毕业标签 默认<span class=\"literal\">false</span></div></pre></td></tr></table></figure>\n<h4 id=\"3-提取样式插件\"><a href=\"#3-提取样式插件\" class=\"headerlink\" title=\"3. 提取样式插件\"></a>3. 提取样式插件</h4><p>extract-text-webpack-plugin  </p>\n<blockquote>\n<p>官网是这么解释的<code>Extract text from bundle into a file.</code>,把额外的数据加到编译好的文件中</p>\n</blockquote>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> ExtractTextPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">\"extract-text-webpack-plugin\"</span>);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</div><div class=\"line\">    <span class=\"keyword\">module</span>: &#123;</div><div class=\"line\">        loaders: [</div><div class=\"line\">            &#123; test: <span class=\"regexp\">/\\.css$/</span>, loader: ExtractTextPlugin.extract(<span class=\"string\">\"style-loader\"</span>, <span class=\"string\">\"css-loader\"</span>) &#125;</div><div class=\"line\">        ]</div><div class=\"line\">    &#125;,</div><div class=\"line\">    plugins: [</div><div class=\"line\">        <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</div><div class=\"line\">                template: <span class=\"string\">'./src/public/index.html'</span>,</div><div class=\"line\">                inject: <span class=\"string\">'body'</span></div><div class=\"line\">            &#125;),</div><div class=\"line\">        <span class=\"keyword\">new</span> ExtractTextPlugin(<span class=\"string\">\"[name].[hash].css\"</span>)</div><div class=\"line\">    ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>说明：将css放到index.html的body上面</p>\n<h4 id=\"4-拷贝资源插件\"><a href=\"#4-拷贝资源插件\" class=\"headerlink\" title=\"4. 拷贝资源插件\"></a>4. 拷贝资源插件</h4><p> copy-webpack-plugin   </p>\n<blockquote>\n<p>官方这样解释 <code>Copy files and directories in webpack</code>,在webpack中拷贝文件和文件夹</p>\n</blockquote>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">cnpm install --save-dev <span class=\"keyword\">copy</span><span class=\"bash\">-webpack-plugin</div><div class=\"line\"></span></div><div class=\"line\">new CopyWebpackPlugin([&#123;</div><div class=\"line\">    <span class=\"keyword\">from</span>: __dirname + <span class=\"string\">'/src/public'</span></div><div class=\"line\">&#125;]),</div></pre></td></tr></table></figure>\n<blockquote>\n<p>作用：把public 里面的内容全部拷贝到编译目录</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">参数</th>\n<th style=\"text-align:center\">作用</th>\n<th style=\"text-align:center\">其他说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">from</td>\n<td style=\"text-align:center\">定义要拷贝的源目录</td>\n<td style=\"text-align:center\">from: __dirname + ‘/src/public’</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">to</td>\n<td style=\"text-align:center\">定义要烤盘膛的目标目录</td>\n<td style=\"text-align:center\">from: __dirname + ‘/dist’</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">toType</td>\n<td style=\"text-align:center\"><code>file</code> 或者 <code>dir</code></td>\n<td style=\"text-align:center\">可选，默认是文件</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">force</td>\n<td style=\"text-align:center\">强制覆盖先前的插件</td>\n<td style=\"text-align:center\">可选 默认false</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">context</td>\n<td style=\"text-align:center\">不知道作用</td>\n<td style=\"text-align:center\">可选 默认 base context 可用  specific context</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">flatten</td>\n<td style=\"text-align:center\">只拷贝文件不管文件夹</td>\n<td style=\"text-align:center\">默认是false</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">ignore</td>\n<td style=\"text-align:center\">忽略拷贝指定的文件</td>\n<td style=\"text-align:center\">可以用模糊匹配</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"5-全局挂载插件\"><a href=\"#5-全局挂载插件\" class=\"headerlink\" title=\"5. 全局挂载插件\"></a>5. 全局挂载插件</h4><p>webpack.ProvidePlugin [webpack内置插件 ]    </p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">new webpack.ProvidePlugin(&#123;</div><div class=\"line\">    $: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">    jQuery: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">    <span class=\"string\">\"window.jQuery\"</span>: <span class=\"string\">\"jquery\"</span></div><div class=\"line\">&#125;))</div><div class=\"line\">new webpack.NoErrorsPlugin(),</div><div class=\"line\">new webpack<span class=\"selector-class\">.optimize</span><span class=\"selector-class\">.DedupePlugin</span>(),</div><div class=\"line\">new webpack<span class=\"selector-class\">.optimize</span><span class=\"selector-class\">.UglifyJsPlugin</span>(),</div><div class=\"line\">new webpack<span class=\"selector-class\">.optimize</span><span class=\"selector-class\">.CommonsChunkPlugin</span>(<span class=\"string\">'common.js'</span>)</div></pre></td></tr></table></figure>\n<p>作用: 和上面5个一一对应  </p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">把一些需要的东西绑定到<span class=\"built_in\">window</span>上，暴露出来 成为全局变量</div><div class=\"line\">不显示错误插件</div><div class=\"line\">具体不是太清楚，先记录着</div><div class=\"line\">丑化js 混淆代码而用</div><div class=\"line\">提取公共代码的插件</div></pre></td></tr></table></figure>\n<h3 id=\"二、一个完整的栗子\"><a href=\"#二、一个完整的栗子\" class=\"headerlink\" title=\"二、一个完整的栗子\"></a>二、一个完整的栗子</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">'use strict'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Modules</span></div><div class=\"line\"><span class=\"keyword\">var</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">'webpack'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> autoprefixer = <span class=\"built_in\">require</span>(<span class=\"string\">'autoprefixer'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> HtmlWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'html-webpack-plugin'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> ExtractTextPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'extract-text-webpack-plugin'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> CopyWebpackPlugin = <span class=\"built_in\">require</span>(<span class=\"string\">'copy-webpack-plugin'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * Env</div><div class=\"line\"> * Get npm lifecycle event to identify the environment</div><div class=\"line\"> */</span></div><div class=\"line\"><span class=\"keyword\">var</span> ENV = process.env.npm_lifecycle_event;</div><div class=\"line\"><span class=\"keyword\">var</span> isTest = ENV === <span class=\"string\">'test'</span> || ENV === <span class=\"string\">'test-watch'</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> isProd = ENV === <span class=\"string\">'build'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">makeWebpackConfig</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> config = &#123;&#125;;</div><div class=\"line\"></div><div class=\"line\">    config.entry = isTest ? &#123;&#125; : &#123;</div><div class=\"line\">        <span class=\"attr\">app</span>: <span class=\"string\">'./src/app/app.js'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    config.output = isTest ? &#123;&#125; : &#123;</div><div class=\"line\">        <span class=\"comment\">// Absolute output directory</span></div><div class=\"line\">        path: __dirname + <span class=\"string\">'/dist'</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attr\">publicPath</span>: isProd ? <span class=\"string\">'/'</span> : <span class=\"string\">'http://localhost:8080/'</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attr\">filename</span>: isProd ? <span class=\"string\">'[name].[hash].js'</span> : <span class=\"string\">'[name].bundle.js'</span>,</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attr\">chunkFilename</span>: isProd ? <span class=\"string\">'[name].[hash].js'</span> : <span class=\"string\">'[name].bundle.js'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span> (isTest) &#123;</div><div class=\"line\">        config.devtool = <span class=\"string\">'inline-source-map'</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (isProd) &#123;</div><div class=\"line\">        config.devtool = <span class=\"string\">'source-map'</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">        config.devtool = <span class=\"string\">'eval-source-map'</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    config.module = &#123;</div><div class=\"line\">        <span class=\"attr\">preLoaders</span>: [],</div><div class=\"line\">        <span class=\"attr\">loaders</span>: [&#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'babel'</span>,</div><div class=\"line\">            <span class=\"attr\">exclude</span>: <span class=\"regexp\">/node_modules/</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: isTest ? <span class=\"string\">'null'</span> : ExtractTextPlugin.extract(<span class=\"string\">'style'</span>, <span class=\"string\">'css?sourceMap!postcss'</span>)</div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|jpeg|gif|svg|woff|woff2|ttf|eot)$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'file'</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.json$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'json'</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.scss/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'style!css!sass'</span></div><div class=\"line\">        &#125;, &#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.html$/</span>,</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'raw'</span></div><div class=\"line\">        &#125;]</div><div class=\"line\">    &#125;;</div><div class=\"line\">    <span class=\"keyword\">if</span> (isTest) &#123;</div><div class=\"line\">        config.module.preLoaders.push(&#123;</div><div class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</div><div class=\"line\">            <span class=\"attr\">exclude</span>: [</div><div class=\"line\">                <span class=\"regexp\">/node_modules/</span>,</div><div class=\"line\">                /\\.spec\\.js$/</div><div class=\"line\">            ],</div><div class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"string\">'isparta-instrumenter'</span></div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    config.postcss = [</div><div class=\"line\">        autoprefixer(&#123;</div><div class=\"line\">            <span class=\"attr\">browsers</span>: [<span class=\"string\">'last 2 version'</span>]</div><div class=\"line\">        &#125;)</div><div class=\"line\">    ];</div><div class=\"line\"></div><div class=\"line\">    config.plugins = [];</div><div class=\"line\">    <span class=\"keyword\">if</span> (!isTest) &#123;</div><div class=\"line\">        config.plugins.push(</div><div class=\"line\">            <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</div><div class=\"line\">                <span class=\"attr\">template</span>: <span class=\"string\">'./src/public/index.html'</span>,</div><div class=\"line\">                <span class=\"attr\">inject</span>: <span class=\"string\">'body'</span></div><div class=\"line\">            &#125;),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> ExtractTextPlugin(<span class=\"string\">'[name].[hash].css'</span>, &#123;<span class=\"attr\">disable</span>: !isProd&#125;)</div><div class=\"line\">        )</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">if</span> (isProd) &#123;</div><div class=\"line\">        config.plugins.push(</div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.NoErrorsPlugin(),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.optimize.DedupePlugin(),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.optimize.UglifyJsPlugin(),</div><div class=\"line\"></div><div class=\"line\">            <span class=\"keyword\">new</span> CopyWebpackPlugin([&#123;</div><div class=\"line\">                <span class=\"attr\">from</span>: __dirname + <span class=\"string\">'/src/public'</span></div><div class=\"line\">            &#125;]),</div><div class=\"line\">            <span class=\"keyword\">new</span> webpack.ProvidePlugin(&#123;</div><div class=\"line\">                <span class=\"attr\">$</span>: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">                <span class=\"attr\">jQuery</span>: <span class=\"string\">\"jquery\"</span>,</div><div class=\"line\">                <span class=\"string\">\"window.jQuery\"</span>: <span class=\"string\">\"jquery\"</span></div><div class=\"line\">            &#125;))</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    config.devServer = &#123;</div><div class=\"line\">        <span class=\"attr\">contentBase</span>: <span class=\"string\">'./src/public'</span>,</div><div class=\"line\">        <span class=\"attr\">stats</span>: <span class=\"string\">'minimal'</span></div><div class=\"line\">    &#125;;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">return</span> config;</div><div class=\"line\">&#125;();</div></pre></td></tr></table></figure>\n<h3 id=\"三、调试技巧\"><a href=\"#三、调试技巧\" class=\"headerlink\" title=\"三、调试技巧\"></a>三、调试技巧</h3><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">if</span> (isTest) &#123;</div><div class=\"line\">    <span class=\"built_in\">config</span>.devtool = <span class=\"string\">'inline-source-map'</span>;</div><div class=\"line\">&#125; <span class=\"built_in\">else</span> <span class=\"built_in\">if</span> (isProd) &#123;</div><div class=\"line\">    <span class=\"built_in\">config</span>.devtool = <span class=\"string\">'source-map'</span>;</div><div class=\"line\">&#125; <span class=\"built_in\">else</span> &#123;</div><div class=\"line\">    <span class=\"built_in\">config</span>.devtool = <span class=\"string\">'eval-source-map'</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>作用: 使用source-map可以在debug的时候看到源代码，方便 查错</p>\n</blockquote>"},{"author":"小莫","date":"2016-05-18T16:00:00.000Z","title":"es6语法快速上手","_content":"随着google和firfox以及node6.0对es6的支持，es6语法的定稿使它越来越受到关注，尤其是react项目基本上都是用es6来写的。是时候从es5到es6转变了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/es6.png)](https://github.com/syoubaku)\n### 一、相关背景介绍\n我们现在大多数人用的语法javascript 其实版本是ecmscript5,也是就es5。这个版本己经很多年了，且完美被各大浏览器所支持。所以很多学js的朋友可以一直分不清楚es5和javascript的关系。javascript是一门编程语言，那么它就会有版本，es5还是es6 就就是它的版本号。最新版es7己经在紧锣密布的进行中，它最新的语法会让我们写代码更新的行云流水。\n### 二、babel 一个es6的解析器\n在我们正式讲解ES6语法之前，我们得先了解下[Babel。](https://babeljs.io/)\n\nBabel是一个广泛使用的ES6转码器，可以将ES6代码转为ES5代码，从而在现有环境执行。大家可以选择自己习惯的工具来使用使用Babel,我最喜欢的构建工具就是webpack。具体过程可直接在Babel官网查看：\n\n### 三、语法\n最常用的ES6特性\n\n`let`, `const`, `class`, `extends`, `super`, `arrow functions`, `template string`, `destructuring`, `default`, `rest arguments`\n这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。\n\n#### 1. `let, const`\n这两个的用途与`var`类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。\n首先来看下面这个例子：\n\n```\nvar name = 'zach'\n\nwhile (true) {\n    var name = 'obama'\n    console.log(name)  //obama\n    break\n}\n\nconsole.log(name)  //obama\n```\n\n使用`var` 两次输出都是obama，这是因为ES5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而`let`则实际上为`JavaScript`新增了块级作用域。用它所声明的变量，只在`let`命令所在的代码块内有效。\n\n另外一个`var`带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：\n\n```\nvar a = [];\nfor (var i = 0; i < 10; i++) {\n  a[i] = function () {\n    console.log(i);\n  };\n}\na[6](); // 10\n```\n\n上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。\n\n```\nvar a = [];\nfor (let i = 0; i < 10; i++) {\n  a[i] = function () {\n    console.log(i);\n  };\n}\na[6](); // 6\n```\n\n再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。\n\n```\nvar clickBoxs = document.querySelectorAll('.clickBox')\nfor (var i = 0; i < clickBoxs.length; i++){\n    clickBoxs[i].onclick = function(){\n        console.log(i)\n    }\n}\n```\n\n我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。\n\n```\nfunction iteratorFactory(i){\n    var onclick = function(e){\n        console.log(i)\n    }\n    return onclick;\n}\nvar clickBoxs = document.querySelectorAll('.clickBox')\nfor (var i = 0; i < clickBoxs.length; i++){\n    clickBoxs[i].onclick = iteratorFactory(i)\n}\n```\n\n`const`也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。\n\n```\nconst PI = Math.PI\n\nPI = 23 //Module build failed: SyntaxError: /es6/app.js: \"PI\" is read-only\n```\n\n当我们尝试去改变用const声明的常量时，浏览器就会报错。\nconst有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：\n\n```\nconst monent = require('moment')\n```\n\n#### 2. `class`, `extends`, `super`\n这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承...你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？\n\n有了ES6我们不再烦恼！\n\nES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。\n\n```\nclass Animal {\n    constructor(){\n        this.type = 'animal'\n    }\n    says(say){\n        console.log(this.type + ' says ' + say)\n    }\n}\n\nlet animal = new Animal()\nanimal.says('hello') //animal says hello\n\nclass Cat extends Animal {\n    constructor(){\n        super()\n        this.type = 'cat'\n    }\n}\n\nlet cat = new Cat()\ncat.says('hello') //cat says hello\n```\n\n上面代码首先用`class`定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。\n\n`Class`之间可以通过`extends`关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。\n\n`super`关键字，它指代父类的实例（即父类的this对象）。子类必须在`constructor`方法中调用`super`方法，否则新建实例时会报错。这是因为子类没有自己的`this`对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。\n\n`ES6`的继承机制，实质是先创造父类的实例对象`this`（所以必须先调用s`uper`方法），然后再用子类的构造函数修改`this`。\n\nP.S 如果你写react的话，就会发现以上三个东西在最新版`React`中出现得很多。创建的每个component都是一个继承`React.Component`的类。[详见react文档](https://facebook.github.io/react/docs/reusable-components.html)\n\n#### 3. `arrow function`\n\n这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多:\n\n```\nfunction(i){ return i + 1; } //ES5\n(i) => i + 1 //ES6\n```\n\n简直是简单的不像话对吧...\n如果方程比较复杂，则需要用`{}`把代码包起来：\n\n```\nfunction(x, y) {\n    x++;\n    y--;\n    return x + y;\n}\n(x, y) => {x++; y--; return x+y}\n```\n\n除了看上去更简洁以外，`arrow function`还有一项超级无敌的功能！\n长期以来，`JavaScript`语言的`this`对象一直是一个令人头痛的问题，在对象方法中使用`this`，必须非常小心。例如：\n\n```\nclass Animal {\n    constructor(){\n        this.type = 'animal'\n    }\n    says(say){\n        setTimeout(function(){\n            console.log(this.type + ' says ' + say)\n        }, 1000)\n    }\n}\n\n var animal = new Animal()\n animal.says('hi')  //undefined says hi\n```\n\n运行上面的代码会报错，这是因为`setTimeout`中的`this`指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：\n\n1. 第一种是将this传给self,再用self来指代this\n\n```\nsays(say){\n      var self = this;\n      setTimeout(function(){\n          console.log(self.type + ' says ' + say)\n      }, 1000)\n   ```\n\n2. 第二种方法是用bind(this),即\n\n```\n  says(say){\n      setTimeout(function(){\n          console.log(this.type + ' says ' + say)\n      }.bind(this), 1000)\n      ```\n\n但现在我们有了箭头函数，就不需要这么麻烦了：\n\n```\nclass Animal {\n    constructor(){\n        this.type = 'animal'\n    }\n    says(say){\n        setTimeout( () => {\n            console.log(this.type + ' says ' + say)\n        }, 1000)\n    }\n}\n var animal = new Animal()\n animal.says('hi')  //animal says hi\n```\n\n当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。\n并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。\n\n### 4. `template string`\n\n这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。\n\n大家可以先看下面一段代码：\n\n```\n$(\"#result\").append(\n  \"There are <b>\" + basket.count + \"</b> \" +\n  \"items in your basket, \" +\n  \"<em>\" + basket.onSale +\n  \"</em> are on sale!\"\n);\n```\n\n我们要用一堆的'+'号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：\n\n```\n$(\"#result\").append(`\n  There are <b>${basket.count}</b> items\n   in your basket, <em>${basket.onSale}</em>\n  are on sale!\n`);\n```\n\n用反引号（\\）来标识起始，用${}`来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！\n\n  [React Router](https://github.com/reactjs/react-router/blob/latest/examples/passing-props-to-children/app.js)从第1.0.3版开始也使用ES6语法了，比如这个例子：\n\n\n`<Link to={'/taco/${taco.name}'}>{taco.name}</Link>`\n\n\n### 5. `destructuring`\n\n  ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。\n\n看下面的例子：\n\n```\nlet cat = 'ken'\nlet dog = 'lili'\nlet zoo = {cat: cat, dog: dog}\nconsole.log(zoo)  //Object {cat: \"ken\", dog: \"lili\"}\n```\n\n用ES6完全可以像下面这么写：\n\n```\nlet cat = 'ken'\nlet dog = 'lili'\nlet zoo = {cat, dog}\nconsole.log(zoo)  //Object {cat: \"ken\", dog: \"lili\"}\n```\n\n反过来可以这么写：\n\n```\nlet dog = {type: 'animal', many: 2}\nlet { type, many} = dog\nconsole.log(type, many)   //animal 2\n```\n\n### 6. `default`, `rest`\n\ndefault很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || 'cat' 来指定默认值。\n\n\n```\nfunction animal(type){\n    type = type || 'cat'  \n    console.log(type)\n}\nanimal()\n```\n\n如果用ES6我们而已直接这么写：\n\n```\nfunction animal(type = 'cat'){\n    console.log(type)\n}\nanimal()\n```\n\n\n最后一个rest语法也很简单，直接看例子：\n\n```\nfunction animals(...types){\n    console.log(types)\n}\nanimals('cat', 'dog', 'fish') //[\"cat\", \"dog\", \"fish\"]\n```\n\n而如果不用ES6的话，我们则得使用ES5的`arguments`。\n\n\n### 7. `import export`\n\n这两个家伙对应的就是`es6`自己的`module`功能。\n\n我们之前写的`Javascript`一直都没有模块化的体系，无法将一个庞大的js工程拆分成一个个功能相对独立但相互依赖的小工程，再用一种简单的方法把这些小工程连接在一起。\n\n这有可能导致两个问题：\n\n1. 一方面js代码变得很臃肿，难以维护;\n2. 另一方面我们常常得很注意每个script标签在html中的位置，因为它们通常有依赖关系，顺序错了可能就会出bug;\n在es6之前为解决上面提到的问题，我们得利用第三方提供的一些方案，主要有两种CommonJS(服务器端)和AMD（浏览器端，如require.js）。\n\n如果想了解更多AMD，尤其是require.js，可以参看这个教程\n[why modules on the web are useful and the mechanisms that can be used on the web today to enable them](http://requirejs.org/docs/why.html)\n\n而现在我们有了es6的module功能，它实现非常简单，可以成为服务器和浏览器通用的模块解决方案。\n\n>ES6模块的设计思想，是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS和AMD模块，都只能在运行时确定这些东西。\n\n上面的设计思想看不懂也没关系，咱先学会怎么用，等以后用多了、熟练了再去研究它背后的设计思想也不迟！好，那我们就上代码...\n\n 传统的写法\n首先我们回顾下require.js的写法。假设我们有两个js文件: index.js和content.js,现在我们想要在index.js中使用content.js返回的结果，我们要怎么做呢？\n\n首先定义:\n\n```\n//content.js\ndefine('content.js', function(){\n    return 'A cat';\n})\n```\n\n然后require:\n\n```\n//index.js\nrequire(['./content.js'], function(animal){\n    console.log(animal);   //A cat\n})\n```\n\n那CommonJS是怎么写的呢？\n\n```\n//index.js\nvar animal = require('./content.js')\n\n//content.js\nmodule.exports = 'A cat'\n```\n\n ES6的写法\n\n```\n//index.js\nimport animal from './content'\n\n//content.js\nexport default 'A cat'\n```\n\n以上我把三者都列出来了，妈妈再也不用担心我写混淆了...\n\n\n### 8. ES6 module的其他高级用法\n\n输出\\输入多个变量\n\n```\n//content.js\n\nexport default 'A cat'    \nexport function say(){\n    return 'Hello!'\n}    \nexport const type = 'dog'\n```\n\n上面可以看出，export命令除了输出变量，还可以输出函数，甚至是类（react的模块基本都是输出类）\n\n\n```\n//index.js\n\nimport { say, type } from './content'  \nlet says = say()\nconsole.log(`The ${type} says ${says}`)  //The dog says Hello\n```\n\n这里输入的时候要注意：大括号里面的变量名，必须与被导入模块（content.js）对外接口的名称相同。\n\n如果还希望输入content.js中输出的默认值(default), 可以写在大括号外面。\n\n\n```\n//index.js\n\nimport animal, { say, type } from './content'  \nlet says = say()\nconsole.log(`The ${type} says ${says} to ${animal}`)  \n//The dog says Hello to A cat\n```\n\n\n### 9. 修改变量名\n\n此时我们不喜欢type这个变量名，因为它有可能重名，所以我们需要修改一下它的变量名。在es6中可以用as实现一键换名。\n\n//index.js\n```\nimport animal, { say, type as animalType } from './content'  \nlet says = say()\nconsole.log(`The ${animalType} says ${says} to ${animal}`)  \n//The dog says Hello to A cat\n```\n\n### 10. 模块的整体加载\n\n除了指定加载某个输出值，还可以使用整体加载，即用星号（*）指定一个对象，所有输出值都加载在这个对象上面。\n\n```\n  //index.js\n\n  import animal, * as content from './content'  \n  let says = content.say()\n  console.log(`The ${content.type} says ${says} to ${animal}`)  \n  //The dog says Hello to A cat\n```\n\n通常星号*结合as一起使用比较合适。\n\n11. 终极秘籍\n\n考虑下面的场景：\n上面的content.js一共输出了三个变量（default, say, type）,假如我们的实际项目当中只需要用到type这一个变量，其余两个我们暂时不需要。我们可以只输入一个变量：\n\n`import { type } from './content'`\n\n由于其他两个变量没有被使用，我们希望代码打包的时候也忽略它们，抛弃它们，这样在大项目中可以显著减少文件的体积。\n\nES6帮我们实现了！\n\n不过，目前无论是webpack还是browserify都还不支持这一功能...\n\n如果你现在就想实现这一功能的话，可以尝试使用rollup.js\n\n他们把这个功能叫做Tree-shaking，哈哈哈，意思就是打包前让整个文档树抖一抖，把那些并未被依赖或使用的东西统统抖落下去。。。\n\n看看他们官方的解释吧：\n\n>Normally if you require a module, you import the whole thing. ES2015 lets you just import the bits you need, without mucking around with custom builds. It's a revolution in how we use libraries in JavaScript, and it's happening right now.\n\n\n希望更全面了解es6伙伴们可以去看阮一峰所著的电子书[ECMAScript 6入门](http://es6.ruanyifeng.com/)\n","source":"_posts/2016-05-19.es6_syntax.md","raw":"---\nauthor: 小莫\ndate: 2016-05-19\ntitle: es6语法快速上手\ntags:\n- es6\n- javascript\ncategory: es6\npermalink: Es6Syntax\n---\n随着google和firfox以及node6.0对es6的支持，es6语法的定稿使它越来越受到关注，尤其是react项目基本上都是用es6来写的。是时候从es5到es6转变了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/es6.png)](https://github.com/syoubaku)\n### 一、相关背景介绍\n我们现在大多数人用的语法javascript 其实版本是ecmscript5,也是就es5。这个版本己经很多年了，且完美被各大浏览器所支持。所以很多学js的朋友可以一直分不清楚es5和javascript的关系。javascript是一门编程语言，那么它就会有版本，es5还是es6 就就是它的版本号。最新版es7己经在紧锣密布的进行中，它最新的语法会让我们写代码更新的行云流水。\n### 二、babel 一个es6的解析器\n在我们正式讲解ES6语法之前，我们得先了解下[Babel。](https://babeljs.io/)\n\nBabel是一个广泛使用的ES6转码器，可以将ES6代码转为ES5代码，从而在现有环境执行。大家可以选择自己习惯的工具来使用使用Babel,我最喜欢的构建工具就是webpack。具体过程可直接在Babel官网查看：\n\n### 三、语法\n最常用的ES6特性\n\n`let`, `const`, `class`, `extends`, `super`, `arrow functions`, `template string`, `destructuring`, `default`, `rest arguments`\n这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。\n\n#### 1. `let, const`\n这两个的用途与`var`类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。\n首先来看下面这个例子：\n\n```\nvar name = 'zach'\n\nwhile (true) {\n    var name = 'obama'\n    console.log(name)  //obama\n    break\n}\n\nconsole.log(name)  //obama\n```\n\n使用`var` 两次输出都是obama，这是因为ES5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而`let`则实际上为`JavaScript`新增了块级作用域。用它所声明的变量，只在`let`命令所在的代码块内有效。\n\n另外一个`var`带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：\n\n```\nvar a = [];\nfor (var i = 0; i < 10; i++) {\n  a[i] = function () {\n    console.log(i);\n  };\n}\na[6](); // 10\n```\n\n上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。\n\n```\nvar a = [];\nfor (let i = 0; i < 10; i++) {\n  a[i] = function () {\n    console.log(i);\n  };\n}\na[6](); // 6\n```\n\n再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。\n\n```\nvar clickBoxs = document.querySelectorAll('.clickBox')\nfor (var i = 0; i < clickBoxs.length; i++){\n    clickBoxs[i].onclick = function(){\n        console.log(i)\n    }\n}\n```\n\n我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。\n\n```\nfunction iteratorFactory(i){\n    var onclick = function(e){\n        console.log(i)\n    }\n    return onclick;\n}\nvar clickBoxs = document.querySelectorAll('.clickBox')\nfor (var i = 0; i < clickBoxs.length; i++){\n    clickBoxs[i].onclick = iteratorFactory(i)\n}\n```\n\n`const`也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。\n\n```\nconst PI = Math.PI\n\nPI = 23 //Module build failed: SyntaxError: /es6/app.js: \"PI\" is read-only\n```\n\n当我们尝试去改变用const声明的常量时，浏览器就会报错。\nconst有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：\n\n```\nconst monent = require('moment')\n```\n\n#### 2. `class`, `extends`, `super`\n这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承...你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？\n\n有了ES6我们不再烦恼！\n\nES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。\n\n```\nclass Animal {\n    constructor(){\n        this.type = 'animal'\n    }\n    says(say){\n        console.log(this.type + ' says ' + say)\n    }\n}\n\nlet animal = new Animal()\nanimal.says('hello') //animal says hello\n\nclass Cat extends Animal {\n    constructor(){\n        super()\n        this.type = 'cat'\n    }\n}\n\nlet cat = new Cat()\ncat.says('hello') //cat says hello\n```\n\n上面代码首先用`class`定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。\n\n`Class`之间可以通过`extends`关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。\n\n`super`关键字，它指代父类的实例（即父类的this对象）。子类必须在`constructor`方法中调用`super`方法，否则新建实例时会报错。这是因为子类没有自己的`this`对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。\n\n`ES6`的继承机制，实质是先创造父类的实例对象`this`（所以必须先调用s`uper`方法），然后再用子类的构造函数修改`this`。\n\nP.S 如果你写react的话，就会发现以上三个东西在最新版`React`中出现得很多。创建的每个component都是一个继承`React.Component`的类。[详见react文档](https://facebook.github.io/react/docs/reusable-components.html)\n\n#### 3. `arrow function`\n\n这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多:\n\n```\nfunction(i){ return i + 1; } //ES5\n(i) => i + 1 //ES6\n```\n\n简直是简单的不像话对吧...\n如果方程比较复杂，则需要用`{}`把代码包起来：\n\n```\nfunction(x, y) {\n    x++;\n    y--;\n    return x + y;\n}\n(x, y) => {x++; y--; return x+y}\n```\n\n除了看上去更简洁以外，`arrow function`还有一项超级无敌的功能！\n长期以来，`JavaScript`语言的`this`对象一直是一个令人头痛的问题，在对象方法中使用`this`，必须非常小心。例如：\n\n```\nclass Animal {\n    constructor(){\n        this.type = 'animal'\n    }\n    says(say){\n        setTimeout(function(){\n            console.log(this.type + ' says ' + say)\n        }, 1000)\n    }\n}\n\n var animal = new Animal()\n animal.says('hi')  //undefined says hi\n```\n\n运行上面的代码会报错，这是因为`setTimeout`中的`this`指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：\n\n1. 第一种是将this传给self,再用self来指代this\n\n```\nsays(say){\n      var self = this;\n      setTimeout(function(){\n          console.log(self.type + ' says ' + say)\n      }, 1000)\n   ```\n\n2. 第二种方法是用bind(this),即\n\n```\n  says(say){\n      setTimeout(function(){\n          console.log(this.type + ' says ' + say)\n      }.bind(this), 1000)\n      ```\n\n但现在我们有了箭头函数，就不需要这么麻烦了：\n\n```\nclass Animal {\n    constructor(){\n        this.type = 'animal'\n    }\n    says(say){\n        setTimeout( () => {\n            console.log(this.type + ' says ' + say)\n        }, 1000)\n    }\n}\n var animal = new Animal()\n animal.says('hi')  //animal says hi\n```\n\n当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。\n并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。\n\n### 4. `template string`\n\n这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。\n\n大家可以先看下面一段代码：\n\n```\n$(\"#result\").append(\n  \"There are <b>\" + basket.count + \"</b> \" +\n  \"items in your basket, \" +\n  \"<em>\" + basket.onSale +\n  \"</em> are on sale!\"\n);\n```\n\n我们要用一堆的'+'号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：\n\n```\n$(\"#result\").append(`\n  There are <b>${basket.count}</b> items\n   in your basket, <em>${basket.onSale}</em>\n  are on sale!\n`);\n```\n\n用反引号（\\）来标识起始，用${}`来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！\n\n  [React Router](https://github.com/reactjs/react-router/blob/latest/examples/passing-props-to-children/app.js)从第1.0.3版开始也使用ES6语法了，比如这个例子：\n\n\n`<Link to={'/taco/${taco.name}'}>{taco.name}</Link>`\n\n\n### 5. `destructuring`\n\n  ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。\n\n看下面的例子：\n\n```\nlet cat = 'ken'\nlet dog = 'lili'\nlet zoo = {cat: cat, dog: dog}\nconsole.log(zoo)  //Object {cat: \"ken\", dog: \"lili\"}\n```\n\n用ES6完全可以像下面这么写：\n\n```\nlet cat = 'ken'\nlet dog = 'lili'\nlet zoo = {cat, dog}\nconsole.log(zoo)  //Object {cat: \"ken\", dog: \"lili\"}\n```\n\n反过来可以这么写：\n\n```\nlet dog = {type: 'animal', many: 2}\nlet { type, many} = dog\nconsole.log(type, many)   //animal 2\n```\n\n### 6. `default`, `rest`\n\ndefault很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || 'cat' 来指定默认值。\n\n\n```\nfunction animal(type){\n    type = type || 'cat'  \n    console.log(type)\n}\nanimal()\n```\n\n如果用ES6我们而已直接这么写：\n\n```\nfunction animal(type = 'cat'){\n    console.log(type)\n}\nanimal()\n```\n\n\n最后一个rest语法也很简单，直接看例子：\n\n```\nfunction animals(...types){\n    console.log(types)\n}\nanimals('cat', 'dog', 'fish') //[\"cat\", \"dog\", \"fish\"]\n```\n\n而如果不用ES6的话，我们则得使用ES5的`arguments`。\n\n\n### 7. `import export`\n\n这两个家伙对应的就是`es6`自己的`module`功能。\n\n我们之前写的`Javascript`一直都没有模块化的体系，无法将一个庞大的js工程拆分成一个个功能相对独立但相互依赖的小工程，再用一种简单的方法把这些小工程连接在一起。\n\n这有可能导致两个问题：\n\n1. 一方面js代码变得很臃肿，难以维护;\n2. 另一方面我们常常得很注意每个script标签在html中的位置，因为它们通常有依赖关系，顺序错了可能就会出bug;\n在es6之前为解决上面提到的问题，我们得利用第三方提供的一些方案，主要有两种CommonJS(服务器端)和AMD（浏览器端，如require.js）。\n\n如果想了解更多AMD，尤其是require.js，可以参看这个教程\n[why modules on the web are useful and the mechanisms that can be used on the web today to enable them](http://requirejs.org/docs/why.html)\n\n而现在我们有了es6的module功能，它实现非常简单，可以成为服务器和浏览器通用的模块解决方案。\n\n>ES6模块的设计思想，是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS和AMD模块，都只能在运行时确定这些东西。\n\n上面的设计思想看不懂也没关系，咱先学会怎么用，等以后用多了、熟练了再去研究它背后的设计思想也不迟！好，那我们就上代码...\n\n 传统的写法\n首先我们回顾下require.js的写法。假设我们有两个js文件: index.js和content.js,现在我们想要在index.js中使用content.js返回的结果，我们要怎么做呢？\n\n首先定义:\n\n```\n//content.js\ndefine('content.js', function(){\n    return 'A cat';\n})\n```\n\n然后require:\n\n```\n//index.js\nrequire(['./content.js'], function(animal){\n    console.log(animal);   //A cat\n})\n```\n\n那CommonJS是怎么写的呢？\n\n```\n//index.js\nvar animal = require('./content.js')\n\n//content.js\nmodule.exports = 'A cat'\n```\n\n ES6的写法\n\n```\n//index.js\nimport animal from './content'\n\n//content.js\nexport default 'A cat'\n```\n\n以上我把三者都列出来了，妈妈再也不用担心我写混淆了...\n\n\n### 8. ES6 module的其他高级用法\n\n输出\\输入多个变量\n\n```\n//content.js\n\nexport default 'A cat'    \nexport function say(){\n    return 'Hello!'\n}    \nexport const type = 'dog'\n```\n\n上面可以看出，export命令除了输出变量，还可以输出函数，甚至是类（react的模块基本都是输出类）\n\n\n```\n//index.js\n\nimport { say, type } from './content'  \nlet says = say()\nconsole.log(`The ${type} says ${says}`)  //The dog says Hello\n```\n\n这里输入的时候要注意：大括号里面的变量名，必须与被导入模块（content.js）对外接口的名称相同。\n\n如果还希望输入content.js中输出的默认值(default), 可以写在大括号外面。\n\n\n```\n//index.js\n\nimport animal, { say, type } from './content'  \nlet says = say()\nconsole.log(`The ${type} says ${says} to ${animal}`)  \n//The dog says Hello to A cat\n```\n\n\n### 9. 修改变量名\n\n此时我们不喜欢type这个变量名，因为它有可能重名，所以我们需要修改一下它的变量名。在es6中可以用as实现一键换名。\n\n//index.js\n```\nimport animal, { say, type as animalType } from './content'  \nlet says = say()\nconsole.log(`The ${animalType} says ${says} to ${animal}`)  \n//The dog says Hello to A cat\n```\n\n### 10. 模块的整体加载\n\n除了指定加载某个输出值，还可以使用整体加载，即用星号（*）指定一个对象，所有输出值都加载在这个对象上面。\n\n```\n  //index.js\n\n  import animal, * as content from './content'  \n  let says = content.say()\n  console.log(`The ${content.type} says ${says} to ${animal}`)  \n  //The dog says Hello to A cat\n```\n\n通常星号*结合as一起使用比较合适。\n\n11. 终极秘籍\n\n考虑下面的场景：\n上面的content.js一共输出了三个变量（default, say, type）,假如我们的实际项目当中只需要用到type这一个变量，其余两个我们暂时不需要。我们可以只输入一个变量：\n\n`import { type } from './content'`\n\n由于其他两个变量没有被使用，我们希望代码打包的时候也忽略它们，抛弃它们，这样在大项目中可以显著减少文件的体积。\n\nES6帮我们实现了！\n\n不过，目前无论是webpack还是browserify都还不支持这一功能...\n\n如果你现在就想实现这一功能的话，可以尝试使用rollup.js\n\n他们把这个功能叫做Tree-shaking，哈哈哈，意思就是打包前让整个文档树抖一抖，把那些并未被依赖或使用的东西统统抖落下去。。。\n\n看看他们官方的解释吧：\n\n>Normally if you require a module, you import the whole thing. ES2015 lets you just import the bits you need, without mucking around with custom builds. It's a revolution in how we use libraries in JavaScript, and it's happening right now.\n\n\n希望更全面了解es6伙伴们可以去看阮一峰所著的电子书[ECMAScript 6入门](http://es6.ruanyifeng.com/)\n","slug":"Es6Syntax","published":1,"updated":"2016-12-01T06:50:29.573Z","_id":"civ0ggq6u001brwvndoholrfy","comments":1,"layout":"post","photos":[],"link":"","content":"<p>随着google和firfox以及node6.0对es6的支持，es6语法的定稿使它越来越受到关注，尤其是react项目基本上都是用es6来写的。是时候从es5到es6转变了<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/es6.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、相关背景介绍\"><a href=\"#一、相关背景介绍\" class=\"headerlink\" title=\"一、相关背景介绍\"></a>一、相关背景介绍</h3><p>我们现在大多数人用的语法javascript 其实版本是ecmscript5,也是就es5。这个版本己经很多年了，且完美被各大浏览器所支持。所以很多学js的朋友可以一直分不清楚es5和javascript的关系。javascript是一门编程语言，那么它就会有版本，es5还是es6 就就是它的版本号。最新版es7己经在紧锣密布的进行中，它最新的语法会让我们写代码更新的行云流水。</p>\n<h3 id=\"二、babel-一个es6的解析器\"><a href=\"#二、babel-一个es6的解析器\" class=\"headerlink\" title=\"二、babel 一个es6的解析器\"></a>二、babel 一个es6的解析器</h3><p>在我们正式讲解ES6语法之前，我们得先了解下<a href=\"https://babeljs.io/\" target=\"_blank\" rel=\"external\">Babel。</a></p>\n<p>Babel是一个广泛使用的ES6转码器，可以将ES6代码转为ES5代码，从而在现有环境执行。大家可以选择自己习惯的工具来使用使用Babel,我最喜欢的构建工具就是webpack。具体过程可直接在Babel官网查看：</p>\n<h3 id=\"三、语法\"><a href=\"#三、语法\" class=\"headerlink\" title=\"三、语法\"></a>三、语法</h3><p>最常用的ES6特性</p>\n<p><code>let</code>, <code>const</code>, <code>class</code>, <code>extends</code>, <code>super</code>, <code>arrow functions</code>, <code>template string</code>, <code>destructuring</code>, <code>default</code>, <code>rest arguments</code><br>这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。</p>\n<h4 id=\"1-let-const\"><a href=\"#1-let-const\" class=\"headerlink\" title=\"1. let, const\"></a>1. <code>let, const</code></h4><p>这两个的用途与<code>var</code>类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。<br>首先来看下面这个例子：</p>\n<figure class=\"highlight sqf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">var <span class=\"built_in\">name</span> = <span class=\"string\">'zach'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</div><div class=\"line\">    var <span class=\"built_in\">name</span> = <span class=\"string\">'obama'</span></div><div class=\"line\">    console.<span class=\"built_in\">log</span>(<span class=\"built_in\">name</span>)  <span class=\"comment\">//obama</span></div><div class=\"line\">    break</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">console.<span class=\"built_in\">log</span>(<span class=\"built_in\">name</span>)  <span class=\"comment\">//obama</span></div></pre></td></tr></table></figure>\n<p>使用<code>var</code> 两次输出都是obama，这是因为ES5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而<code>let</code>则实际上为<code>JavaScript</code>新增了块级作用域。用它所声明的变量，只在<code>let</code>命令所在的代码块内有效。</p>\n<p>另外一个<code>var</code>带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> a = [];</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++) &#123;</div><div class=\"line\">  a[i] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">  &#125;;</div><div class=\"line\">&#125;</div><div class=\"line\">a[<span class=\"number\">6</span>](); <span class=\"comment\">// 10</span></div></pre></td></tr></table></figure>\n<p>上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> a = [];</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++) &#123;</div><div class=\"line\">  a[i] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">  &#125;;</div><div class=\"line\">&#125;</div><div class=\"line\">a[<span class=\"number\">6</span>](); <span class=\"comment\">// 6</span></div></pre></td></tr></table></figure>\n<p>再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> clickBoxs = <span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.clickBox'</span>)</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; clickBoxs.length; i++)&#123;</div><div class=\"line\">    clickBoxs[i].onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(i)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">iteratorFactory</span><span class=\"params\">(i)</span>&#123;</span></div><div class=\"line\">    var onclick = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(e)</span>&#123;</span></div><div class=\"line\">        console.<span class=\"built_in\">log</span>(<span class=\"built_in\">i</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> onclick;</div><div class=\"line\">&#125;</div><div class=\"line\">var clickBoxs = document.querySelectorAll(<span class=\"string\">'.clickBox'</span>)</div><div class=\"line\"><span class=\"keyword\">for</span> (var <span class=\"built_in\">i</span> = <span class=\"number\">0</span>; <span class=\"built_in\">i</span> &lt; clickBoxs.<span class=\"built_in\">length</span>; <span class=\"built_in\">i</span>++)&#123;</div><div class=\"line\">    clickBoxs[i].onclick = iteratorFactory(i)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>const</code>也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。</p>\n<figure class=\"highlight monkey\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"built_in\">PI</span> = Math.<span class=\"built_in\">PI</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">PI</span> = <span class=\"number\">23</span> //<span class=\"keyword\">Module</span> build failed: SyntaxError: /es6/app.js: <span class=\"string\">\"PI\"</span> is read-only</div></pre></td></tr></table></figure>\n<p>当我们尝试去改变用const声明的常量时，浏览器就会报错。<br>const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> monent = <span class=\"built_in\">require</span>(<span class=\"string\">'moment'</span>)</div></pre></td></tr></table></figure>\n<h4 id=\"2-class-extends-super\"><a href=\"#2-class-extends-super\" class=\"headerlink\" title=\"2. class, extends, super\"></a>2. <code>class</code>, <code>extends</code>, <code>super</code></h4><p>这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承…你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？</p>\n<p>有了ES6我们不再烦恼！</p>\n<p>ES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。</p>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    constructor()&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.<span class=\"keyword\">type</span> = <span class=\"symbol\">'anima</span>l'</div><div class=\"line\">    &#125;</div><div class=\"line\">    says(say)&#123;</div><div class=\"line\">        console.log(<span class=\"keyword\">this</span>.<span class=\"keyword\">type</span> + ' says ' + say)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">let animal = <span class=\"keyword\">new</span> <span class=\"type\">Animal</span>()</div><div class=\"line\">animal.says(<span class=\"symbol\">'hell</span>o') <span class=\"comment\">//animal says hello</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Cat</span> <span class=\"keyword\">extends</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    constructor()&#123;</div><div class=\"line\">        <span class=\"keyword\">super</span>()</div><div class=\"line\">        <span class=\"keyword\">this</span>.<span class=\"keyword\">type</span> = <span class=\"symbol\">'ca</span>t'</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">let cat = <span class=\"keyword\">new</span> <span class=\"type\">Cat</span>()</div><div class=\"line\">cat.says(<span class=\"symbol\">'hell</span>o') <span class=\"comment\">//cat says hello</span></div></pre></td></tr></table></figure>\n<p>上面代码首先用<code>class</code>定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。</p>\n<p><code>Class</code>之间可以通过<code>extends</code>关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。</p>\n<p><code>super</code>关键字，它指代父类的实例（即父类的this对象）。子类必须在<code>constructor</code>方法中调用<code>super</code>方法，否则新建实例时会报错。这是因为子类没有自己的<code>this</code>对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>\n<p><code>ES6</code>的继承机制，实质是先创造父类的实例对象<code>this</code>（所以必须先调用s<code>uper</code>方法），然后再用子类的构造函数修改<code>this</code>。</p>\n<p>P.S 如果你写react的话，就会发现以上三个东西在最新版<code>React</code>中出现得很多。创建的每个component都是一个继承<code>React.Component</code>的类。<a href=\"https://facebook.github.io/react/docs/reusable-components.html\" target=\"_blank\" rel=\"external\">详见react文档</a></p>\n<h4 id=\"3-arrow-function\"><a href=\"#3-arrow-function\" class=\"headerlink\" title=\"3. arrow function\"></a>3. <code>arrow function</code></h4><p>这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多:</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(i)</span></span>&#123; <span class=\"keyword\">return</span> i + <span class=\"number\">1</span>; &#125; <span class=\"comment\">//ES5</span></div><div class=\"line\">(i) =&gt; i + <span class=\"number\">1</span> <span class=\"comment\">//ES6</span></div></pre></td></tr></table></figure>\n<p>简直是简单的不像话对吧…<br>如果方程比较复杂，则需要用<code>{}</code>把代码包起来：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(x, y)</span></span> &#123;</div><div class=\"line\">    x++;</div><div class=\"line\">    y<span class=\"comment\">--;</span></div><div class=\"line\">    <span class=\"keyword\">return</span> x + y;</div><div class=\"line\">&#125;</div><div class=\"line\">(x, y) =&gt; &#123;x++; y<span class=\"comment\">--; return x+y&#125;</span></div></pre></td></tr></table></figure>\n<p>除了看上去更简洁以外，<code>arrow function</code>还有一项超级无敌的功能！<br>长期以来，<code>JavaScript</code>语言的<code>this</code>对象一直是一个令人头痛的问题，在对象方法中使用<code>this</code>，必须非常小心。例如：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>()&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.type = <span class=\"string\">'animal'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    says(say)&#123;</div><div class=\"line\">        setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">        &#125;, <span class=\"number\">1000</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">var</span> animal = <span class=\"keyword\">new</span> Animal()</div><div class=\"line\"> animal.says(<span class=\"string\">'hi'</span>)  <span class=\"comment\">//undefined says hi</span></div></pre></td></tr></table></figure>\n<p>运行上面的代码会报错，这是因为<code>setTimeout</code>中的<code>this</code>指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：</p>\n<ol>\n<li>第一种是将this传给self,再用self来指代this</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">says(say)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;</div><div class=\"line\">      setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">          <span class=\"built_in\">console</span>.log(self.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">      &#125;, <span class=\"number\">1000</span>)</div></pre></td></tr></table></figure>\n<ol>\n<li>第二种方法是用bind(this),即</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">says(say)&#123;</div><div class=\"line\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">    &#125;.bind(<span class=\"keyword\">this</span>), <span class=\"number\">1000</span>)</div></pre></td></tr></table></figure>\n<p>但现在我们有了箭头函数，就不需要这么麻烦了：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>()&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.type = <span class=\"string\">'animal'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    says(say)&#123;</div><div class=\"line\">        setTimeout( <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">        &#125;, <span class=\"number\">1000</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"> <span class=\"keyword\">var</span> animal = <span class=\"keyword\">new</span> Animal()</div><div class=\"line\"> animal.says(<span class=\"string\">'hi'</span>)  <span class=\"comment\">//animal says hi</span></div></pre></td></tr></table></figure>\n<p>当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。<br>并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。</p>\n<h3 id=\"4-template-string\"><a href=\"#4-template-string\" class=\"headerlink\" title=\"4. template string\"></a>4. <code>template string</code></h3><p>这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。</p>\n<p>大家可以先看下面一段代码：</p>\n<figure class=\"highlight smalltalk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">$(</span><span class=\"comment\">\"#result\"</span>).append(</div><div class=\"line\">  <span class=\"comment\">\"There are &lt;b&gt;\"</span> + basket.count + <span class=\"comment\">\"&lt;/b&gt; \"</span> +</div><div class=\"line\">  <span class=\"comment\">\"items in your basket, \"</span> +</div><div class=\"line\">  <span class=\"comment\">\"&lt;em&gt;\"</span> + basket.onSale +</div><div class=\"line\">  <span class=\"comment\">\"&lt;/em&gt; are on sale!\"</span></div><div class=\"line\">);</div></pre></td></tr></table></figure>\n<p>我们要用一堆的’+’号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">\"#result\"</span>).<span class=\"keyword\">append</span>(`</div><div class=\"line\">  There are &lt;b&gt;<span class=\"variable\">$&#123;basket</span>.<span class=\"keyword\">count</span>&#125;&lt;/b&gt; items</div><div class=\"line\">   <span class=\"keyword\">in</span> your basket, &lt;em&gt;<span class=\"variable\">$&#123;basket</span>.onSale&#125;&lt;/em&gt;</div><div class=\"line\">  are <span class=\"keyword\">on</span> sale!</div><div class=\"line\">`);</div></pre></td></tr></table></figure>\n<p>用反引号（\\）来标识起始，用${}`来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！</p>\n<p>  <a href=\"https://github.com/reactjs/react-router/blob/latest/examples/passing-props-to-children/app.js\" target=\"_blank\" rel=\"external\">React Router</a>从第1.0.3版开始也使用ES6语法了，比如这个例子：</p>\n<p><code>&lt;Link to={&#39;/taco/${taco.name}&#39;}&gt;{taco.name}&lt;/Link&gt;</code></p>\n<h3 id=\"5-destructuring\"><a href=\"#5-destructuring\" class=\"headerlink\" title=\"5. destructuring\"></a>5. <code>destructuring</code></h3><p>  ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</p>\n<p>看下面的例子：</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">cat</span> = <span class=\"string\">'ken'</span></div><div class=\"line\"><span class=\"keyword\">let</span> dog = <span class=\"string\">'lili'</span></div><div class=\"line\"><span class=\"keyword\">let</span> zoo = &#123;<span class=\"keyword\">ca</span><span class=\"variable\">t:</span> <span class=\"keyword\">cat</span>, <span class=\"keyword\">do</span><span class=\"variable\">g:</span> dog&#125;</div><div class=\"line\">console.<span class=\"built_in\">log</span>(zoo)  //Object &#123;<span class=\"keyword\">ca</span><span class=\"variable\">t:</span> <span class=\"string\">\"ken\"</span>, <span class=\"keyword\">do</span><span class=\"variable\">g:</span> <span class=\"string\">\"lili\"</span>&#125;</div></pre></td></tr></table></figure>\n<p>用ES6完全可以像下面这么写：</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">cat</span> = <span class=\"string\">'ken'</span></div><div class=\"line\"><span class=\"keyword\">let</span> dog = <span class=\"string\">'lili'</span></div><div class=\"line\"><span class=\"keyword\">let</span> zoo = &#123;<span class=\"keyword\">cat</span>, dog&#125;</div><div class=\"line\">console.<span class=\"built_in\">log</span>(zoo)  //Object &#123;<span class=\"keyword\">ca</span><span class=\"variable\">t:</span> <span class=\"string\">\"ken\"</span>, <span class=\"keyword\">do</span><span class=\"variable\">g:</span> <span class=\"string\">\"lili\"</span>&#125;</div></pre></td></tr></table></figure>\n<p>反过来可以这么写：</p>\n<figure class=\"highlight fsharp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> dog = &#123;<span class=\"class\"><span class=\"keyword\">type</span>: '<span class=\"title\">animal</span>', <span class=\"title\">many</span>: 2&#125;</span></div><div class=\"line\"><span class=\"keyword\">let</span> &#123; <span class=\"class\"><span class=\"keyword\">type</span>, <span class=\"title\">many</span>&#125; </span>= dog</div><div class=\"line\">console.log(<span class=\"class\"><span class=\"keyword\">type</span>, <span class=\"title\">many</span>)   //<span class=\"title\">animal</span> 2</span></div></pre></td></tr></table></figure>\n<h3 id=\"6-default-rest\"><a href=\"#6-default-rest\" class=\"headerlink\" title=\"6. default, rest\"></a>6. <code>default</code>, <code>rest</code></h3><p>default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || ‘cat’ 来指定默认值。</p>\n<figure class=\"highlight fsharp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">function</span> animal(<span class=\"class\"><span class=\"keyword\">type</span>)&#123;</span></div><div class=\"line\">    <span class=\"class\"><span class=\"keyword\">type</span> </span>= <span class=\"class\"><span class=\"keyword\">type</span> || '<span class=\"title\">cat</span>'  </span></div><div class=\"line\">    console.log(<span class=\"class\"><span class=\"keyword\">type</span>)</span></div><div class=\"line\">&#125;</div><div class=\"line\">animal()</div></pre></td></tr></table></figure>\n<p>如果用ES6我们而已直接这么写：</p>\n<figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animal</span><span class=\"params\">(<span class=\"keyword\">type</span> = <span class=\"string\">'cat'</span>)</span><span class=\"comment\">&#123;</span></span></div><div class=\"line\">    console.log(type)</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"title\">animal</span><span class=\"params\">()</span></div></pre></td></tr></table></figure>\n<p>最后一个rest语法也很简单，直接看例子：</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animals</span><span class=\"params\">(<span class=\"rest_arg\">...types</span>)</span></span>&#123;</div><div class=\"line\">    console.log(types)</div><div class=\"line\">&#125;</div><div class=\"line\">animals(<span class=\"string\">'cat'</span>, <span class=\"string\">'dog'</span>, <span class=\"string\">'fish'</span>) <span class=\"comment\">//[\"cat\", \"dog\", \"fish\"]</span></div></pre></td></tr></table></figure>\n<p>而如果不用ES6的话，我们则得使用ES5的<code>arguments</code>。</p>\n<h3 id=\"7-import-export\"><a href=\"#7-import-export\" class=\"headerlink\" title=\"7. import export\"></a>7. <code>import export</code></h3><p>这两个家伙对应的就是<code>es6</code>自己的<code>module</code>功能。</p>\n<p>我们之前写的<code>Javascript</code>一直都没有模块化的体系，无法将一个庞大的js工程拆分成一个个功能相对独立但相互依赖的小工程，再用一种简单的方法把这些小工程连接在一起。</p>\n<p>这有可能导致两个问题：</p>\n<ol>\n<li>一方面js代码变得很臃肿，难以维护;</li>\n<li>另一方面我们常常得很注意每个script标签在html中的位置，因为它们通常有依赖关系，顺序错了可能就会出bug;<br>在es6之前为解决上面提到的问题，我们得利用第三方提供的一些方案，主要有两种CommonJS(服务器端)和AMD（浏览器端，如require.js）。</li>\n</ol>\n<p>如果想了解更多AMD，尤其是require.js，可以参看这个教程<br><a href=\"http://requirejs.org/docs/why.html\" target=\"_blank\" rel=\"external\">why modules on the web are useful and the mechanisms that can be used on the web today to enable them</a></p>\n<p>而现在我们有了es6的module功能，它实现非常简单，可以成为服务器和浏览器通用的模块解决方案。</p>\n<blockquote>\n<p>ES6模块的设计思想，是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS和AMD模块，都只能在运行时确定这些东西。</p>\n</blockquote>\n<p>上面的设计思想看不懂也没关系，咱先学会怎么用，等以后用多了、熟练了再去研究它背后的设计思想也不迟！好，那我们就上代码…</p>\n<p> 传统的写法<br>首先我们回顾下require.js的写法。假设我们有两个js文件: index.js和content.js,现在我们想要在index.js中使用content.js返回的结果，我们要怎么做呢？</p>\n<p>首先定义:</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\">define(<span class=\"string\">'content.js'</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'A cat'</span>;</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>然后require:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'./content.js'</span>], <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">animal</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(animal);   <span class=\"comment\">//A cat</span></div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>那CommonJS是怎么写的呢？</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"><span class=\"selector-tag\">var</span> animal = require(<span class=\"string\">'./content.js'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\">module<span class=\"selector-class\">.exports</span> = <span class=\"string\">'A cat'</span></div></pre></td></tr></table></figure>\n<p> ES6的写法</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"><span class=\"keyword\">import</span> animal <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"string\">'A cat'</span></div></pre></td></tr></table></figure>\n<p>以上我把三者都列出来了，妈妈再也不用担心我写混淆了…</p>\n<h3 id=\"8-ES6-module的其他高级用法\"><a href=\"#8-ES6-module的其他高级用法\" class=\"headerlink\" title=\"8. ES6 module的其他高级用法\"></a>8. ES6 module的其他高级用法</h3><p>输出\\输入多个变量</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"string\">'A cat'</span>    </div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">say</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Hello!'</span></div><div class=\"line\">&#125;    </div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> type = <span class=\"string\">'dog'</span></div></pre></td></tr></table></figure>\n<p>上面可以看出，export命令除了输出变量，还可以输出函数，甚至是类（react的模块基本都是输出类）</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; say, type &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;type&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span>`</span>)  <span class=\"comment\">//The dog says Hello</span></div></pre></td></tr></table></figure>\n<p>这里输入的时候要注意：大括号里面的变量名，必须与被导入模块（content.js）对外接口的名称相同。</p>\n<p>如果还希望输入content.js中输出的默认值(default), 可以写在大括号外面。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> animal, &#123; say, type &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;type&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span> to <span class=\"subst\">$&#123;animal&#125;</span>`</span>)  </div><div class=\"line\"><span class=\"comment\">//The dog says Hello to A cat</span></div></pre></td></tr></table></figure>\n<h3 id=\"9-修改变量名\"><a href=\"#9-修改变量名\" class=\"headerlink\" title=\"9. 修改变量名\"></a>9. 修改变量名</h3><p>此时我们不喜欢type这个变量名，因为它有可能重名，所以我们需要修改一下它的变量名。在es6中可以用as实现一键换名。</p>\n<p>//index.js<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> animal, &#123; say, type <span class=\"keyword\">as</span> animalType &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;animalType&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span> to <span class=\"subst\">$&#123;animal&#125;</span>`</span>)  </div><div class=\"line\"><span class=\"comment\">//The dog says Hello to A cat</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"10-模块的整体加载\"><a href=\"#10-模块的整体加载\" class=\"headerlink\" title=\"10. 模块的整体加载\"></a>10. 模块的整体加载</h3><p>除了指定加载某个输出值，还可以使用整体加载，即用星号（*）指定一个对象，所有输出值都加载在这个对象上面。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> animal, * <span class=\"keyword\">as</span> content <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = content.say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;content.type&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span> to <span class=\"subst\">$&#123;animal&#125;</span>`</span>)  </div><div class=\"line\"><span class=\"comment\">//The dog says Hello to A cat</span></div></pre></td></tr></table></figure>\n<p>通常星号*结合as一起使用比较合适。</p>\n<ol>\n<li>终极秘籍</li>\n</ol>\n<p>考虑下面的场景：<br>上面的content.js一共输出了三个变量（default, say, type）,假如我们的实际项目当中只需要用到type这一个变量，其余两个我们暂时不需要。我们可以只输入一个变量：</p>\n<p><code>import { type } from &#39;./content&#39;</code></p>\n<p>由于其他两个变量没有被使用，我们希望代码打包的时候也忽略它们，抛弃它们，这样在大项目中可以显著减少文件的体积。</p>\n<p>ES6帮我们实现了！</p>\n<p>不过，目前无论是webpack还是browserify都还不支持这一功能…</p>\n<p>如果你现在就想实现这一功能的话，可以尝试使用rollup.js</p>\n<p>他们把这个功能叫做Tree-shaking，哈哈哈，意思就是打包前让整个文档树抖一抖，把那些并未被依赖或使用的东西统统抖落下去。。。</p>\n<p>看看他们官方的解释吧：</p>\n<blockquote>\n<p>Normally if you require a module, you import the whole thing. ES2015 lets you just import the bits you need, without mucking around with custom builds. It’s a revolution in how we use libraries in JavaScript, and it’s happening right now.</p>\n</blockquote>\n<p>希望更全面了解es6伙伴们可以去看阮一峰所著的电子书<a href=\"http://es6.ruanyifeng.com/\" target=\"_blank\" rel=\"external\">ECMAScript 6入门</a></p>\n","excerpt":"<p>随着google和firfox以及node6.0对es6的支持，es6语法的定稿使它越来越受到关注，尤其是react项目基本上都是用es6来写的。是时候从es5到es6转变了<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/es6.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、相关背景介绍\"><a href=\"#一、相关背景介绍\" class=\"headerlink\" title=\"一、相关背景介绍\"></a>一、相关背景介绍</h3><p>我们现在大多数人用的语法javascript 其实版本是ecmscript5,也是就es5。这个版本己经很多年了，且完美被各大浏览器所支持。所以很多学js的朋友可以一直分不清楚es5和javascript的关系。javascript是一门编程语言，那么它就会有版本，es5还是es6 就就是它的版本号。最新版es7己经在紧锣密布的进行中，它最新的语法会让我们写代码更新的行云流水。</p>\n<h3 id=\"二、babel-一个es6的解析器\"><a href=\"#二、babel-一个es6的解析器\" class=\"headerlink\" title=\"二、babel 一个es6的解析器\"></a>二、babel 一个es6的解析器</h3><p>在我们正式讲解ES6语法之前，我们得先了解下<a href=\"https://babeljs.io/\">Babel。</a></p>\n<p>Babel是一个广泛使用的ES6转码器，可以将ES6代码转为ES5代码，从而在现有环境执行。大家可以选择自己习惯的工具来使用使用Babel,我最喜欢的构建工具就是webpack。具体过程可直接在Babel官网查看：</p>\n<h3 id=\"三、语法\"><a href=\"#三、语法\" class=\"headerlink\" title=\"三、语法\"></a>三、语法</h3><p>最常用的ES6特性</p>\n<p><code>let</code>, <code>const</code>, <code>class</code>, <code>extends</code>, <code>super</code>, <code>arrow functions</code>, <code>template string</code>, <code>destructuring</code>, <code>default</code>, <code>rest arguments</code><br>这些是ES6最常用的几个语法，基本上学会它们，我们就可以走遍天下都不怕啦！我会用最通俗易懂的语言和例子来讲解它们，保证一看就懂，一学就会。</p>\n<h4 id=\"1-let-const\"><a href=\"#1-let-const\" class=\"headerlink\" title=\"1. let, const\"></a>1. <code>let, const</code></h4><p>这两个的用途与<code>var</code>类似，都是用来声明变量的，但在实际运用中他俩都有各自的特殊用途。<br>首先来看下面这个例子：</p>\n<figure class=\"highlight sqf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">var <span class=\"built_in\">name</span> = <span class=\"string\">'zach'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">while</span> (<span class=\"literal\">true</span>) &#123;</div><div class=\"line\">    var <span class=\"built_in\">name</span> = <span class=\"string\">'obama'</span></div><div class=\"line\">    console.<span class=\"built_in\">log</span>(<span class=\"built_in\">name</span>)  <span class=\"comment\">//obama</span></div><div class=\"line\">    break</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">console.<span class=\"built_in\">log</span>(<span class=\"built_in\">name</span>)  <span class=\"comment\">//obama</span></div></pre></td></tr></table></figure>\n<p>使用<code>var</code> 两次输出都是obama，这是因为ES5只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。第一种场景就是你现在看到的内层变量覆盖外层变量。而<code>let</code>则实际上为<code>JavaScript</code>新增了块级作用域。用它所声明的变量，只在<code>let</code>命令所在的代码块内有效。</p>\n<p>另外一个<code>var</code>带来的不合理场景就是用来计数的循环变量泄露为全局变量，看下面的例子：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> a = [];</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++) &#123;</div><div class=\"line\">  a[i] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">  &#125;;</div><div class=\"line\">&#125;</div><div class=\"line\">a[<span class=\"number\">6</span>](); <span class=\"comment\">// 10</span></div></pre></td></tr></table></figure>\n<p>上面代码中，变量i是var声明的，在全局范围内都有效。所以每一次循环，新的i值都会覆盖旧值，导致最后输出的是最后一轮的i的值。而使用let则不会出现这个问题。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> a = [];</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++) &#123;</div><div class=\"line\">  a[i] = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">  &#125;;</div><div class=\"line\">&#125;</div><div class=\"line\">a[<span class=\"number\">6</span>](); <span class=\"comment\">// 6</span></div></pre></td></tr></table></figure>\n<p>再来看一个更常见的例子，了解下如果不用ES6，而用闭包如何解决这个问题。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> clickBoxs = <span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'.clickBox'</span>)</div><div class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; clickBoxs.length; i++)&#123;</div><div class=\"line\">    clickBoxs[i].onclick = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(i)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>我们本来希望的是点击不同的clickBox，显示不同的i，但事实是无论我们点击哪个clickBox，输出的都是5。下面我们来看下，如何用闭包搞定它。</p>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">iteratorFactory</span><span class=\"params\">(i)</span>&#123;</span></div><div class=\"line\">    var onclick = <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(e)</span>&#123;</span></div><div class=\"line\">        console.<span class=\"built_in\">log</span>(<span class=\"built_in\">i</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> onclick;</div><div class=\"line\">&#125;</div><div class=\"line\">var clickBoxs = document.querySelectorAll(<span class=\"string\">'.clickBox'</span>)</div><div class=\"line\"><span class=\"keyword\">for</span> (var <span class=\"built_in\">i</span> = <span class=\"number\">0</span>; <span class=\"built_in\">i</span> &lt; clickBoxs.<span class=\"built_in\">length</span>; <span class=\"built_in\">i</span>++)&#123;</div><div class=\"line\">    clickBoxs[i].onclick = iteratorFactory(i)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>const</code>也用来声明变量，但是声明的是常量。一旦声明，常量的值就不能改变。</p>\n<figure class=\"highlight monkey\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> <span class=\"built_in\">PI</span> = Math.<span class=\"built_in\">PI</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">PI</span> = <span class=\"number\">23</span> //<span class=\"keyword\">Module</span> build failed: SyntaxError: /es6/app.js: <span class=\"string\">\"PI\"</span> is read-only</div></pre></td></tr></table></figure>\n<p>当我们尝试去改变用const声明的常量时，浏览器就会报错。<br>const有一个很好的应用场景，就是当我们引用第三方库的时声明的变量，用const来声明可以避免未来不小心重命名而导致出现bug：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">const</span> monent = <span class=\"built_in\">require</span>(<span class=\"string\">'moment'</span>)</div></pre></td></tr></table></figure>\n<h4 id=\"2-class-extends-super\"><a href=\"#2-class-extends-super\" class=\"headerlink\" title=\"2. class, extends, super\"></a>2. <code>class</code>, <code>extends</code>, <code>super</code></h4><p>这三个特性涉及了ES5中最令人头疼的的几个部分：原型、构造函数，继承…你还在为它们复杂难懂的语法而烦恼吗？你还在为指针到底指向哪里而纠结万分吗？</p>\n<p>有了ES6我们不再烦恼！</p>\n<p>ES6提供了更接近传统语言的写法，引入了Class（类）这个概念。新的class写法让对象原型的写法更加清晰、更像面向对象编程的语法，也更加通俗易懂。</p>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    constructor()&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.<span class=\"keyword\">type</span> = <span class=\"symbol\">'anima</span>l'</div><div class=\"line\">    &#125;</div><div class=\"line\">    says(say)&#123;</div><div class=\"line\">        console.log(<span class=\"keyword\">this</span>.<span class=\"keyword\">type</span> + ' says ' + say)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">let animal = <span class=\"keyword\">new</span> <span class=\"type\">Animal</span>()</div><div class=\"line\">animal.says(<span class=\"symbol\">'hell</span>o') <span class=\"comment\">//animal says hello</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Cat</span> <span class=\"keyword\">extends</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    constructor()&#123;</div><div class=\"line\">        <span class=\"keyword\">super</span>()</div><div class=\"line\">        <span class=\"keyword\">this</span>.<span class=\"keyword\">type</span> = <span class=\"symbol\">'ca</span>t'</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">let cat = <span class=\"keyword\">new</span> <span class=\"type\">Cat</span>()</div><div class=\"line\">cat.says(<span class=\"symbol\">'hell</span>o') <span class=\"comment\">//cat says hello</span></div></pre></td></tr></table></figure>\n<p>上面代码首先用<code>class</code>定义了一个“类”，可以看到里面有一个constructor方法，这就是构造方法，而this关键字则代表实例对象。简单地说，constructor内定义的方法和属性是实例对象自己的，而constructor外定义的方法和属性则是所有实例对象可以共享的。</p>\n<p><code>Class</code>之间可以通过<code>extends</code>关键字实现继承，这比ES5的通过修改原型链实现继承，要清晰和方便很多。上面定义了一个Cat类，该类通过extends关键字，继承了Animal类的所有属性和方法。</p>\n<p><code>super</code>关键字，它指代父类的实例（即父类的this对象）。子类必须在<code>constructor</code>方法中调用<code>super</code>方法，否则新建实例时会报错。这是因为子类没有自己的<code>this</code>对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。</p>\n<p><code>ES6</code>的继承机制，实质是先创造父类的实例对象<code>this</code>（所以必须先调用s<code>uper</code>方法），然后再用子类的构造函数修改<code>this</code>。</p>\n<p>P.S 如果你写react的话，就会发现以上三个东西在最新版<code>React</code>中出现得很多。创建的每个component都是一个继承<code>React.Component</code>的类。<a href=\"https://facebook.github.io/react/docs/reusable-components.html\">详见react文档</a></p>\n<h4 id=\"3-arrow-function\"><a href=\"#3-arrow-function\" class=\"headerlink\" title=\"3. arrow function\"></a>3. <code>arrow function</code></h4><p>这个恐怕是ES6最最常用的一个新特性了，用它来写function比原来的写法要简洁清晰很多:</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(i)</span></span>&#123; <span class=\"keyword\">return</span> i + <span class=\"number\">1</span>; &#125; <span class=\"comment\">//ES5</span></div><div class=\"line\">(i) =&gt; i + <span class=\"number\">1</span> <span class=\"comment\">//ES6</span></div></pre></td></tr></table></figure>\n<p>简直是简单的不像话对吧…<br>如果方程比较复杂，则需要用<code>{}</code>把代码包起来：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(x, y)</span></span> &#123;</div><div class=\"line\">    x++;</div><div class=\"line\">    y<span class=\"comment\">--;</span></div><div class=\"line\">    <span class=\"keyword\">return</span> x + y;</div><div class=\"line\">&#125;</div><div class=\"line\">(x, y) =&gt; &#123;x++; y<span class=\"comment\">--; return x+y&#125;</span></div></pre></td></tr></table></figure>\n<p>除了看上去更简洁以外，<code>arrow function</code>还有一项超级无敌的功能！<br>长期以来，<code>JavaScript</code>语言的<code>this</code>对象一直是一个令人头痛的问题，在对象方法中使用<code>this</code>，必须非常小心。例如：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>()&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.type = <span class=\"string\">'animal'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    says(say)&#123;</div><div class=\"line\">        setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">        &#125;, <span class=\"number\">1000</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">var</span> animal = <span class=\"keyword\">new</span> Animal()</div><div class=\"line\"> animal.says(<span class=\"string\">'hi'</span>)  <span class=\"comment\">//undefined says hi</span></div></pre></td></tr></table></figure>\n<p>运行上面的代码会报错，这是因为<code>setTimeout</code>中的<code>this</code>指向的是全局对象。所以为了让它能够正确的运行，传统的解决方法有两种：</p>\n<ol>\n<li>第一种是将this传给self,再用self来指代this</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">says(say)&#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> self = <span class=\"keyword\">this</span>;</div><div class=\"line\">      setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">          <span class=\"built_in\">console</span>.log(self.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">      &#125;, <span class=\"number\">1000</span>)</div></pre></td></tr></table></figure>\n<ol>\n<li>第二种方法是用bind(this),即</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">says(say)&#123;</div><div class=\"line\">    setTimeout(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">    &#125;.bind(<span class=\"keyword\">this</span>), <span class=\"number\">1000</span>)</div></pre></td></tr></table></figure>\n<p>但现在我们有了箭头函数，就不需要这么麻烦了：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Animal</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>()&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.type = <span class=\"string\">'animal'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    says(say)&#123;</div><div class=\"line\">        setTimeout( <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> &#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.type + <span class=\"string\">' says '</span> + say)</div><div class=\"line\">        &#125;, <span class=\"number\">1000</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"> <span class=\"keyword\">var</span> animal = <span class=\"keyword\">new</span> Animal()</div><div class=\"line\"> animal.says(<span class=\"string\">'hi'</span>)  <span class=\"comment\">//animal says hi</span></div></pre></td></tr></table></figure>\n<p>当我们使用箭头函数时，函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。<br>并不是因为箭头函数内部有绑定this的机制，实际原因是箭头函数根本没有自己的this，它的this是继承外面的，因此内部的this就是外层代码块的this。</p>\n<h3 id=\"4-template-string\"><a href=\"#4-template-string\" class=\"headerlink\" title=\"4. template string\"></a>4. <code>template string</code></h3><p>这个东西也是非常有用，当我们要插入大段的html内容到文档中时，传统的写法非常麻烦，所以之前我们通常会引用一些模板工具库，比如mustache等等。</p>\n<p>大家可以先看下面一段代码：</p>\n<figure class=\"highlight smalltalk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">$(</span><span class=\"comment\">\"#result\"</span>).append(</div><div class=\"line\">  <span class=\"comment\">\"There are &lt;b&gt;\"</span> + basket.count + <span class=\"comment\">\"&lt;/b&gt; \"</span> +</div><div class=\"line\">  <span class=\"comment\">\"items in your basket, \"</span> +</div><div class=\"line\">  <span class=\"comment\">\"&lt;em&gt;\"</span> + basket.onSale +</div><div class=\"line\">  <span class=\"comment\">\"&lt;/em&gt; are on sale!\"</span></div><div class=\"line\">);</div></pre></td></tr></table></figure>\n<p>我们要用一堆的’+’号来连接文本与变量，而使用ES6的新特性模板字符串``后，我们可以直接这么来写：</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">\"#result\"</span>).<span class=\"keyword\">append</span>(`</div><div class=\"line\">  There are &lt;b&gt;<span class=\"variable\">$&#123;basket</span>.<span class=\"keyword\">count</span>&#125;&lt;/b&gt; items</div><div class=\"line\">   <span class=\"keyword\">in</span> your basket, &lt;em&gt;<span class=\"variable\">$&#123;basket</span>.onSale&#125;&lt;/em&gt;</div><div class=\"line\">  are <span class=\"keyword\">on</span> sale!</div><div class=\"line\">`);</div></pre></td></tr></table></figure>\n<p>用反引号（\\）来标识起始，用${}`来引用变量，而且所有的空格和缩进都会被保留在输出之中，是不是非常爽？！</p>\n<p>  <a href=\"https://github.com/reactjs/react-router/blob/latest/examples/passing-props-to-children/app.js\">React Router</a>从第1.0.3版开始也使用ES6语法了，比如这个例子：</p>\n<p><code>&lt;Link to={&#39;/taco/${taco.name}&#39;}&gt;{taco.name}&lt;/Link&gt;</code></p>\n<h3 id=\"5-destructuring\"><a href=\"#5-destructuring\" class=\"headerlink\" title=\"5. destructuring\"></a>5. <code>destructuring</code></h3><p>  ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</p>\n<p>看下面的例子：</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">cat</span> = <span class=\"string\">'ken'</span></div><div class=\"line\"><span class=\"keyword\">let</span> dog = <span class=\"string\">'lili'</span></div><div class=\"line\"><span class=\"keyword\">let</span> zoo = &#123;<span class=\"keyword\">ca</span><span class=\"variable\">t:</span> <span class=\"keyword\">cat</span>, <span class=\"keyword\">do</span><span class=\"variable\">g:</span> dog&#125;</div><div class=\"line\">console.<span class=\"built_in\">log</span>(zoo)  //Object &#123;<span class=\"keyword\">ca</span><span class=\"variable\">t:</span> <span class=\"string\">\"ken\"</span>, <span class=\"keyword\">do</span><span class=\"variable\">g:</span> <span class=\"string\">\"lili\"</span>&#125;</div></pre></td></tr></table></figure>\n<p>用ES6完全可以像下面这么写：</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> <span class=\"keyword\">cat</span> = <span class=\"string\">'ken'</span></div><div class=\"line\"><span class=\"keyword\">let</span> dog = <span class=\"string\">'lili'</span></div><div class=\"line\"><span class=\"keyword\">let</span> zoo = &#123;<span class=\"keyword\">cat</span>, dog&#125;</div><div class=\"line\">console.<span class=\"built_in\">log</span>(zoo)  //Object &#123;<span class=\"keyword\">ca</span><span class=\"variable\">t:</span> <span class=\"string\">\"ken\"</span>, <span class=\"keyword\">do</span><span class=\"variable\">g:</span> <span class=\"string\">\"lili\"</span>&#125;</div></pre></td></tr></table></figure>\n<p>反过来可以这么写：</p>\n<figure class=\"highlight fsharp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> dog = &#123;<span class=\"class\"><span class=\"keyword\">type</span>: '<span class=\"title\">animal</span>', <span class=\"title\">many</span>: 2&#125;</span></div><div class=\"line\"><span class=\"keyword\">let</span> &#123; <span class=\"class\"><span class=\"keyword\">type</span>, <span class=\"title\">many</span>&#125; </span>= dog</div><div class=\"line\">console.log(<span class=\"class\"><span class=\"keyword\">type</span>, <span class=\"title\">many</span>)   //<span class=\"title\">animal</span> 2</span></div></pre></td></tr></table></figure>\n<h3 id=\"6-default-rest\"><a href=\"#6-default-rest\" class=\"headerlink\" title=\"6. default, rest\"></a>6. <code>default</code>, <code>rest</code></h3><p>default很简单，意思就是默认值。大家可以看下面的例子，调用animal()方法时忘了传参数，传统的做法就是加上这一句type = type || ‘cat’ 来指定默认值。</p>\n<figure class=\"highlight fsharp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">function</span> animal(<span class=\"class\"><span class=\"keyword\">type</span>)&#123;</span></div><div class=\"line\">    <span class=\"class\"><span class=\"keyword\">type</span> </span>= <span class=\"class\"><span class=\"keyword\">type</span> || '<span class=\"title\">cat</span>'  </span></div><div class=\"line\">    console.log(<span class=\"class\"><span class=\"keyword\">type</span>)</span></div><div class=\"line\">&#125;</div><div class=\"line\">animal()</div></pre></td></tr></table></figure>\n<p>如果用ES6我们而已直接这么写：</p>\n<figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animal</span><span class=\"params\">(<span class=\"keyword\">type</span> = <span class=\"string\">'cat'</span>)</span><span class=\"comment\">&#123;</div><div class=\"line\">    console.log(type)</div><div class=\"line\">&#125;</span></div><div class=\"line\"><span class=\"title\">animal</span><span class=\"params\">()</span></span></div></pre></td></tr></table></figure>\n<p>最后一个rest语法也很简单，直接看例子：</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">animals</span><span class=\"params\">(<span class=\"rest_arg\">...types</span>)</span></span>&#123;</div><div class=\"line\">    console.log(types)</div><div class=\"line\">&#125;</div><div class=\"line\">animals(<span class=\"string\">'cat'</span>, <span class=\"string\">'dog'</span>, <span class=\"string\">'fish'</span>) <span class=\"comment\">//[\"cat\", \"dog\", \"fish\"]</span></div></pre></td></tr></table></figure>\n<p>而如果不用ES6的话，我们则得使用ES5的<code>arguments</code>。</p>\n<h3 id=\"7-import-export\"><a href=\"#7-import-export\" class=\"headerlink\" title=\"7. import export\"></a>7. <code>import export</code></h3><p>这两个家伙对应的就是<code>es6</code>自己的<code>module</code>功能。</p>\n<p>我们之前写的<code>Javascript</code>一直都没有模块化的体系，无法将一个庞大的js工程拆分成一个个功能相对独立但相互依赖的小工程，再用一种简单的方法把这些小工程连接在一起。</p>\n<p>这有可能导致两个问题：</p>\n<ol>\n<li>一方面js代码变得很臃肿，难以维护;</li>\n<li>另一方面我们常常得很注意每个script标签在html中的位置，因为它们通常有依赖关系，顺序错了可能就会出bug;<br>在es6之前为解决上面提到的问题，我们得利用第三方提供的一些方案，主要有两种CommonJS(服务器端)和AMD（浏览器端，如require.js）。</li>\n</ol>\n<p>如果想了解更多AMD，尤其是require.js，可以参看这个教程<br><a href=\"http://requirejs.org/docs/why.html\">why modules on the web are useful and the mechanisms that can be used on the web today to enable them</a></p>\n<p>而现在我们有了es6的module功能，它实现非常简单，可以成为服务器和浏览器通用的模块解决方案。</p>\n<blockquote>\n<p>ES6模块的设计思想，是尽量的静态化，使得编译时就能确定模块的依赖关系，以及输入和输出的变量。CommonJS和AMD模块，都只能在运行时确定这些东西。</p>\n</blockquote>\n<p>上面的设计思想看不懂也没关系，咱先学会怎么用，等以后用多了、熟练了再去研究它背后的设计思想也不迟！好，那我们就上代码…</p>\n<p> 传统的写法<br>首先我们回顾下require.js的写法。假设我们有两个js文件: index.js和content.js,现在我们想要在index.js中使用content.js返回的结果，我们要怎么做呢？</p>\n<p>首先定义:</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\">define(<span class=\"string\">'content.js'</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'A cat'</span>;</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>然后require:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">'./content.js'</span>], <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">animal</span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(animal);   <span class=\"comment\">//A cat</span></div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>那CommonJS是怎么写的呢？</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"><span class=\"selector-tag\">var</span> animal = require(<span class=\"string\">'./content.js'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\">module<span class=\"selector-class\">.exports</span> = <span class=\"string\">'A cat'</span></div></pre></td></tr></table></figure>\n<p> ES6的写法</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"><span class=\"keyword\">import</span> animal <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"string\">'A cat'</span></div></pre></td></tr></table></figure>\n<p>以上我把三者都列出来了，妈妈再也不用担心我写混淆了…</p>\n<h3 id=\"8-ES6-module的其他高级用法\"><a href=\"#8-ES6-module的其他高级用法\" class=\"headerlink\" title=\"8. ES6 module的其他高级用法\"></a>8. ES6 module的其他高级用法</h3><p>输出\\输入多个变量</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//content.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"string\">'A cat'</span>    </div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">say</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'Hello!'</span></div><div class=\"line\">&#125;    </div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> type = <span class=\"string\">'dog'</span></div></pre></td></tr></table></figure>\n<p>上面可以看出，export命令除了输出变量，还可以输出函数，甚至是类（react的模块基本都是输出类）</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> &#123; say, type &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;type&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span>`</span>)  <span class=\"comment\">//The dog says Hello</span></div></pre></td></tr></table></figure>\n<p>这里输入的时候要注意：大括号里面的变量名，必须与被导入模块（content.js）对外接口的名称相同。</p>\n<p>如果还希望输入content.js中输出的默认值(default), 可以写在大括号外面。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> animal, &#123; say, type &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;type&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span> to <span class=\"subst\">$&#123;animal&#125;</span>`</span>)  </div><div class=\"line\"><span class=\"comment\">//The dog says Hello to A cat</span></div></pre></td></tr></table></figure>\n<h3 id=\"9-修改变量名\"><a href=\"#9-修改变量名\" class=\"headerlink\" title=\"9. 修改变量名\"></a>9. 修改变量名</h3><p>此时我们不喜欢type这个变量名，因为它有可能重名，所以我们需要修改一下它的变量名。在es6中可以用as实现一键换名。</p>\n<p>//index.js<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> animal, &#123; say, type <span class=\"keyword\">as</span> animalType &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;animalType&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span> to <span class=\"subst\">$&#123;animal&#125;</span>`</span>)  </div><div class=\"line\"><span class=\"comment\">//The dog says Hello to A cat</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"10-模块的整体加载\"><a href=\"#10-模块的整体加载\" class=\"headerlink\" title=\"10. 模块的整体加载\"></a>10. 模块的整体加载</h3><p>除了指定加载某个输出值，还可以使用整体加载，即用星号（*）指定一个对象，所有输出值都加载在这个对象上面。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//index.js</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> animal, * <span class=\"keyword\">as</span> content <span class=\"keyword\">from</span> <span class=\"string\">'./content'</span>  </div><div class=\"line\"><span class=\"keyword\">let</span> says = content.say()</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">`The <span class=\"subst\">$&#123;content.type&#125;</span> says <span class=\"subst\">$&#123;says&#125;</span> to <span class=\"subst\">$&#123;animal&#125;</span>`</span>)  </div><div class=\"line\"><span class=\"comment\">//The dog says Hello to A cat</span></div></pre></td></tr></table></figure>\n<p>通常星号*结合as一起使用比较合适。</p>\n<ol>\n<li>终极秘籍</li>\n</ol>\n<p>考虑下面的场景：<br>上面的content.js一共输出了三个变量（default, say, type）,假如我们的实际项目当中只需要用到type这一个变量，其余两个我们暂时不需要。我们可以只输入一个变量：</p>\n<p><code>import { type } from &#39;./content&#39;</code></p>\n<p>由于其他两个变量没有被使用，我们希望代码打包的时候也忽略它们，抛弃它们，这样在大项目中可以显著减少文件的体积。</p>\n<p>ES6帮我们实现了！</p>\n<p>不过，目前无论是webpack还是browserify都还不支持这一功能…</p>\n<p>如果你现在就想实现这一功能的话，可以尝试使用rollup.js</p>\n<p>他们把这个功能叫做Tree-shaking，哈哈哈，意思就是打包前让整个文档树抖一抖，把那些并未被依赖或使用的东西统统抖落下去。。。</p>\n<p>看看他们官方的解释吧：</p>\n<blockquote>\n<p>Normally if you require a module, you import the whole thing. ES2015 lets you just import the bits you need, without mucking around with custom builds. It’s a revolution in how we use libraries in JavaScript, and it’s happening right now.</p>\n</blockquote>\n<p>希望更全面了解es6伙伴们可以去看阮一峰所著的电子书<a href=\"http://es6.ruanyifeng.com/\">ECMAScript 6入门</a></p>"},{"author":"小莫","date":"2016-05-16T16:00:00.000Z","title":"webpack相关命令参数","_content":"使用webpack的同学，你真的熟练应用webpack么？其实直接`webpack --help`就可以看到，但是有很多人还是在网上到处搜相关参数\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、webpack相关参数\n```\n  webpack --config webpack.config.dev.js   //使用另一份配置文件（比如webpack.config2.js）来打包\n  webpack --watch   //监听变动并自动打包\n  webpack //执行一次开发时的编译\n  webpack -p //执行一次生成环境的编译（压缩）\n  webpack --watch //在开发时持续监控增量编译（很快）\n  webpack -d //让他生成SourceMaps\n  webpack --progress //显示编译进度\n  webpack --colors //显示静态资源的颜色\n  webpack --sort-modules-by, --sort-chunks-by, --sort-assets-by //将modules/chunks/assets进行列表排序\n  webpack --display-chunks //展示编译后的分块\n  webpack --display-reasons //显示更多引用模块原因\n  webapck --display-error-details //显示更多报错信息\n```\n","source":"_posts/2016-05-18.webpack_params.md","raw":"---\nauthor: 小莫\ndate: 2016-05-17\ntitle: webpack相关命令参数\ntags: webpack\ncategory:\n- webpack\n- javascript\n- node\n- 开发工具\npermalink: WebpackParams\n---\n使用webpack的同学，你真的熟练应用webpack么？其实直接`webpack --help`就可以看到，但是有很多人还是在网上到处搜相关参数\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/webpack.png)](https://github.com/syoubaku)\n### 一、webpack相关参数\n```\n  webpack --config webpack.config.dev.js   //使用另一份配置文件（比如webpack.config2.js）来打包\n  webpack --watch   //监听变动并自动打包\n  webpack //执行一次开发时的编译\n  webpack -p //执行一次生成环境的编译（压缩）\n  webpack --watch //在开发时持续监控增量编译（很快）\n  webpack -d //让他生成SourceMaps\n  webpack --progress //显示编译进度\n  webpack --colors //显示静态资源的颜色\n  webpack --sort-modules-by, --sort-chunks-by, --sort-assets-by //将modules/chunks/assets进行列表排序\n  webpack --display-chunks //展示编译后的分块\n  webpack --display-reasons //显示更多引用模块原因\n  webapck --display-error-details //显示更多报错信息\n```\n","slug":"WebpackParams","published":1,"updated":"2016-12-01T06:50:29.635Z","_id":"civ0ggq6x001erwvn84cej7l9","comments":1,"layout":"post","photos":[],"link":"","content":"<p>使用webpack的同学，你真的熟练应用webpack么？其实直接<code>webpack --help</code>就可以看到，但是有很多人还是在网上到处搜相关参数<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、webpack相关参数\"><a href=\"#一、webpack相关参数\" class=\"headerlink\" title=\"一、webpack相关参数\"></a>一、webpack相关参数</h3><figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">webpack --config webpack.config.dev.js   <span class=\"comment\">//使用另一份配置文件（比如webpack.config2.js）来打包</span></div><div class=\"line\">webpack --watch   <span class=\"comment\">//监听变动并自动打包</span></div><div class=\"line\">webpack <span class=\"comment\">//执行一次开发时的编译</span></div><div class=\"line\">webpack -p <span class=\"comment\">//执行一次生成环境的编译（压缩）</span></div><div class=\"line\">webpack --watch <span class=\"comment\">//在开发时持续监控增量编译（很快）</span></div><div class=\"line\">webpack -<span class=\"keyword\">d</span> <span class=\"comment\">//让他生成SourceMaps</span></div><div class=\"line\">webpack --progress <span class=\"comment\">//显示编译进度</span></div><div class=\"line\">webpack --colors <span class=\"comment\">//显示静态资源的颜色</span></div><div class=\"line\">webpack --<span class=\"keyword\">sort</span>-modules-<span class=\"keyword\">by</span>, --<span class=\"keyword\">sort</span>-chunks-<span class=\"keyword\">by</span>, --<span class=\"keyword\">sort</span>-assets-<span class=\"keyword\">by</span> <span class=\"comment\">//将modules/chunks/assets进行列表排序</span></div><div class=\"line\">webpack --<span class=\"keyword\">display</span>-chunks <span class=\"comment\">//展示编译后的分块</span></div><div class=\"line\">webpack --<span class=\"keyword\">display</span>-reasons <span class=\"comment\">//显示更多引用模块原因</span></div><div class=\"line\">webapck --<span class=\"keyword\">display</span>-<span class=\"keyword\">error</span>-details <span class=\"comment\">//显示更多报错信息</span></div></pre></td></tr></table></figure>\n","excerpt":"<p>使用webpack的同学，你真的熟练应用webpack么？其实直接<code>webpack --help</code>就可以看到，但是有很多人还是在网上到处搜相关参数<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/webpack.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、webpack相关参数\"><a href=\"#一、webpack相关参数\" class=\"headerlink\" title=\"一、webpack相关参数\"></a>一、webpack相关参数</h3><figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">webpack --config webpack.config.dev.js   <span class=\"comment\">//使用另一份配置文件（比如webpack.config2.js）来打包</span></div><div class=\"line\">webpack --watch   <span class=\"comment\">//监听变动并自动打包</span></div><div class=\"line\">webpack <span class=\"comment\">//执行一次开发时的编译</span></div><div class=\"line\">webpack -p <span class=\"comment\">//执行一次生成环境的编译（压缩）</span></div><div class=\"line\">webpack --watch <span class=\"comment\">//在开发时持续监控增量编译（很快）</span></div><div class=\"line\">webpack -<span class=\"keyword\">d</span> <span class=\"comment\">//让他生成SourceMaps</span></div><div class=\"line\">webpack --progress <span class=\"comment\">//显示编译进度</span></div><div class=\"line\">webpack --colors <span class=\"comment\">//显示静态资源的颜色</span></div><div class=\"line\">webpack --<span class=\"keyword\">sort</span>-modules-<span class=\"keyword\">by</span>, --<span class=\"keyword\">sort</span>-chunks-<span class=\"keyword\">by</span>, --<span class=\"keyword\">sort</span>-assets-<span class=\"keyword\">by</span> <span class=\"comment\">//将modules/chunks/assets进行列表排序</span></div><div class=\"line\">webpack --<span class=\"keyword\">display</span>-chunks <span class=\"comment\">//展示编译后的分块</span></div><div class=\"line\">webpack --<span class=\"keyword\">display</span>-reasons <span class=\"comment\">//显示更多引用模块原因</span></div><div class=\"line\">webapck --<span class=\"keyword\">display</span>-<span class=\"keyword\">error</span>-details <span class=\"comment\">//显示更多报错信息</span></div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-05-19T16:00:00.000Z","title":"javascript学习笔记","_content":"一直对javscript抱有敬畏的态度，也没有一直深入学习。当学到各种js框架的时候才发现力不从心，感觉到了javascript基础的重要性，重新认真的系统的学习一下。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/javascript.png)](https://github.com/syoubaku)\n### 一、一些不同\n#### 1. javscript没有块级作用域\n于是es6中有了let和var    \n模拟js的块级作用域    \n\n```\n  function outputNumbers(count){\n    (function(){\n      for(var i=0;i<count;i++){\n        console.log(i);\n      }\n      })();\n  }\n  console.log(i) //会报错\n```\n\n#### 2. javascipt中this用法不同\n它指向调用它的那个对象\n#### 3. 闭包是指有权访问另一个函数作用域中的变量的函数。\n\n```\n  function createAFunction(){\n    return function(){\n      return '这是一个闭包';\n    }\n  }\n```\n\n### 二、基本数据类型  \n`undefined`、`null`、`boolean`、`string`、`number` 、`object`、`function`  \n它们有对应的方法\n`Boolean()`、`String()`、`Number()` 、`Object()`  \n\n#### 1. `undefined`   \n没有被定义就会返回`undefined`,是`null`衍生出来的,因些`undefined==null` 返回true\n\n#### 2. `null`   \n由于历史原因 `typeof null`返回`object`\n\n#### 3. `boolean`  \n`Boolean()`   \n非0返回true  \n0、null、undefined返回false\n\n#### 4. `string`   \n`String()`        \n不管传入什么都会原样返回,但如果是`function`,会执行该方法并返回`undefined`    \n`toString(参数,进制)`   \n`toUpperCase()`  \n`toLowerCase()`   \n`substring(parm1,parm2)`     \n`substr()`   \n`charAt(1)`    \n`charCodeAt(2)`    \n`concat()`  \n`slice()`  \n`indexof()`  \n`lastIndexOf`  \n`trim()`  \n`search(pattern)`  //返回索引   \n`replcae('原','新')` //第一个参数支持正则    第二个参数也可以是一个function     \n`splice(',')`    //支持正则，支持指定长度    \n它只有length属性   \n\n#### 5. `number`   \n`Number()`          true=>1 false=>0   null=>0 undefined=>NaN   \n`Number.MAX_VALUE`  最大值    \n`Number.MIN_VALUE`  最小值    \n`NaN`  它是一个特例，不与任何值相等包括自己    \n`parseInt()` //可以查找字符串中的数字并转换   \n`parseFloat()` //可以查找字符串中的数字并转换   \n`inFinite()` //是否在最大值和最小值之间   \n`toFixed(小数点位数)`\n说明：它能够识别科学计数法 比如 2.15e5 => 215000   \n\n#### 6. `object`  \n`constructor`  构造函数   \n`obj.hasOwnProperty()` 是否具有自己的方法  \n`obj.isProtoTypeOf(object)`  检查传入的对象是否是另一个对象的原型   \n`ob.propertyIsEnumerable(propetyName)`  检查给定的属性能否使用for-in\n`obj.toLocaleString()` 返回执行地区对应的对象的字符串 =>['Object']  \n`obj.toString()`    返回执行对象的字符串 =>['Object']    \n`obj.valueOf()`   返回对象序列化之后的结果\n\n\n### 三、运算符\n#### 1. 大于和小于  \n`'23'<'3' `  //true,字符串的比较跟数字的比较不同   \n`'a'<3`   //false a会被转成NaN   \n`特别注意`:NaN和任何数比都是false\n`NaN>3` //false   \n`NaN<3` //false  \n`'23'<3` //false  '23'会被转成23再与3比较\n\n#### 2. 全等和不全等  \n`'55'==55` //true 不全等只判断值不判断类型  \n`'55'===55` //false  全等不仅判断值还判断类型  \n\n### 四、条件控制语句\n```\n  for(proertyName in global){\n    console.log(proertyName)\n  }\n```\n\n### 五、方法  \n注意：javascript和java不同，它没有重载,定义两个方法名相同的方法后面一个会覆盖前面一个。\n\n### 六、检测类型\n\n`typeof xxx`\n// 返回数据类型\n\n### 七、引用类型\n\n#### 1. `object`  \n声明对象的方法  \n`var obj = new Object();`   \n`var obj = {};`\n\n赋值   \n`obj.name='xiaomo';`   \n\n使用对象的属性\n`obj.name`  \n`obj['name']`  \n\n#### 2. `Array`   \n可以存任何类型    \n\n声明\n`var arr = new Array();`   \n`var arr = new Array(3);`   \n`var arr = [];`  \n\n添加对象   \n`arr.push('a',b',1,3,4,true)`   \n操作对象(删除、插入、替换)     \n\n`删除`：起始位置，要删除的个数       \n`arr.splice(起始位置,删除的个数)`     \n例子：`arr.splice(2,1)` //返回[1] 返回删除的那个数   \n\n`插入`：起始位置、要删除的个数(0)、要插入的数,可以是多个,返回空数组    \n`arr.splice(起始位置,删除的个数,参数1,参数2,参数n)`   \n例子:`arr.splice(1,0,'插入的值1','插入的值2','插入的值n')`  \n\n`替换`：起始位置、要删除的项目、要插入的任意项，可以是多个,返回被替换的值  \n`arr.splice(起始位置,删除的个数,参数1,参数2,参数n)`  \n例子:`arr.splice(0,2,'test1','test2') `   \n\n\n其他数组操作\n`arr.push('test')` 插入到数组的最后面   \n`arr.unshift('xiaomo')` 插入到数组的最前面   \n`arr.pop()`   //删除数组的最后一个值   \n`arr.shift()` //删除数组第一个值\n\n使用对象   \n`arr[1]`   \n\n数组自带的方法\n`arr.reverse();`   反转数组\n`arr.sort()`   默认升序排列\n`arr.sort((a,b)=>{reutrn b-a})`  传入排序方法会按照自定义排序   \n`arr.concat(另一个数组或者单个参数)`  如果传入数组也会被展开拿出来,不会影响原数组   \n`arr.slice(0,3)`  会把选定的部分截取出来生成一个新的数组，不会影响原数组     \n`arr.indexOf(4)`   返回该值存在的下标,不存在返回-1   \n`arr.lastIndexOf(4)` 从倒数开始查找,返回该值存在的下标,不存在返回-1\n`arr.every(fn)`   对每个参数进行处理，全部符合返回true   \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item>2\n}\n```\n`arr.some(fn)`   对每个参数进行处理，有一个符合就返回true  \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item>2\n}\n```\n`arr.filter(fn)` 对每个参数进行处理，返回过滤后的数组   \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item>2\n}\n```\n`arr.map(fn)`    对每个参数进行处理，返回处理后的数组  \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item*2\n}\n```\n`arr.forEach(fn)`  对每个参数进行处理，没有返回值\n`arr.reduce(fn)`    对每个参数进行处理，迭代返回最终结果    \n```\nfn=(prev,cur,index,array){//前一个值、当前值、索引、数组\n  return prev+cur\n}\n```\n`arr.reduceRight(fn)`  从右边对每个参数进行处理，迭代返回最终结果   \n```\nfn=(prev,cur,index,array){//前一个值、当前值、索引、数组\n  return prev+cur\n}\n```\n\n#### 3. Date类型    \n声明:   \n`var date = new Date();`  创建当前时间 也可以接收参数     \n`Date.parse(pattern)`    //   6/13/2016  May 25,2016  或者 yyyy-MM-dd hh:mm:ss格式的  返回时间戳   \n`new Date(Date.parse(pattern))`   //   将时间戳格式化为正常的时间    \n`new Date(2016,5,19,20,49,15)`  //也可以用逗号 2016-05-19 20:49:15\n`Date.now()`  //当前时间的时间戳    \n`toDateString()` //返回时间的字符串 星期、日、月、年   \n`toTimeString()` //时、分、秒、时区  \n`toLocaleDateString()`   特定时区的星期、日、月、年\n`toLocaleTimeString()`   特定时区的时、分、秒、时间    \n\n时间格式   \n```\nvar date = new Date();\nvar time = date.getTime() //当前时间的时间戳\nvar fullYear = date.getFullYear(); //2016\nvar year = date.getYear();   //116  \nvar month = date.getMonth(); //04 从0开始\nvar d = date.getDate(); //日  19\nvar day = date.getDay();  //4 返回星期几\nvar min = date.getMinitues(); //0\nvar sec = date.getSeconds() //秒\nvar mill = date.getMilliSeconds() //毫秒\n```\n\n#### 4. 正则 RegExp类型   \n\n```\nvar re = new RegExp('pattern');\nre.test(parm);\n\n// exec 返回匹配的结果\nvar test = 'abcdef.js';\nvar pattern = /\\.js$/\nvar matches = parrten.exec(test);\nconsole.log(matches); // '.js' ,index:6 input:'abcdef.js'\n\n//test 返回true/false\nvar text = 'abcdef.js';\nvar pattern = /\\.js$/\npattern.test(text); // true\n```\n\n#### 5. 方法　function     \n方法没有重载,如果是同名,不管参数个数是不是相同,后面定义的方法都会覆盖前面的方法  \n每个方法都包含两个属性:`length`(参数个数)和`protoType`(原型链)   \n```\n  function test(a,b){\n    return a+b;\n  }\n  function test(a){\n    return a;\n  }\n  test(1)    //1\n  test(1,2)  //1\n```\n你可以不按正常顺序执行方法,因为在执行的时候 function都会被提前    \n```\ntest();\nfunction test(){\n  console.log('这是一个方法');\n}\n```\n\n但如果是立即执行的函数则不行\n\n```\n(\n  function test(){\n\n  }()\n  )\n```\n\n方法有两个特殊的内部属性和两个非继承来的方法 `call()`、`apply()`,以及其他方法 `toString()、valueOf()`    \n`arguments`和`this`   \n`arguments`是类数组,保存着参数。它有`arguments.callee()`方法   \n```\n  function factorial(num){\n      if(num<=1){\n        return 1;\n      } else {\n        return num * arguments.callee(num-1);\n      }\n  }\n\n  factorial(5); // 5! 1*2*3*4*5\n\n```\n\n`this`在javascript中用法比较特殊,它指向它的调用者\n\n```\nvar color='green';\nfunction sayColor(){\n    console.log(this.color);\n  }\nvar o = {\n  color='pink';\n}\no.sayColor(); //pink\nsayColor(); //green\n```\n\n`protoType` 原型链    \n\n```\n  function sum (num1,num2){\n    return num1+num2;\n  }\n  // call 参数1:运行函数的作用域 参数2 agruments或者Array\n  function callSum1(num1,num2){\n    return sum.apply(this,arguments);\n  }\n  function callSum2(num1,num2){\n    return sum.apply(this,[num1,num2])\n  }\n  // apply 参数1：运行函数的作用域 其他参数:就是把apply中的数组拆开\n  function callSum2(num1,num2){\n    return sum.apply(this,num1,num2)\n  }\n```\n\n`encodeURIComponent()` //encode字符串          \n`decodeURICopmonent()` //decode字符串   \n`eval(express)` //解析字符串表达式   \n`eval(\"console.log('我是被解析的表达式')\")`   \n\n#### 6. `Math`    \n`Math.E` //e   \n`Math.LN10` //10的自然对数  \n`Math.LOG10E` //以10为底e的对数   \n`Math.PI`  //PI  \n`Math.SQRT2` //2的平方根   \n`Math.SQRT1_2`  // 1/2的平方根   \n\n方法：\n`Math.min(Array)`    \n`Math.max(Array)`    \n`Math.ceil(parm)` //向上取整  \n`Math.floor(parm)` //向下取整   \n`Math.round(parm)` //标准的四舍五入   \n`Math.random()`  // 0-1之间的数   \n`Math.abs(parm)` //绝对值\n\n### 八、面向对象的编程方法     \n\n```\n  var person = {\n    name:'xiaomo',\n    age:25，\n    sayHello:function(){\n      console.log(this.name);\n    }\n  }\n```\n\n工厂模式\n\n```\n  function createPerson(name,age,job){\n      var o = new Object();\n      o.name = name;\n      o.age= age;\n      o.job =job;\n      o.sayName=function(){\n        console.log(this.name);\n      }\n      return o;\n  }\n  var person1 = createPerson('xiaomo',25,'programer');\n  var person2 = createPerson('xiaoming',20,'it');\n```\n\n构造函数(不用显式的创建对象，不用返回值，直接把属性赋给this)\n\n```\n  function Person(name,age,job){\n    this.name = name;\n    this.age = age,\n    this.job = job;\n    this.sayName = function(){\n      console.log(this.name);\n    }\n  }\n\nvar person1 = new Person('xiaomo',25,'programer');\nvar person2 = new Person('xiaoming',20,'it');\n```\n\n判断类型 `instanceof`  \n\n```\n  person1 instanceof Object //true\n  person1 instanceof Person //true\n```\n\n原型模式    \n\n```\n  function Person(){}\n  //实际上隐式的创建一个构造函数constructor\n  Person.prototype.name='xiaomo';\n  Person.prototype.age=25;\n  Person.prototype.job='programmer';\n  Person.prototype.sayName=function(){\n    console.log(this.name);\n  }\n\n  //当前也可以这样\n  Person.prototype={\n    name='xiaomo';\n    age=25;\n    job='programmer';\n    sayName=function(){\n      console.log(this.name);\n    }\n  }\n\n  var person1 = new Person();\n  Person.prototype.isPrototypeOf(person1); //true\n  Object.getPrototypeOf(person1.name); //xiaomo\n  person1.hasOwnProperty('name') //false 存在于protoType中，不存在于实例中\n  'name' in person1 //true  虽然实例中没有,但是它的原型链有,所以返回true\n  Object.keys(person1) //会枚举出实例中所有的属性\n```\n\n### 九、定时器和延迟执行\n\n```\n//延迟一秒执行fn函数，只执行一次\n  let timeout = 1000;\n  var fn = function(){\n    console.log('hello');\n  }\n  var timeoutId = setTimeout(fn,timeout)\n  //清除间歇执行函数\n  clearTimeout(timeoutId);\n\n\n  //定时器，每秒执行fn函数，直到清除定时器\n  var timeout = 1000;\n  var fn = function(){\n    console.log('定时器')\n  }\n  var intervalId = setInterval(fn,timout)\n  //清除定时器\n  clearInterval(itervalId);\n```\n\n### 十、BOM(浏览器相关)   \n\n#### 1. 系统对话框\n\n```\n  alert(); //弹出框\n\n  confirm();//确认框\n  if(confirm('are you sure?')){\n    console.log('sure');\n  } else{\n    console.log('I am not sure!');\n  }\n\n  prompt();//交互框\n  var result = promot(\"what's up?\"，'默认值');\n  if(result!=null){\n    alert(result);\n  }\n\n```\n\n#### 2. location对象  \n\n参数\n\n```\nlocation.hash //#contents url的hash值\nlocation.host // ip\nlocation.hostname //域名\nlocation.href //http域名\nlocation.pathname //url的目录\nlocation.port //8080\nlocation.protocool //协议\nlocation.search //?q=search\nlocation.reload() //可能从缓存加载\nlocation.reload(true) //重新加载\n```\n\n#### 3. navigator对象\n 检测浏览器属性    \n\n```\nnavigator.appCodeName //浏览器的名字\nnavigator.appName //完整的浏览器名称\nnavigator.appVersion //浏览器的版本\nnavigator.cookieEnabled //cookie是否启用\nnavigator.javaEnabled() //java是否启用\nnavigator.language //主语言 zh-CH\nnavigator.languages //支持的语言\nnavigator.onLine //浏览器是否连接到了internet\nnavigator.platofrm //浏览器的平台 \"Win32\"\nnavigator.plugins //返回浏览器安装的插件的数组\nfunction hasPlugin(name){\n  name  = name.toLowerCase();\n  for(var i = 0 ; i<navigator.plugins.length;i++){\n    // >-1表示找到了\n    var isTrue = navigator.plugins[i].name.toLowerCase().indexOf(name)>-1;\n    if(isTrue){\n      return true;\n    }\n  }\n  return false ;\n}\n```\n\n#### 4. history对象   \n\n```\n  history.go(-1);//后退一页\n  history.back();\n\n  history.go(1);//前进一页\n  history.forward();\n\n  history.go('xiaomo.info')//跳转到最近访问过的该页面\n  history.length==0 //表示这是用户打开浏览器的第一个页面\n```\n\n### 十一、表单\n\n#### 1. 表单属性\n\n```\n  acceptCharset 服务器能够处理的字符集\n  action 接受请求的url\n  elements 表单所有控件的集合\n  enctype 请求的编码类型\n  length 表单中控件的数量\n  method get/post\n  name 表单的名字\n  reset() 重置\n  submit() 提交\n  target\n```\n\n`document.forms` 可以取到表单的所有控件    \n\n\n#### 2. 控件\n\n```\n  disabled 当前字段是否禁用\n  form 指向当前字段所属表单的指针:只读\n  name 当前字段的名字\n  readOnly 当前字段只读\n  tabIndex tab切换的序号\n  type 当前字段的类型\n  value 当前字段提交给服务器的值\n```\n\n修改控件的值\n\n```\n  var input = document.getElementById('name');\n  name.value='xiaomo'\n  name.focus(); //把焦点设置到当前字段\n  //在控件中加入 autofocus=\"focus\" 是一样的效果\n```\n\n选择文本   \n`element.select()`     \n\n取得选中的文本\n```\n    function alertText(username){\n      var username = document.getElementById('username');\n      alert(getSelectText(username));\n      }\n    function getSelectText(textbox){\n      return textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);\n    }\n\n    // html\n  <input type=\"input\" id=\"username\" value=\"我是测试文本，看一下能不能被选中\">\n  <input type=\"button\" value=\"确定\" onclick=\"alertText()\">\n```\n\n#### 3. 剪贴板事件\n\n```\n  beforecopy\n  copy\n  cut\n  beforepaste\n  paste\n\n  //写一个公用方\n  var EventUtil = {\n\n    getClipboardText:function(event){\n      var clipboardData  = (event.clipboardData || window.clipboardData);\n      return clipboardData.getData('text');\n    }\n\n    setClipboardText:function(event,value){\n      if(event.clipboardData){\n        return event.clipboardData.setData(\"text/plain\",value);\n      } else if (window.clipboardData){\n        return window.clipboardData.setData(\"txt\",value);\n      }\n    }\n\n  }\n\n  EventUtil.addHander(txtbox,\"paste\",function(event)){\n    event  = EventUtil.getEvent(event);\n    var text = EventUtil.getClipboardText(event);\n    if(!/^\\d*$/.test(text)){\n      EventUtil.preventDefault(event);\n    }\n  }\n\n```\n\n[EventUtil](http://www.cnblogs.com/hykun/p/EventUtil.html)\n\n自动切换焦点\n\n```\n  (function(){\n    function tabForward(event){\n      event = EventUtil.getEvent(event);\n      var target = EventUtil.getTarget(event);\n      if(target.value.length = target.maxLength){\n        var form = target.form;\n        for( var i =0; len = form.elements.length;i<len;i++){\n          if(form.elements[i]==target){\n            if(form.elements[i+1]){\n              form.elements[i+1].focus();\n            }\n            return;\n          }\n        }\n      }\n    }\n    var text1 = document.getElementById('text1');\n    var text2 = document.getElementById('text2');\n    var text3 = document.getElementById('text3');\n    EventUtil.addHander(text1,'keyup',tabForward);\n    EventUtil.addHander(text2,'keyup',tabForward\n    EventUtil.addHander(text3,'keyup',tabForward\n    })()\n```\n\n\n#### 4. 下拉框 select   \n\n```\n  add(newOption,relOption) 插入一个option\n  //最佳做法(在列表最后插入一个option)\n  var newOption = new Option(\"text\",\"value\");\n  selectBox.add(newOption,undefined);\n\n  multiple 是否允许多选\n  options 控件中所有options的HTMLCollection\n  remove(index) 移除指定位置的选项\n  //移除指定的选项(这里移除的是第一项)\n  var index = 0\n  selectBox.remove(selectBox.options[index])\n  selectedIndex 基于0的选中项的索引,没有选中项-1\n  size 选择框中可见的行数\n  text 选中项的文本内容\n  value 选项的值\n  //移动一个选项到特定位置(将第2个选项移动到最后一个选项)\n  var optionToMove = selectBox.options[1];\n  selectBox.insertBefore(optionToMove,selectBox.options[optionToMove.index-1])\n  /添加一个选项(把当前列表中的第一个选项添加到当前列表的最后)\n  selectBox.appendChind(selectBox.options[0]);\n```\n\n#### 5. 表单序列化    \n\n原则：   \n对表单字段的名字和值进行url编码,使用&分割    \n不发送禁用的表单字段    \n只发送勾选的单选按钮和复选框   \n不发送type为reset和button的按钮   \n多选框中的每选中的值单独一个条目    \nsubmit的时候,本按钮也会被提交   \nselect发送的时候如果有value就发value的值 没有就发text内容  \n\n`form.serialize()`  \n\n#### 6. 富文本编辑器  \n只要加上`contenteditable`就可以让div可以编辑   \n`<div id=\"richedit\" contenteditable></div>`\n也可以用js控制\n\n```\n  var richedit = document.getElementById('richedit');\n  richedit.contenteditable=\"true\";\n  // true false inherit\n  document.exexCommand(命令,false,值);\n  //document.exexCommand('bold',false,null);\n```\n\n\n### 十二、canvas   \n\n```\n  //定义一个canvas   \n  <canvas id=\"drawing\" width=\"200\" height=\"200\">\n      您的浏览器不支持canvas\n  </canvas>\n  //获取canvas\n  document.getElementById('drawing');\n  if(drawing.getContext){\n    var context = drawing.getContext('2d');\n    context.fillReact(30,30,30,30); //画了一个正方形\n    context.fillStyle='#fff'; //填充\n    context.strokeStyle='red'; //描边\n    // todo\n  }\n```\n\n\n### 十三、html5脚本编程  \n\n```\n  //跨文档消息传送\n  EventUtil.addHander(window,\"message\",function(event){\n      if(event.origin=\"http://www.wrox.com\"){//发送消息的文档所在的域\n        //接受参数\n        processMessage(event.data);\n        //可选:向窗口来源发送回执\n        event.source.postMessage(\"Receiived\",\"http://xiaomo.info\")\n      }\n\n\n    })\n```\n\n\n### 十四、本地存储\n\n#### 1. cookie  \n\n```\nvar CookieUtil = {\n//根据key读取cookie\n    get: function (name){\n         //注意对键编码\n        var cookieName = encodeURIComponent(name) + \"=\",\n            cookieStart = document.cookie.indexOf(cookieName),\n            cookieValue = null,\n            cookieEnd;\n        //找到cookie键\n        if (cookieStart > -1){\n             //键后面第一个分号位置\n            cookieEnd = document.cookie.indexOf(\";\", cookieStart);\n            if (cookieEnd == -1){\n                cookieEnd = document.cookie.length;\n            }\n            //cookie值解码\n            cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));\n        }\n        return cookieValue;\n    },\n    //设置cookie\n    set: function (name, value, expires, path, domain, secure) {\n        var cookieText = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n        //失效时间，GMT时间格式\n        if (expires instanceof Date) {\n            cookieText += \"; expires=\" + expires.toGMTString();\n        }\n        if (path) {\n            cookieText += \"; path=\" + path;\n        }\n        if (domain) {\n            cookieText += \"; domain=\" + domain;\n        }\n        if (secure) {\n            cookieText += \"; secure\";\n        }\n        document.cookie = cookieText;\n    },\n    //删除cookie，保持相同的键、域、路径、安全选项，然后设置失效时间即可\n    unset: function (name, path, domain, secure){\n        this.set(name, \"\", new Date(0), path, domain, secure);\n    }\n};\n```\n\n使用util方法   \n\n```\n  CookieUtil.set('name','xiaomo');\n  CookieUtil.set('age',26);\n\n  console.log(CookieUtil.get('name'));\n  console.log(CookieUtil.get('age'));\n\n  CookieUtil.unset('name');\n  CookieUtil.unset('age');\n```\n\n\n\n#### 2. localStorage  \n\n```\nWindow.localStorage.setItem(key,value);//存储数据\nWindow.localStorage.getItem(key);//读取数据\nWindow.localStorage.removeItem(key);//删除数据项\nWindow.localStorage.clear();//删除所有数据\n```\n","source":"_posts/2016-05-19.javasciprt_syntax.md","raw":"---\nauthor: 小莫\ndate: 2016-05-20\ntitle: javascript学习笔记\ntags:\n- javascript\n- es5\ncategory: javascript\npermalink: JavascriptSyntax\n---\n一直对javscript抱有敬畏的态度，也没有一直深入学习。当学到各种js框架的时候才发现力不从心，感觉到了javascript基础的重要性，重新认真的系统的学习一下。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/javascript.png)](https://github.com/syoubaku)\n### 一、一些不同\n#### 1. javscript没有块级作用域\n于是es6中有了let和var    \n模拟js的块级作用域    \n\n```\n  function outputNumbers(count){\n    (function(){\n      for(var i=0;i<count;i++){\n        console.log(i);\n      }\n      })();\n  }\n  console.log(i) //会报错\n```\n\n#### 2. javascipt中this用法不同\n它指向调用它的那个对象\n#### 3. 闭包是指有权访问另一个函数作用域中的变量的函数。\n\n```\n  function createAFunction(){\n    return function(){\n      return '这是一个闭包';\n    }\n  }\n```\n\n### 二、基本数据类型  \n`undefined`、`null`、`boolean`、`string`、`number` 、`object`、`function`  \n它们有对应的方法\n`Boolean()`、`String()`、`Number()` 、`Object()`  \n\n#### 1. `undefined`   \n没有被定义就会返回`undefined`,是`null`衍生出来的,因些`undefined==null` 返回true\n\n#### 2. `null`   \n由于历史原因 `typeof null`返回`object`\n\n#### 3. `boolean`  \n`Boolean()`   \n非0返回true  \n0、null、undefined返回false\n\n#### 4. `string`   \n`String()`        \n不管传入什么都会原样返回,但如果是`function`,会执行该方法并返回`undefined`    \n`toString(参数,进制)`   \n`toUpperCase()`  \n`toLowerCase()`   \n`substring(parm1,parm2)`     \n`substr()`   \n`charAt(1)`    \n`charCodeAt(2)`    \n`concat()`  \n`slice()`  \n`indexof()`  \n`lastIndexOf`  \n`trim()`  \n`search(pattern)`  //返回索引   \n`replcae('原','新')` //第一个参数支持正则    第二个参数也可以是一个function     \n`splice(',')`    //支持正则，支持指定长度    \n它只有length属性   \n\n#### 5. `number`   \n`Number()`          true=>1 false=>0   null=>0 undefined=>NaN   \n`Number.MAX_VALUE`  最大值    \n`Number.MIN_VALUE`  最小值    \n`NaN`  它是一个特例，不与任何值相等包括自己    \n`parseInt()` //可以查找字符串中的数字并转换   \n`parseFloat()` //可以查找字符串中的数字并转换   \n`inFinite()` //是否在最大值和最小值之间   \n`toFixed(小数点位数)`\n说明：它能够识别科学计数法 比如 2.15e5 => 215000   \n\n#### 6. `object`  \n`constructor`  构造函数   \n`obj.hasOwnProperty()` 是否具有自己的方法  \n`obj.isProtoTypeOf(object)`  检查传入的对象是否是另一个对象的原型   \n`ob.propertyIsEnumerable(propetyName)`  检查给定的属性能否使用for-in\n`obj.toLocaleString()` 返回执行地区对应的对象的字符串 =>['Object']  \n`obj.toString()`    返回执行对象的字符串 =>['Object']    \n`obj.valueOf()`   返回对象序列化之后的结果\n\n\n### 三、运算符\n#### 1. 大于和小于  \n`'23'<'3' `  //true,字符串的比较跟数字的比较不同   \n`'a'<3`   //false a会被转成NaN   \n`特别注意`:NaN和任何数比都是false\n`NaN>3` //false   \n`NaN<3` //false  \n`'23'<3` //false  '23'会被转成23再与3比较\n\n#### 2. 全等和不全等  \n`'55'==55` //true 不全等只判断值不判断类型  \n`'55'===55` //false  全等不仅判断值还判断类型  \n\n### 四、条件控制语句\n```\n  for(proertyName in global){\n    console.log(proertyName)\n  }\n```\n\n### 五、方法  \n注意：javascript和java不同，它没有重载,定义两个方法名相同的方法后面一个会覆盖前面一个。\n\n### 六、检测类型\n\n`typeof xxx`\n// 返回数据类型\n\n### 七、引用类型\n\n#### 1. `object`  \n声明对象的方法  \n`var obj = new Object();`   \n`var obj = {};`\n\n赋值   \n`obj.name='xiaomo';`   \n\n使用对象的属性\n`obj.name`  \n`obj['name']`  \n\n#### 2. `Array`   \n可以存任何类型    \n\n声明\n`var arr = new Array();`   \n`var arr = new Array(3);`   \n`var arr = [];`  \n\n添加对象   \n`arr.push('a',b',1,3,4,true)`   \n操作对象(删除、插入、替换)     \n\n`删除`：起始位置，要删除的个数       \n`arr.splice(起始位置,删除的个数)`     \n例子：`arr.splice(2,1)` //返回[1] 返回删除的那个数   \n\n`插入`：起始位置、要删除的个数(0)、要插入的数,可以是多个,返回空数组    \n`arr.splice(起始位置,删除的个数,参数1,参数2,参数n)`   \n例子:`arr.splice(1,0,'插入的值1','插入的值2','插入的值n')`  \n\n`替换`：起始位置、要删除的项目、要插入的任意项，可以是多个,返回被替换的值  \n`arr.splice(起始位置,删除的个数,参数1,参数2,参数n)`  \n例子:`arr.splice(0,2,'test1','test2') `   \n\n\n其他数组操作\n`arr.push('test')` 插入到数组的最后面   \n`arr.unshift('xiaomo')` 插入到数组的最前面   \n`arr.pop()`   //删除数组的最后一个值   \n`arr.shift()` //删除数组第一个值\n\n使用对象   \n`arr[1]`   \n\n数组自带的方法\n`arr.reverse();`   反转数组\n`arr.sort()`   默认升序排列\n`arr.sort((a,b)=>{reutrn b-a})`  传入排序方法会按照自定义排序   \n`arr.concat(另一个数组或者单个参数)`  如果传入数组也会被展开拿出来,不会影响原数组   \n`arr.slice(0,3)`  会把选定的部分截取出来生成一个新的数组，不会影响原数组     \n`arr.indexOf(4)`   返回该值存在的下标,不存在返回-1   \n`arr.lastIndexOf(4)` 从倒数开始查找,返回该值存在的下标,不存在返回-1\n`arr.every(fn)`   对每个参数进行处理，全部符合返回true   \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item>2\n}\n```\n`arr.some(fn)`   对每个参数进行处理，有一个符合就返回true  \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item>2\n}\n```\n`arr.filter(fn)` 对每个参数进行处理，返回过滤后的数组   \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item>2\n}\n```\n`arr.map(fn)`    对每个参数进行处理，返回处理后的数组  \n```\nfn=(item,index,array){//当前值、索引、该数组\n  return item*2\n}\n```\n`arr.forEach(fn)`  对每个参数进行处理，没有返回值\n`arr.reduce(fn)`    对每个参数进行处理，迭代返回最终结果    \n```\nfn=(prev,cur,index,array){//前一个值、当前值、索引、数组\n  return prev+cur\n}\n```\n`arr.reduceRight(fn)`  从右边对每个参数进行处理，迭代返回最终结果   \n```\nfn=(prev,cur,index,array){//前一个值、当前值、索引、数组\n  return prev+cur\n}\n```\n\n#### 3. Date类型    \n声明:   \n`var date = new Date();`  创建当前时间 也可以接收参数     \n`Date.parse(pattern)`    //   6/13/2016  May 25,2016  或者 yyyy-MM-dd hh:mm:ss格式的  返回时间戳   \n`new Date(Date.parse(pattern))`   //   将时间戳格式化为正常的时间    \n`new Date(2016,5,19,20,49,15)`  //也可以用逗号 2016-05-19 20:49:15\n`Date.now()`  //当前时间的时间戳    \n`toDateString()` //返回时间的字符串 星期、日、月、年   \n`toTimeString()` //时、分、秒、时区  \n`toLocaleDateString()`   特定时区的星期、日、月、年\n`toLocaleTimeString()`   特定时区的时、分、秒、时间    \n\n时间格式   \n```\nvar date = new Date();\nvar time = date.getTime() //当前时间的时间戳\nvar fullYear = date.getFullYear(); //2016\nvar year = date.getYear();   //116  \nvar month = date.getMonth(); //04 从0开始\nvar d = date.getDate(); //日  19\nvar day = date.getDay();  //4 返回星期几\nvar min = date.getMinitues(); //0\nvar sec = date.getSeconds() //秒\nvar mill = date.getMilliSeconds() //毫秒\n```\n\n#### 4. 正则 RegExp类型   \n\n```\nvar re = new RegExp('pattern');\nre.test(parm);\n\n// exec 返回匹配的结果\nvar test = 'abcdef.js';\nvar pattern = /\\.js$/\nvar matches = parrten.exec(test);\nconsole.log(matches); // '.js' ,index:6 input:'abcdef.js'\n\n//test 返回true/false\nvar text = 'abcdef.js';\nvar pattern = /\\.js$/\npattern.test(text); // true\n```\n\n#### 5. 方法　function     \n方法没有重载,如果是同名,不管参数个数是不是相同,后面定义的方法都会覆盖前面的方法  \n每个方法都包含两个属性:`length`(参数个数)和`protoType`(原型链)   \n```\n  function test(a,b){\n    return a+b;\n  }\n  function test(a){\n    return a;\n  }\n  test(1)    //1\n  test(1,2)  //1\n```\n你可以不按正常顺序执行方法,因为在执行的时候 function都会被提前    \n```\ntest();\nfunction test(){\n  console.log('这是一个方法');\n}\n```\n\n但如果是立即执行的函数则不行\n\n```\n(\n  function test(){\n\n  }()\n  )\n```\n\n方法有两个特殊的内部属性和两个非继承来的方法 `call()`、`apply()`,以及其他方法 `toString()、valueOf()`    \n`arguments`和`this`   \n`arguments`是类数组,保存着参数。它有`arguments.callee()`方法   \n```\n  function factorial(num){\n      if(num<=1){\n        return 1;\n      } else {\n        return num * arguments.callee(num-1);\n      }\n  }\n\n  factorial(5); // 5! 1*2*3*4*5\n\n```\n\n`this`在javascript中用法比较特殊,它指向它的调用者\n\n```\nvar color='green';\nfunction sayColor(){\n    console.log(this.color);\n  }\nvar o = {\n  color='pink';\n}\no.sayColor(); //pink\nsayColor(); //green\n```\n\n`protoType` 原型链    \n\n```\n  function sum (num1,num2){\n    return num1+num2;\n  }\n  // call 参数1:运行函数的作用域 参数2 agruments或者Array\n  function callSum1(num1,num2){\n    return sum.apply(this,arguments);\n  }\n  function callSum2(num1,num2){\n    return sum.apply(this,[num1,num2])\n  }\n  // apply 参数1：运行函数的作用域 其他参数:就是把apply中的数组拆开\n  function callSum2(num1,num2){\n    return sum.apply(this,num1,num2)\n  }\n```\n\n`encodeURIComponent()` //encode字符串          \n`decodeURICopmonent()` //decode字符串   \n`eval(express)` //解析字符串表达式   \n`eval(\"console.log('我是被解析的表达式')\")`   \n\n#### 6. `Math`    \n`Math.E` //e   \n`Math.LN10` //10的自然对数  \n`Math.LOG10E` //以10为底e的对数   \n`Math.PI`  //PI  \n`Math.SQRT2` //2的平方根   \n`Math.SQRT1_2`  // 1/2的平方根   \n\n方法：\n`Math.min(Array)`    \n`Math.max(Array)`    \n`Math.ceil(parm)` //向上取整  \n`Math.floor(parm)` //向下取整   \n`Math.round(parm)` //标准的四舍五入   \n`Math.random()`  // 0-1之间的数   \n`Math.abs(parm)` //绝对值\n\n### 八、面向对象的编程方法     \n\n```\n  var person = {\n    name:'xiaomo',\n    age:25，\n    sayHello:function(){\n      console.log(this.name);\n    }\n  }\n```\n\n工厂模式\n\n```\n  function createPerson(name,age,job){\n      var o = new Object();\n      o.name = name;\n      o.age= age;\n      o.job =job;\n      o.sayName=function(){\n        console.log(this.name);\n      }\n      return o;\n  }\n  var person1 = createPerson('xiaomo',25,'programer');\n  var person2 = createPerson('xiaoming',20,'it');\n```\n\n构造函数(不用显式的创建对象，不用返回值，直接把属性赋给this)\n\n```\n  function Person(name,age,job){\n    this.name = name;\n    this.age = age,\n    this.job = job;\n    this.sayName = function(){\n      console.log(this.name);\n    }\n  }\n\nvar person1 = new Person('xiaomo',25,'programer');\nvar person2 = new Person('xiaoming',20,'it');\n```\n\n判断类型 `instanceof`  \n\n```\n  person1 instanceof Object //true\n  person1 instanceof Person //true\n```\n\n原型模式    \n\n```\n  function Person(){}\n  //实际上隐式的创建一个构造函数constructor\n  Person.prototype.name='xiaomo';\n  Person.prototype.age=25;\n  Person.prototype.job='programmer';\n  Person.prototype.sayName=function(){\n    console.log(this.name);\n  }\n\n  //当前也可以这样\n  Person.prototype={\n    name='xiaomo';\n    age=25;\n    job='programmer';\n    sayName=function(){\n      console.log(this.name);\n    }\n  }\n\n  var person1 = new Person();\n  Person.prototype.isPrototypeOf(person1); //true\n  Object.getPrototypeOf(person1.name); //xiaomo\n  person1.hasOwnProperty('name') //false 存在于protoType中，不存在于实例中\n  'name' in person1 //true  虽然实例中没有,但是它的原型链有,所以返回true\n  Object.keys(person1) //会枚举出实例中所有的属性\n```\n\n### 九、定时器和延迟执行\n\n```\n//延迟一秒执行fn函数，只执行一次\n  let timeout = 1000;\n  var fn = function(){\n    console.log('hello');\n  }\n  var timeoutId = setTimeout(fn,timeout)\n  //清除间歇执行函数\n  clearTimeout(timeoutId);\n\n\n  //定时器，每秒执行fn函数，直到清除定时器\n  var timeout = 1000;\n  var fn = function(){\n    console.log('定时器')\n  }\n  var intervalId = setInterval(fn,timout)\n  //清除定时器\n  clearInterval(itervalId);\n```\n\n### 十、BOM(浏览器相关)   \n\n#### 1. 系统对话框\n\n```\n  alert(); //弹出框\n\n  confirm();//确认框\n  if(confirm('are you sure?')){\n    console.log('sure');\n  } else{\n    console.log('I am not sure!');\n  }\n\n  prompt();//交互框\n  var result = promot(\"what's up?\"，'默认值');\n  if(result!=null){\n    alert(result);\n  }\n\n```\n\n#### 2. location对象  \n\n参数\n\n```\nlocation.hash //#contents url的hash值\nlocation.host // ip\nlocation.hostname //域名\nlocation.href //http域名\nlocation.pathname //url的目录\nlocation.port //8080\nlocation.protocool //协议\nlocation.search //?q=search\nlocation.reload() //可能从缓存加载\nlocation.reload(true) //重新加载\n```\n\n#### 3. navigator对象\n 检测浏览器属性    \n\n```\nnavigator.appCodeName //浏览器的名字\nnavigator.appName //完整的浏览器名称\nnavigator.appVersion //浏览器的版本\nnavigator.cookieEnabled //cookie是否启用\nnavigator.javaEnabled() //java是否启用\nnavigator.language //主语言 zh-CH\nnavigator.languages //支持的语言\nnavigator.onLine //浏览器是否连接到了internet\nnavigator.platofrm //浏览器的平台 \"Win32\"\nnavigator.plugins //返回浏览器安装的插件的数组\nfunction hasPlugin(name){\n  name  = name.toLowerCase();\n  for(var i = 0 ; i<navigator.plugins.length;i++){\n    // >-1表示找到了\n    var isTrue = navigator.plugins[i].name.toLowerCase().indexOf(name)>-1;\n    if(isTrue){\n      return true;\n    }\n  }\n  return false ;\n}\n```\n\n#### 4. history对象   \n\n```\n  history.go(-1);//后退一页\n  history.back();\n\n  history.go(1);//前进一页\n  history.forward();\n\n  history.go('xiaomo.info')//跳转到最近访问过的该页面\n  history.length==0 //表示这是用户打开浏览器的第一个页面\n```\n\n### 十一、表单\n\n#### 1. 表单属性\n\n```\n  acceptCharset 服务器能够处理的字符集\n  action 接受请求的url\n  elements 表单所有控件的集合\n  enctype 请求的编码类型\n  length 表单中控件的数量\n  method get/post\n  name 表单的名字\n  reset() 重置\n  submit() 提交\n  target\n```\n\n`document.forms` 可以取到表单的所有控件    \n\n\n#### 2. 控件\n\n```\n  disabled 当前字段是否禁用\n  form 指向当前字段所属表单的指针:只读\n  name 当前字段的名字\n  readOnly 当前字段只读\n  tabIndex tab切换的序号\n  type 当前字段的类型\n  value 当前字段提交给服务器的值\n```\n\n修改控件的值\n\n```\n  var input = document.getElementById('name');\n  name.value='xiaomo'\n  name.focus(); //把焦点设置到当前字段\n  //在控件中加入 autofocus=\"focus\" 是一样的效果\n```\n\n选择文本   \n`element.select()`     \n\n取得选中的文本\n```\n    function alertText(username){\n      var username = document.getElementById('username');\n      alert(getSelectText(username));\n      }\n    function getSelectText(textbox){\n      return textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);\n    }\n\n    // html\n  <input type=\"input\" id=\"username\" value=\"我是测试文本，看一下能不能被选中\">\n  <input type=\"button\" value=\"确定\" onclick=\"alertText()\">\n```\n\n#### 3. 剪贴板事件\n\n```\n  beforecopy\n  copy\n  cut\n  beforepaste\n  paste\n\n  //写一个公用方\n  var EventUtil = {\n\n    getClipboardText:function(event){\n      var clipboardData  = (event.clipboardData || window.clipboardData);\n      return clipboardData.getData('text');\n    }\n\n    setClipboardText:function(event,value){\n      if(event.clipboardData){\n        return event.clipboardData.setData(\"text/plain\",value);\n      } else if (window.clipboardData){\n        return window.clipboardData.setData(\"txt\",value);\n      }\n    }\n\n  }\n\n  EventUtil.addHander(txtbox,\"paste\",function(event)){\n    event  = EventUtil.getEvent(event);\n    var text = EventUtil.getClipboardText(event);\n    if(!/^\\d*$/.test(text)){\n      EventUtil.preventDefault(event);\n    }\n  }\n\n```\n\n[EventUtil](http://www.cnblogs.com/hykun/p/EventUtil.html)\n\n自动切换焦点\n\n```\n  (function(){\n    function tabForward(event){\n      event = EventUtil.getEvent(event);\n      var target = EventUtil.getTarget(event);\n      if(target.value.length = target.maxLength){\n        var form = target.form;\n        for( var i =0; len = form.elements.length;i<len;i++){\n          if(form.elements[i]==target){\n            if(form.elements[i+1]){\n              form.elements[i+1].focus();\n            }\n            return;\n          }\n        }\n      }\n    }\n    var text1 = document.getElementById('text1');\n    var text2 = document.getElementById('text2');\n    var text3 = document.getElementById('text3');\n    EventUtil.addHander(text1,'keyup',tabForward);\n    EventUtil.addHander(text2,'keyup',tabForward\n    EventUtil.addHander(text3,'keyup',tabForward\n    })()\n```\n\n\n#### 4. 下拉框 select   \n\n```\n  add(newOption,relOption) 插入一个option\n  //最佳做法(在列表最后插入一个option)\n  var newOption = new Option(\"text\",\"value\");\n  selectBox.add(newOption,undefined);\n\n  multiple 是否允许多选\n  options 控件中所有options的HTMLCollection\n  remove(index) 移除指定位置的选项\n  //移除指定的选项(这里移除的是第一项)\n  var index = 0\n  selectBox.remove(selectBox.options[index])\n  selectedIndex 基于0的选中项的索引,没有选中项-1\n  size 选择框中可见的行数\n  text 选中项的文本内容\n  value 选项的值\n  //移动一个选项到特定位置(将第2个选项移动到最后一个选项)\n  var optionToMove = selectBox.options[1];\n  selectBox.insertBefore(optionToMove,selectBox.options[optionToMove.index-1])\n  /添加一个选项(把当前列表中的第一个选项添加到当前列表的最后)\n  selectBox.appendChind(selectBox.options[0]);\n```\n\n#### 5. 表单序列化    \n\n原则：   \n对表单字段的名字和值进行url编码,使用&分割    \n不发送禁用的表单字段    \n只发送勾选的单选按钮和复选框   \n不发送type为reset和button的按钮   \n多选框中的每选中的值单独一个条目    \nsubmit的时候,本按钮也会被提交   \nselect发送的时候如果有value就发value的值 没有就发text内容  \n\n`form.serialize()`  \n\n#### 6. 富文本编辑器  \n只要加上`contenteditable`就可以让div可以编辑   \n`<div id=\"richedit\" contenteditable></div>`\n也可以用js控制\n\n```\n  var richedit = document.getElementById('richedit');\n  richedit.contenteditable=\"true\";\n  // true false inherit\n  document.exexCommand(命令,false,值);\n  //document.exexCommand('bold',false,null);\n```\n\n\n### 十二、canvas   \n\n```\n  //定义一个canvas   \n  <canvas id=\"drawing\" width=\"200\" height=\"200\">\n      您的浏览器不支持canvas\n  </canvas>\n  //获取canvas\n  document.getElementById('drawing');\n  if(drawing.getContext){\n    var context = drawing.getContext('2d');\n    context.fillReact(30,30,30,30); //画了一个正方形\n    context.fillStyle='#fff'; //填充\n    context.strokeStyle='red'; //描边\n    // todo\n  }\n```\n\n\n### 十三、html5脚本编程  \n\n```\n  //跨文档消息传送\n  EventUtil.addHander(window,\"message\",function(event){\n      if(event.origin=\"http://www.wrox.com\"){//发送消息的文档所在的域\n        //接受参数\n        processMessage(event.data);\n        //可选:向窗口来源发送回执\n        event.source.postMessage(\"Receiived\",\"http://xiaomo.info\")\n      }\n\n\n    })\n```\n\n\n### 十四、本地存储\n\n#### 1. cookie  \n\n```\nvar CookieUtil = {\n//根据key读取cookie\n    get: function (name){\n         //注意对键编码\n        var cookieName = encodeURIComponent(name) + \"=\",\n            cookieStart = document.cookie.indexOf(cookieName),\n            cookieValue = null,\n            cookieEnd;\n        //找到cookie键\n        if (cookieStart > -1){\n             //键后面第一个分号位置\n            cookieEnd = document.cookie.indexOf(\";\", cookieStart);\n            if (cookieEnd == -1){\n                cookieEnd = document.cookie.length;\n            }\n            //cookie值解码\n            cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));\n        }\n        return cookieValue;\n    },\n    //设置cookie\n    set: function (name, value, expires, path, domain, secure) {\n        var cookieText = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\n        //失效时间，GMT时间格式\n        if (expires instanceof Date) {\n            cookieText += \"; expires=\" + expires.toGMTString();\n        }\n        if (path) {\n            cookieText += \"; path=\" + path;\n        }\n        if (domain) {\n            cookieText += \"; domain=\" + domain;\n        }\n        if (secure) {\n            cookieText += \"; secure\";\n        }\n        document.cookie = cookieText;\n    },\n    //删除cookie，保持相同的键、域、路径、安全选项，然后设置失效时间即可\n    unset: function (name, path, domain, secure){\n        this.set(name, \"\", new Date(0), path, domain, secure);\n    }\n};\n```\n\n使用util方法   \n\n```\n  CookieUtil.set('name','xiaomo');\n  CookieUtil.set('age',26);\n\n  console.log(CookieUtil.get('name'));\n  console.log(CookieUtil.get('age'));\n\n  CookieUtil.unset('name');\n  CookieUtil.unset('age');\n```\n\n\n\n#### 2. localStorage  \n\n```\nWindow.localStorage.setItem(key,value);//存储数据\nWindow.localStorage.getItem(key);//读取数据\nWindow.localStorage.removeItem(key);//删除数据项\nWindow.localStorage.clear();//删除所有数据\n```\n","slug":"JavascriptSyntax","published":1,"updated":"2016-12-01T06:50:25.711Z","_id":"civ0ggq72001irwvn7vztr5yj","comments":1,"layout":"post","photos":[],"link":"","content":"<p>一直对javscript抱有敬畏的态度，也没有一直深入学习。当学到各种js框架的时候才发现力不从心，感觉到了javascript基础的重要性，重新认真的系统的学习一下。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/javascript.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、一些不同\"><a href=\"#一、一些不同\" class=\"headerlink\" title=\"一、一些不同\"></a>一、一些不同</h3><h4 id=\"1-javscript没有块级作用域\"><a href=\"#1-javscript没有块级作用域\" class=\"headerlink\" title=\"1. javscript没有块级作用域\"></a>1. javscript没有块级作用域</h4><p>于是es6中有了let和var<br>模拟js的块级作用域    </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">outputNumbers</span>(<span class=\"params\">count</span>)</span>&#123;</div><div class=\"line\">  (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;count;i++)&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">    &#125;</div><div class=\"line\">    &#125;)();</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"built_in\">console</span>.log(i) <span class=\"comment\">//会报错</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-javascipt中this用法不同\"><a href=\"#2-javascipt中this用法不同\" class=\"headerlink\" title=\"2. javascipt中this用法不同\"></a>2. javascipt中this用法不同</h4><p>它指向调用它的那个对象</p>\n<h4 id=\"3-闭包是指有权访问另一个函数作用域中的变量的函数。\"><a href=\"#3-闭包是指有权访问另一个函数作用域中的变量的函数。\" class=\"headerlink\" title=\"3. 闭包是指有权访问另一个函数作用域中的变量的函数。\"></a>3. 闭包是指有权访问另一个函数作用域中的变量的函数。</h4><figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createAFunction</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'这是一个闭包'</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、基本数据类型\"><a href=\"#二、基本数据类型\" class=\"headerlink\" title=\"二、基本数据类型\"></a>二、基本数据类型</h3><p><code>undefined</code>、<code>null</code>、<code>boolean</code>、<code>string</code>、<code>number</code> 、<code>object</code>、<code>function</code><br>它们有对应的方法<br><code>Boolean()</code>、<code>String()</code>、<code>Number()</code> 、<code>Object()</code>  </p>\n<h4 id=\"1-undefined\"><a href=\"#1-undefined\" class=\"headerlink\" title=\"1. undefined\"></a>1. <code>undefined</code></h4><p>没有被定义就会返回<code>undefined</code>,是<code>null</code>衍生出来的,因些<code>undefined==null</code> 返回true</p>\n<h4 id=\"2-null\"><a href=\"#2-null\" class=\"headerlink\" title=\"2. null\"></a>2. <code>null</code></h4><p>由于历史原因 <code>typeof null</code>返回<code>object</code></p>\n<h4 id=\"3-boolean\"><a href=\"#3-boolean\" class=\"headerlink\" title=\"3. boolean\"></a>3. <code>boolean</code></h4><p><code>Boolean()</code><br>非0返回true<br>0、null、undefined返回false</p>\n<h4 id=\"4-string\"><a href=\"#4-string\" class=\"headerlink\" title=\"4. string\"></a>4. <code>string</code></h4><p><code>String()</code><br>不管传入什么都会原样返回,但如果是<code>function</code>,会执行该方法并返回<code>undefined</code><br><code>toString(参数,进制)</code><br><code>toUpperCase()</code><br><code>toLowerCase()</code><br><code>substring(parm1,parm2)</code><br><code>substr()</code><br><code>charAt(1)</code><br><code>charCodeAt(2)</code><br><code>concat()</code><br><code>slice()</code><br><code>indexof()</code><br><code>lastIndexOf</code><br><code>trim()</code><br><code>search(pattern)</code>  //返回索引<br><code>replcae(&#39;原&#39;,&#39;新&#39;)</code> //第一个参数支持正则    第二个参数也可以是一个function<br><code>splice(&#39;,&#39;)</code>    //支持正则，支持指定长度<br>它只有length属性   </p>\n<h4 id=\"5-number\"><a href=\"#5-number\" class=\"headerlink\" title=\"5. number\"></a>5. <code>number</code></h4><p><code>Number()</code>          true=&gt;1 false=&gt;0   null=&gt;0 undefined=&gt;NaN<br><code>Number.MAX_VALUE</code>  最大值<br><code>Number.MIN_VALUE</code>  最小值<br><code>NaN</code>  它是一个特例，不与任何值相等包括自己<br><code>parseInt()</code> //可以查找字符串中的数字并转换<br><code>parseFloat()</code> //可以查找字符串中的数字并转换<br><code>inFinite()</code> //是否在最大值和最小值之间<br><code>toFixed(小数点位数)</code><br>说明：它能够识别科学计数法 比如 2.15e5 =&gt; 215000   </p>\n<h4 id=\"6-object\"><a href=\"#6-object\" class=\"headerlink\" title=\"6. object\"></a>6. <code>object</code></h4><p><code>constructor</code>  构造函数<br><code>obj.hasOwnProperty()</code> 是否具有自己的方法<br><code>obj.isProtoTypeOf(object)</code>  检查传入的对象是否是另一个对象的原型<br><code>ob.propertyIsEnumerable(propetyName)</code>  检查给定的属性能否使用for-in<br><code>obj.toLocaleString()</code> 返回执行地区对应的对象的字符串 =&gt;[‘Object’]<br><code>obj.toString()</code>    返回执行对象的字符串 =&gt;[‘Object’]<br><code>obj.valueOf()</code>   返回对象序列化之后的结果</p>\n<h3 id=\"三、运算符\"><a href=\"#三、运算符\" class=\"headerlink\" title=\"三、运算符\"></a>三、运算符</h3><h4 id=\"1-大于和小于\"><a href=\"#1-大于和小于\" class=\"headerlink\" title=\"1. 大于和小于\"></a>1. 大于和小于</h4><p><code>&#39;23&#39;&lt;&#39;3&#39;</code>  //true,字符串的比较跟数字的比较不同<br><code>&#39;a&#39;&lt;3</code>   //false a会被转成NaN<br><code>特别注意</code>:NaN和任何数比都是false<br><code>NaN&gt;3</code> //false<br><code>NaN&lt;3</code> //false<br><code>&#39;23&#39;&lt;3</code> //false  ‘23’会被转成23再与3比较</p>\n<h4 id=\"2-全等和不全等\"><a href=\"#2-全等和不全等\" class=\"headerlink\" title=\"2. 全等和不全等\"></a>2. 全等和不全等</h4><p><code>&#39;55&#39;==55</code> //true 不全等只判断值不判断类型<br><code>&#39;55&#39;===55</code> //false  全等不仅判断值还判断类型  </p>\n<h3 id=\"四、条件控制语句\"><a href=\"#四、条件控制语句\" class=\"headerlink\" title=\"四、条件控制语句\"></a>四、条件控制语句</h3><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">for</span>(proertyName <span class=\"keyword\">in</span> <span class=\"keyword\">global</span>)&#123;</div><div class=\"line\">  console.<span class=\"built_in\">log</span>(proertyName)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"五、方法\"><a href=\"#五、方法\" class=\"headerlink\" title=\"五、方法\"></a>五、方法</h3><p>注意：javascript和java不同，它没有重载,定义两个方法名相同的方法后面一个会覆盖前面一个。</p>\n<h3 id=\"六、检测类型\"><a href=\"#六、检测类型\" class=\"headerlink\" title=\"六、检测类型\"></a>六、检测类型</h3><p><code>typeof xxx</code><br>// 返回数据类型</p>\n<h3 id=\"七、引用类型\"><a href=\"#七、引用类型\" class=\"headerlink\" title=\"七、引用类型\"></a>七、引用类型</h3><h4 id=\"1-object\"><a href=\"#1-object\" class=\"headerlink\" title=\"1. object\"></a>1. <code>object</code></h4><p>声明对象的方法<br><code>var obj = new Object();</code><br><code>var obj = {};</code></p>\n<p>赋值<br><code>obj.name=&#39;xiaomo&#39;;</code>   </p>\n<p>使用对象的属性<br><code>obj.name</code><br><code>obj[&#39;name&#39;]</code>  </p>\n<h4 id=\"2-Array\"><a href=\"#2-Array\" class=\"headerlink\" title=\"2. Array\"></a>2. <code>Array</code></h4><p>可以存任何类型    </p>\n<p>声明<br><code>var arr = new Array();</code><br><code>var arr = new Array(3);</code><br><code>var arr = [];</code>  </p>\n<p>添加对象<br><code>arr.push(&#39;a&#39;,b&#39;,1,3,4,true)</code><br>操作对象(删除、插入、替换)     </p>\n<p><code>删除</code>：起始位置，要删除的个数<br><code>arr.splice(起始位置,删除的个数)</code><br>例子：<code>arr.splice(2,1)</code> //返回[1] 返回删除的那个数   </p>\n<p><code>插入</code>：起始位置、要删除的个数(0)、要插入的数,可以是多个,返回空数组<br><code>arr.splice(起始位置,删除的个数,参数1,参数2,参数n)</code><br>例子:<code>arr.splice(1,0,&#39;插入的值1&#39;,&#39;插入的值2&#39;,&#39;插入的值n&#39;)</code>  </p>\n<p><code>替换</code>：起始位置、要删除的项目、要插入的任意项，可以是多个,返回被替换的值<br><code>arr.splice(起始位置,删除的个数,参数1,参数2,参数n)</code><br>例子:<code>arr.splice(0,2,&#39;test1&#39;,&#39;test2&#39;)</code>   </p>\n<p>其他数组操作<br><code>arr.push(&#39;test&#39;)</code> 插入到数组的最后面<br><code>arr.unshift(&#39;xiaomo&#39;)</code> 插入到数组的最前面<br><code>arr.pop()</code>   //删除数组的最后一个值<br><code>arr.shift()</code> //删除数组第一个值</p>\n<p>使用对象<br><code>arr[1]</code>   </p>\n<p>数组自带的方法<br><code>arr.reverse();</code>   反转数组<br><code>arr.sort()</code>   默认升序排列<br><code>arr.sort((a,b)=&gt;{reutrn b-a})</code>  传入排序方法会按照自定义排序<br><code>arr.concat(另一个数组或者单个参数)</code>  如果传入数组也会被展开拿出来,不会影响原数组<br><code>arr.slice(0,3)</code>  会把选定的部分截取出来生成一个新的数组，不会影响原数组<br><code>arr.indexOf(4)</code>   返回该值存在的下标,不存在返回-1<br><code>arr.lastIndexOf(4)</code> 从倒数开始查找,返回该值存在的下标,不存在返回-1<br><code>arr.every(fn)</code>   对每个参数进行处理，全部符合返回true<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>&gt;<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.some(fn)</code>   对每个参数进行处理，有一个符合就返回true<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>&gt;<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.filter(fn)</code> 对每个参数进行处理，返回过滤后的数组<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>&gt;<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.map(fn)</code>    对每个参数进行处理，返回处理后的数组<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>*<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.forEach(fn)</code>  对每个参数进行处理，没有返回值<br><code>arr.reduce(fn)</code>    对每个参数进行处理，迭代返回最终结果<br><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">fn</span>=</span>(prev,cur,index,array)&#123;<span class=\"comment\">//前一个值、当前值、索引、数组</span></div><div class=\"line\">  <span class=\"keyword\">return</span> prev+cur</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.reduceRight(fn)</code>  从右边对每个参数进行处理，迭代返回最终结果<br><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">fn</span>=</span>(prev,cur,index,array)&#123;<span class=\"comment\">//前一个值、当前值、索引、数组</span></div><div class=\"line\">  <span class=\"keyword\">return</span> prev+cur</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"3-Date类型\"><a href=\"#3-Date类型\" class=\"headerlink\" title=\"3. Date类型\"></a>3. Date类型</h4><p>声明:<br><code>var date = new Date();</code>  创建当前时间 也可以接收参数<br><code>Date.parse(pattern)</code>    //   6/13/2016  May 25,2016  或者 yyyy-MM-dd hh:mm:ss格式的  返回时间戳<br><code>new Date(Date.parse(pattern))</code>   //   将时间戳格式化为正常的时间<br><code>new Date(2016,5,19,20,49,15)</code>  //也可以用逗号 2016-05-19 20:49:15<br><code>Date.now()</code>  //当前时间的时间戳<br><code>toDateString()</code> //返回时间的字符串 星期、日、月、年<br><code>toTimeString()</code> //时、分、秒、时区<br><code>toLocaleDateString()</code>   特定时区的星期、日、月、年<br><code>toLocaleTimeString()</code>   特定时区的时、分、秒、时间    </p>\n<p>时间格式<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"built_in\">date</span> = <span class=\"literal\">new</span> <span class=\"built_in\">Date</span>();</div><div class=\"line\"><span class=\"built_in\">var</span> time = <span class=\"built_in\">date</span>.getTime() <span class=\"comment\">//当前时间的时间戳</span></div><div class=\"line\"><span class=\"built_in\">var</span> fullYear = <span class=\"built_in\">date</span>.getFullYear(); <span class=\"comment\">//2016</span></div><div class=\"line\"><span class=\"built_in\">var</span> year = <span class=\"built_in\">date</span>.getYear();   <span class=\"comment\">//116  </span></div><div class=\"line\"><span class=\"built_in\">var</span> month = <span class=\"built_in\">date</span>.getMonth(); <span class=\"comment\">//04 从0开始</span></div><div class=\"line\"><span class=\"built_in\">var</span> d = <span class=\"built_in\">date</span>.getDate(); <span class=\"comment\">//日  19</span></div><div class=\"line\"><span class=\"built_in\">var</span> day = <span class=\"built_in\">date</span>.getDay();  <span class=\"comment\">//4 返回星期几</span></div><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"keyword\">min</span> = <span class=\"built_in\">date</span>.getMinitues(); <span class=\"comment\">//0</span></div><div class=\"line\"><span class=\"built_in\">var</span> sec = <span class=\"built_in\">date</span>.getSeconds() <span class=\"comment\">//秒</span></div><div class=\"line\"><span class=\"built_in\">var</span> mill = <span class=\"built_in\">date</span>.getMilliSeconds() <span class=\"comment\">//毫秒</span></div></pre></td></tr></table></figure></p>\n<h4 id=\"4-正则-RegExp类型\"><a href=\"#4-正则-RegExp类型\" class=\"headerlink\" title=\"4. 正则 RegExp类型\"></a>4. 正则 RegExp类型</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">'pattern'</span>);</div><div class=\"line\">re.test(parm);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// exec 返回匹配的结果</span></div><div class=\"line\"><span class=\"keyword\">var</span> test = <span class=\"string\">'abcdef.js'</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\.js$/</span></div><div class=\"line\"><span class=\"keyword\">var</span> matches = parrten.exec(test);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(matches); <span class=\"comment\">// '.js' ,index:6 input:'abcdef.js'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//test 返回true/false</span></div><div class=\"line\"><span class=\"keyword\">var</span> text = <span class=\"string\">'abcdef.js'</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\.js$/</span></div><div class=\"line\">pattern.test(text); <span class=\"comment\">// true</span></div></pre></td></tr></table></figure>\n<h4 id=\"5-方法-function\"><a href=\"#5-方法-function\" class=\"headerlink\" title=\"5. 方法　function\"></a>5. 方法　function</h4><p>方法没有重载,如果是同名,不管参数个数是不是相同,后面定义的方法都会覆盖前面的方法<br>每个方法都包含两个属性:<code>length</code>(参数个数)和<code>protoType</code>(原型链)<br><figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span><span class=\"params\">(a,b)</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> a+b;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span><span class=\"params\">(a)</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> a;</div><div class=\"line\">&#125;</div><div class=\"line\">test(<span class=\"number\">1</span>)    <span class=\"comment\">//1</span></div><div class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">2</span>)  <span class=\"comment\">//1</span></div></pre></td></tr></table></figure></p>\n<p>你可以不按正常顺序执行方法,因为在执行的时候 function都会被提前<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">test();</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'这是一个方法'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>但如果是立即执行的函数则不行</p>\n<figure class=\"highlight clojure\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">(</div><div class=\"line\">  function test()&#123;</div><div class=\"line\"></div><div class=\"line\">  &#125;()</div><div class=\"line\">  )</div></pre></td></tr></table></figure>\n<p>方法有两个特殊的内部属性和两个非继承来的方法 <code>call()</code>、<code>apply()</code>,以及其他方法 <code>toString()、valueOf()</code><br><code>arguments</code>和<code>this</code><br><code>arguments</code>是类数组,保存着参数。它有<code>arguments.callee()</code>方法<br><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">function <span class=\"built_in\">factorial</span>(<span class=\"built_in\">num</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"built_in\">num</span>&lt;=<span class=\"number\">1</span>)&#123;</div><div class=\"line\">      <span class=\"built_in\">return</span> <span class=\"number\">1</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">      <span class=\"built_in\">return</span> <span class=\"built_in\">num</span> * arguments.callee(<span class=\"built_in\">num</span>-<span class=\"number\">1</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">factorial</span>(<span class=\"number\">5</span>); // <span class=\"number\">5</span>! <span class=\"number\">1</span>*<span class=\"number\">2</span>*<span class=\"number\">3</span>*<span class=\"number\">4</span>*<span class=\"number\">5</span></div></pre></td></tr></table></figure></p>\n<p><code>this</code>在javascript中用法比较特殊,它指向它的调用者</p>\n<figure class=\"highlight qml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"built_in\">color</span>=<span class=\"string\">'green'</span>;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayColor</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.color);</div><div class=\"line\">  &#125;</div><div class=\"line\"><span class=\"built_in\">var</span> o = &#123;</div><div class=\"line\">  <span class=\"built_in\">color</span>=<span class=\"string\">'pink'</span>;</div><div class=\"line\">&#125;</div><div class=\"line\">o.sayColor(); <span class=\"comment\">//pink</span></div><div class=\"line\">sayColor(); <span class=\"comment\">//green</span></div></pre></td></tr></table></figure>\n<p><code>protoType</code> 原型链    </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> num1+num2;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// call 参数1:运行函数的作用域 参数2 agruments或者Array</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callSum1</span>(<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> sum.apply(<span class=\"keyword\">this</span>,<span class=\"built_in\">arguments</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callSum2</span>(<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> sum.apply(<span class=\"keyword\">this</span>,[num1,num2])</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// apply 参数1：运行函数的作用域 其他参数:就是把apply中的数组拆开</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callSum2</span>(<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> sum.apply(<span class=\"keyword\">this</span>,num1,num2)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>encodeURIComponent()</code> //encode字符串<br><code>decodeURICopmonent()</code> //decode字符串<br><code>eval(express)</code> //解析字符串表达式<br><code>eval(&quot;console.log(&#39;我是被解析的表达式&#39;)&quot;)</code>   </p>\n<h4 id=\"6-Math\"><a href=\"#6-Math\" class=\"headerlink\" title=\"6. Math\"></a>6. <code>Math</code></h4><p><code>Math.E</code> //e<br><code>Math.LN10</code> //10的自然对数<br><code>Math.LOG10E</code> //以10为底e的对数<br><code>Math.PI</code>  //PI<br><code>Math.SQRT2</code> //2的平方根<br><code>Math.SQRT1_2</code>  // 1/2的平方根   </p>\n<p>方法：<br><code>Math.min(Array)</code><br><code>Math.max(Array)</code><br><code>Math.ceil(parm)</code> //向上取整<br><code>Math.floor(parm)</code> //向下取整<br><code>Math.round(parm)</code> //标准的四舍五入<br><code>Math.random()</code>  // 0-1之间的数<br><code>Math.abs(parm)</code> //绝对值</p>\n<h3 id=\"八、面向对象的编程方法\"><a href=\"#八、面向对象的编程方法\" class=\"headerlink\" title=\"八、面向对象的编程方法\"></a>八、面向对象的编程方法</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> person = &#123;</div><div class=\"line\">  <span class=\"attr\">name</span>:<span class=\"string\">'xiaomo'</span>,</div><div class=\"line\">  <span class=\"attr\">age</span>:<span class=\"number\">25</span>，</div><div class=\"line\">  sayHello:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>工厂模式</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createPerson</span>(<span class=\"params\">name,age,job</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</div><div class=\"line\">    o.name = name;</div><div class=\"line\">    o.age= age;</div><div class=\"line\">    o.job =job;</div><div class=\"line\">    o.sayName=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> o;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> person1 = createPerson(<span class=\"string\">'xiaomo'</span>,<span class=\"number\">25</span>,<span class=\"string\">'programer'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> person2 = createPerson(<span class=\"string\">'xiaoming'</span>,<span class=\"number\">20</span>,<span class=\"string\">'it'</span>);</div></pre></td></tr></table></figure>\n<p>构造函数(不用显式的创建对象，不用返回值，直接把属性赋给this)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\">name,age,job</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.name = name;</div><div class=\"line\">    <span class=\"keyword\">this</span>.age = age,</div><div class=\"line\">    <span class=\"keyword\">this</span>.job = job;</div><div class=\"line\">    <span class=\"keyword\">this</span>.sayName = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person(<span class=\"string\">'xiaomo'</span>,<span class=\"number\">25</span>,<span class=\"string\">'programer'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> person2 = <span class=\"keyword\">new</span> Person(<span class=\"string\">'xiaoming'</span>,<span class=\"number\">20</span>,<span class=\"string\">'it'</span>);</div></pre></td></tr></table></figure>\n<p>判断类型 <code>instanceof</code>  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">person1 <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Object</span> <span class=\"comment\">//true</span></div><div class=\"line\">person1 <span class=\"keyword\">instanceof</span> Person <span class=\"comment\">//true</span></div></pre></td></tr></table></figure>\n<p>原型模式    </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\"></span>)</span>&#123;&#125;</div><div class=\"line\"><span class=\"comment\">//实际上隐式的创建一个构造函数constructor</span></div><div class=\"line\">Person.prototype.name=<span class=\"string\">'xiaomo'</span>;</div><div class=\"line\">Person.prototype.age=<span class=\"number\">25</span>;</div><div class=\"line\">Person.prototype.job=<span class=\"string\">'programmer'</span>;</div><div class=\"line\">Person.prototype.sayName=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//当前也可以这样</span></div><div class=\"line\">Person.prototype=&#123;</div><div class=\"line\">  name=<span class=\"string\">'xiaomo'</span>;</div><div class=\"line\">  age=<span class=\"number\">25</span>;</div><div class=\"line\">  job=<span class=\"string\">'programmer'</span>;</div><div class=\"line\">  sayName=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person();</div><div class=\"line\">Person.prototype.isPrototypeOf(person1); <span class=\"comment\">//true</span></div><div class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(person1.name); <span class=\"comment\">//xiaomo</span></div><div class=\"line\">person1.hasOwnProperty(<span class=\"string\">'name'</span>) <span class=\"comment\">//false 存在于protoType中，不存在于实例中</span></div><div class=\"line\"><span class=\"string\">'name'</span> <span class=\"keyword\">in</span> person1 <span class=\"comment\">//true  虽然实例中没有,但是它的原型链有,所以返回true</span></div><div class=\"line\"><span class=\"built_in\">Object</span>.keys(person1) <span class=\"comment\">//会枚举出实例中所有的属性</span></div></pre></td></tr></table></figure>\n<h3 id=\"九、定时器和延迟执行\"><a href=\"#九、定时器和延迟执行\" class=\"headerlink\" title=\"九、定时器和延迟执行\"></a>九、定时器和延迟执行</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//延迟一秒执行fn函数，只执行一次</span></div><div class=\"line\">  <span class=\"keyword\">let</span> timeout = <span class=\"number\">1000</span>;</div><div class=\"line\">  <span class=\"keyword\">var</span> fn = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'hello'</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> timeoutId = setTimeout(fn,timeout)</div><div class=\"line\">  <span class=\"comment\">//清除间歇执行函数</span></div><div class=\"line\">  clearTimeout(timeoutId);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">//定时器，每秒执行fn函数，直到清除定时器</span></div><div class=\"line\">  <span class=\"keyword\">var</span> timeout = <span class=\"number\">1000</span>;</div><div class=\"line\">  <span class=\"keyword\">var</span> fn = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'定时器'</span>)</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> intervalId = setInterval(fn,timout)</div><div class=\"line\">  <span class=\"comment\">//清除定时器</span></div><div class=\"line\">  clearInterval(itervalId);</div></pre></td></tr></table></figure>\n<h3 id=\"十、BOM-浏览器相关\"><a href=\"#十、BOM-浏览器相关\" class=\"headerlink\" title=\"十、BOM(浏览器相关)\"></a>十、BOM(浏览器相关)</h3><h4 id=\"1-系统对话框\"><a href=\"#1-系统对话框\" class=\"headerlink\" title=\"1. 系统对话框\"></a>1. 系统对话框</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">alert(); <span class=\"comment\">//弹出框</span></div><div class=\"line\"></div><div class=\"line\">confirm();<span class=\"comment\">//确认框</span></div><div class=\"line\"><span class=\"keyword\">if</span>(confirm(<span class=\"string\">'are you sure?'</span>))&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'sure'</span>);</div><div class=\"line\">&#125; <span class=\"keyword\">else</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'I am not sure!'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">prompt();<span class=\"comment\">//交互框</span></div><div class=\"line\"><span class=\"keyword\">var</span> result = promot(<span class=\"string\">\"what's up?\"</span>，<span class=\"string\">'默认值'</span>);</div><div class=\"line\"><span class=\"keyword\">if</span>(result!=<span class=\"literal\">null</span>)&#123;</div><div class=\"line\">  alert(result);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-location对象\"><a href=\"#2-location对象\" class=\"headerlink\" title=\"2. location对象\"></a>2. location对象</h4><p>参数</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">location<span class=\"selector-class\">.hash</span> <span class=\"comment\">//#contents url的hash值</span></div><div class=\"line\">location<span class=\"selector-class\">.host</span> <span class=\"comment\">// ip</span></div><div class=\"line\">location<span class=\"selector-class\">.hostname</span> <span class=\"comment\">//域名</span></div><div class=\"line\">location<span class=\"selector-class\">.href</span> <span class=\"comment\">//http域名</span></div><div class=\"line\">location<span class=\"selector-class\">.pathname</span> <span class=\"comment\">//url的目录</span></div><div class=\"line\">location<span class=\"selector-class\">.port</span> <span class=\"comment\">//8080</span></div><div class=\"line\">location<span class=\"selector-class\">.protocool</span> <span class=\"comment\">//协议</span></div><div class=\"line\">location<span class=\"selector-class\">.search</span> <span class=\"comment\">//?q=search</span></div><div class=\"line\">location.reload() <span class=\"comment\">//可能从缓存加载</span></div><div class=\"line\">location.reload(true) <span class=\"comment\">//重新加载</span></div></pre></td></tr></table></figure>\n<h4 id=\"3-navigator对象\"><a href=\"#3-navigator对象\" class=\"headerlink\" title=\"3. navigator对象\"></a>3. navigator对象</h4><p> 检测浏览器属性    </p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">navigator.appCodeName <span class=\"comment\">//浏览器的名字</span></div><div class=\"line\">navigator.appName <span class=\"comment\">//完整的浏览器名称</span></div><div class=\"line\">navigator.appVersion <span class=\"comment\">//浏览器的版本</span></div><div class=\"line\">navigator.cookieEnabled <span class=\"comment\">//cookie是否启用</span></div><div class=\"line\">navigator.javaEnabled() <span class=\"comment\">//java是否启用</span></div><div class=\"line\">navigator.language <span class=\"comment\">//主语言 zh-CH</span></div><div class=\"line\">navigator.languages <span class=\"comment\">//支持的语言</span></div><div class=\"line\">navigator.onLine <span class=\"comment\">//浏览器是否连接到了internet</span></div><div class=\"line\">navigator.platofrm <span class=\"comment\">//浏览器的平台 \"Win32\"</span></div><div class=\"line\">navigator.plugins <span class=\"comment\">//返回浏览器安装的插件的数组</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hasPlugin</span><span class=\"params\">(name)</span></span>&#123;</div><div class=\"line\">  name  = name.toLowerCase();</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span> ; i&lt;navigator.plugins.length;i++)&#123;</div><div class=\"line\">    <span class=\"comment\">// &gt;-1表示找到了</span></div><div class=\"line\">    <span class=\"keyword\">var</span> isTrue = navigator.plugins[i].name.toLowerCase().indexOf(name)&gt;<span class=\"number\">-1</span>;</div><div class=\"line\">    <span class=\"keyword\">if</span>(isTrue)&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span> ;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-history对象\"><a href=\"#4-history对象\" class=\"headerlink\" title=\"4. history对象\"></a>4. history对象</h4><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">history.<span class=\"keyword\">go</span>(<span class=\"number\">-1</span>);<span class=\"comment\">//后退一页</span></div><div class=\"line\">history.back();</div><div class=\"line\"></div><div class=\"line\">history.<span class=\"keyword\">go</span>(<span class=\"number\">1</span>);<span class=\"comment\">//前进一页</span></div><div class=\"line\">history.forward();</div><div class=\"line\"></div><div class=\"line\">history.<span class=\"keyword\">go</span>(<span class=\"string\">'xiaomo.info'</span>)<span class=\"comment\">//跳转到最近访问过的该页面</span></div><div class=\"line\">history.length==<span class=\"number\">0</span> <span class=\"comment\">//表示这是用户打开浏览器的第一个页面</span></div></pre></td></tr></table></figure>\n<h3 id=\"十一、表单\"><a href=\"#十一、表单\" class=\"headerlink\" title=\"十一、表单\"></a>十一、表单</h3><h4 id=\"1-表单属性\"><a href=\"#1-表单属性\" class=\"headerlink\" title=\"1. 表单属性\"></a>1. 表单属性</h4><figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">acceptCharset 服务器能够处理的字符集</div><div class=\"line\">action 接受请求的url</div><div class=\"line\">elements 表单所有控件的集合</div><div class=\"line\">enctype 请求的编码类型</div><div class=\"line\">length 表单中控件的数量</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">method</span> <span class=\"title\">get</span>/<span class=\"title\">post</span></span></div><div class=\"line\"><span class=\"title\">name</span> 表单的名字</div><div class=\"line\"><span class=\"title\">reset</span><span class=\"params\">()</span> 重置</div><div class=\"line\"><span class=\"title\">submit</span><span class=\"params\">()</span> 提交</div><div class=\"line\"><span class=\"title\">target</span></div></pre></td></tr></table></figure>\n<p><code>document.forms</code> 可以取到表单的所有控件    </p>\n<h4 id=\"2-控件\"><a href=\"#2-控件\" class=\"headerlink\" title=\"2. 控件\"></a>2. 控件</h4><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">disabled 当前字段是否禁用</div><div class=\"line\"><span class=\"keyword\">form</span> 指向当前字段所属表单的指针:只读</div><div class=\"line\"><span class=\"keyword\">name</span> 当前字段的名字</div><div class=\"line\">readOnly 当前字段只读</div><div class=\"line\">tabIndex tab切换的序号</div><div class=\"line\"><span class=\"keyword\">type</span> 当前字段的类型</div><div class=\"line\"><span class=\"keyword\">value</span> 当前字段提交给服务器的值</div></pre></td></tr></table></figure>\n<p>修改控件的值</p>\n<figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> input = document.getElementById(<span class=\"string\">'name'</span>);</div><div class=\"line\"><span class=\"keyword\">name</span>.value=<span class=\"string\">'xiaomo'</span></div><div class=\"line\"><span class=\"keyword\">name</span>.focus(); <span class=\"comment\">//把焦点设置到当前字段</span></div><div class=\"line\"><span class=\"comment\">//在控件中加入 autofocus=\"focus\" 是一样的效果</span></div></pre></td></tr></table></figure>\n<p>选择文本<br><code>element.select()</code>     </p>\n<p>取得选中的文本<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">alertText</span>(<span class=\"params\">username</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> username = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'username'</span>);</div><div class=\"line\">    alert(getSelectText(username));</div><div class=\"line\">    &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getSelectText</span>(<span class=\"params\">textbox</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">// html</span></div><div class=\"line\">&lt;input type=<span class=\"string\">\"input\"</span> id=<span class=\"string\">\"username\"</span> value=<span class=\"string\">\"我是测试文本，看一下能不能被选中\"</span>&gt;</div><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"确定\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"alertText()\"</span>&gt;</span></span></div></pre></td></tr></table></figure></p>\n<h4 id=\"3-剪贴板事件\"><a href=\"#3-剪贴板事件\" class=\"headerlink\" title=\"3. 剪贴板事件\"></a>3. 剪贴板事件</h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">beforecopy</div><div class=\"line\">copy</div><div class=\"line\">cut</div><div class=\"line\">beforepaste</div><div class=\"line\">paste</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//写一个公用方</span></div><div class=\"line\"><span class=\"keyword\">var</span> EventUtil = &#123;</div><div class=\"line\"></div><div class=\"line\">  getClipboardText:function(<span class=\"keyword\">event</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> clipboardData  = (<span class=\"keyword\">event</span>.clipboardData || window.clipboardData);</div><div class=\"line\">    <span class=\"keyword\">return</span> clipboardData.getData(<span class=\"string\">'text'</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  setClipboardText:function(<span class=\"keyword\">event</span>,<span class=\"keyword\">value</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">event</span>.clipboardData)&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">event</span>.clipboardData.setData(<span class=\"string\">\"text/plain\"</span>,<span class=\"keyword\">value</span>);</div><div class=\"line\">    &#125; <span class=\"function\"><span class=\"keyword\">else</span> <span class=\"title\">if</span> (<span class=\"params\">window.clipboardData</span>)</span>&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> window.clipboardData.setData(<span class=\"string\">\"txt\"</span>,<span class=\"keyword\">value</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">EventUtil.addHander(txtbox,<span class=\"string\">\"paste\"</span>,function(<span class=\"keyword\">event</span>))&#123;</div><div class=\"line\">  <span class=\"keyword\">event</span>  = EventUtil.getEvent(<span class=\"keyword\">event</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> text = EventUtil.getClipboardText(<span class=\"keyword\">event</span>);</div><div class=\"line\">  <span class=\"keyword\">if</span>(!/^\\d*$/.test(text))&#123;</div><div class=\"line\">    EventUtil.preventDefault(<span class=\"keyword\">event</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><a href=\"http://www.cnblogs.com/hykun/p/EventUtil.html\" target=\"_blank\" rel=\"external\">EventUtil</a></p>\n<p>自动切换焦点</p>\n<figure class=\"highlight scheme\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">(<span class=\"name\">function</span>()&#123;</div><div class=\"line\">  function tabForward(<span class=\"name\">event</span>)&#123;</div><div class=\"line\">    event = EventUtil.getEvent(<span class=\"name\">event</span>)<span class=\"comment\">;</span></div><div class=\"line\">    var target = EventUtil.getTarget(<span class=\"name\">event</span>)<span class=\"comment\">;</span></div><div class=\"line\">    if(<span class=\"name\">target.value.length</span> = target.maxLength)&#123;</div><div class=\"line\">      var form = target.form<span class=\"comment\">;</span></div><div class=\"line\">      for( var i =0<span class=\"comment\">; len = form.elements.length;i&lt;len;i++)&#123;</span></div><div class=\"line\">        if(<span class=\"name\">form.elements</span>[<span class=\"name\">i</span>]==target)&#123;</div><div class=\"line\">          if(<span class=\"name\">form.elements</span>[<span class=\"name\">i+1</span>])&#123;</div><div class=\"line\">            form.elements[<span class=\"name\">i+1</span>].focus()<span class=\"comment\">;</span></div><div class=\"line\">          &#125;</div><div class=\"line\">          return<span class=\"comment\">;</span></div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  var text1 = document.getElementById(<span class=\"symbol\">'text1</span>')<span class=\"comment\">;</span></div><div class=\"line\">  var text2 = document.getElementById(<span class=\"symbol\">'text2</span>')<span class=\"comment\">;</span></div><div class=\"line\">  var text3 = document.getElementById(<span class=\"symbol\">'text3</span>')<span class=\"comment\">;</span></div><div class=\"line\">  EventUtil.addHander(<span class=\"name\">text1</span>,<span class=\"symbol\">'keyup</span>',tabForward)<span class=\"comment\">;</span></div><div class=\"line\">  EventUtil.addHander(<span class=\"name\">text2</span>,<span class=\"symbol\">'keyup</span>',tabForward</div><div class=\"line\">  EventUtil.addHander(<span class=\"name\">text3</span>,<span class=\"symbol\">'keyup</span>',tabForward</div><div class=\"line\">  &#125;)()</div></pre></td></tr></table></figure>\n<h4 id=\"4-下拉框-select\"><a href=\"#4-下拉框-select\" class=\"headerlink\" title=\"4. 下拉框 select\"></a>4. 下拉框 select</h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">add</span>(newOption,relOption) 插入一个option</div><div class=\"line\"><span class=\"comment\">//最佳做法(在列表最后插入一个option)</span></div><div class=\"line\"><span class=\"keyword\">var</span> newOption = <span class=\"keyword\">new</span> Option(<span class=\"string\">\"text\"</span>,<span class=\"string\">\"value\"</span>);</div><div class=\"line\">selectBox.<span class=\"keyword\">add</span>(newOption,undefined);</div><div class=\"line\"></div><div class=\"line\">multiple 是否允许多选</div><div class=\"line\">options 控件中所有options的<span class=\"function\">HTMLCollection</span></div><div class=\"line\"><span class=\"title\">remove</span>(<span class=\"params\">index</span>) 移除指定位置的选项</div><div class=\"line\"><span class=\"comment\">//移除指定的选项(这里移除的是第一项)</span></div><div class=\"line\"><span class=\"keyword\">var</span> index = <span class=\"number\">0</span></div><div class=\"line\">selectBox.<span class=\"keyword\">remove</span>(selectBox.options[index])</div><div class=\"line\">selectedIndex 基于<span class=\"number\">0</span>的选中项的索引,没有选中项<span class=\"number\">-1</span></div><div class=\"line\">size 选择框中可见的行数</div><div class=\"line\">text 选中项的文本内容</div><div class=\"line\"><span class=\"keyword\">value</span> 选项的值</div><div class=\"line\"><span class=\"comment\">//移动一个选项到特定位置(将第2个选项移动到最后一个选项)</span></div><div class=\"line\"><span class=\"keyword\">var</span> optionToMove = selectBox.options[<span class=\"number\">1</span>];</div><div class=\"line\">selectBox.insertBefore(optionToMove,selectBox.options[optionToMove.index<span class=\"number\">-1</span>])</div><div class=\"line\">/添加一个选项(把当前列表中的第一个选项添加到当前列表的最后)</div><div class=\"line\">selectBox.appendChind(selectBox.options[<span class=\"number\">0</span>]);</div></pre></td></tr></table></figure>\n<h4 id=\"5-表单序列化\"><a href=\"#5-表单序列化\" class=\"headerlink\" title=\"5. 表单序列化\"></a>5. 表单序列化</h4><p>原则：<br>对表单字段的名字和值进行url编码,使用&amp;分割<br>不发送禁用的表单字段<br>只发送勾选的单选按钮和复选框<br>不发送type为reset和button的按钮<br>多选框中的每选中的值单独一个条目<br>submit的时候,本按钮也会被提交<br>select发送的时候如果有value就发value的值 没有就发text内容  </p>\n<p><code>form.serialize()</code>  </p>\n<h4 id=\"6-富文本编辑器\"><a href=\"#6-富文本编辑器\" class=\"headerlink\" title=\"6. 富文本编辑器\"></a>6. 富文本编辑器</h4><p>只要加上<code>contenteditable</code>就可以让div可以编辑<br><code>&lt;div id=&quot;richedit&quot; contenteditable&gt;&lt;/div&gt;</code><br>也可以用js控制</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">var richedit = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'richedit'</span>);</div><div class=\"line\">richedit.contenteditable=<span class=\"string\">\"true\"</span>;</div><div class=\"line\"><span class=\"regexp\">//</span> <span class=\"literal\">true</span> <span class=\"literal\">false</span> inherit</div><div class=\"line\"><span class=\"built_in\">document</span>.exexCommand(命令,<span class=\"literal\">false</span>,值);</div><div class=\"line\"><span class=\"regexp\">//</span><span class=\"built_in\">document</span>.exexCommand(<span class=\"string\">'bold'</span>,<span class=\"literal\">false</span>,<span class=\"literal\">null</span>);</div></pre></td></tr></table></figure>\n<h3 id=\"十二、canvas\"><a href=\"#十二、canvas\" class=\"headerlink\" title=\"十二、canvas\"></a>十二、canvas</h3><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//定义一个canvas   </span></div><div class=\"line\">&lt;canvas id=<span class=\"string\">\"drawing\"</span> <span class=\"built_in\">width</span>=<span class=\"string\">\"200\"</span> <span class=\"built_in\">height</span>=<span class=\"string\">\"200\"</span>&gt;</div><div class=\"line\">    您的浏览器不支持canvas</div><div class=\"line\">&lt;/canvas&gt;</div><div class=\"line\"><span class=\"comment\">//获取canvas</span></div><div class=\"line\">document.getElementById(<span class=\"string\">'drawing'</span>);</div><div class=\"line\"><span class=\"built_in\">if</span>(drawing.getContext)&#123;</div><div class=\"line\">  var context = drawing.getContext(<span class=\"string\">'2d'</span>);</div><div class=\"line\">  context.fillReact(<span class=\"number\">30</span>,<span class=\"number\">30</span>,<span class=\"number\">30</span>,<span class=\"number\">30</span>); <span class=\"comment\">//画了一个正方形</span></div><div class=\"line\">  context.fillStyle=<span class=\"string\">'#fff'</span>; <span class=\"comment\">//填充</span></div><div class=\"line\">  context.strokeStyle=<span class=\"string\">'red'</span>; <span class=\"comment\">//描边</span></div><div class=\"line\">  <span class=\"comment\">// todo</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"十三、html5脚本编程\"><a href=\"#十三、html5脚本编程\" class=\"headerlink\" title=\"十三、html5脚本编程\"></a>十三、html5脚本编程</h3><figure class=\"highlight mel\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//跨文档消息传送</span></div><div class=\"line\">EventUtil.addHander(<span class=\"keyword\">window</span>,<span class=\"string\">\"message\"</span>,function(<span class=\"keyword\">event</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">event</span>.origin=<span class=\"string\">\"http://www.wrox.com\"</span>)&#123;<span class=\"comment\">//发送消息的文档所在的域</span></div><div class=\"line\">      <span class=\"comment\">//接受参数</span></div><div class=\"line\">      processMessage(<span class=\"keyword\">event</span>.data);</div><div class=\"line\">      <span class=\"comment\">//可选:向窗口来源发送回执</span></div><div class=\"line\">      <span class=\"keyword\">event</span>.<span class=\"keyword\">source</span>.postMessage(<span class=\"string\">\"Receiived\"</span>,<span class=\"string\">\"http://xiaomo.info\"</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h3 id=\"十四、本地存储\"><a href=\"#十四、本地存储\" class=\"headerlink\" title=\"十四、本地存储\"></a>十四、本地存储</h3><h4 id=\"1-cookie\"><a href=\"#1-cookie\" class=\"headerlink\" title=\"1. cookie\"></a>1. cookie</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> CookieUtil = &#123;</div><div class=\"line\"><span class=\"comment\">//根据key读取cookie</span></div><div class=\"line\">    get: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">name</span>)</span>&#123;</div><div class=\"line\">         <span class=\"comment\">//注意对键编码</span></div><div class=\"line\">        <span class=\"keyword\">var</span> cookieName = <span class=\"built_in\">encodeURIComponent</span>(name) + <span class=\"string\">\"=\"</span>,</div><div class=\"line\">            cookieStart = <span class=\"built_in\">document</span>.cookie.indexOf(cookieName),</div><div class=\"line\">            cookieValue = <span class=\"literal\">null</span>,</div><div class=\"line\">            cookieEnd;</div><div class=\"line\">        <span class=\"comment\">//找到cookie键</span></div><div class=\"line\">        <span class=\"keyword\">if</span> (cookieStart &gt; <span class=\"number\">-1</span>)&#123;</div><div class=\"line\">             <span class=\"comment\">//键后面第一个分号位置</span></div><div class=\"line\">            cookieEnd = <span class=\"built_in\">document</span>.cookie.indexOf(<span class=\"string\">\";\"</span>, cookieStart);</div><div class=\"line\">            <span class=\"keyword\">if</span> (cookieEnd == <span class=\"number\">-1</span>)&#123;</div><div class=\"line\">                cookieEnd = <span class=\"built_in\">document</span>.cookie.length;</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"comment\">//cookie值解码</span></div><div class=\"line\">            cookieValue = <span class=\"built_in\">decodeURIComponent</span>(<span class=\"built_in\">document</span>.cookie.substring(cookieStart + cookieName.length, cookieEnd));</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">return</span> cookieValue;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"comment\">//设置cookie</span></div><div class=\"line\">    set: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">name, value, expires, path, domain, secure</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> cookieText = <span class=\"built_in\">encodeURIComponent</span>(name) + <span class=\"string\">\"=\"</span> + <span class=\"built_in\">encodeURIComponent</span>(value);</div><div class=\"line\">        <span class=\"comment\">//失效时间，GMT时间格式</span></div><div class=\"line\">        <span class=\"keyword\">if</span> (expires <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Date</span>) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; expires=\"</span> + expires.toGMTString();</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span> (path) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; path=\"</span> + path;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span> (domain) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; domain=\"</span> + domain;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span> (secure) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; secure\"</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"built_in\">document</span>.cookie = cookieText;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"comment\">//删除cookie，保持相同的键、域、路径、安全选项，然后设置失效时间即可</span></div><div class=\"line\">    unset: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">name, path, domain, secure</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.set(name, <span class=\"string\">\"\"</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"number\">0</span>), path, domain, secure);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p>使用util方法   </p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.set</span>(<span class=\"string\">'name'</span>,<span class=\"string\">'xiaomo'</span>);</div><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.set</span>(<span class=\"string\">'age'</span>,<span class=\"number\">26</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"selector-tag\">console</span><span class=\"selector-class\">.log</span>(CookieUtil.get(<span class=\"string\">'name'</span>));</div><div class=\"line\"><span class=\"selector-tag\">console</span><span class=\"selector-class\">.log</span>(CookieUtil.get(<span class=\"string\">'age'</span>));</div><div class=\"line\"></div><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.unset</span>(<span class=\"string\">'name'</span>);</div><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.unset</span>(<span class=\"string\">'age'</span>);</div></pre></td></tr></table></figure>\n<h4 id=\"2-localStorage\"><a href=\"#2-localStorage\" class=\"headerlink\" title=\"2. localStorage\"></a>2. localStorage</h4><figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.setItem(<span class=\"built_in\">key</span>,value);<span class=\"comment\">//存储数据</span></div><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.getItem(<span class=\"built_in\">key</span>);<span class=\"comment\">//读取数据</span></div><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.removeItem(<span class=\"built_in\">key</span>);<span class=\"comment\">//删除数据项</span></div><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.<span class=\"keyword\">clear</span>();<span class=\"comment\">//删除所有数据</span></div></pre></td></tr></table></figure>\n","excerpt":"<p>一直对javscript抱有敬畏的态度，也没有一直深入学习。当学到各种js框架的时候才发现力不从心，感觉到了javascript基础的重要性，重新认真的系统的学习一下。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/javascript.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、一些不同\"><a href=\"#一、一些不同\" class=\"headerlink\" title=\"一、一些不同\"></a>一、一些不同</h3><h4 id=\"1-javscript没有块级作用域\"><a href=\"#1-javscript没有块级作用域\" class=\"headerlink\" title=\"1. javscript没有块级作用域\"></a>1. javscript没有块级作用域</h4><p>于是es6中有了let和var<br>模拟js的块级作用域    </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">outputNumbers</span>(<span class=\"params\">count</span>)</span>&#123;</div><div class=\"line\">  (<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;count;i++)&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(i);</div><div class=\"line\">    &#125;</div><div class=\"line\">    &#125;)();</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"built_in\">console</span>.log(i) <span class=\"comment\">//会报错</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-javascipt中this用法不同\"><a href=\"#2-javascipt中this用法不同\" class=\"headerlink\" title=\"2. javascipt中this用法不同\"></a>2. javascipt中this用法不同</h4><p>它指向调用它的那个对象</p>\n<h4 id=\"3-闭包是指有权访问另一个函数作用域中的变量的函数。\"><a href=\"#3-闭包是指有权访问另一个函数作用域中的变量的函数。\" class=\"headerlink\" title=\"3. 闭包是指有权访问另一个函数作用域中的变量的函数。\"></a>3. 闭包是指有权访问另一个函数作用域中的变量的函数。</h4><figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createAFunction</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">'这是一个闭包'</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、基本数据类型\"><a href=\"#二、基本数据类型\" class=\"headerlink\" title=\"二、基本数据类型\"></a>二、基本数据类型</h3><p><code>undefined</code>、<code>null</code>、<code>boolean</code>、<code>string</code>、<code>number</code> 、<code>object</code>、<code>function</code><br>它们有对应的方法<br><code>Boolean()</code>、<code>String()</code>、<code>Number()</code> 、<code>Object()</code>  </p>\n<h4 id=\"1-undefined\"><a href=\"#1-undefined\" class=\"headerlink\" title=\"1. undefined\"></a>1. <code>undefined</code></h4><p>没有被定义就会返回<code>undefined</code>,是<code>null</code>衍生出来的,因些<code>undefined==null</code> 返回true</p>\n<h4 id=\"2-null\"><a href=\"#2-null\" class=\"headerlink\" title=\"2. null\"></a>2. <code>null</code></h4><p>由于历史原因 <code>typeof null</code>返回<code>object</code></p>\n<h4 id=\"3-boolean\"><a href=\"#3-boolean\" class=\"headerlink\" title=\"3. boolean\"></a>3. <code>boolean</code></h4><p><code>Boolean()</code><br>非0返回true<br>0、null、undefined返回false</p>\n<h4 id=\"4-string\"><a href=\"#4-string\" class=\"headerlink\" title=\"4. string\"></a>4. <code>string</code></h4><p><code>String()</code><br>不管传入什么都会原样返回,但如果是<code>function</code>,会执行该方法并返回<code>undefined</code><br><code>toString(参数,进制)</code><br><code>toUpperCase()</code><br><code>toLowerCase()</code><br><code>substring(parm1,parm2)</code><br><code>substr()</code><br><code>charAt(1)</code><br><code>charCodeAt(2)</code><br><code>concat()</code><br><code>slice()</code><br><code>indexof()</code><br><code>lastIndexOf</code><br><code>trim()</code><br><code>search(pattern)</code>  //返回索引<br><code>replcae(&#39;原&#39;,&#39;新&#39;)</code> //第一个参数支持正则    第二个参数也可以是一个function<br><code>splice(&#39;,&#39;)</code>    //支持正则，支持指定长度<br>它只有length属性   </p>\n<h4 id=\"5-number\"><a href=\"#5-number\" class=\"headerlink\" title=\"5. number\"></a>5. <code>number</code></h4><p><code>Number()</code>          true=&gt;1 false=&gt;0   null=&gt;0 undefined=&gt;NaN<br><code>Number.MAX_VALUE</code>  最大值<br><code>Number.MIN_VALUE</code>  最小值<br><code>NaN</code>  它是一个特例，不与任何值相等包括自己<br><code>parseInt()</code> //可以查找字符串中的数字并转换<br><code>parseFloat()</code> //可以查找字符串中的数字并转换<br><code>inFinite()</code> //是否在最大值和最小值之间<br><code>toFixed(小数点位数)</code><br>说明：它能够识别科学计数法 比如 2.15e5 =&gt; 215000   </p>\n<h4 id=\"6-object\"><a href=\"#6-object\" class=\"headerlink\" title=\"6. object\"></a>6. <code>object</code></h4><p><code>constructor</code>  构造函数<br><code>obj.hasOwnProperty()</code> 是否具有自己的方法<br><code>obj.isProtoTypeOf(object)</code>  检查传入的对象是否是另一个对象的原型<br><code>ob.propertyIsEnumerable(propetyName)</code>  检查给定的属性能否使用for-in<br><code>obj.toLocaleString()</code> 返回执行地区对应的对象的字符串 =&gt;[‘Object’]<br><code>obj.toString()</code>    返回执行对象的字符串 =&gt;[‘Object’]<br><code>obj.valueOf()</code>   返回对象序列化之后的结果</p>\n<h3 id=\"三、运算符\"><a href=\"#三、运算符\" class=\"headerlink\" title=\"三、运算符\"></a>三、运算符</h3><h4 id=\"1-大于和小于\"><a href=\"#1-大于和小于\" class=\"headerlink\" title=\"1. 大于和小于\"></a>1. 大于和小于</h4><p><code>&#39;23&#39;&lt;&#39;3&#39;</code>  //true,字符串的比较跟数字的比较不同<br><code>&#39;a&#39;&lt;3</code>   //false a会被转成NaN<br><code>特别注意</code>:NaN和任何数比都是false<br><code>NaN&gt;3</code> //false<br><code>NaN&lt;3</code> //false<br><code>&#39;23&#39;&lt;3</code> //false  ‘23’会被转成23再与3比较</p>\n<h4 id=\"2-全等和不全等\"><a href=\"#2-全等和不全等\" class=\"headerlink\" title=\"2. 全等和不全等\"></a>2. 全等和不全等</h4><p><code>&#39;55&#39;==55</code> //true 不全等只判断值不判断类型<br><code>&#39;55&#39;===55</code> //false  全等不仅判断值还判断类型  </p>\n<h3 id=\"四、条件控制语句\"><a href=\"#四、条件控制语句\" class=\"headerlink\" title=\"四、条件控制语句\"></a>四、条件控制语句</h3><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">for</span>(proertyName <span class=\"keyword\">in</span> <span class=\"keyword\">global</span>)&#123;</div><div class=\"line\">  console.<span class=\"built_in\">log</span>(proertyName)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"五、方法\"><a href=\"#五、方法\" class=\"headerlink\" title=\"五、方法\"></a>五、方法</h3><p>注意：javascript和java不同，它没有重载,定义两个方法名相同的方法后面一个会覆盖前面一个。</p>\n<h3 id=\"六、检测类型\"><a href=\"#六、检测类型\" class=\"headerlink\" title=\"六、检测类型\"></a>六、检测类型</h3><p><code>typeof xxx</code><br>// 返回数据类型</p>\n<h3 id=\"七、引用类型\"><a href=\"#七、引用类型\" class=\"headerlink\" title=\"七、引用类型\"></a>七、引用类型</h3><h4 id=\"1-object\"><a href=\"#1-object\" class=\"headerlink\" title=\"1. object\"></a>1. <code>object</code></h4><p>声明对象的方法<br><code>var obj = new Object();</code><br><code>var obj = {};</code></p>\n<p>赋值<br><code>obj.name=&#39;xiaomo&#39;;</code>   </p>\n<p>使用对象的属性<br><code>obj.name</code><br><code>obj[&#39;name&#39;]</code>  </p>\n<h4 id=\"2-Array\"><a href=\"#2-Array\" class=\"headerlink\" title=\"2. Array\"></a>2. <code>Array</code></h4><p>可以存任何类型    </p>\n<p>声明<br><code>var arr = new Array();</code><br><code>var arr = new Array(3);</code><br><code>var arr = [];</code>  </p>\n<p>添加对象<br><code>arr.push(&#39;a&#39;,b&#39;,1,3,4,true)</code><br>操作对象(删除、插入、替换)     </p>\n<p><code>删除</code>：起始位置，要删除的个数<br><code>arr.splice(起始位置,删除的个数)</code><br>例子：<code>arr.splice(2,1)</code> //返回[1] 返回删除的那个数   </p>\n<p><code>插入</code>：起始位置、要删除的个数(0)、要插入的数,可以是多个,返回空数组<br><code>arr.splice(起始位置,删除的个数,参数1,参数2,参数n)</code><br>例子:<code>arr.splice(1,0,&#39;插入的值1&#39;,&#39;插入的值2&#39;,&#39;插入的值n&#39;)</code>  </p>\n<p><code>替换</code>：起始位置、要删除的项目、要插入的任意项，可以是多个,返回被替换的值<br><code>arr.splice(起始位置,删除的个数,参数1,参数2,参数n)</code><br>例子:<code>arr.splice(0,2,&#39;test1&#39;,&#39;test2&#39;)</code>   </p>\n<p>其他数组操作<br><code>arr.push(&#39;test&#39;)</code> 插入到数组的最后面<br><code>arr.unshift(&#39;xiaomo&#39;)</code> 插入到数组的最前面<br><code>arr.pop()</code>   //删除数组的最后一个值<br><code>arr.shift()</code> //删除数组第一个值</p>\n<p>使用对象<br><code>arr[1]</code>   </p>\n<p>数组自带的方法<br><code>arr.reverse();</code>   反转数组<br><code>arr.sort()</code>   默认升序排列<br><code>arr.sort((a,b)=&gt;{reutrn b-a})</code>  传入排序方法会按照自定义排序<br><code>arr.concat(另一个数组或者单个参数)</code>  如果传入数组也会被展开拿出来,不会影响原数组<br><code>arr.slice(0,3)</code>  会把选定的部分截取出来生成一个新的数组，不会影响原数组<br><code>arr.indexOf(4)</code>   返回该值存在的下标,不存在返回-1<br><code>arr.lastIndexOf(4)</code> 从倒数开始查找,返回该值存在的下标,不存在返回-1<br><code>arr.every(fn)</code>   对每个参数进行处理，全部符合返回true<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>&gt;<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.some(fn)</code>   对每个参数进行处理，有一个符合就返回true<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>&gt;<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.filter(fn)</code> 对每个参数进行处理，返回过滤后的数组<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>&gt;<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.map(fn)</code>    对每个参数进行处理，返回处理后的数组<br><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">fn=(<span class=\"keyword\">item</span>,index,array)<span class=\"comment\">&#123;//当前值、索引、该数组</span></div><div class=\"line\">  <span class=\"literal\">return</span> <span class=\"keyword\">item</span>*<span class=\"number\">2</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.forEach(fn)</code>  对每个参数进行处理，没有返回值<br><code>arr.reduce(fn)</code>    对每个参数进行处理，迭代返回最终结果<br><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">fn</span>=</span>(prev,cur,index,array)&#123;<span class=\"comment\">//前一个值、当前值、索引、数组</span></div><div class=\"line\">  <span class=\"keyword\">return</span> prev+cur</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p><code>arr.reduceRight(fn)</code>  从右边对每个参数进行处理，迭代返回最终结果<br><figure class=\"highlight rust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">fn</span>=</span>(prev,cur,index,array)&#123;<span class=\"comment\">//前一个值、当前值、索引、数组</span></div><div class=\"line\">  <span class=\"keyword\">return</span> prev+cur</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"3-Date类型\"><a href=\"#3-Date类型\" class=\"headerlink\" title=\"3. Date类型\"></a>3. Date类型</h4><p>声明:<br><code>var date = new Date();</code>  创建当前时间 也可以接收参数<br><code>Date.parse(pattern)</code>    //   6/13/2016  May 25,2016  或者 yyyy-MM-dd hh:mm:ss格式的  返回时间戳<br><code>new Date(Date.parse(pattern))</code>   //   将时间戳格式化为正常的时间<br><code>new Date(2016,5,19,20,49,15)</code>  //也可以用逗号 2016-05-19 20:49:15<br><code>Date.now()</code>  //当前时间的时间戳<br><code>toDateString()</code> //返回时间的字符串 星期、日、月、年<br><code>toTimeString()</code> //时、分、秒、时区<br><code>toLocaleDateString()</code>   特定时区的星期、日、月、年<br><code>toLocaleTimeString()</code>   特定时区的时、分、秒、时间    </p>\n<p>时间格式<br><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"built_in\">date</span> = <span class=\"literal\">new</span> <span class=\"built_in\">Date</span>();</div><div class=\"line\"><span class=\"built_in\">var</span> time = <span class=\"built_in\">date</span>.getTime() <span class=\"comment\">//当前时间的时间戳</span></div><div class=\"line\"><span class=\"built_in\">var</span> fullYear = <span class=\"built_in\">date</span>.getFullYear(); <span class=\"comment\">//2016</span></div><div class=\"line\"><span class=\"built_in\">var</span> year = <span class=\"built_in\">date</span>.getYear();   <span class=\"comment\">//116  </span></div><div class=\"line\"><span class=\"built_in\">var</span> month = <span class=\"built_in\">date</span>.getMonth(); <span class=\"comment\">//04 从0开始</span></div><div class=\"line\"><span class=\"built_in\">var</span> d = <span class=\"built_in\">date</span>.getDate(); <span class=\"comment\">//日  19</span></div><div class=\"line\"><span class=\"built_in\">var</span> day = <span class=\"built_in\">date</span>.getDay();  <span class=\"comment\">//4 返回星期几</span></div><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"keyword\">min</span> = <span class=\"built_in\">date</span>.getMinitues(); <span class=\"comment\">//0</span></div><div class=\"line\"><span class=\"built_in\">var</span> sec = <span class=\"built_in\">date</span>.getSeconds() <span class=\"comment\">//秒</span></div><div class=\"line\"><span class=\"built_in\">var</span> mill = <span class=\"built_in\">date</span>.getMilliSeconds() <span class=\"comment\">//毫秒</span></div></pre></td></tr></table></figure></p>\n<h4 id=\"4-正则-RegExp类型\"><a href=\"#4-正则-RegExp类型\" class=\"headerlink\" title=\"4. 正则 RegExp类型\"></a>4. 正则 RegExp类型</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> re = <span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(<span class=\"string\">'pattern'</span>);</div><div class=\"line\">re.test(parm);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// exec 返回匹配的结果</span></div><div class=\"line\"><span class=\"keyword\">var</span> test = <span class=\"string\">'abcdef.js'</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\.js$/</span></div><div class=\"line\"><span class=\"keyword\">var</span> matches = parrten.exec(test);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(matches); <span class=\"comment\">// '.js' ,index:6 input:'abcdef.js'</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//test 返回true/false</span></div><div class=\"line\"><span class=\"keyword\">var</span> text = <span class=\"string\">'abcdef.js'</span>;</div><div class=\"line\"><span class=\"keyword\">var</span> pattern = <span class=\"regexp\">/\\.js$/</span></div><div class=\"line\">pattern.test(text); <span class=\"comment\">// true</span></div></pre></td></tr></table></figure>\n<h4 id=\"5-方法-function\"><a href=\"#5-方法-function\" class=\"headerlink\" title=\"5. 方法　function\"></a>5. 方法　function</h4><p>方法没有重载,如果是同名,不管参数个数是不是相同,后面定义的方法都会覆盖前面的方法<br>每个方法都包含两个属性:<code>length</code>(参数个数)和<code>protoType</code>(原型链)<br><figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span><span class=\"params\">(a,b)</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> a+b;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span><span class=\"params\">(a)</span></span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> a;</div><div class=\"line\">&#125;</div><div class=\"line\">test(<span class=\"number\">1</span>)    <span class=\"comment\">//1</span></div><div class=\"line\">test(<span class=\"number\">1</span>,<span class=\"number\">2</span>)  <span class=\"comment\">//1</span></div></pre></td></tr></table></figure></p>\n<p>你可以不按正常顺序执行方法,因为在执行的时候 function都会被提前<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">test();</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">test</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'这是一个方法'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<p>但如果是立即执行的函数则不行</p>\n<figure class=\"highlight clojure\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">(</div><div class=\"line\">  function test()&#123;</div><div class=\"line\"></div><div class=\"line\">  &#125;()</div><div class=\"line\">  )</div></pre></td></tr></table></figure>\n<p>方法有两个特殊的内部属性和两个非继承来的方法 <code>call()</code>、<code>apply()</code>,以及其他方法 <code>toString()、valueOf()</code><br><code>arguments</code>和<code>this</code><br><code>arguments</code>是类数组,保存着参数。它有<code>arguments.callee()</code>方法<br><figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">function <span class=\"built_in\">factorial</span>(<span class=\"built_in\">num</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"built_in\">num</span>&lt;=<span class=\"number\">1</span>)&#123;</div><div class=\"line\">      <span class=\"built_in\">return</span> <span class=\"number\">1</span>;</div><div class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">      <span class=\"built_in\">return</span> <span class=\"built_in\">num</span> * arguments.callee(<span class=\"built_in\">num</span>-<span class=\"number\">1</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">factorial</span>(<span class=\"number\">5</span>); // <span class=\"number\">5</span>! <span class=\"number\">1</span>*<span class=\"number\">2</span>*<span class=\"number\">3</span>*<span class=\"number\">4</span>*<span class=\"number\">5</span></div></pre></td></tr></table></figure></p>\n<p><code>this</code>在javascript中用法比较特殊,它指向它的调用者</p>\n<figure class=\"highlight qml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"built_in\">color</span>=<span class=\"string\">'green'</span>;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sayColor</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.color);</div><div class=\"line\">  &#125;</div><div class=\"line\"><span class=\"built_in\">var</span> o = &#123;</div><div class=\"line\">  <span class=\"built_in\">color</span>=<span class=\"string\">'pink'</span>;</div><div class=\"line\">&#125;</div><div class=\"line\">o.sayColor(); <span class=\"comment\">//pink</span></div><div class=\"line\">sayColor(); <span class=\"comment\">//green</span></div></pre></td></tr></table></figure>\n<p><code>protoType</code> 原型链    </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">sum</span> (<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> num1+num2;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// call 参数1:运行函数的作用域 参数2 agruments或者Array</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callSum1</span>(<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> sum.apply(<span class=\"keyword\">this</span>,<span class=\"built_in\">arguments</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callSum2</span>(<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> sum.apply(<span class=\"keyword\">this</span>,[num1,num2])</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">// apply 参数1：运行函数的作用域 其他参数:就是把apply中的数组拆开</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">callSum2</span>(<span class=\"params\">num1,num2</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> sum.apply(<span class=\"keyword\">this</span>,num1,num2)</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><code>encodeURIComponent()</code> //encode字符串<br><code>decodeURICopmonent()</code> //decode字符串<br><code>eval(express)</code> //解析字符串表达式<br><code>eval(&quot;console.log(&#39;我是被解析的表达式&#39;)&quot;)</code>   </p>\n<h4 id=\"6-Math\"><a href=\"#6-Math\" class=\"headerlink\" title=\"6. Math\"></a>6. <code>Math</code></h4><p><code>Math.E</code> //e<br><code>Math.LN10</code> //10的自然对数<br><code>Math.LOG10E</code> //以10为底e的对数<br><code>Math.PI</code>  //PI<br><code>Math.SQRT2</code> //2的平方根<br><code>Math.SQRT1_2</code>  // 1/2的平方根   </p>\n<p>方法：<br><code>Math.min(Array)</code><br><code>Math.max(Array)</code><br><code>Math.ceil(parm)</code> //向上取整<br><code>Math.floor(parm)</code> //向下取整<br><code>Math.round(parm)</code> //标准的四舍五入<br><code>Math.random()</code>  // 0-1之间的数<br><code>Math.abs(parm)</code> //绝对值</p>\n<h3 id=\"八、面向对象的编程方法\"><a href=\"#八、面向对象的编程方法\" class=\"headerlink\" title=\"八、面向对象的编程方法\"></a>八、面向对象的编程方法</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> person = &#123;</div><div class=\"line\">  <span class=\"attr\">name</span>:<span class=\"string\">'xiaomo'</span>,</div><div class=\"line\">  <span class=\"attr\">age</span>:<span class=\"number\">25</span>，</div><div class=\"line\">  sayHello:<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>工厂模式</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">createPerson</span>(<span class=\"params\">name,age,job</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"built_in\">Object</span>();</div><div class=\"line\">    o.name = name;</div><div class=\"line\">    o.age= age;</div><div class=\"line\">    o.job =job;</div><div class=\"line\">    o.sayName=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"keyword\">return</span> o;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"keyword\">var</span> person1 = createPerson(<span class=\"string\">'xiaomo'</span>,<span class=\"number\">25</span>,<span class=\"string\">'programer'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> person2 = createPerson(<span class=\"string\">'xiaoming'</span>,<span class=\"number\">20</span>,<span class=\"string\">'it'</span>);</div></pre></td></tr></table></figure>\n<p>构造函数(不用显式的创建对象，不用返回值，直接把属性赋给this)</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\">name,age,job</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.name = name;</div><div class=\"line\">    <span class=\"keyword\">this</span>.age = age,</div><div class=\"line\">    <span class=\"keyword\">this</span>.job = job;</div><div class=\"line\">    <span class=\"keyword\">this</span>.sayName = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person(<span class=\"string\">'xiaomo'</span>,<span class=\"number\">25</span>,<span class=\"string\">'programer'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> person2 = <span class=\"keyword\">new</span> Person(<span class=\"string\">'xiaoming'</span>,<span class=\"number\">20</span>,<span class=\"string\">'it'</span>);</div></pre></td></tr></table></figure>\n<p>判断类型 <code>instanceof</code>  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">person1 <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Object</span> <span class=\"comment\">//true</span></div><div class=\"line\">person1 <span class=\"keyword\">instanceof</span> Person <span class=\"comment\">//true</span></div></pre></td></tr></table></figure>\n<p>原型模式    </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Person</span>(<span class=\"params\"></span>)</span>&#123;&#125;</div><div class=\"line\"><span class=\"comment\">//实际上隐式的创建一个构造函数constructor</span></div><div class=\"line\">Person.prototype.name=<span class=\"string\">'xiaomo'</span>;</div><div class=\"line\">Person.prototype.age=<span class=\"number\">25</span>;</div><div class=\"line\">Person.prototype.job=<span class=\"string\">'programmer'</span>;</div><div class=\"line\">Person.prototype.sayName=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//当前也可以这样</span></div><div class=\"line\">Person.prototype=&#123;</div><div class=\"line\">  name=<span class=\"string\">'xiaomo'</span>;</div><div class=\"line\">  age=<span class=\"number\">25</span>;</div><div class=\"line\">  job=<span class=\"string\">'programmer'</span>;</div><div class=\"line\">  sayName=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"keyword\">this</span>.name);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> Person();</div><div class=\"line\">Person.prototype.isPrototypeOf(person1); <span class=\"comment\">//true</span></div><div class=\"line\"><span class=\"built_in\">Object</span>.getPrototypeOf(person1.name); <span class=\"comment\">//xiaomo</span></div><div class=\"line\">person1.hasOwnProperty(<span class=\"string\">'name'</span>) <span class=\"comment\">//false 存在于protoType中，不存在于实例中</span></div><div class=\"line\"><span class=\"string\">'name'</span> <span class=\"keyword\">in</span> person1 <span class=\"comment\">//true  虽然实例中没有,但是它的原型链有,所以返回true</span></div><div class=\"line\"><span class=\"built_in\">Object</span>.keys(person1) <span class=\"comment\">//会枚举出实例中所有的属性</span></div></pre></td></tr></table></figure>\n<h3 id=\"九、定时器和延迟执行\"><a href=\"#九、定时器和延迟执行\" class=\"headerlink\" title=\"九、定时器和延迟执行\"></a>九、定时器和延迟执行</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//延迟一秒执行fn函数，只执行一次</span></div><div class=\"line\">  <span class=\"keyword\">let</span> timeout = <span class=\"number\">1000</span>;</div><div class=\"line\">  <span class=\"keyword\">var</span> fn = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'hello'</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> timeoutId = setTimeout(fn,timeout)</div><div class=\"line\">  <span class=\"comment\">//清除间歇执行函数</span></div><div class=\"line\">  clearTimeout(timeoutId);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">//定时器，每秒执行fn函数，直到清除定时器</span></div><div class=\"line\">  <span class=\"keyword\">var</span> timeout = <span class=\"number\">1000</span>;</div><div class=\"line\">  <span class=\"keyword\">var</span> fn = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'定时器'</span>)</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> intervalId = setInterval(fn,timout)</div><div class=\"line\">  <span class=\"comment\">//清除定时器</span></div><div class=\"line\">  clearInterval(itervalId);</div></pre></td></tr></table></figure>\n<h3 id=\"十、BOM-浏览器相关\"><a href=\"#十、BOM-浏览器相关\" class=\"headerlink\" title=\"十、BOM(浏览器相关)\"></a>十、BOM(浏览器相关)</h3><h4 id=\"1-系统对话框\"><a href=\"#1-系统对话框\" class=\"headerlink\" title=\"1. 系统对话框\"></a>1. 系统对话框</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">alert(); <span class=\"comment\">//弹出框</span></div><div class=\"line\"></div><div class=\"line\">confirm();<span class=\"comment\">//确认框</span></div><div class=\"line\"><span class=\"keyword\">if</span>(confirm(<span class=\"string\">'are you sure?'</span>))&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'sure'</span>);</div><div class=\"line\">&#125; <span class=\"keyword\">else</span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'I am not sure!'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">prompt();<span class=\"comment\">//交互框</span></div><div class=\"line\"><span class=\"keyword\">var</span> result = promot(<span class=\"string\">\"what's up?\"</span>，<span class=\"string\">'默认值'</span>);</div><div class=\"line\"><span class=\"keyword\">if</span>(result!=<span class=\"literal\">null</span>)&#123;</div><div class=\"line\">  alert(result);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-location对象\"><a href=\"#2-location对象\" class=\"headerlink\" title=\"2. location对象\"></a>2. location对象</h4><p>参数</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">location<span class=\"selector-class\">.hash</span> <span class=\"comment\">//#contents url的hash值</span></div><div class=\"line\">location<span class=\"selector-class\">.host</span> <span class=\"comment\">// ip</span></div><div class=\"line\">location<span class=\"selector-class\">.hostname</span> <span class=\"comment\">//域名</span></div><div class=\"line\">location<span class=\"selector-class\">.href</span> <span class=\"comment\">//http域名</span></div><div class=\"line\">location<span class=\"selector-class\">.pathname</span> <span class=\"comment\">//url的目录</span></div><div class=\"line\">location<span class=\"selector-class\">.port</span> <span class=\"comment\">//8080</span></div><div class=\"line\">location<span class=\"selector-class\">.protocool</span> <span class=\"comment\">//协议</span></div><div class=\"line\">location<span class=\"selector-class\">.search</span> <span class=\"comment\">//?q=search</span></div><div class=\"line\">location.reload() <span class=\"comment\">//可能从缓存加载</span></div><div class=\"line\">location.reload(true) <span class=\"comment\">//重新加载</span></div></pre></td></tr></table></figure>\n<h4 id=\"3-navigator对象\"><a href=\"#3-navigator对象\" class=\"headerlink\" title=\"3. navigator对象\"></a>3. navigator对象</h4><p> 检测浏览器属性    </p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">navigator.appCodeName <span class=\"comment\">//浏览器的名字</span></div><div class=\"line\">navigator.appName <span class=\"comment\">//完整的浏览器名称</span></div><div class=\"line\">navigator.appVersion <span class=\"comment\">//浏览器的版本</span></div><div class=\"line\">navigator.cookieEnabled <span class=\"comment\">//cookie是否启用</span></div><div class=\"line\">navigator.javaEnabled() <span class=\"comment\">//java是否启用</span></div><div class=\"line\">navigator.language <span class=\"comment\">//主语言 zh-CH</span></div><div class=\"line\">navigator.languages <span class=\"comment\">//支持的语言</span></div><div class=\"line\">navigator.onLine <span class=\"comment\">//浏览器是否连接到了internet</span></div><div class=\"line\">navigator.platofrm <span class=\"comment\">//浏览器的平台 \"Win32\"</span></div><div class=\"line\">navigator.plugins <span class=\"comment\">//返回浏览器安装的插件的数组</span></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">hasPlugin</span><span class=\"params\">(name)</span></span>&#123;</div><div class=\"line\">  name  = name.toLowerCase();</div><div class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span> ; i&lt;navigator.plugins.length;i++)&#123;</div><div class=\"line\">    <span class=\"comment\">// &gt;-1表示找到了</span></div><div class=\"line\">    <span class=\"keyword\">var</span> isTrue = navigator.plugins[i].name.toLowerCase().indexOf(name)&gt;<span class=\"number\">-1</span>;</div><div class=\"line\">    <span class=\"keyword\">if</span>(isTrue)&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span> ;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-history对象\"><a href=\"#4-history对象\" class=\"headerlink\" title=\"4. history对象\"></a>4. history对象</h4><figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">history.<span class=\"keyword\">go</span>(<span class=\"number\">-1</span>);<span class=\"comment\">//后退一页</span></div><div class=\"line\">history.back();</div><div class=\"line\"></div><div class=\"line\">history.<span class=\"keyword\">go</span>(<span class=\"number\">1</span>);<span class=\"comment\">//前进一页</span></div><div class=\"line\">history.forward();</div><div class=\"line\"></div><div class=\"line\">history.<span class=\"keyword\">go</span>(<span class=\"string\">'xiaomo.info'</span>)<span class=\"comment\">//跳转到最近访问过的该页面</span></div><div class=\"line\">history.length==<span class=\"number\">0</span> <span class=\"comment\">//表示这是用户打开浏览器的第一个页面</span></div></pre></td></tr></table></figure>\n<h3 id=\"十一、表单\"><a href=\"#十一、表单\" class=\"headerlink\" title=\"十一、表单\"></a>十一、表单</h3><h4 id=\"1-表单属性\"><a href=\"#1-表单属性\" class=\"headerlink\" title=\"1. 表单属性\"></a>1. 表单属性</h4><figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\">acceptCharset 服务器能够处理的字符集</div><div class=\"line\">action 接受请求的url</div><div class=\"line\">elements 表单所有控件的集合</div><div class=\"line\">enctype 请求的编码类型</div><div class=\"line\">length 表单中控件的数量</div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">method</span> <span class=\"title\">get</span>/<span class=\"title\">post</span></div><div class=\"line\"><span class=\"title\">name</span> 表单的名字</div><div class=\"line\"><span class=\"title\">reset</span><span class=\"params\">()</span> 重置</div><div class=\"line\"><span class=\"title\">submit</span><span class=\"params\">()</span> 提交</div><div class=\"line\"><span class=\"title\">target</span></span></div></pre></td></tr></table></figure>\n<p><code>document.forms</code> 可以取到表单的所有控件    </p>\n<h4 id=\"2-控件\"><a href=\"#2-控件\" class=\"headerlink\" title=\"2. 控件\"></a>2. 控件</h4><figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">disabled 当前字段是否禁用</div><div class=\"line\"><span class=\"keyword\">form</span> 指向当前字段所属表单的指针:只读</div><div class=\"line\"><span class=\"keyword\">name</span> 当前字段的名字</div><div class=\"line\">readOnly 当前字段只读</div><div class=\"line\">tabIndex tab切换的序号</div><div class=\"line\"><span class=\"keyword\">type</span> 当前字段的类型</div><div class=\"line\"><span class=\"keyword\">value</span> 当前字段提交给服务器的值</div></pre></td></tr></table></figure>\n<p>修改控件的值</p>\n<figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> input = document.getElementById(<span class=\"string\">'name'</span>);</div><div class=\"line\"><span class=\"keyword\">name</span>.value=<span class=\"string\">'xiaomo'</span></div><div class=\"line\"><span class=\"keyword\">name</span>.focus(); <span class=\"comment\">//把焦点设置到当前字段</span></div><div class=\"line\"><span class=\"comment\">//在控件中加入 autofocus=\"focus\" 是一样的效果</span></div></pre></td></tr></table></figure>\n<p>选择文本<br><code>element.select()</code>     </p>\n<p>取得选中的文本<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">alertText</span>(<span class=\"params\">username</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> username = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'username'</span>);</div><div class=\"line\">    alert(getSelectText(username));</div><div class=\"line\">    &#125;</div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">getSelectText</span>(<span class=\"params\">textbox</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">// html</span></div><div class=\"line\">&lt;input type=<span class=\"string\">\"input\"</span> id=<span class=\"string\">\"username\"</span> value=<span class=\"string\">\"我是测试文本，看一下能不能被选中\"</span>&gt;</div><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"button\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"确定\"</span> <span class=\"attr\">onclick</span>=<span class=\"string\">\"alertText()\"</span>&gt;</span></span></div></pre></td></tr></table></figure></p>\n<h4 id=\"3-剪贴板事件\"><a href=\"#3-剪贴板事件\" class=\"headerlink\" title=\"3. 剪贴板事件\"></a>3. 剪贴板事件</h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">beforecopy</div><div class=\"line\">copy</div><div class=\"line\">cut</div><div class=\"line\">beforepaste</div><div class=\"line\">paste</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//写一个公用方</span></div><div class=\"line\"><span class=\"keyword\">var</span> EventUtil = &#123;</div><div class=\"line\"></div><div class=\"line\">  getClipboardText:function(<span class=\"keyword\">event</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> clipboardData  = (<span class=\"keyword\">event</span>.clipboardData || window.clipboardData);</div><div class=\"line\">    <span class=\"keyword\">return</span> clipboardData.getData(<span class=\"string\">'text'</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  setClipboardText:function(<span class=\"keyword\">event</span>,<span class=\"keyword\">value</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">event</span>.clipboardData)&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">event</span>.clipboardData.setData(<span class=\"string\">\"text/plain\"</span>,<span class=\"keyword\">value</span>);</div><div class=\"line\">    &#125; <span class=\"function\"><span class=\"keyword\">else</span> <span class=\"title\">if</span> (<span class=\"params\">window.clipboardData</span>)</span>&#123;</div><div class=\"line\">      <span class=\"keyword\">return</span> window.clipboardData.setData(<span class=\"string\">\"txt\"</span>,<span class=\"keyword\">value</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">EventUtil.addHander(txtbox,<span class=\"string\">\"paste\"</span>,function(<span class=\"keyword\">event</span>))&#123;</div><div class=\"line\">  <span class=\"keyword\">event</span>  = EventUtil.getEvent(<span class=\"keyword\">event</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> text = EventUtil.getClipboardText(<span class=\"keyword\">event</span>);</div><div class=\"line\">  <span class=\"keyword\">if</span>(!/^\\d*$/.test(text))&#123;</div><div class=\"line\">    EventUtil.preventDefault(<span class=\"keyword\">event</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><a href=\"http://www.cnblogs.com/hykun/p/EventUtil.html\">EventUtil</a></p>\n<p>自动切换焦点</p>\n<figure class=\"highlight scheme\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">(<span class=\"name\">function</span>()&#123;</div><div class=\"line\">  function tabForward(<span class=\"name\">event</span>)&#123;</div><div class=\"line\">    event = EventUtil.getEvent(<span class=\"name\">event</span>)<span class=\"comment\">;</span></div><div class=\"line\">    var target = EventUtil.getTarget(<span class=\"name\">event</span>)<span class=\"comment\">;</span></div><div class=\"line\">    if(<span class=\"name\">target.value.length</span> = target.maxLength)&#123;</div><div class=\"line\">      var form = target.form<span class=\"comment\">;</span></div><div class=\"line\">      for( var i =0<span class=\"comment\">; len = form.elements.length;i&lt;len;i++)&#123;</span></div><div class=\"line\">        if(<span class=\"name\">form.elements</span>[<span class=\"name\">i</span>]==target)&#123;</div><div class=\"line\">          if(<span class=\"name\">form.elements</span>[<span class=\"name\">i+1</span>])&#123;</div><div class=\"line\">            form.elements[<span class=\"name\">i+1</span>].focus()<span class=\"comment\">;</span></div><div class=\"line\">          &#125;</div><div class=\"line\">          return<span class=\"comment\">;</span></div><div class=\"line\">        &#125;</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  var text1 = document.getElementById(<span class=\"symbol\">'text1</span>')<span class=\"comment\">;</span></div><div class=\"line\">  var text2 = document.getElementById(<span class=\"symbol\">'text2</span>')<span class=\"comment\">;</span></div><div class=\"line\">  var text3 = document.getElementById(<span class=\"symbol\">'text3</span>')<span class=\"comment\">;</span></div><div class=\"line\">  EventUtil.addHander(<span class=\"name\">text1</span>,<span class=\"symbol\">'keyup</span>',tabForward)<span class=\"comment\">;</span></div><div class=\"line\">  EventUtil.addHander(<span class=\"name\">text2</span>,<span class=\"symbol\">'keyup</span>',tabForward</div><div class=\"line\">  EventUtil.addHander(<span class=\"name\">text3</span>,<span class=\"symbol\">'keyup</span>',tabForward</div><div class=\"line\">  &#125;)()</div></pre></td></tr></table></figure>\n<h4 id=\"4-下拉框-select\"><a href=\"#4-下拉框-select\" class=\"headerlink\" title=\"4. 下拉框 select\"></a>4. 下拉框 select</h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">add</span>(newOption,relOption) 插入一个option</div><div class=\"line\"><span class=\"comment\">//最佳做法(在列表最后插入一个option)</span></div><div class=\"line\"><span class=\"keyword\">var</span> newOption = <span class=\"keyword\">new</span> Option(<span class=\"string\">\"text\"</span>,<span class=\"string\">\"value\"</span>);</div><div class=\"line\">selectBox.<span class=\"keyword\">add</span>(newOption,undefined);</div><div class=\"line\"></div><div class=\"line\">multiple 是否允许多选</div><div class=\"line\">options 控件中所有options的<span class=\"function\">HTMLCollection</div><div class=\"line\"><span class=\"title\">remove</span>(<span class=\"params\">index</span>) 移除指定位置的选项</div><div class=\"line\"><span class=\"comment\">//移除指定的选项(这里移除的是第一项)</span></div><div class=\"line\"><span class=\"keyword\">var</span> index </span>= <span class=\"number\">0</span></div><div class=\"line\">selectBox.<span class=\"keyword\">remove</span>(selectBox.options[index])</div><div class=\"line\">selectedIndex 基于<span class=\"number\">0</span>的选中项的索引,没有选中项<span class=\"number\">-1</span></div><div class=\"line\">size 选择框中可见的行数</div><div class=\"line\">text 选中项的文本内容</div><div class=\"line\"><span class=\"keyword\">value</span> 选项的值</div><div class=\"line\"><span class=\"comment\">//移动一个选项到特定位置(将第2个选项移动到最后一个选项)</span></div><div class=\"line\"><span class=\"keyword\">var</span> optionToMove = selectBox.options[<span class=\"number\">1</span>];</div><div class=\"line\">selectBox.insertBefore(optionToMove,selectBox.options[optionToMove.index<span class=\"number\">-1</span>])</div><div class=\"line\">/添加一个选项(把当前列表中的第一个选项添加到当前列表的最后)</div><div class=\"line\">selectBox.appendChind(selectBox.options[<span class=\"number\">0</span>]);</div></pre></td></tr></table></figure>\n<h4 id=\"5-表单序列化\"><a href=\"#5-表单序列化\" class=\"headerlink\" title=\"5. 表单序列化\"></a>5. 表单序列化</h4><p>原则：<br>对表单字段的名字和值进行url编码,使用&amp;分割<br>不发送禁用的表单字段<br>只发送勾选的单选按钮和复选框<br>不发送type为reset和button的按钮<br>多选框中的每选中的值单独一个条目<br>submit的时候,本按钮也会被提交<br>select发送的时候如果有value就发value的值 没有就发text内容  </p>\n<p><code>form.serialize()</code>  </p>\n<h4 id=\"6-富文本编辑器\"><a href=\"#6-富文本编辑器\" class=\"headerlink\" title=\"6. 富文本编辑器\"></a>6. 富文本编辑器</h4><p>只要加上<code>contenteditable</code>就可以让div可以编辑<br><code>&lt;div id=&quot;richedit&quot; contenteditable&gt;&lt;/div&gt;</code><br>也可以用js控制</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">var richedit = <span class=\"built_in\">document</span>.getElementById(<span class=\"string\">'richedit'</span>);</div><div class=\"line\">richedit.contenteditable=<span class=\"string\">\"true\"</span>;</div><div class=\"line\"><span class=\"regexp\">//</span> <span class=\"literal\">true</span> <span class=\"literal\">false</span> inherit</div><div class=\"line\"><span class=\"built_in\">document</span>.exexCommand(命令,<span class=\"literal\">false</span>,值);</div><div class=\"line\"><span class=\"regexp\">//</span><span class=\"built_in\">document</span>.exexCommand(<span class=\"string\">'bold'</span>,<span class=\"literal\">false</span>,<span class=\"literal\">null</span>);</div></pre></td></tr></table></figure>\n<h3 id=\"十二、canvas\"><a href=\"#十二、canvas\" class=\"headerlink\" title=\"十二、canvas\"></a>十二、canvas</h3><figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//定义一个canvas   </span></div><div class=\"line\">&lt;canvas id=<span class=\"string\">\"drawing\"</span> <span class=\"built_in\">width</span>=<span class=\"string\">\"200\"</span> <span class=\"built_in\">height</span>=<span class=\"string\">\"200\"</span>&gt;</div><div class=\"line\">    您的浏览器不支持canvas</div><div class=\"line\">&lt;/canvas&gt;</div><div class=\"line\"><span class=\"comment\">//获取canvas</span></div><div class=\"line\">document.getElementById(<span class=\"string\">'drawing'</span>);</div><div class=\"line\"><span class=\"built_in\">if</span>(drawing.getContext)&#123;</div><div class=\"line\">  var context = drawing.getContext(<span class=\"string\">'2d'</span>);</div><div class=\"line\">  context.fillReact(<span class=\"number\">30</span>,<span class=\"number\">30</span>,<span class=\"number\">30</span>,<span class=\"number\">30</span>); <span class=\"comment\">//画了一个正方形</span></div><div class=\"line\">  context.fillStyle=<span class=\"string\">'#fff'</span>; <span class=\"comment\">//填充</span></div><div class=\"line\">  context.strokeStyle=<span class=\"string\">'red'</span>; <span class=\"comment\">//描边</span></div><div class=\"line\">  <span class=\"comment\">// todo</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"十三、html5脚本编程\"><a href=\"#十三、html5脚本编程\" class=\"headerlink\" title=\"十三、html5脚本编程\"></a>十三、html5脚本编程</h3><figure class=\"highlight mel\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//跨文档消息传送</span></div><div class=\"line\">EventUtil.addHander(<span class=\"keyword\">window</span>,<span class=\"string\">\"message\"</span>,function(<span class=\"keyword\">event</span>)&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span>(<span class=\"keyword\">event</span>.origin=<span class=\"string\">\"http://www.wrox.com\"</span>)&#123;<span class=\"comment\">//发送消息的文档所在的域</span></div><div class=\"line\">      <span class=\"comment\">//接受参数</span></div><div class=\"line\">      processMessage(<span class=\"keyword\">event</span>.data);</div><div class=\"line\">      <span class=\"comment\">//可选:向窗口来源发送回执</span></div><div class=\"line\">      <span class=\"keyword\">event</span>.<span class=\"keyword\">source</span>.postMessage(<span class=\"string\">\"Receiived\"</span>,<span class=\"string\">\"http://xiaomo.info\"</span>)</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h3 id=\"十四、本地存储\"><a href=\"#十四、本地存储\" class=\"headerlink\" title=\"十四、本地存储\"></a>十四、本地存储</h3><h4 id=\"1-cookie\"><a href=\"#1-cookie\" class=\"headerlink\" title=\"1. cookie\"></a>1. cookie</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> CookieUtil = &#123;</div><div class=\"line\"><span class=\"comment\">//根据key读取cookie</span></div><div class=\"line\">    get: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">name</span>)</span>&#123;</div><div class=\"line\">         <span class=\"comment\">//注意对键编码</span></div><div class=\"line\">        <span class=\"keyword\">var</span> cookieName = <span class=\"built_in\">encodeURIComponent</span>(name) + <span class=\"string\">\"=\"</span>,</div><div class=\"line\">            cookieStart = <span class=\"built_in\">document</span>.cookie.indexOf(cookieName),</div><div class=\"line\">            cookieValue = <span class=\"literal\">null</span>,</div><div class=\"line\">            cookieEnd;</div><div class=\"line\">        <span class=\"comment\">//找到cookie键</span></div><div class=\"line\">        <span class=\"keyword\">if</span> (cookieStart &gt; <span class=\"number\">-1</span>)&#123;</div><div class=\"line\">             <span class=\"comment\">//键后面第一个分号位置</span></div><div class=\"line\">            cookieEnd = <span class=\"built_in\">document</span>.cookie.indexOf(<span class=\"string\">\";\"</span>, cookieStart);</div><div class=\"line\">            <span class=\"keyword\">if</span> (cookieEnd == <span class=\"number\">-1</span>)&#123;</div><div class=\"line\">                cookieEnd = <span class=\"built_in\">document</span>.cookie.length;</div><div class=\"line\">            &#125;</div><div class=\"line\">            <span class=\"comment\">//cookie值解码</span></div><div class=\"line\">            cookieValue = <span class=\"built_in\">decodeURIComponent</span>(<span class=\"built_in\">document</span>.cookie.substring(cookieStart + cookieName.length, cookieEnd));</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">return</span> cookieValue;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"comment\">//设置cookie</span></div><div class=\"line\">    set: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">name, value, expires, path, domain, secure</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">var</span> cookieText = <span class=\"built_in\">encodeURIComponent</span>(name) + <span class=\"string\">\"=\"</span> + <span class=\"built_in\">encodeURIComponent</span>(value);</div><div class=\"line\">        <span class=\"comment\">//失效时间，GMT时间格式</span></div><div class=\"line\">        <span class=\"keyword\">if</span> (expires <span class=\"keyword\">instanceof</span> <span class=\"built_in\">Date</span>) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; expires=\"</span> + expires.toGMTString();</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span> (path) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; path=\"</span> + path;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span> (domain) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; domain=\"</span> + domain;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">if</span> (secure) &#123;</div><div class=\"line\">            cookieText += <span class=\"string\">\"; secure\"</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"built_in\">document</span>.cookie = cookieText;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"comment\">//删除cookie，保持相同的键、域、路径、安全选项，然后设置失效时间即可</span></div><div class=\"line\">    unset: <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">name, path, domain, secure</span>)</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.set(name, <span class=\"string\">\"\"</span>, <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>(<span class=\"number\">0</span>), path, domain, secure);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p>使用util方法   </p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.set</span>(<span class=\"string\">'name'</span>,<span class=\"string\">'xiaomo'</span>);</div><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.set</span>(<span class=\"string\">'age'</span>,<span class=\"number\">26</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"selector-tag\">console</span><span class=\"selector-class\">.log</span>(CookieUtil.get(<span class=\"string\">'name'</span>));</div><div class=\"line\"><span class=\"selector-tag\">console</span><span class=\"selector-class\">.log</span>(CookieUtil.get(<span class=\"string\">'age'</span>));</div><div class=\"line\"></div><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.unset</span>(<span class=\"string\">'name'</span>);</div><div class=\"line\"><span class=\"selector-tag\">CookieUtil</span><span class=\"selector-class\">.unset</span>(<span class=\"string\">'age'</span>);</div></pre></td></tr></table></figure>\n<h4 id=\"2-localStorage\"><a href=\"#2-localStorage\" class=\"headerlink\" title=\"2. localStorage\"></a>2. localStorage</h4><figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.setItem(<span class=\"built_in\">key</span>,value);<span class=\"comment\">//存储数据</span></div><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.getItem(<span class=\"built_in\">key</span>);<span class=\"comment\">//读取数据</span></div><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.removeItem(<span class=\"built_in\">key</span>);<span class=\"comment\">//删除数据项</span></div><div class=\"line\"><span class=\"built_in\">Window</span>.localStorage.<span class=\"keyword\">clear</span>();<span class=\"comment\">//删除所有数据</span></div></pre></td></tr></table></figure>"},{"title":"制作透明背景 PNG 图片和 GIF 动图的几种方法","date":"2015-11-16T14:28:00.000Z","_content":"\n　　偶尔需要将图片的背景透明，渐渐掌握了几种较为简便的处理方法。写篇文章记录一下经验，免得自己哪天又忘了。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### PowerPoint → PNG\n\n> 微软幻灯片工具 PowerPoint 也可以用来简单处理下图片，比如透明化背景。\n\n1. 打开 PowerPoint，新建一张幻灯片页面，然后把待处理的图片拖进去。\n\n1. 依次点击`格式`选项卡 - `颜色`菜单 - `设置透明色` - 点选背景色。这样背景就透明化了，再右键图片另存为 PNG 格式即可。\n\n- `删除背景`功能类似，不过感觉没上面的方式快捷。\n\n![PPT-PNG](http://moxfive.xyz/resources/PPT-PNG.jpg)\n\n### PhotoShop → PNG\n\n> 如果电脑上安了 PhotoShop，那我们可以更灵活地制作透明背景图片。\n\n1. 用 PS 打开待处理的静态图片，双击图层框右侧`小锁`标志解锁图层;\n\n1. 选用`魔棒工具`，调整`容差`为10左右(容差越大，选取的相似颜色越多)，勾选`消除锯齿`;\n\n1. 点选背景，按键盘`del`键删除之(按住`shitf`键可以多选)，之后将图片另存为 PNG 格式即可。\n\n![PS-PNG](http://moxfive.xyz/resources/PS-PNG.jpg)\n\n### PhotoShop → GIF\n\n> PhotoShop 用来透明化 GIF 动图背景也是很方便的。\n\n1. 用 PS 打开待处理的 GIF 动图，并确保`时间轴`窗口已显示(`窗口`菜单 - 勾选`时间轴`)；\n\n1. 全选`时间轴`中的图片(可利用`shift`键全选)，右键图片，勾选`自动`(跳过此步生产的动图会有重影)；\n\n1. 点击`文件`菜单 - `存储为 Web 所用格式...`；\n\n1. 在颜色表中，先点选的小星点，再点击下方第一个按钮将背景透明，之后点击`存储...`保存 GIF 到目标位置即可。\n\n![PS-GIF-1](http://moxfive.xyz/resources/PS-GIF-1.jpg)\n![PS-GIF-2](http://moxfive.xyz/resources/PS-GIF-2.jpg)\n\n### 一些成品\n展示一些已经透明化背景的图片。\n\n![Mihawk](http://moxfive.xyz/resources/Mihawk.gif)![food-boy](http://moxfive.xyz/resources/food-boy.gif)![bilibili](http://moxfive.xyz/resources/bilibili.gif)\n\n### 拓展阅读\n1. ***移动端图片格式调研*** by **ibireme** on <code>2015/11/2</code>: <http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/>\n1. ***解决GIF动画图去背景后出现的重影*** by **有烟飘过** on <code>2010/5/10</code>: <http://tieba.baidu.com/p/2106457600>\n","source":"_posts/2016-05-21.png_gif_transparency.md","raw":"---\ntitle: 制作透明背景 PNG 图片和 GIF 动图的几种方法\ndate: 2015-11-16 22:28:00\ncategories:\n- 触类旁通\ntags:\n- PhotoShop\npermalink: PngGifTransparency\n---\n\n　　偶尔需要将图片的背景透明，渐渐掌握了几种较为简便的处理方法。写篇文章记录一下经验，免得自己哪天又忘了。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### PowerPoint → PNG\n\n> 微软幻灯片工具 PowerPoint 也可以用来简单处理下图片，比如透明化背景。\n\n1. 打开 PowerPoint，新建一张幻灯片页面，然后把待处理的图片拖进去。\n\n1. 依次点击`格式`选项卡 - `颜色`菜单 - `设置透明色` - 点选背景色。这样背景就透明化了，再右键图片另存为 PNG 格式即可。\n\n- `删除背景`功能类似，不过感觉没上面的方式快捷。\n\n![PPT-PNG](http://moxfive.xyz/resources/PPT-PNG.jpg)\n\n### PhotoShop → PNG\n\n> 如果电脑上安了 PhotoShop，那我们可以更灵活地制作透明背景图片。\n\n1. 用 PS 打开待处理的静态图片，双击图层框右侧`小锁`标志解锁图层;\n\n1. 选用`魔棒工具`，调整`容差`为10左右(容差越大，选取的相似颜色越多)，勾选`消除锯齿`;\n\n1. 点选背景，按键盘`del`键删除之(按住`shitf`键可以多选)，之后将图片另存为 PNG 格式即可。\n\n![PS-PNG](http://moxfive.xyz/resources/PS-PNG.jpg)\n\n### PhotoShop → GIF\n\n> PhotoShop 用来透明化 GIF 动图背景也是很方便的。\n\n1. 用 PS 打开待处理的 GIF 动图，并确保`时间轴`窗口已显示(`窗口`菜单 - 勾选`时间轴`)；\n\n1. 全选`时间轴`中的图片(可利用`shift`键全选)，右键图片，勾选`自动`(跳过此步生产的动图会有重影)；\n\n1. 点击`文件`菜单 - `存储为 Web 所用格式...`；\n\n1. 在颜色表中，先点选的小星点，再点击下方第一个按钮将背景透明，之后点击`存储...`保存 GIF 到目标位置即可。\n\n![PS-GIF-1](http://moxfive.xyz/resources/PS-GIF-1.jpg)\n![PS-GIF-2](http://moxfive.xyz/resources/PS-GIF-2.jpg)\n\n### 一些成品\n展示一些已经透明化背景的图片。\n\n![Mihawk](http://moxfive.xyz/resources/Mihawk.gif)![food-boy](http://moxfive.xyz/resources/food-boy.gif)![bilibili](http://moxfive.xyz/resources/bilibili.gif)\n\n### 拓展阅读\n1. ***移动端图片格式调研*** by **ibireme** on <code>2015/11/2</code>: <http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/>\n1. ***解决GIF动画图去背景后出现的重影*** by **有烟飘过** on <code>2010/5/10</code>: <http://tieba.baidu.com/p/2106457600>\n","slug":"PngGifTransparency","published":1,"updated":"2016-12-01T06:50:27.465Z","_id":"civ0ggq74001lrwvn2rv4hbcn","comments":1,"layout":"post","photos":[],"link":"","content":"<p>　　偶尔需要将图片的背景透明，渐渐掌握了几种较为简便的处理方法。写篇文章记录一下经验，免得自己哪天又忘了。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"PowerPoint-→-PNG\"><a href=\"#PowerPoint-→-PNG\" class=\"headerlink\" title=\"PowerPoint → PNG\"></a>PowerPoint → PNG</h3><blockquote>\n<p>微软幻灯片工具 PowerPoint 也可以用来简单处理下图片，比如透明化背景。</p>\n</blockquote>\n<ol>\n<li><p>打开 PowerPoint，新建一张幻灯片页面，然后把待处理的图片拖进去。</p>\n</li>\n<li><p>依次点击<code>格式</code>选项卡 - <code>颜色</code>菜单 - <code>设置透明色</code> - 点选背景色。这样背景就透明化了，再右键图片另存为 PNG 格式即可。</p>\n</li>\n</ol>\n<ul>\n<li><code>删除背景</code>功能类似，不过感觉没上面的方式快捷。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/PPT-PNG.jpg\" alt=\"PPT-PNG\"></p>\n<h3 id=\"PhotoShop-→-PNG\"><a href=\"#PhotoShop-→-PNG\" class=\"headerlink\" title=\"PhotoShop → PNG\"></a>PhotoShop → PNG</h3><blockquote>\n<p>如果电脑上安了 PhotoShop，那我们可以更灵活地制作透明背景图片。</p>\n</blockquote>\n<ol>\n<li><p>用 PS 打开待处理的静态图片，双击图层框右侧<code>小锁</code>标志解锁图层;</p>\n</li>\n<li><p>选用<code>魔棒工具</code>，调整<code>容差</code>为10左右(容差越大，选取的相似颜色越多)，勾选<code>消除锯齿</code>;</p>\n</li>\n<li><p>点选背景，按键盘<code>del</code>键删除之(按住<code>shitf</code>键可以多选)，之后将图片另存为 PNG 格式即可。</p>\n</li>\n</ol>\n<p><img src=\"http://moxfive.xyz/resources/PS-PNG.jpg\" alt=\"PS-PNG\"></p>\n<h3 id=\"PhotoShop-→-GIF\"><a href=\"#PhotoShop-→-GIF\" class=\"headerlink\" title=\"PhotoShop → GIF\"></a>PhotoShop → GIF</h3><blockquote>\n<p>PhotoShop 用来透明化 GIF 动图背景也是很方便的。</p>\n</blockquote>\n<ol>\n<li><p>用 PS 打开待处理的 GIF 动图，并确保<code>时间轴</code>窗口已显示(<code>窗口</code>菜单 - 勾选<code>时间轴</code>)；</p>\n</li>\n<li><p>全选<code>时间轴</code>中的图片(可利用<code>shift</code>键全选)，右键图片，勾选<code>自动</code>(跳过此步生产的动图会有重影)；</p>\n</li>\n<li><p>点击<code>文件</code>菜单 - <code>存储为 Web 所用格式...</code>；</p>\n</li>\n<li><p>在颜色表中，先点选的小星点，再点击下方第一个按钮将背景透明，之后点击<code>存储...</code>保存 GIF 到目标位置即可。</p>\n</li>\n</ol>\n<p><img src=\"http://moxfive.xyz/resources/PS-GIF-1.jpg\" alt=\"PS-GIF-1\"><br><img src=\"http://moxfive.xyz/resources/PS-GIF-2.jpg\" alt=\"PS-GIF-2\"></p>\n<h3 id=\"一些成品\"><a href=\"#一些成品\" class=\"headerlink\" title=\"一些成品\"></a>一些成品</h3><p>展示一些已经透明化背景的图片。</p>\n<p><img src=\"http://moxfive.xyz/resources/Mihawk.gif\" alt=\"Mihawk\"><img src=\"http://moxfive.xyz/resources/food-boy.gif\" alt=\"food-boy\"><img src=\"http://moxfive.xyz/resources/bilibili.gif\" alt=\"bilibili\"></p>\n<h3 id=\"拓展阅读\"><a href=\"#拓展阅读\" class=\"headerlink\" title=\"拓展阅读\"></a>拓展阅读</h3><ol>\n<li><strong><em>移动端图片格式调研</em></strong> by <strong>ibireme</strong> on <code>2015/11/2</code>: <a href=\"http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/\" target=\"_blank\" rel=\"external\">http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/</a></li>\n<li><strong><em>解决GIF动画图去背景后出现的重影</em></strong> by <strong>有烟飘过</strong> on <code>2010/5/10</code>: <a href=\"http://tieba.baidu.com/p/2106457600\" target=\"_blank\" rel=\"external\">http://tieba.baidu.com/p/2106457600</a></li>\n</ol>\n","excerpt":"<p>　　偶尔需要将图片的背景透明，渐渐掌握了几种较为简便的处理方法。写篇文章记录一下经验，免得自己哪天又忘了。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"PowerPoint-→-PNG\"><a href=\"#PowerPoint-→-PNG\" class=\"headerlink\" title=\"PowerPoint → PNG\"></a>PowerPoint → PNG</h3><blockquote>\n<p>微软幻灯片工具 PowerPoint 也可以用来简单处理下图片，比如透明化背景。</p>\n</blockquote>\n<ol>\n<li><p>打开 PowerPoint，新建一张幻灯片页面，然后把待处理的图片拖进去。</p>\n</li>\n<li><p>依次点击<code>格式</code>选项卡 - <code>颜色</code>菜单 - <code>设置透明色</code> - 点选背景色。这样背景就透明化了，再右键图片另存为 PNG 格式即可。</p>\n</li>\n</ol>\n<ul>\n<li><code>删除背景</code>功能类似，不过感觉没上面的方式快捷。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/PPT-PNG.jpg\" alt=\"PPT-PNG\"></p>\n<h3 id=\"PhotoShop-→-PNG\"><a href=\"#PhotoShop-→-PNG\" class=\"headerlink\" title=\"PhotoShop → PNG\"></a>PhotoShop → PNG</h3><blockquote>\n<p>如果电脑上安了 PhotoShop，那我们可以更灵活地制作透明背景图片。</p>\n</blockquote>\n<ol>\n<li><p>用 PS 打开待处理的静态图片，双击图层框右侧<code>小锁</code>标志解锁图层;</p>\n</li>\n<li><p>选用<code>魔棒工具</code>，调整<code>容差</code>为10左右(容差越大，选取的相似颜色越多)，勾选<code>消除锯齿</code>;</p>\n</li>\n<li><p>点选背景，按键盘<code>del</code>键删除之(按住<code>shitf</code>键可以多选)，之后将图片另存为 PNG 格式即可。</p>\n</li>\n</ol>\n<p><img src=\"http://moxfive.xyz/resources/PS-PNG.jpg\" alt=\"PS-PNG\"></p>\n<h3 id=\"PhotoShop-→-GIF\"><a href=\"#PhotoShop-→-GIF\" class=\"headerlink\" title=\"PhotoShop → GIF\"></a>PhotoShop → GIF</h3><blockquote>\n<p>PhotoShop 用来透明化 GIF 动图背景也是很方便的。</p>\n</blockquote>\n<ol>\n<li><p>用 PS 打开待处理的 GIF 动图，并确保<code>时间轴</code>窗口已显示(<code>窗口</code>菜单 - 勾选<code>时间轴</code>)；</p>\n</li>\n<li><p>全选<code>时间轴</code>中的图片(可利用<code>shift</code>键全选)，右键图片，勾选<code>自动</code>(跳过此步生产的动图会有重影)；</p>\n</li>\n<li><p>点击<code>文件</code>菜单 - <code>存储为 Web 所用格式...</code>；</p>\n</li>\n<li><p>在颜色表中，先点选的小星点，再点击下方第一个按钮将背景透明，之后点击<code>存储...</code>保存 GIF 到目标位置即可。</p>\n</li>\n</ol>\n<p><img src=\"http://moxfive.xyz/resources/PS-GIF-1.jpg\" alt=\"PS-GIF-1\"><br><img src=\"http://moxfive.xyz/resources/PS-GIF-2.jpg\" alt=\"PS-GIF-2\"></p>\n<h3 id=\"一些成品\"><a href=\"#一些成品\" class=\"headerlink\" title=\"一些成品\"></a>一些成品</h3><p>展示一些已经透明化背景的图片。</p>\n<p><img src=\"http://moxfive.xyz/resources/Mihawk.gif\" alt=\"Mihawk\"><img src=\"http://moxfive.xyz/resources/food-boy.gif\" alt=\"food-boy\"><img src=\"http://moxfive.xyz/resources/bilibili.gif\" alt=\"bilibili\"></p>\n<h3 id=\"拓展阅读\"><a href=\"#拓展阅读\" class=\"headerlink\" title=\"拓展阅读\"></a>拓展阅读</h3><ol>\n<li><strong><em>移动端图片格式调研</em></strong> by <strong>ibireme</strong> on <code>2015/11/2</code>: <a href=\"http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/\">http://blog.ibireme.com/2015/11/02/mobile_image_benchmark/</a></li>\n<li><strong><em>解决GIF动画图去背景后出现的重影</em></strong> by <strong>有烟飘过</strong> on <code>2010/5/10</code>: <a href=\"http://tieba.baidu.com/p/2106457600\">http://tieba.baidu.com/p/2106457600</a></li>\n</ol>"},{"title":"Anki 自用卡片模板分享","date":"2015-11-23T12:34:38.000Z","_content":"\n<h2 id=\"intro\">前言</h2>[Anki](http://ankisrs.net/) 是一款卡片式的记忆辅助软件。软件在保持轻巧简洁的同时，各种设置也很丰富。另外， Anki 通过嵌入式的网页来展示卡片，大大增强了卡片样式的自定义功能。下面是目前自己常用的卡片样式代码，有折腾闲情的可以试试。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 基础模板\n标题居中，用不同背景色区分答案类型，设置圆角等样式。\n![Anki-a1](http://moxfive.xyz//resources/Anki-a1.png)\n\n#### 模板使用区域\n- 主要需要填写如图所示4个区域。\n![Anki-a2](http://moxfive.xyz//resources/Anki-a2.png)\n\n#### 正面模板\n``` html\n<img src=\"{{logo}}\" class=\"logo\"/>\n<div style=\"font-size:2em\">{{Front}}</div>\n```\n\n#### 样式\n``` css\n.card {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1em;\n\ttext-align:center;\n}\n.logo {\n\twidth: 9em;\n\tpadding: 2em 0 1em;\n}\n.English {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1.5em;\n\ttext-align: justify;\n\tbackground-color: #ffe4f4;\n\tborder-radius: .3em;\n\tpadding: 1em;\n}\n.Chinese {\n\t font-family: 方正中雅宋_GBK;\n\t font-size: 1.5em;\n\t text-align: justify;\n\t background-color: #edffc4;\n\t border-radius: 1.2em .3em;\n\t padding: 1em;\n}\n```\n\n#### 背面模板\n``` html\n{{FrontSide}}\n\n<hr id=answer>\n<div class= Chinese>{{Chinese}}</div>\n<p>\n<div class= English>{{English}}</div>\n```\n\n### 带页脚模板\n加了页脚，左下显示标签分类信息，右下链接到设定的网址。\n\n![Anki-b1](http://moxfive.xyz//resources/Anki-b1.png)\n\n#### 模板使用区域\n- 主要需要填写如图所示5个区域。\n\n![Anki-b2](http://moxfive.xyz//resources/Anki-b2.png)\n\n#### 正面模板\n``` html\n<div class= item_eng>{{Item_ENG}}</div>\n<p class= front>{{Front}}</p>\n<p class= title>{{Tags}}</p>\n<p class= author>M.ZH</p>\n```\n\n#### 样式\n``` css\n.card {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1em;\n\ttext-align: center;\n}\n.Chinese {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1.5em;\n\ttext-align: justify;\n\tbackground-color: #edffc4;\n\tborder-radius: 1.2em 0.3em;\n\tpadding : 0.5em;\n}\n.English {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1.5em;\n\ttext-align: justify;\n\tbackground-color: #ffe4f4;\n\tborder-radius: .3em;\n\tpadding: .5em;\n}\n.front {\n\tfont-size: 1.8em;\n}\n.item_eng {\n\tpadding-top : 5%;\n\tcolor: orange;\n\tfont-size: 2em;\n }\n.tag {\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1.1em;\n}\na {\n\tcolor: grey;\n}\n.title {\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1em;\n}\n.author {\n\tdisplay: block;\n\tposition: fixed;\n\tright: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1em;\n}\n.link {\n\tdisplay: block;\n\tposition: fixed;\n\tright: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1.1em;\n\tfont-style: italic;\n}\n```\n\n#### 背面模板\n``` html\n<div class= item_eng>{{Item_ENG}}</div>\n<p>\n<p class= front>{{Front}}</p>\n<hr id= answer>\n<div>{{image}}</div>\n<p class= Chinese>{{Chinese}}</p>\n<p>\n<p class= English>{{English}}</p>\n<a href=\"{{Link}}\"><p class=link>Reference Site</p></a>\n<p class= tag>{{Tags}}</p>\n```\n\n### 字体下载\n\n测试了不少字体，感觉 [方正中雅宋_GBK](http://www.daimg.com/download.php?open=2&id=12741&uhash=1eb7c629071a1341f83bc53b) 和这个软件最匹配。当然，大家可以自行修改`font-family`，换用喜欢的字体。\n","source":"_posts/2016-05-23.anki_templates.md","raw":"---\ntitle: Anki 自用卡片模板分享\ndate: 2015-11-23 20:34:38\ncategories:\n- 触类旁通\ntags:\n- html\n- css\npermalink: AnkiTemplates\n---\n\n<h2 id=\"intro\">前言</h2>[Anki](http://ankisrs.net/) 是一款卡片式的记忆辅助软件。软件在保持轻巧简洁的同时，各种设置也很丰富。另外， Anki 通过嵌入式的网页来展示卡片，大大增强了卡片样式的自定义功能。下面是目前自己常用的卡片样式代码，有折腾闲情的可以试试。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 基础模板\n标题居中，用不同背景色区分答案类型，设置圆角等样式。\n![Anki-a1](http://moxfive.xyz//resources/Anki-a1.png)\n\n#### 模板使用区域\n- 主要需要填写如图所示4个区域。\n![Anki-a2](http://moxfive.xyz//resources/Anki-a2.png)\n\n#### 正面模板\n``` html\n<img src=\"{{logo}}\" class=\"logo\"/>\n<div style=\"font-size:2em\">{{Front}}</div>\n```\n\n#### 样式\n``` css\n.card {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1em;\n\ttext-align:center;\n}\n.logo {\n\twidth: 9em;\n\tpadding: 2em 0 1em;\n}\n.English {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1.5em;\n\ttext-align: justify;\n\tbackground-color: #ffe4f4;\n\tborder-radius: .3em;\n\tpadding: 1em;\n}\n.Chinese {\n\t font-family: 方正中雅宋_GBK;\n\t font-size: 1.5em;\n\t text-align: justify;\n\t background-color: #edffc4;\n\t border-radius: 1.2em .3em;\n\t padding: 1em;\n}\n```\n\n#### 背面模板\n``` html\n{{FrontSide}}\n\n<hr id=answer>\n<div class= Chinese>{{Chinese}}</div>\n<p>\n<div class= English>{{English}}</div>\n```\n\n### 带页脚模板\n加了页脚，左下显示标签分类信息，右下链接到设定的网址。\n\n![Anki-b1](http://moxfive.xyz//resources/Anki-b1.png)\n\n#### 模板使用区域\n- 主要需要填写如图所示5个区域。\n\n![Anki-b2](http://moxfive.xyz//resources/Anki-b2.png)\n\n#### 正面模板\n``` html\n<div class= item_eng>{{Item_ENG}}</div>\n<p class= front>{{Front}}</p>\n<p class= title>{{Tags}}</p>\n<p class= author>M.ZH</p>\n```\n\n#### 样式\n``` css\n.card {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1em;\n\ttext-align: center;\n}\n.Chinese {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1.5em;\n\ttext-align: justify;\n\tbackground-color: #edffc4;\n\tborder-radius: 1.2em 0.3em;\n\tpadding : 0.5em;\n}\n.English {\n\tfont-family: 方正中雅宋_GBK;\n\tfont-size: 1.5em;\n\ttext-align: justify;\n\tbackground-color: #ffe4f4;\n\tborder-radius: .3em;\n\tpadding: .5em;\n}\n.front {\n\tfont-size: 1.8em;\n}\n.item_eng {\n\tpadding-top : 5%;\n\tcolor: orange;\n\tfont-size: 2em;\n }\n.tag {\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1.1em;\n}\na {\n\tcolor: grey;\n}\n.title {\n\tdisplay: block;\n\tposition: fixed;\n\tleft: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1em;\n}\n.author {\n\tdisplay: block;\n\tposition: fixed;\n\tright: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1em;\n}\n.link {\n\tdisplay: block;\n\tposition: fixed;\n\tright: 3%;\n\tbottom: 0;\n\tcolor: gray;\n\tfont-size: 1.1em;\n\tfont-style: italic;\n}\n```\n\n#### 背面模板\n``` html\n<div class= item_eng>{{Item_ENG}}</div>\n<p>\n<p class= front>{{Front}}</p>\n<hr id= answer>\n<div>{{image}}</div>\n<p class= Chinese>{{Chinese}}</p>\n<p>\n<p class= English>{{English}}</p>\n<a href=\"{{Link}}\"><p class=link>Reference Site</p></a>\n<p class= tag>{{Tags}}</p>\n```\n\n### 字体下载\n\n测试了不少字体，感觉 [方正中雅宋_GBK](http://www.daimg.com/download.php?open=2&id=12741&uhash=1eb7c629071a1341f83bc53b) 和这个软件最匹配。当然，大家可以自行修改`font-family`，换用喜欢的字体。\n","slug":"AnkiTemplates","published":1,"updated":"2016-12-01T06:50:26.997Z","_id":"civ0ggq77001prwvnrtdgb8dh","comments":1,"layout":"post","photos":[],"link":"","content":"<p></p><h2 id=\"intro\">前言</h2><a href=\"http://ankisrs.net/\" target=\"_blank\" rel=\"external\">Anki</a> 是一款卡片式的记忆辅助软件。软件在保持轻巧简洁的同时，各种设置也很丰富。另外， Anki 通过嵌入式的网页来展示卡片，大大增强了卡片样式的自定义功能。下面是目前自己常用的卡片样式代码，有折腾闲情的可以试试。<p></p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"基础模板\"><a href=\"#基础模板\" class=\"headerlink\" title=\"基础模板\"></a>基础模板</h3><p>标题居中，用不同背景色区分答案类型，设置圆角等样式。<br><img src=\"http://moxfive.xyz//resources/Anki-a1.png\" alt=\"Anki-a1\"></p>\n<h4 id=\"模板使用区域\"><a href=\"#模板使用区域\" class=\"headerlink\" title=\"模板使用区域\"></a>模板使用区域</h4><ul>\n<li>主要需要填写如图所示4个区域。<br><img src=\"http://moxfive.xyz//resources/Anki-a2.png\" alt=\"Anki-a2\"></li>\n</ul>\n<h4 id=\"正面模板\"><a href=\"#正面模板\" class=\"headerlink\" title=\"正面模板\"></a>正面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"&#123;&#123;logo&#125;&#125;\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"logo\"</span>/&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"font-size:2em\"</span>&gt;</span>&#123;&#123;Front&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"样式\"><a href=\"#样式\" class=\"headerlink\" title=\"样式\"></a>样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.card</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>:center;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.logo</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">9em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">2em</span> <span class=\"number\">0</span> <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.English</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#ffe4f4</span>;</div><div class=\"line\">    <span class=\"attribute\">border-radius</span>: .<span class=\"number\">3em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.Chinese</span> &#123;</div><div class=\"line\">     <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">     <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">     <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">     <span class=\"attribute\">background-color</span>: <span class=\"number\">#edffc4</span>;</div><div class=\"line\">     <span class=\"attribute\">border-radius</span>: <span class=\"number\">1.2em</span> .<span class=\"number\">3em</span>;</div><div class=\"line\">     <span class=\"attribute\">padding</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"背面模板\"><a href=\"#背面模板\" class=\"headerlink\" title=\"背面模板\"></a>背面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;&#123;FrontSide&#125;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> <span class=\"attr\">id</span>=<span class=\"string\">answer</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">Chinese</span>&gt;</span>&#123;&#123;Chinese&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">English</span>&gt;</span>&#123;&#123;English&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"带页脚模板\"><a href=\"#带页脚模板\" class=\"headerlink\" title=\"带页脚模板\"></a>带页脚模板</h3><p>加了页脚，左下显示标签分类信息，右下链接到设定的网址。</p>\n<p><img src=\"http://moxfive.xyz//resources/Anki-b1.png\" alt=\"Anki-b1\"></p>\n<h4 id=\"模板使用区域-1\"><a href=\"#模板使用区域-1\" class=\"headerlink\" title=\"模板使用区域\"></a>模板使用区域</h4><ul>\n<li>主要需要填写如图所示5个区域。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz//resources/Anki-b2.png\" alt=\"Anki-b2\"></p>\n<h4 id=\"正面模板-1\"><a href=\"#正面模板-1\" class=\"headerlink\" title=\"正面模板\"></a>正面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">item_eng</span>&gt;</span>&#123;&#123;Item_ENG&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">front</span>&gt;</span>&#123;&#123;Front&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">title</span>&gt;</span>&#123;&#123;Tags&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">author</span>&gt;</span>M.ZH<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"样式-1\"><a href=\"#样式-1\" class=\"headerlink\" title=\"样式\"></a>样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.card</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: center;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.Chinese</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#edffc4</span>;</div><div class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">1.2em</span> <span class=\"number\">0.3em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding </span>: <span class=\"number\">0.5em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.English</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#ffe4f4</span>;</div><div class=\"line\">    <span class=\"attribute\">border-radius</span>: .<span class=\"number\">3em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: .<span class=\"number\">5em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.front</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.8em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.item_eng</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">padding-top </span>: <span class=\"number\">5%</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: orange;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">2em</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"><span class=\"selector-class\">.tag</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-tag\">a</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">color</span>: grey;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.title</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.author</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.link</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.1em</span>;</div><div class=\"line\">    <span class=\"attribute\">font-style</span>: italic;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"背面模板-1\"><a href=\"#背面模板-1\" class=\"headerlink\" title=\"背面模板\"></a>背面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">item_eng</span>&gt;</span>&#123;&#123;Item_ENG&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">front</span>&gt;</span>&#123;&#123;Front&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> <span class=\"attr\">id</span>= <span class=\"string\">answer</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;&#123;image&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">Chinese</span>&gt;</span>&#123;&#123;Chinese&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">English</span>&gt;</span>&#123;&#123;English&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"&#123;&#123;Link&#125;&#125;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">link</span>&gt;</span>Reference Site<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">tag</span>&gt;</span>&#123;&#123;Tags&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"字体下载\"><a href=\"#字体下载\" class=\"headerlink\" title=\"字体下载\"></a>字体下载</h3><p>测试了不少字体，感觉 <a href=\"http://www.daimg.com/download.php?open=2&amp;id=12741&amp;uhash=1eb7c629071a1341f83bc53b\" target=\"_blank\" rel=\"external\">方正中雅宋_GBK</a> 和这个软件最匹配。当然，大家可以自行修改<code>font-family</code>，换用喜欢的字体。</p>\n","excerpt":"<p><h2 id=\"intro\">前言</h2><a href=\"http://ankisrs.net/\">Anki</a> 是一款卡片式的记忆辅助软件。软件在保持轻巧简洁的同时，各种设置也很丰富。另外， Anki 通过嵌入式的网页来展示卡片，大大增强了卡片样式的自定义功能。下面是目前自己常用的卡片样式代码，有折腾闲情的可以试试。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"基础模板\"><a href=\"#基础模板\" class=\"headerlink\" title=\"基础模板\"></a>基础模板</h3><p>标题居中，用不同背景色区分答案类型，设置圆角等样式。<br><img src=\"http://moxfive.xyz//resources/Anki-a1.png\" alt=\"Anki-a1\"></p>\n<h4 id=\"模板使用区域\"><a href=\"#模板使用区域\" class=\"headerlink\" title=\"模板使用区域\"></a>模板使用区域</h4><ul>\n<li>主要需要填写如图所示4个区域。<br><img src=\"http://moxfive.xyz//resources/Anki-a2.png\" alt=\"Anki-a2\"></li>\n</ul>\n<h4 id=\"正面模板\"><a href=\"#正面模板\" class=\"headerlink\" title=\"正面模板\"></a>正面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">\"&#123;&#123;logo&#125;&#125;\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"logo\"</span>/&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">\"font-size:2em\"</span>&gt;</span>&#123;&#123;Front&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"样式\"><a href=\"#样式\" class=\"headerlink\" title=\"样式\"></a>样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.card</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>:center;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.logo</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">9em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">2em</span> <span class=\"number\">0</span> <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.English</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#ffe4f4</span>;</div><div class=\"line\">    <span class=\"attribute\">border-radius</span>: .<span class=\"number\">3em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.Chinese</span> &#123;</div><div class=\"line\">     <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">     <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">     <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">     <span class=\"attribute\">background-color</span>: <span class=\"number\">#edffc4</span>;</div><div class=\"line\">     <span class=\"attribute\">border-radius</span>: <span class=\"number\">1.2em</span> .<span class=\"number\">3em</span>;</div><div class=\"line\">     <span class=\"attribute\">padding</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"背面模板\"><a href=\"#背面模板\" class=\"headerlink\" title=\"背面模板\"></a>背面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;&#123;FrontSide&#125;&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> <span class=\"attr\">id</span>=<span class=\"string\">answer</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">Chinese</span>&gt;</span>&#123;&#123;Chinese&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">English</span>&gt;</span>&#123;&#123;English&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"带页脚模板\"><a href=\"#带页脚模板\" class=\"headerlink\" title=\"带页脚模板\"></a>带页脚模板</h3><p>加了页脚，左下显示标签分类信息，右下链接到设定的网址。</p>\n<p><img src=\"http://moxfive.xyz//resources/Anki-b1.png\" alt=\"Anki-b1\"></p>\n<h4 id=\"模板使用区域-1\"><a href=\"#模板使用区域-1\" class=\"headerlink\" title=\"模板使用区域\"></a>模板使用区域</h4><ul>\n<li>主要需要填写如图所示5个区域。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz//resources/Anki-b2.png\" alt=\"Anki-b2\"></p>\n<h4 id=\"正面模板-1\"><a href=\"#正面模板-1\" class=\"headerlink\" title=\"正面模板\"></a>正面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">item_eng</span>&gt;</span>&#123;&#123;Item_ENG&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">front</span>&gt;</span>&#123;&#123;Front&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">title</span>&gt;</span>&#123;&#123;Tags&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">author</span>&gt;</span>M.ZH<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"样式-1\"><a href=\"#样式-1\" class=\"headerlink\" title=\"样式\"></a>样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.card</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: center;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.Chinese</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#edffc4</span>;</div><div class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">1.2em</span> <span class=\"number\">0.3em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding </span>: <span class=\"number\">0.5em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.English</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-family</span>: 方正中雅宋_GBK;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.5em</span>;</div><div class=\"line\">    <span class=\"attribute\">text-align</span>: justify;</div><div class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"number\">#ffe4f4</span>;</div><div class=\"line\">    <span class=\"attribute\">border-radius</span>: .<span class=\"number\">3em</span>;</div><div class=\"line\">    <span class=\"attribute\">padding</span>: .<span class=\"number\">5em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.front</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.8em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.item_eng</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">padding-top </span>: <span class=\"number\">5%</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: orange;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">2em</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"><span class=\"selector-class\">.tag</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-tag\">a</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">color</span>: grey;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.title</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.author</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1em</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"selector-class\">.link</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">display</span>: block;</div><div class=\"line\">    <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">    <span class=\"attribute\">right</span>: <span class=\"number\">3%</span>;</div><div class=\"line\">    <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</div><div class=\"line\">    <span class=\"attribute\">color</span>: gray;</div><div class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">1.1em</span>;</div><div class=\"line\">    <span class=\"attribute\">font-style</span>: italic;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"背面模板-1\"><a href=\"#背面模板-1\" class=\"headerlink\" title=\"背面模板\"></a>背面模板</h4><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>= <span class=\"string\">item_eng</span>&gt;</span>&#123;&#123;Item_ENG&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">front</span>&gt;</span>&#123;&#123;Front&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">hr</span> <span class=\"attr\">id</span>= <span class=\"string\">answer</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;&#123;image&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">Chinese</span>&gt;</span>&#123;&#123;Chinese&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">English</span>&gt;</span>&#123;&#123;English&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">\"&#123;&#123;Link&#125;&#125;\"</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">link</span>&gt;</span>Reference Site<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>= <span class=\"string\">tag</span>&gt;</span>&#123;&#123;Tags&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"字体下载\"><a href=\"#字体下载\" class=\"headerlink\" title=\"字体下载\"></a>字体下载</h3><p>测试了不少字体，感觉 <a href=\"http://www.daimg.com/download.php?open=2&amp;id=12741&amp;uhash=1eb7c629071a1341f83bc53b\">方正中雅宋_GBK</a> 和这个软件最匹配。当然，大家可以自行修改<code>font-family</code>，换用喜欢的字体。</p>"},{"title":"Sublime Text 3 使用配置与插件安装","date":"2015-11-30T13:07:38.000Z","note":1,"_content":"\n　　记录安装配置 Sublime 的过程，同时列出所用到的插件，方便自己在新系统新电脑上快速用上熟悉的 Sublime。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 开始使用\n\n#### 软件下载\n- 一直使用的是 Sublime 3，直接转到 3 的 [下载页面](http://www.sublimetext.com/3) 好了。\n\n#### 用户设置\n- `Preferences/Settings - User`，设置字体为 [Consolas 雅黑混合体](http://pan.baidu.com/s/1mglgkSK) yx5g，字号11，tab 转空格，显示空格和制表符。\n\n``` actionscript\n\"font_face\": \"Yahei Consolas Hybrid\",\n\"font_size\": 11,\n\"translate_tabs_to_spaces\": true,\n\"draw_white_space\": \"all\",\n\n/*统一使用 UTF-8 编码和 UNIX 风格的换行符(LF, 0x0A)*/\n\"default_line_ending\": \"unix\",\n\"default_encoding\": \"UTF-8\",\n```\n\n> 其他设置参考 `Preferences/Settings - Default`。\n\n### 基础插件\n\n#### [Package Control](https://packagecontrol.io/)\n [Package Control](https://packagecontrol.io/)\n- 用于管理插件的插件，基础中的基础。之后列的插件全部通过 Package Control 安装。\n> 插件使用与安装: <https://packagecontrol.io/installation>\n\n#### [Convert​To​UTF8](https://packagecontrol.io/packages/ConvertToUTF8)\n- 文本编码自动转换，减少中日韩文乱码问题。\n> 插件安装: Ctrl+Shift+P, Package Control: Installed Packages, 搜索 Convert​To​UTF8\n\n#### [IMESupport](https://packagecontrol.io/packages/IMESupport)\n- 解决输入法选字框不跟随问题。\n\n#### [Side​Bar​Enhancements](https://packagecontrol.io/packages/SideBarEnhancements)\n- 自带边栏功能太少，必须安装此插件增强一下。\n\n### 主题配色\n#### [Theme - Spacegray](https://packagecontrol.io/packages/Theme%20-%20Spacegray)\n- Spacegray 主题的 Base16 Eighties Dark 配色方案看着最顺眼，用着最舒服。\n![Base16 Eighties Dark color scheme](http://moxfive.xyz/resources/Base16-Eighties-Dark.jpg)\n\n### 代码规范\n\n#### [Sublime​Linter](https://packagecontrol.io/packages/SublimeLinter)\n- 用于管理其他 code linting 代码规范插件。\n> 使用说明: http://sublimelinter.readthedocs.org/en/latest/installation.html#installing-via-pc\n\n#### [Sublime​Linter-jshint](https://packagecontrol.io/packages/SublimeLinter-jshint)\n- 基于 [JSHint](http://jshint.com/)，用于检查规范 JavaScript 代码。\n> NPM 依赖包: `npm install -g jshint`\n> 使用说明: https://github.com/SublimeLinter/SublimeLinter-jshint\n\n#### [Sublime​Linter-csslint](https://packagecontrol.io/packages/SublimeLinter-csslint)\n- 基于 [CSSLint](https://github.com/CSSLint/csslint)，用于检查规范 CSS 代码。\n> NPM 依赖包: `npm install -g csslint`\n> 使用说明: https://github.com/SublimeLinter/SublimeLinter-csslint\n\n#### [Sublime​Linter-contrib-htmlhint](https://packagecontrol.io/packages/SublimeLinter-contrib-htmlhint)\n- 基于 [HTMLHint](http://htmlhint.com/)，用于检查规范 HTML 代码。\n> NPM 依赖包: `npm install -g htmlhint@latest`\n> 使用说明: https://github.com/mmaday/SublimeLinter-contrib-htmlhint\n\n### 常用插件\n#### [HTML-CSS-JS Prettify](https://packagecontrol.io/packages/HTML-CSS-JS%20Prettify)\n- 格式化 HTML, CSS, JavaScript 及 JSON 代码。\n\n#### [Color Highlighter](https://packagecontrol.io/packages/Color%20Highlighter)\n- 直接在代码中预览颜色。\n\n#### [Stylus](https://packagecontrol.io/packages/Stylus)\n- 使代码高亮支持 Stylus。\n\n#### [Stylus Clean Completions](https://packagecontrol.io/packages/Stylus%20Clean%20Completions)\n- Stylus 代码自动补全。\n\n#### [AutoFileName](https://packagecontrol.io/packages/AutoFileName)\n- 文件名自动补全。\n![AutoFileName](http://moxfive.xyz/resources/autofilename.png)\n\n#### [Can I Use](https://packagecontrol.io/packages/Can%20I%20Use)\n- http://caniuse.com/ 的插件版，快速查询 HTML, CSS 等前端技术的浏览器兼容性\n\n#### [BracketHighlighter](https://packagecontrol.io/packages/BracketHighlighter)\n- 调整各类括号匹配的高亮样式\n\n#### To be added\n\n### 相关链接\n1. **Package Control**: <https://packagecontrol.io/>\n1. **SublimeLinter**: <http://sublimelinter.readthedocs.org/>\n1. **JSHint**: <http://jshint.com/>\n1. **CSSLint**: <https://github.com/CSSLint/csslint>\n1. **HTMLHint**: <http://htmlhint.com/>\n1. **Stylus**: <http://learnboost.github.io/stylus/>\n","source":"_posts/2016-05-25.sublime_config.md","raw":"---\ntitle: Sublime Text 3 使用配置与插件安装\ndate: 2015-11-30 21:07:38\ncategories:\n- 自用笔记\n- 术业专攻\ntags:\n- 开发工具\nnote: 1\npermalink: SublimeConfig\n---\n\n　　记录安装配置 Sublime 的过程，同时列出所用到的插件，方便自己在新系统新电脑上快速用上熟悉的 Sublime。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 开始使用\n\n#### 软件下载\n- 一直使用的是 Sublime 3，直接转到 3 的 [下载页面](http://www.sublimetext.com/3) 好了。\n\n#### 用户设置\n- `Preferences/Settings - User`，设置字体为 [Consolas 雅黑混合体](http://pan.baidu.com/s/1mglgkSK) yx5g，字号11，tab 转空格，显示空格和制表符。\n\n``` actionscript\n\"font_face\": \"Yahei Consolas Hybrid\",\n\"font_size\": 11,\n\"translate_tabs_to_spaces\": true,\n\"draw_white_space\": \"all\",\n\n/*统一使用 UTF-8 编码和 UNIX 风格的换行符(LF, 0x0A)*/\n\"default_line_ending\": \"unix\",\n\"default_encoding\": \"UTF-8\",\n```\n\n> 其他设置参考 `Preferences/Settings - Default`。\n\n### 基础插件\n\n#### [Package Control](https://packagecontrol.io/)\n [Package Control](https://packagecontrol.io/)\n- 用于管理插件的插件，基础中的基础。之后列的插件全部通过 Package Control 安装。\n> 插件使用与安装: <https://packagecontrol.io/installation>\n\n#### [Convert​To​UTF8](https://packagecontrol.io/packages/ConvertToUTF8)\n- 文本编码自动转换，减少中日韩文乱码问题。\n> 插件安装: Ctrl+Shift+P, Package Control: Installed Packages, 搜索 Convert​To​UTF8\n\n#### [IMESupport](https://packagecontrol.io/packages/IMESupport)\n- 解决输入法选字框不跟随问题。\n\n#### [Side​Bar​Enhancements](https://packagecontrol.io/packages/SideBarEnhancements)\n- 自带边栏功能太少，必须安装此插件增强一下。\n\n### 主题配色\n#### [Theme - Spacegray](https://packagecontrol.io/packages/Theme%20-%20Spacegray)\n- Spacegray 主题的 Base16 Eighties Dark 配色方案看着最顺眼，用着最舒服。\n![Base16 Eighties Dark color scheme](http://moxfive.xyz/resources/Base16-Eighties-Dark.jpg)\n\n### 代码规范\n\n#### [Sublime​Linter](https://packagecontrol.io/packages/SublimeLinter)\n- 用于管理其他 code linting 代码规范插件。\n> 使用说明: http://sublimelinter.readthedocs.org/en/latest/installation.html#installing-via-pc\n\n#### [Sublime​Linter-jshint](https://packagecontrol.io/packages/SublimeLinter-jshint)\n- 基于 [JSHint](http://jshint.com/)，用于检查规范 JavaScript 代码。\n> NPM 依赖包: `npm install -g jshint`\n> 使用说明: https://github.com/SublimeLinter/SublimeLinter-jshint\n\n#### [Sublime​Linter-csslint](https://packagecontrol.io/packages/SublimeLinter-csslint)\n- 基于 [CSSLint](https://github.com/CSSLint/csslint)，用于检查规范 CSS 代码。\n> NPM 依赖包: `npm install -g csslint`\n> 使用说明: https://github.com/SublimeLinter/SublimeLinter-csslint\n\n#### [Sublime​Linter-contrib-htmlhint](https://packagecontrol.io/packages/SublimeLinter-contrib-htmlhint)\n- 基于 [HTMLHint](http://htmlhint.com/)，用于检查规范 HTML 代码。\n> NPM 依赖包: `npm install -g htmlhint@latest`\n> 使用说明: https://github.com/mmaday/SublimeLinter-contrib-htmlhint\n\n### 常用插件\n#### [HTML-CSS-JS Prettify](https://packagecontrol.io/packages/HTML-CSS-JS%20Prettify)\n- 格式化 HTML, CSS, JavaScript 及 JSON 代码。\n\n#### [Color Highlighter](https://packagecontrol.io/packages/Color%20Highlighter)\n- 直接在代码中预览颜色。\n\n#### [Stylus](https://packagecontrol.io/packages/Stylus)\n- 使代码高亮支持 Stylus。\n\n#### [Stylus Clean Completions](https://packagecontrol.io/packages/Stylus%20Clean%20Completions)\n- Stylus 代码自动补全。\n\n#### [AutoFileName](https://packagecontrol.io/packages/AutoFileName)\n- 文件名自动补全。\n![AutoFileName](http://moxfive.xyz/resources/autofilename.png)\n\n#### [Can I Use](https://packagecontrol.io/packages/Can%20I%20Use)\n- http://caniuse.com/ 的插件版，快速查询 HTML, CSS 等前端技术的浏览器兼容性\n\n#### [BracketHighlighter](https://packagecontrol.io/packages/BracketHighlighter)\n- 调整各类括号匹配的高亮样式\n\n#### To be added\n\n### 相关链接\n1. **Package Control**: <https://packagecontrol.io/>\n1. **SublimeLinter**: <http://sublimelinter.readthedocs.org/>\n1. **JSHint**: <http://jshint.com/>\n1. **CSSLint**: <https://github.com/CSSLint/csslint>\n1. **HTMLHint**: <http://htmlhint.com/>\n1. **Stylus**: <http://learnboost.github.io/stylus/>\n","slug":"SublimeConfig","published":1,"updated":"2016-12-01T06:50:29.834Z","_id":"civ0ggq7c001rrwvnbo591ec7","comments":1,"layout":"post","photos":[],"link":"","content":"<p>　　记录安装配置 Sublime 的过程，同时列出所用到的插件，方便自己在新系统新电脑上快速用上熟悉的 Sublime。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"开始使用\"><a href=\"#开始使用\" class=\"headerlink\" title=\"开始使用\"></a>开始使用</h3><h4 id=\"软件下载\"><a href=\"#软件下载\" class=\"headerlink\" title=\"软件下载\"></a>软件下载</h4><ul>\n<li>一直使用的是 Sublime 3，直接转到 3 的 <a href=\"http://www.sublimetext.com/3\" target=\"_blank\" rel=\"external\">下载页面</a> 好了。</li>\n</ul>\n<h4 id=\"用户设置\"><a href=\"#用户设置\" class=\"headerlink\" title=\"用户设置\"></a>用户设置</h4><ul>\n<li><code>Preferences/Settings - User</code>，设置字体为 <a href=\"http://pan.baidu.com/s/1mglgkSK\" target=\"_blank\" rel=\"external\">Consolas 雅黑混合体</a> yx5g，字号11，tab 转空格，显示空格和制表符。</li>\n</ul>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">\"font_face\"</span>: <span class=\"string\">\"Yahei Consolas Hybrid\"</span>,</div><div class=\"line\"><span class=\"string\">\"font_size\"</span>: <span class=\"number\">11</span>,</div><div class=\"line\"><span class=\"string\">\"translate_tabs_to_spaces\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"string\">\"draw_white_space\"</span>: <span class=\"string\">\"all\"</span>,</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/*统一使用 UTF-8 编码和 UNIX 风格的换行符(LF, 0x0A)*/</span></div><div class=\"line\"><span class=\"string\">\"default_line_ending\"</span>: <span class=\"string\">\"unix\"</span>,</div><div class=\"line\"><span class=\"string\">\"default_encoding\"</span>: <span class=\"string\">\"UTF-8\"</span>,</div></pre></td></tr></table></figure>\n<blockquote>\n<p>其他设置参考 <code>Preferences/Settings - Default</code>。</p>\n</blockquote>\n<h3 id=\"基础插件\"><a href=\"#基础插件\" class=\"headerlink\" title=\"基础插件\"></a>基础插件</h3><h4 id=\"Package-Control\"><a href=\"#Package-Control\" class=\"headerlink\" title=\"Package Control\"></a><a href=\"https://packagecontrol.io/\" target=\"_blank\" rel=\"external\">Package Control</a></h4><p> <a href=\"https://packagecontrol.io/\" target=\"_blank\" rel=\"external\">Package Control</a></p>\n<ul>\n<li>用于管理插件的插件，基础中的基础。之后列的插件全部通过 Package Control 安装。<blockquote>\n<p>插件使用与安装: <a href=\"https://packagecontrol.io/installation\" target=\"_blank\" rel=\"external\">https://packagecontrol.io/installation</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Convert​To​UTF8\"><a href=\"#Convert​To​UTF8\" class=\"headerlink\" title=\"Convert​To​UTF8\"></a><a href=\"https://packagecontrol.io/packages/ConvertToUTF8\" target=\"_blank\" rel=\"external\">Convert​To​UTF8</a></h4><ul>\n<li>文本编码自动转换，减少中日韩文乱码问题。<blockquote>\n<p>插件安装: Ctrl+Shift+P, Package Control: Installed Packages, 搜索 Convert​To​UTF8</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"IMESupport\"><a href=\"#IMESupport\" class=\"headerlink\" title=\"IMESupport\"></a><a href=\"https://packagecontrol.io/packages/IMESupport\" target=\"_blank\" rel=\"external\">IMESupport</a></h4><ul>\n<li>解决输入法选字框不跟随问题。</li>\n</ul>\n<h4 id=\"Side​Bar​Enhancements\"><a href=\"#Side​Bar​Enhancements\" class=\"headerlink\" title=\"Side​Bar​Enhancements\"></a><a href=\"https://packagecontrol.io/packages/SideBarEnhancements\" target=\"_blank\" rel=\"external\">Side​Bar​Enhancements</a></h4><ul>\n<li>自带边栏功能太少，必须安装此插件增强一下。</li>\n</ul>\n<h3 id=\"主题配色\"><a href=\"#主题配色\" class=\"headerlink\" title=\"主题配色\"></a>主题配色</h3><h4 id=\"Theme-Spacegray\"><a href=\"#Theme-Spacegray\" class=\"headerlink\" title=\"Theme - Spacegray\"></a><a href=\"https://packagecontrol.io/packages/Theme%20-%20Spacegray\" target=\"_blank\" rel=\"external\">Theme - Spacegray</a></h4><ul>\n<li>Spacegray 主题的 Base16 Eighties Dark 配色方案看着最顺眼，用着最舒服。<br><img src=\"http://moxfive.xyz/resources/Base16-Eighties-Dark.jpg\" alt=\"Base16 Eighties Dark color scheme\"></li>\n</ul>\n<h3 id=\"代码规范\"><a href=\"#代码规范\" class=\"headerlink\" title=\"代码规范\"></a>代码规范</h3><h4 id=\"Sublime​Linter\"><a href=\"#Sublime​Linter\" class=\"headerlink\" title=\"Sublime​Linter\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter\" target=\"_blank\" rel=\"external\">Sublime​Linter</a></h4><ul>\n<li>用于管理其他 code linting 代码规范插件。<blockquote>\n<p>使用说明: <a href=\"http://sublimelinter.readthedocs.org/en/latest/installation.html#installing-via-pc\" target=\"_blank\" rel=\"external\">http://sublimelinter.readthedocs.org/en/latest/installation.html#installing-via-pc</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Sublime​Linter-jshint\"><a href=\"#Sublime​Linter-jshint\" class=\"headerlink\" title=\"Sublime​Linter-jshint\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter-jshint\" target=\"_blank\" rel=\"external\">Sublime​Linter-jshint</a></h4><ul>\n<li>基于 <a href=\"http://jshint.com/\" target=\"_blank\" rel=\"external\">JSHint</a>，用于检查规范 JavaScript 代码。<blockquote>\n<p>NPM 依赖包: <code>npm install -g jshint</code><br>使用说明: <a href=\"https://github.com/SublimeLinter/SublimeLinter-jshint\" target=\"_blank\" rel=\"external\">https://github.com/SublimeLinter/SublimeLinter-jshint</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Sublime​Linter-csslint\"><a href=\"#Sublime​Linter-csslint\" class=\"headerlink\" title=\"Sublime​Linter-csslint\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter-csslint\" target=\"_blank\" rel=\"external\">Sublime​Linter-csslint</a></h4><ul>\n<li>基于 <a href=\"https://github.com/CSSLint/csslint\" target=\"_blank\" rel=\"external\">CSSLint</a>，用于检查规范 CSS 代码。<blockquote>\n<p>NPM 依赖包: <code>npm install -g csslint</code><br>使用说明: <a href=\"https://github.com/SublimeLinter/SublimeLinter-csslint\" target=\"_blank\" rel=\"external\">https://github.com/SublimeLinter/SublimeLinter-csslint</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Sublime​Linter-contrib-htmlhint\"><a href=\"#Sublime​Linter-contrib-htmlhint\" class=\"headerlink\" title=\"Sublime​Linter-contrib-htmlhint\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter-contrib-htmlhint\" target=\"_blank\" rel=\"external\">Sublime​Linter-contrib-htmlhint</a></h4><ul>\n<li>基于 <a href=\"http://htmlhint.com/\" target=\"_blank\" rel=\"external\">HTMLHint</a>，用于检查规范 HTML 代码。<blockquote>\n<p>NPM 依赖包: <code>npm install -g htmlhint@latest</code><br>使用说明: <a href=\"https://github.com/mmaday/SublimeLinter-contrib-htmlhint\" target=\"_blank\" rel=\"external\">https://github.com/mmaday/SublimeLinter-contrib-htmlhint</a></p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"常用插件\"><a href=\"#常用插件\" class=\"headerlink\" title=\"常用插件\"></a>常用插件</h3><h4 id=\"HTML-CSS-JS-Prettify\"><a href=\"#HTML-CSS-JS-Prettify\" class=\"headerlink\" title=\"HTML-CSS-JS Prettify\"></a><a href=\"https://packagecontrol.io/packages/HTML-CSS-JS%20Prettify\" target=\"_blank\" rel=\"external\">HTML-CSS-JS Prettify</a></h4><ul>\n<li>格式化 HTML, CSS, JavaScript 及 JSON 代码。</li>\n</ul>\n<h4 id=\"Color-Highlighter\"><a href=\"#Color-Highlighter\" class=\"headerlink\" title=\"Color Highlighter\"></a><a href=\"https://packagecontrol.io/packages/Color%20Highlighter\" target=\"_blank\" rel=\"external\">Color Highlighter</a></h4><ul>\n<li>直接在代码中预览颜色。</li>\n</ul>\n<h4 id=\"Stylus\"><a href=\"#Stylus\" class=\"headerlink\" title=\"Stylus\"></a><a href=\"https://packagecontrol.io/packages/Stylus\" target=\"_blank\" rel=\"external\">Stylus</a></h4><ul>\n<li>使代码高亮支持 Stylus。</li>\n</ul>\n<h4 id=\"Stylus-Clean-Completions\"><a href=\"#Stylus-Clean-Completions\" class=\"headerlink\" title=\"Stylus Clean Completions\"></a><a href=\"https://packagecontrol.io/packages/Stylus%20Clean%20Completions\" target=\"_blank\" rel=\"external\">Stylus Clean Completions</a></h4><ul>\n<li>Stylus 代码自动补全。</li>\n</ul>\n<h4 id=\"AutoFileName\"><a href=\"#AutoFileName\" class=\"headerlink\" title=\"AutoFileName\"></a><a href=\"https://packagecontrol.io/packages/AutoFileName\" target=\"_blank\" rel=\"external\">AutoFileName</a></h4><ul>\n<li>文件名自动补全。<br><img src=\"http://moxfive.xyz/resources/autofilename.png\" alt=\"AutoFileName\"></li>\n</ul>\n<h4 id=\"Can-I-Use\"><a href=\"#Can-I-Use\" class=\"headerlink\" title=\"Can I Use\"></a><a href=\"https://packagecontrol.io/packages/Can%20I%20Use\" target=\"_blank\" rel=\"external\">Can I Use</a></h4><ul>\n<li><a href=\"http://caniuse.com/\" target=\"_blank\" rel=\"external\">http://caniuse.com/</a> 的插件版，快速查询 HTML, CSS 等前端技术的浏览器兼容性</li>\n</ul>\n<h4 id=\"BracketHighlighter\"><a href=\"#BracketHighlighter\" class=\"headerlink\" title=\"BracketHighlighter\"></a><a href=\"https://packagecontrol.io/packages/BracketHighlighter\" target=\"_blank\" rel=\"external\">BracketHighlighter</a></h4><ul>\n<li>调整各类括号匹配的高亮样式</li>\n</ul>\n<h4 id=\"To-be-added\"><a href=\"#To-be-added\" class=\"headerlink\" title=\"To be added\"></a>To be added</h4><h3 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h3><ol>\n<li><strong>Package Control</strong>: <a href=\"https://packagecontrol.io/\" target=\"_blank\" rel=\"external\">https://packagecontrol.io/</a></li>\n<li><strong>SublimeLinter</strong>: <a href=\"http://sublimelinter.readthedocs.org/\" target=\"_blank\" rel=\"external\">http://sublimelinter.readthedocs.org/</a></li>\n<li><strong>JSHint</strong>: <a href=\"http://jshint.com/\" target=\"_blank\" rel=\"external\">http://jshint.com/</a></li>\n<li><strong>CSSLint</strong>: <a href=\"https://github.com/CSSLint/csslint\" target=\"_blank\" rel=\"external\">https://github.com/CSSLint/csslint</a></li>\n<li><strong>HTMLHint</strong>: <a href=\"http://htmlhint.com/\" target=\"_blank\" rel=\"external\">http://htmlhint.com/</a></li>\n<li><strong>Stylus</strong>: <a href=\"http://learnboost.github.io/stylus/\" target=\"_blank\" rel=\"external\">http://learnboost.github.io/stylus/</a></li>\n</ol>\n","excerpt":"<p>　　记录安装配置 Sublime 的过程，同时列出所用到的插件，方便自己在新系统新电脑上快速用上熟悉的 Sublime。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"开始使用\"><a href=\"#开始使用\" class=\"headerlink\" title=\"开始使用\"></a>开始使用</h3><h4 id=\"软件下载\"><a href=\"#软件下载\" class=\"headerlink\" title=\"软件下载\"></a>软件下载</h4><ul>\n<li>一直使用的是 Sublime 3，直接转到 3 的 <a href=\"http://www.sublimetext.com/3\">下载页面</a> 好了。</li>\n</ul>\n<h4 id=\"用户设置\"><a href=\"#用户设置\" class=\"headerlink\" title=\"用户设置\"></a>用户设置</h4><ul>\n<li><code>Preferences/Settings - User</code>，设置字体为 <a href=\"http://pan.baidu.com/s/1mglgkSK\">Consolas 雅黑混合体</a> yx5g，字号11，tab 转空格，显示空格和制表符。</li>\n</ul>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"string\">\"font_face\"</span>: <span class=\"string\">\"Yahei Consolas Hybrid\"</span>,</div><div class=\"line\"><span class=\"string\">\"font_size\"</span>: <span class=\"number\">11</span>,</div><div class=\"line\"><span class=\"string\">\"translate_tabs_to_spaces\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"string\">\"draw_white_space\"</span>: <span class=\"string\">\"all\"</span>,</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/*统一使用 UTF-8 编码和 UNIX 风格的换行符(LF, 0x0A)*/</span></div><div class=\"line\"><span class=\"string\">\"default_line_ending\"</span>: <span class=\"string\">\"unix\"</span>,</div><div class=\"line\"><span class=\"string\">\"default_encoding\"</span>: <span class=\"string\">\"UTF-8\"</span>,</div></pre></td></tr></table></figure>\n<blockquote>\n<p>其他设置参考 <code>Preferences/Settings - Default</code>。</p>\n</blockquote>\n<h3 id=\"基础插件\"><a href=\"#基础插件\" class=\"headerlink\" title=\"基础插件\"></a>基础插件</h3><h4 id=\"Package-Control\"><a href=\"#Package-Control\" class=\"headerlink\" title=\"Package Control\"></a><a href=\"https://packagecontrol.io/\">Package Control</a></h4><p> <a href=\"https://packagecontrol.io/\">Package Control</a></p>\n<ul>\n<li>用于管理插件的插件，基础中的基础。之后列的插件全部通过 Package Control 安装。<blockquote>\n<p>插件使用与安装: <a href=\"https://packagecontrol.io/installation\">https://packagecontrol.io/installation</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Convert​To​UTF8\"><a href=\"#Convert​To​UTF8\" class=\"headerlink\" title=\"Convert​To​UTF8\"></a><a href=\"https://packagecontrol.io/packages/ConvertToUTF8\">Convert​To​UTF8</a></h4><ul>\n<li>文本编码自动转换，减少中日韩文乱码问题。<blockquote>\n<p>插件安装: Ctrl+Shift+P, Package Control: Installed Packages, 搜索 Convert​To​UTF8</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"IMESupport\"><a href=\"#IMESupport\" class=\"headerlink\" title=\"IMESupport\"></a><a href=\"https://packagecontrol.io/packages/IMESupport\">IMESupport</a></h4><ul>\n<li>解决输入法选字框不跟随问题。</li>\n</ul>\n<h4 id=\"Side​Bar​Enhancements\"><a href=\"#Side​Bar​Enhancements\" class=\"headerlink\" title=\"Side​Bar​Enhancements\"></a><a href=\"https://packagecontrol.io/packages/SideBarEnhancements\">Side​Bar​Enhancements</a></h4><ul>\n<li>自带边栏功能太少，必须安装此插件增强一下。</li>\n</ul>\n<h3 id=\"主题配色\"><a href=\"#主题配色\" class=\"headerlink\" title=\"主题配色\"></a>主题配色</h3><h4 id=\"Theme-Spacegray\"><a href=\"#Theme-Spacegray\" class=\"headerlink\" title=\"Theme - Spacegray\"></a><a href=\"https://packagecontrol.io/packages/Theme%20-%20Spacegray\">Theme - Spacegray</a></h4><ul>\n<li>Spacegray 主题的 Base16 Eighties Dark 配色方案看着最顺眼，用着最舒服。<br><img src=\"http://moxfive.xyz/resources/Base16-Eighties-Dark.jpg\" alt=\"Base16 Eighties Dark color scheme\"></li>\n</ul>\n<h3 id=\"代码规范\"><a href=\"#代码规范\" class=\"headerlink\" title=\"代码规范\"></a>代码规范</h3><h4 id=\"Sublime​Linter\"><a href=\"#Sublime​Linter\" class=\"headerlink\" title=\"Sublime​Linter\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter\">Sublime​Linter</a></h4><ul>\n<li>用于管理其他 code linting 代码规范插件。<blockquote>\n<p>使用说明: <a href=\"http://sublimelinter.readthedocs.org/en/latest/installation.html#installing-via-pc\">http://sublimelinter.readthedocs.org/en/latest/installation.html#installing-via-pc</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Sublime​Linter-jshint\"><a href=\"#Sublime​Linter-jshint\" class=\"headerlink\" title=\"Sublime​Linter-jshint\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter-jshint\">Sublime​Linter-jshint</a></h4><ul>\n<li>基于 <a href=\"http://jshint.com/\">JSHint</a>，用于检查规范 JavaScript 代码。<blockquote>\n<p>NPM 依赖包: <code>npm install -g jshint</code><br>使用说明: <a href=\"https://github.com/SublimeLinter/SublimeLinter-jshint\">https://github.com/SublimeLinter/SublimeLinter-jshint</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Sublime​Linter-csslint\"><a href=\"#Sublime​Linter-csslint\" class=\"headerlink\" title=\"Sublime​Linter-csslint\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter-csslint\">Sublime​Linter-csslint</a></h4><ul>\n<li>基于 <a href=\"https://github.com/CSSLint/csslint\">CSSLint</a>，用于检查规范 CSS 代码。<blockquote>\n<p>NPM 依赖包: <code>npm install -g csslint</code><br>使用说明: <a href=\"https://github.com/SublimeLinter/SublimeLinter-csslint\">https://github.com/SublimeLinter/SublimeLinter-csslint</a></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Sublime​Linter-contrib-htmlhint\"><a href=\"#Sublime​Linter-contrib-htmlhint\" class=\"headerlink\" title=\"Sublime​Linter-contrib-htmlhint\"></a><a href=\"https://packagecontrol.io/packages/SublimeLinter-contrib-htmlhint\">Sublime​Linter-contrib-htmlhint</a></h4><ul>\n<li>基于 <a href=\"http://htmlhint.com/\">HTMLHint</a>，用于检查规范 HTML 代码。<blockquote>\n<p>NPM 依赖包: <code>npm install -g htmlhint@latest</code><br>使用说明: <a href=\"https://github.com/mmaday/SublimeLinter-contrib-htmlhint\">https://github.com/mmaday/SublimeLinter-contrib-htmlhint</a></p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"常用插件\"><a href=\"#常用插件\" class=\"headerlink\" title=\"常用插件\"></a>常用插件</h3><h4 id=\"HTML-CSS-JS-Prettify\"><a href=\"#HTML-CSS-JS-Prettify\" class=\"headerlink\" title=\"HTML-CSS-JS Prettify\"></a><a href=\"https://packagecontrol.io/packages/HTML-CSS-JS%20Prettify\">HTML-CSS-JS Prettify</a></h4><ul>\n<li>格式化 HTML, CSS, JavaScript 及 JSON 代码。</li>\n</ul>\n<h4 id=\"Color-Highlighter\"><a href=\"#Color-Highlighter\" class=\"headerlink\" title=\"Color Highlighter\"></a><a href=\"https://packagecontrol.io/packages/Color%20Highlighter\">Color Highlighter</a></h4><ul>\n<li>直接在代码中预览颜色。</li>\n</ul>\n<h4 id=\"Stylus\"><a href=\"#Stylus\" class=\"headerlink\" title=\"Stylus\"></a><a href=\"https://packagecontrol.io/packages/Stylus\">Stylus</a></h4><ul>\n<li>使代码高亮支持 Stylus。</li>\n</ul>\n<h4 id=\"Stylus-Clean-Completions\"><a href=\"#Stylus-Clean-Completions\" class=\"headerlink\" title=\"Stylus Clean Completions\"></a><a href=\"https://packagecontrol.io/packages/Stylus%20Clean%20Completions\">Stylus Clean Completions</a></h4><ul>\n<li>Stylus 代码自动补全。</li>\n</ul>\n<h4 id=\"AutoFileName\"><a href=\"#AutoFileName\" class=\"headerlink\" title=\"AutoFileName\"></a><a href=\"https://packagecontrol.io/packages/AutoFileName\">AutoFileName</a></h4><ul>\n<li>文件名自动补全。<br><img src=\"http://moxfive.xyz/resources/autofilename.png\" alt=\"AutoFileName\"></li>\n</ul>\n<h4 id=\"Can-I-Use\"><a href=\"#Can-I-Use\" class=\"headerlink\" title=\"Can I Use\"></a><a href=\"https://packagecontrol.io/packages/Can%20I%20Use\">Can I Use</a></h4><ul>\n<li><a href=\"http://caniuse.com/\">http://caniuse.com/</a> 的插件版，快速查询 HTML, CSS 等前端技术的浏览器兼容性</li>\n</ul>\n<h4 id=\"BracketHighlighter\"><a href=\"#BracketHighlighter\" class=\"headerlink\" title=\"BracketHighlighter\"></a><a href=\"https://packagecontrol.io/packages/BracketHighlighter\">BracketHighlighter</a></h4><ul>\n<li>调整各类括号匹配的高亮样式</li>\n</ul>\n<h4 id=\"To-be-added\"><a href=\"#To-be-added\" class=\"headerlink\" title=\"To be added\"></a>To be added</h4><h3 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h3><ol>\n<li><strong>Package Control</strong>: <a href=\"https://packagecontrol.io/\">https://packagecontrol.io/</a></li>\n<li><strong>SublimeLinter</strong>: <a href=\"http://sublimelinter.readthedocs.org/\">http://sublimelinter.readthedocs.org/</a></li>\n<li><strong>JSHint</strong>: <a href=\"http://jshint.com/\">http://jshint.com/</a></li>\n<li><strong>CSSLint</strong>: <a href=\"https://github.com/CSSLint/csslint\">https://github.com/CSSLint/csslint</a></li>\n<li><strong>HTMLHint</strong>: <a href=\"http://htmlhint.com/\">http://htmlhint.com/</a></li>\n<li><strong>Stylus</strong>: <a href=\"http://learnboost.github.io/stylus/\">http://learnboost.github.io/stylus/</a></li>\n</ol>"},{"author":"小莫","date":"2016-05-23T16:00:00.000Z","title":"nodejs框架koa学习","_content":"Koa 是一个类似于 Express 的Web开发框架，创始人也都是TJ。Koa 的主要特点是，使用了 ES6 的 Generator 函数，进行了架构的重新设计。Koa 的原理和内部结构很像 Express，但是语法和内部结构进行了升级。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、国际惯例 hello world##    \n#### 1. 当前版本1.2    \n`npm install --save koa`   \n\n#### 2. 代码撸起来   \n\n```\n  let koa = require('koa');\n  let app = koa();\n  app.use(function*(){\n      this.body = \"hello xiaomo\";\n    });\n  app.listen(8080);\n```\n\n如此这般我们就创建了一个简单的http服务器。这段程序的作用是监听 8080 端口，当收到 GET 请求的时候，答复 hello xiaomo   \n你应该注意到了，我没有只用 var 关键词。我使用了 let 代替。在 ES6 中这基本上就是新的 var。这改变了变量的作用域，但是我不想在这里多说。  \n\n另一件事情有些奇怪，就是我们使用关键词 function*。这个星号表示这个函数是一个生成器函数。这意味着这个函数可以在运行的时候跳出然后再跳回来。这个概念很难去表述，所以我给你举个栗子。\n\n```\n  function* inc () {\n   let number = 0\n   while (true)\n   yield number++\n  }\n\n  let test = inc()\n\n  console.log(test.next().value) // -> 0\n  console.log(test.next().value) // -> 1\n  console.log(test.next().value) // -> 2\n```\n\n我分解一下这个程序：\n\ninc 函数定义了一个生成器函数，在每一次 while 循环中，产出 number 变量然后 number 变量加 1\ninc 函数被指派给了变量 test\ninc 函数被迭代了 3 次，第一次的时候，number 变量在函数中被初始化了。然后，这个函数进入到了一个 while 循环，在之后的迭代中这个循环也不会退出。然后 number 0 被产出，所以这个可以用 .value 方法接收。在后来的迭代中这个变量 number 自增了两次。\n我希望这可以帮助理解一点生成器的工作原理。这只是非常复杂的 ES6 中的一小部分。\n\n但是无论如何，让我们回到 koa。koa 非常简单，甚至不包含一个路由。你需要在中间件生成器函数中手动做路由匹配：\n\n```\n  let koa = require('koa')\n\n  let app = koa()\n\n  // normal route\n  app.use(function* (next) {\n  if (this.path !== '/') {\n  return yield next\n  }\n\n  this.body = 'hello world'\n  });\n\n  // /404 route\n  app.use(function* (next) {\n  if (this.path !== '/404') {\n  return yield next;\n  }\n\n  this.body = 'page not found'\n  });\n\n  // /500 route\n  app.use(function* (next) {\n  if (this.path !== '/500') {\n  return yield next;\n  }\n\n  this.body = 'internal server error'\n  });\n\n  app.listen(8080)\n```\n\n你可以看到，我们只要用 if 就可以做路由匹配了。你是不是很疑惑在这个上下文中的 this 是什么，express 中的 req 和 res 去哪里了。其实 this 绑定了大部分的 req 和 res 的函数和属性。如果你想知道更多关于 this 的详情，[请点这里](http://koajs.com/#context)。\n\n让我们写一个将请求中的内容大写的中间件：\n\n```\n  let koa = require('koa')\n\n  let app = koa()\n\n  app.use(upcaser())\n\n  function upcaser () {\n  return function* (next) {\n  yield next\n  this.body = this.body.toUpperCase()\n  }\n  }\n\n  app.listen(8080)\n```\n\n\n### 我的github地址\n[https://github.com/syoubaku](https://github.com/syoubaku)\n","source":"_posts/2016-05-24.nodejs_koa.md","raw":"---\nauthor: 小莫\ndate: 2016-05-24\ntitle: nodejs框架koa学习\ntags:\n- node\n- koa\n- javascript\n- es6\ncategory: koa\npermalink: NodeKoa\n---\nKoa 是一个类似于 Express 的Web开发框架，创始人也都是TJ。Koa 的主要特点是，使用了 ES6 的 Generator 函数，进行了架构的重新设计。Koa 的原理和内部结构很像 Express，但是语法和内部结构进行了升级。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、国际惯例 hello world##    \n#### 1. 当前版本1.2    \n`npm install --save koa`   \n\n#### 2. 代码撸起来   \n\n```\n  let koa = require('koa');\n  let app = koa();\n  app.use(function*(){\n      this.body = \"hello xiaomo\";\n    });\n  app.listen(8080);\n```\n\n如此这般我们就创建了一个简单的http服务器。这段程序的作用是监听 8080 端口，当收到 GET 请求的时候，答复 hello xiaomo   \n你应该注意到了，我没有只用 var 关键词。我使用了 let 代替。在 ES6 中这基本上就是新的 var。这改变了变量的作用域，但是我不想在这里多说。  \n\n另一件事情有些奇怪，就是我们使用关键词 function*。这个星号表示这个函数是一个生成器函数。这意味着这个函数可以在运行的时候跳出然后再跳回来。这个概念很难去表述，所以我给你举个栗子。\n\n```\n  function* inc () {\n   let number = 0\n   while (true)\n   yield number++\n  }\n\n  let test = inc()\n\n  console.log(test.next().value) // -> 0\n  console.log(test.next().value) // -> 1\n  console.log(test.next().value) // -> 2\n```\n\n我分解一下这个程序：\n\ninc 函数定义了一个生成器函数，在每一次 while 循环中，产出 number 变量然后 number 变量加 1\ninc 函数被指派给了变量 test\ninc 函数被迭代了 3 次，第一次的时候，number 变量在函数中被初始化了。然后，这个函数进入到了一个 while 循环，在之后的迭代中这个循环也不会退出。然后 number 0 被产出，所以这个可以用 .value 方法接收。在后来的迭代中这个变量 number 自增了两次。\n我希望这可以帮助理解一点生成器的工作原理。这只是非常复杂的 ES6 中的一小部分。\n\n但是无论如何，让我们回到 koa。koa 非常简单，甚至不包含一个路由。你需要在中间件生成器函数中手动做路由匹配：\n\n```\n  let koa = require('koa')\n\n  let app = koa()\n\n  // normal route\n  app.use(function* (next) {\n  if (this.path !== '/') {\n  return yield next\n  }\n\n  this.body = 'hello world'\n  });\n\n  // /404 route\n  app.use(function* (next) {\n  if (this.path !== '/404') {\n  return yield next;\n  }\n\n  this.body = 'page not found'\n  });\n\n  // /500 route\n  app.use(function* (next) {\n  if (this.path !== '/500') {\n  return yield next;\n  }\n\n  this.body = 'internal server error'\n  });\n\n  app.listen(8080)\n```\n\n你可以看到，我们只要用 if 就可以做路由匹配了。你是不是很疑惑在这个上下文中的 this 是什么，express 中的 req 和 res 去哪里了。其实 this 绑定了大部分的 req 和 res 的函数和属性。如果你想知道更多关于 this 的详情，[请点这里](http://koajs.com/#context)。\n\n让我们写一个将请求中的内容大写的中间件：\n\n```\n  let koa = require('koa')\n\n  let app = koa()\n\n  app.use(upcaser())\n\n  function upcaser () {\n  return function* (next) {\n  yield next\n  this.body = this.body.toUpperCase()\n  }\n  }\n\n  app.listen(8080)\n```\n\n\n### 我的github地址\n[https://github.com/syoubaku](https://github.com/syoubaku)\n","slug":"NodeKoa","published":1,"updated":"2016-12-01T06:50:28.467Z","_id":"civ0ggq7e001urwvnpyngvjpd","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Koa 是一个类似于 Express 的Web开发框架，创始人也都是TJ。Koa 的主要特点是，使用了 ES6 的 Generator 函数，进行了架构的重新设计。Koa 的原理和内部结构很像 Express，但是语法和内部结构进行了升级。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、国际惯例-hello-world\"><a href=\"#一、国际惯例-hello-world\" class=\"headerlink\" title=\"一、国际惯例 hello world\"></a>一、国际惯例 hello world</h3><h4 id=\"1-当前版本1-2\"><a href=\"#1-当前版本1-2\" class=\"headerlink\" title=\"1. 当前版本1.2\"></a>1. 当前版本1.2</h4><p><code>npm install --save koa</code>   </p>\n<h4 id=\"2-代码撸起来\"><a href=\"#2-代码撸起来\" class=\"headerlink\" title=\"2. 代码撸起来\"></a>2. 代码撸起来</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"keyword\">let</span> app = koa();</div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>*(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.body = <span class=\"string\">\"hello xiaomo\"</span>;</div><div class=\"line\">  &#125;);</div><div class=\"line\">app.listen(<span class=\"number\">8080</span>);</div></pre></td></tr></table></figure>\n<p>如此这般我们就创建了一个简单的http服务器。这段程序的作用是监听 8080 端口，当收到 GET 请求的时候，答复 hello xiaomo<br>你应该注意到了，我没有只用 var 关键词。我使用了 let 代替。在 ES6 中这基本上就是新的 var。这改变了变量的作用域，但是我不想在这里多说。  </p>\n<p>另一件事情有些奇怪，就是我们使用关键词 function*。这个星号表示这个函数是一个生成器函数。这意味着这个函数可以在运行的时候跳出然后再跳回来。这个概念很难去表述，所以我给你举个栗子。</p>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">inc</span> () &#123;</span></div><div class=\"line\"> let <span class=\"built_in\">number</span> = <span class=\"number\">0</span></div><div class=\"line\"> <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)</div><div class=\"line\"> yield <span class=\"built_in\">number</span>++</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">let test = inc()</div><div class=\"line\"></div><div class=\"line\">console.<span class=\"built_in\">log</span>(test.next().<span class=\"built_in\">value</span>)<span class=\"comment\"> // -&gt; 0</span></div><div class=\"line\">console.<span class=\"built_in\">log</span>(test.next().<span class=\"built_in\">value</span>)<span class=\"comment\"> // -&gt; 1</span></div><div class=\"line\">console.<span class=\"built_in\">log</span>(test.next().<span class=\"built_in\">value</span>)<span class=\"comment\"> // -&gt; 2</span></div></pre></td></tr></table></figure>\n<p>我分解一下这个程序：</p>\n<p>inc 函数定义了一个生成器函数，在每一次 while 循环中，产出 number 变量然后 number 变量加 1<br>inc 函数被指派给了变量 test<br>inc 函数被迭代了 3 次，第一次的时候，number 变量在函数中被初始化了。然后，这个函数进入到了一个 while 循环，在之后的迭代中这个循环也不会退出。然后 number 0 被产出，所以这个可以用 .value 方法接收。在后来的迭代中这个变量 number 自增了两次。<br>我希望这可以帮助理解一点生成器的工作原理。这只是非常复杂的 ES6 中的一小部分。</p>\n<p>但是无论如何，让我们回到 koa。koa 非常简单，甚至不包含一个路由。你需要在中间件生成器函数中手动做路由匹配：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">let</span> app = koa()</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// normal route</span></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.path !== <span class=\"string\">'/'</span>) &#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> next</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"string\">'hello world'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// /404 route</span></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.path !== <span class=\"string\">'/404'</span>) &#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> next;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"string\">'page not found'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// /500 route</span></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.path !== <span class=\"string\">'/500'</span>) &#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> next;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"string\">'internal server error'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">app.listen(<span class=\"number\">8080</span>)</div></pre></td></tr></table></figure>\n<p>你可以看到，我们只要用 if 就可以做路由匹配了。你是不是很疑惑在这个上下文中的 this 是什么，express 中的 req 和 res 去哪里了。其实 this 绑定了大部分的 req 和 res 的函数和属性。如果你想知道更多关于 this 的详情，<a href=\"http://koajs.com/#context\" target=\"_blank\" rel=\"external\">请点这里</a>。</p>\n<p>让我们写一个将请求中的内容大写的中间件：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">let</span> app = koa()</div><div class=\"line\"></div><div class=\"line\">app.use(upcaser())</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">upcaser</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">yield</span> next</div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"keyword\">this</span>.body.toUpperCase()</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">app.listen(<span class=\"number\">8080</span>)</div></pre></td></tr></table></figure>\n<h3 id=\"我的github地址\"><a href=\"#我的github地址\" class=\"headerlink\" title=\"我的github地址\"></a>我的github地址</h3><p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku</a></p>\n","excerpt":"<p>Koa 是一个类似于 Express 的Web开发框架，创始人也都是TJ。Koa 的主要特点是，使用了 ES6 的 Generator 函数，进行了架构的重新设计。Koa 的原理和内部结构很像 Express，但是语法和内部结构进行了升级。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、国际惯例-hello-world\"><a href=\"#一、国际惯例-hello-world\" class=\"headerlink\" title=\"一、国际惯例 hello world\"></a>一、国际惯例 hello world</h3><h4 id=\"1-当前版本1-2\"><a href=\"#1-当前版本1-2\" class=\"headerlink\" title=\"1. 当前版本1.2\"></a>1. 当前版本1.2</h4><p><code>npm install --save koa</code>   </p>\n<h4 id=\"2-代码撸起来\"><a href=\"#2-代码撸起来\" class=\"headerlink\" title=\"2. 代码撸起来\"></a>2. 代码撸起来</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"keyword\">let</span> app = koa();</div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>*(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.body = <span class=\"string\">\"hello xiaomo\"</span>;</div><div class=\"line\">  &#125;);</div><div class=\"line\">app.listen(<span class=\"number\">8080</span>);</div></pre></td></tr></table></figure>\n<p>如此这般我们就创建了一个简单的http服务器。这段程序的作用是监听 8080 端口，当收到 GET 请求的时候，答复 hello xiaomo<br>你应该注意到了，我没有只用 var 关键词。我使用了 let 代替。在 ES6 中这基本上就是新的 var。这改变了变量的作用域，但是我不想在这里多说。  </p>\n<p>另一件事情有些奇怪，就是我们使用关键词 function*。这个星号表示这个函数是一个生成器函数。这意味着这个函数可以在运行的时候跳出然后再跳回来。这个概念很难去表述，所以我给你举个栗子。</p>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span>* <span class=\"title\">inc</span> () &#123;</span></div><div class=\"line\"> let <span class=\"built_in\">number</span> = <span class=\"number\">0</span></div><div class=\"line\"> <span class=\"keyword\">while</span> (<span class=\"literal\">true</span>)</div><div class=\"line\"> yield <span class=\"built_in\">number</span>++</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">let test = inc()</div><div class=\"line\"></div><div class=\"line\">console.<span class=\"built_in\">log</span>(test.next().<span class=\"built_in\">value</span>)<span class=\"comment\"> // -&gt; 0</span></div><div class=\"line\">console.<span class=\"built_in\">log</span>(test.next().<span class=\"built_in\">value</span>)<span class=\"comment\"> // -&gt; 1</span></div><div class=\"line\">console.<span class=\"built_in\">log</span>(test.next().<span class=\"built_in\">value</span>)<span class=\"comment\"> // -&gt; 2</span></div></pre></td></tr></table></figure>\n<p>我分解一下这个程序：</p>\n<p>inc 函数定义了一个生成器函数，在每一次 while 循环中，产出 number 变量然后 number 变量加 1<br>inc 函数被指派给了变量 test<br>inc 函数被迭代了 3 次，第一次的时候，number 变量在函数中被初始化了。然后，这个函数进入到了一个 while 循环，在之后的迭代中这个循环也不会退出。然后 number 0 被产出，所以这个可以用 .value 方法接收。在后来的迭代中这个变量 number 自增了两次。<br>我希望这可以帮助理解一点生成器的工作原理。这只是非常复杂的 ES6 中的一小部分。</p>\n<p>但是无论如何，让我们回到 koa。koa 非常简单，甚至不包含一个路由。你需要在中间件生成器函数中手动做路由匹配：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">let</span> app = koa()</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// normal route</span></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.path !== <span class=\"string\">'/'</span>) &#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> next</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"string\">'hello world'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// /404 route</span></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.path !== <span class=\"string\">'/404'</span>) &#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> next;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"string\">'page not found'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// /500 route</span></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">this</span>.path !== <span class=\"string\">'/500'</span>) &#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> next;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"string\">'internal server error'</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">app.listen(<span class=\"number\">8080</span>)</div></pre></td></tr></table></figure>\n<p>你可以看到，我们只要用 if 就可以做路由匹配了。你是不是很疑惑在这个上下文中的 this 是什么，express 中的 req 和 res 去哪里了。其实 this 绑定了大部分的 req 和 res 的函数和属性。如果你想知道更多关于 this 的详情，<a href=\"http://koajs.com/#context\">请点这里</a>。</p>\n<p>让我们写一个将请求中的内容大写的中间件：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">let</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">let</span> app = koa()</div><div class=\"line\"></div><div class=\"line\">app.use(upcaser())</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">upcaser</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">return</span> <span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">yield</span> next</div><div class=\"line\"><span class=\"keyword\">this</span>.body = <span class=\"keyword\">this</span>.body.toUpperCase()</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">app.listen(<span class=\"number\">8080</span>)</div></pre></td></tr></table></figure>\n<h3 id=\"我的github地址\"><a href=\"#我的github地址\" class=\"headerlink\" title=\"我的github地址\"></a>我的github地址</h3><p><a href=\"https://github.com/syoubaku\">https://github.com/syoubaku</a></p>"},{"author":"小莫","date":"2016-05-25T16:00:00.000Z","title":"koa生成器,一键生成koa和koa2项目","_content":"\n最近在学koa,想着exrpess有生成器,那么koa应该也有。不出所料，经过我仔细上网排查,果然也有koa生成器。这对于想学koa，且规范的使用koa的朋友来说是一件多么让人开心的事情。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/koajs.png)](https://github.com/syoubaku)\n### 一、一键生成koa项目特性##\n\n1. Express-style\n2. Support koa 1.x（已支持）\n3. Support koa 2.x（已支持所有的koa中间件写法，依赖runkoa，不需要了解babel）\n\n### 二、使用说明##\n\n#### 1. 准备工作   \n 一定要全局安装(koa1.2和koa2都己经支持)\n`npm install koa-generator -g`  \nkoa1.2  生成一个test项目,切到test目录并下载依赖   \n`koa test && cd test && npm install`\nkoa2    生成一个test项目,切到test目录并下载依赖   \n`koa2 test && cd test && npm install`\n\n#### 运行  \n`npm start`\n  访问 http://localhost:3000 就可以看到项目效果   \n\n\n### 三、参数##\n当然koa生成器功能没有这么弱啦,可以定制你想要的东西  \n\n\n```\n-h, --help          帮助\n-V, --version       版本号\n-e, --ejs           添加ejs模板引擎支持(默认是jade)\n    --hbs           添加hbs模板引擎支持(默认是hbs)\n-H, --hogan         添加hogan.js支持\n-c, --css <engine>  添加css样式 支持 less sass styus css(默认是css)\n    --git           添加 .gitignore\n-f, --force         force on non-empty directory\n```  \n### 四、项目地址##\n\n[https://github.com/syoubaku/node-koa](https://github.com/syoubaku/node-koa)\n\n## 五、国际惯例-项目演示##\n\n1. 安装koa-generator  \n2. 新建项目   \n3. 运行项目  \n4. 演示结束   \n![koa生成器](https://image.xiaomo.info/node/koa-generator.gif)\n\n查看大图 [koa生成器](https://image.xiaomo.info/node/koa-generator.gif)\n\n\n## 我的github地址\n[https://github.com/syoubaku](https://github.com/syoubaku)\n","source":"_posts/2016-05-26.koa_generator.md","raw":"---\nauthor: 小莫\ndate: 2016-05-26\ntitle: koa生成器,一键生成koa和koa2项目\ntags:\n- node\n- koa\n- javascript\n- es6\ncategory: javascript\npermalink: KoaGenerator\n---\n\n最近在学koa,想着exrpess有生成器,那么koa应该也有。不出所料，经过我仔细上网排查,果然也有koa生成器。这对于想学koa，且规范的使用koa的朋友来说是一件多么让人开心的事情。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/koajs.png)](https://github.com/syoubaku)\n### 一、一键生成koa项目特性##\n\n1. Express-style\n2. Support koa 1.x（已支持）\n3. Support koa 2.x（已支持所有的koa中间件写法，依赖runkoa，不需要了解babel）\n\n### 二、使用说明##\n\n#### 1. 准备工作   \n 一定要全局安装(koa1.2和koa2都己经支持)\n`npm install koa-generator -g`  \nkoa1.2  生成一个test项目,切到test目录并下载依赖   \n`koa test && cd test && npm install`\nkoa2    生成一个test项目,切到test目录并下载依赖   \n`koa2 test && cd test && npm install`\n\n#### 运行  \n`npm start`\n  访问 http://localhost:3000 就可以看到项目效果   \n\n\n### 三、参数##\n当然koa生成器功能没有这么弱啦,可以定制你想要的东西  \n\n\n```\n-h, --help          帮助\n-V, --version       版本号\n-e, --ejs           添加ejs模板引擎支持(默认是jade)\n    --hbs           添加hbs模板引擎支持(默认是hbs)\n-H, --hogan         添加hogan.js支持\n-c, --css <engine>  添加css样式 支持 less sass styus css(默认是css)\n    --git           添加 .gitignore\n-f, --force         force on non-empty directory\n```  \n### 四、项目地址##\n\n[https://github.com/syoubaku/node-koa](https://github.com/syoubaku/node-koa)\n\n## 五、国际惯例-项目演示##\n\n1. 安装koa-generator  \n2. 新建项目   \n3. 运行项目  \n4. 演示结束   \n![koa生成器](https://image.xiaomo.info/node/koa-generator.gif)\n\n查看大图 [koa生成器](https://image.xiaomo.info/node/koa-generator.gif)\n\n\n## 我的github地址\n[https://github.com/syoubaku](https://github.com/syoubaku)\n","slug":"KoaGenerator","published":1,"updated":"2016-12-01T07:56:55.774Z","_id":"civ0ggq7h001yrwvnahsvm8nz","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近在学koa,想着exrpess有生成器,那么koa应该也有。不出所料，经过我仔细上网排查,果然也有koa生成器。这对于想学koa，且规范的使用koa的朋友来说是一件多么让人开心的事情。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/koajs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、一键生成koa项目特性\"><a href=\"#一、一键生成koa项目特性\" class=\"headerlink\" title=\"一、一键生成koa项目特性\"></a>一、一键生成koa项目特性</h3><ol>\n<li>Express-style</li>\n<li>Support koa 1.x（已支持）</li>\n<li>Support koa 2.x（已支持所有的koa中间件写法，依赖runkoa，不需要了解babel）</li>\n</ol>\n<h3 id=\"二、使用说明\"><a href=\"#二、使用说明\" class=\"headerlink\" title=\"二、使用说明\"></a>二、使用说明</h3><h4 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1. 准备工作\"></a>1. 准备工作</h4><p> 一定要全局安装(koa1.2和koa2都己经支持)<br><code>npm install koa-generator -g</code><br>koa1.2  生成一个test项目,切到test目录并下载依赖<br><code>koa test &amp;&amp; cd test &amp;&amp; npm install</code><br>koa2    生成一个test项目,切到test目录并下载依赖<br><code>koa2 test &amp;&amp; cd test &amp;&amp; npm install</code></p>\n<h4 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h4><p><code>npm start</code><br>  访问 <a href=\"http://localhost:3000\" target=\"_blank\" rel=\"external\">http://localhost:3000</a> 就可以看到项目效果   </p>\n<h3 id=\"三、参数\"><a href=\"#三、参数\" class=\"headerlink\" title=\"三、参数\"></a>三、参数</h3><p>当然koa生成器功能没有这么弱啦,可以定制你想要的东西  </p>\n<pre><code>-h, --help          帮助\n-V, --version       版本号\n-e, --ejs           添加ejs模板引擎支持(默认是jade)\n    --hbs           添加hbs模板引擎支持(默认是hbs)\n-H, --hogan         添加hogan.js支持\n-c, --css &lt;engine&gt;  添加css样式 支持 less sass styus css(默认是css)\n    --git           添加 .gitignore\n-f, --force         force on non-empty directory\n</code></pre><h3 id=\"四、项目地址\"><a href=\"#四、项目地址\" class=\"headerlink\" title=\"四、项目地址\"></a>四、项目地址</h3><p><a href=\"https://github.com/syoubaku/node-koa\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku/node-koa</a></p>\n<h2 id=\"五、国际惯例-项目演示\"><a href=\"#五、国际惯例-项目演示\" class=\"headerlink\" title=\"五、国际惯例-项目演示\"></a>五、国际惯例-项目演示</h2><ol>\n<li>安装koa-generator  </li>\n<li>新建项目   </li>\n<li>运行项目  </li>\n<li>演示结束<br><img src=\"https://image.xiaomo.info/node/koa-generator.gif\" alt=\"koa生成器\"></li>\n</ol>\n<p>查看大图 <a href=\"https://image.xiaomo.info/node/koa-generator.gif\" target=\"_blank\" rel=\"external\">koa生成器</a></p>\n<h2 id=\"我的github地址\"><a href=\"#我的github地址\" class=\"headerlink\" title=\"我的github地址\"></a>我的github地址</h2><p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku</a></p>\n","excerpt":"<p>最近在学koa,想着exrpess有生成器,那么koa应该也有。不出所料，经过我仔细上网排查,果然也有koa生成器。这对于想学koa，且规范的使用koa的朋友来说是一件多么让人开心的事情。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/koajs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、一键生成koa项目特性\"><a href=\"#一、一键生成koa项目特性\" class=\"headerlink\" title=\"一、一键生成koa项目特性\"></a>一、一键生成koa项目特性</h3><ol>\n<li>Express-style</li>\n<li>Support koa 1.x（已支持）</li>\n<li>Support koa 2.x（已支持所有的koa中间件写法，依赖runkoa，不需要了解babel）</li>\n</ol>\n<h3 id=\"二、使用说明\"><a href=\"#二、使用说明\" class=\"headerlink\" title=\"二、使用说明\"></a>二、使用说明</h3><h4 id=\"1-准备工作\"><a href=\"#1-准备工作\" class=\"headerlink\" title=\"1. 准备工作\"></a>1. 准备工作</h4><p> 一定要全局安装(koa1.2和koa2都己经支持)<br><code>npm install koa-generator -g</code><br>koa1.2  生成一个test项目,切到test目录并下载依赖<br><code>koa test &amp;&amp; cd test &amp;&amp; npm install</code><br>koa2    生成一个test项目,切到test目录并下载依赖<br><code>koa2 test &amp;&amp; cd test &amp;&amp; npm install</code></p>\n<h4 id=\"运行\"><a href=\"#运行\" class=\"headerlink\" title=\"运行\"></a>运行</h4><p><code>npm start</code><br>  访问 <a href=\"http://localhost:3000\">http://localhost:3000</a> 就可以看到项目效果   </p>\n<h3 id=\"三、参数\"><a href=\"#三、参数\" class=\"headerlink\" title=\"三、参数\"></a>三、参数</h3><p>当然koa生成器功能没有这么弱啦,可以定制你想要的东西  </p>\n<pre><code>-h, --help          帮助\n-V, --version       版本号\n-e, --ejs           添加ejs模板引擎支持(默认是jade)\n    --hbs           添加hbs模板引擎支持(默认是hbs)\n-H, --hogan         添加hogan.js支持\n-c, --css &lt;engine&gt;  添加css样式 支持 less sass styus css(默认是css)\n    --git           添加 .gitignore\n-f, --force         force on non-empty directory\n</code></pre><h3 id=\"四、项目地址\"><a href=\"#四、项目地址\" class=\"headerlink\" title=\"四、项目地址\"></a>四、项目地址</h3><p><a href=\"https://github.com/syoubaku/node-koa\">https://github.com/syoubaku/node-koa</a></p>\n<h2 id=\"五、国际惯例-项目演示\"><a href=\"#五、国际惯例-项目演示\" class=\"headerlink\" title=\"五、国际惯例-项目演示\"></a>五、国际惯例-项目演示</h2><ol>\n<li>安装koa-generator  </li>\n<li>新建项目   </li>\n<li>运行项目  </li>\n<li>演示结束<br><img src=\"https://image.xiaomo.info/node/koa-generator.gif\" alt=\"koa生成器\"></li>\n</ol>\n<p>查看大图 <a href=\"https://image.xiaomo.info/node/koa-generator.gif\">koa生成器</a></p>\n<h2 id=\"我的github地址\"><a href=\"#我的github地址\" class=\"headerlink\" title=\"我的github地址\"></a>我的github地址</h2><p><a href=\"https://github.com/syoubaku\">https://github.com/syoubaku</a></p>"},{"author":"小莫","date":"2016-05-26T16:00:00.000Z","title":"mongodb数据库的使用","_content":"最近在学习node，听说node和mongodb更配哦。。所以我就来学习mongodb了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/mongodb.png)](https://github.com/syoubaku)\n### 一、mongodb的开启和关闭   \n\n#### 1. 查找mongod是否可用    \n`which mongod`\n\n#### 2. 启动mongodb     \n 指定path 和log日志   \n`mongod --dbpath /data2/db --port=27017 --fork /data2/db/log/mongod.log`\n\n#### 3. 关闭数据库  \n`mongod --shutdown`\n\n\n### 二、mongodb的操作  \n\n#### 1. 连接服务器  \n`mongod 115.29.137.34:27017`  \n\n#### 2. 使用数据库\n(不存在的数据库也可以使用,插入数据之后会自动保存)  \n`use mydb`  \n\n#### 3. 权限登陆  \n`db.auth('username','password')`\n\n#### 4. 展示数据库列表\n`show dbs`\n\n#### 5. 插入数据\n(类似于mysql的表)  \n`db.users.insert({'name':'xiaomo'})`  \n`db.users.insert({'name':'xiaoming','age':25})`  \n`db.users.insert({'name':'xiaoming','age':24,'sex':'女'})`\n\n#### 6. 查询集合\n(前提是use了一个数据库)  \n有一个System.indexes 是索引\n`show collections`\n\n#### 7. 不带条件查询  \n`db.users.find()`  \n\n#### 8. 带条件查询\n(参数是一个对象)  \n`db.users.find({'name':'xiaomo'})`  \n\n#### 9. 更新数据\n(有三个参数,1:查询条件,2:更新的内容 3：更新的配置)  \n`db.users.update({'name':'xiaomo',{$set:{'name:'xm}})`   修改满足条件的第一条数据  \n`db.users.update({'name':'xiaomo',{$set:{'name:'xm}},{multi:true})`    修改所有满足条件的数据  \n\n#### 10. 保存数据\n(只有一个参数，必须要传id，后面是要修改的数据)  \n`db.users.save({'id':'objectId(574710a97a3afd63cde56a49)','age':30})`  \n\n#### 11. 删除数据\n(1:条件 2 是否删除所有符合条件的)  \n`db.users.remove({'name':'xiaomoing'},true)`  \n\n#### 12. 删除集合  \n`db.users.drop()`  \n\n### 三、使用mongoose操作数据库  \n\n#### 1. 模块的介绍  \n连接mongdodb的驱动\n\n#### 2. 配置和链接  \n`npm install --save mongoose`  \n\n```\n  var mongoose = require('mongoose');\n  <!-- var uri = 'mongodb://username:password@hostname:port/databasename'; -->\n  var uri = 'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin';\n  mongoose.connect(uri);\n```\n\n#### 3. Model 和Shema\n\n```\n // model.js\nvar Schema = mongoose.Schema,\n    ObjectId = Schema.ObjectId;\n\nvar BlogPost = new Schema({\n    author    : ObjectId,\n    title     : String,\n    body      : String,\n    date      : Date\n});\n\n//Model\nmongoose.model('blog',Schema);\n\nvar Comment = new Schema({\n  name: { type: String, default: 'hahaha' },\n  age: { type: Number, min: 18, index: true },\n  bio: { type: String, match: /[a-z]/ },\n  date: { type: Date, default: Date.now }\n});\n\n// a setter\nComment.path('name').set(function (v) {\n  return capitalize(v);\n});\n\n// middleware\nComment.pre('save', function (next) {\n  notify(this.get('email'));\n  next();\n});\n\n```\n\n#### 4. 创建文档  \n\n```\n  //insert.js\n  var mongoose ＝ require('mongoose');\n  require('./model.js'); //执行\n  var Blog = mongoose.model('blog');\n  var blog = new Blog({\n      name:'xiaomo',\n      age:25,\n      bio:'don't know',\n      date:new Date\n    });\n\n  book.save(function(err){\n      console.log('save status:'+err);\n    });\n```\n\n#### 5. 删除文档  \n\n```\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  Blog.findOne({'name':'xiaomo'},function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    if(doc){\n    doc.reomove();\n  }\n    })\n```\n\n#### 6. 简单查询\n\n```\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  Blog.find({},function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    console.log('result',doc)\n    })\n```\n\n第一个满足条件的结果\n\n```\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  Blog.findOne({'name':'xiaomo'},function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    console.log('result',doc)\n    })\n```\n\n#### 7. 条件语句  \n\n```\n // condation.js\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  //名字是xiaomo或者xiaoming 可以用$or和$and\n  var condation = {\n    $or  $and:[\n    {'name':'xiaomo'},\n    {'name':'xiaoming'}\n    ]\n  }\n  Blog.find(condation,function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    console.log('result',doc)\n    })\n```\n\n\n### 三、在项目中使用mongoose  \n\n#### 1. 生成项目\n`koa koatest -e koatest`  \n\n#### 2. 安装依赖  \n`cd koatest && npm install`\n\n#### 3. 安装mongoose  \n`npm install --save mongoose`  \n\n#### 4. 创建模型  \n\n```\n  // models/users.server.model.js\n  var mongoose = require('mongoose');\n  var UserSchema = new mongoose.Schema({\n      uid:Number,\n      username:String,\n      createTime:Date,\n      lastLogin:Date\n    })\n  module.exports = mongoose.model('User',UserSchema);\n```\n\n#### 5. 创建配置文件  \n\n```\n  // config/config.js\n  module.exports={\n    mongodb:'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin'\n  }\n  //config/mongoose.js\n  var mongoose = require('mongoose');\n  var config = require('./config.js');\n\n  module.exports=function(){\n    var db = mongoose.connect(config.mongodb);\n    require('./../models/users.server.model.js');\n    return db;\n  }\n```\n\n#### 6. 操作mongdodb 代码   \n\n```\n  //routers/users.js\n  var router = require('koa-router')();\n  var mongoose = require('mongoose');\n  var User = mongoose.model('User');\n  router.get('/', function *(next) {\n      //add\n      var user = new User({\n        uid:\n        })\n      this.body = yield User.find({});\n  });\n  module.exports = router;\n\n\n```\n","source":"_posts/2016-05-27.mongodb_use.md","raw":"---\nauthor: 小莫\ndate: 2016-05-27\ntitle: mongodb数据库的使用\ntags:\n- mongodb\n- koa\n- javascript\n- node\ncategory: mongodb\npermalink: MongodbUse\n---\n最近在学习node，听说node和mongodb更配哦。。所以我就来学习mongodb了\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/mongodb.png)](https://github.com/syoubaku)\n### 一、mongodb的开启和关闭   \n\n#### 1. 查找mongod是否可用    \n`which mongod`\n\n#### 2. 启动mongodb     \n 指定path 和log日志   \n`mongod --dbpath /data2/db --port=27017 --fork /data2/db/log/mongod.log`\n\n#### 3. 关闭数据库  \n`mongod --shutdown`\n\n\n### 二、mongodb的操作  \n\n#### 1. 连接服务器  \n`mongod 115.29.137.34:27017`  \n\n#### 2. 使用数据库\n(不存在的数据库也可以使用,插入数据之后会自动保存)  \n`use mydb`  \n\n#### 3. 权限登陆  \n`db.auth('username','password')`\n\n#### 4. 展示数据库列表\n`show dbs`\n\n#### 5. 插入数据\n(类似于mysql的表)  \n`db.users.insert({'name':'xiaomo'})`  \n`db.users.insert({'name':'xiaoming','age':25})`  \n`db.users.insert({'name':'xiaoming','age':24,'sex':'女'})`\n\n#### 6. 查询集合\n(前提是use了一个数据库)  \n有一个System.indexes 是索引\n`show collections`\n\n#### 7. 不带条件查询  \n`db.users.find()`  \n\n#### 8. 带条件查询\n(参数是一个对象)  \n`db.users.find({'name':'xiaomo'})`  \n\n#### 9. 更新数据\n(有三个参数,1:查询条件,2:更新的内容 3：更新的配置)  \n`db.users.update({'name':'xiaomo',{$set:{'name:'xm}})`   修改满足条件的第一条数据  \n`db.users.update({'name':'xiaomo',{$set:{'name:'xm}},{multi:true})`    修改所有满足条件的数据  \n\n#### 10. 保存数据\n(只有一个参数，必须要传id，后面是要修改的数据)  \n`db.users.save({'id':'objectId(574710a97a3afd63cde56a49)','age':30})`  \n\n#### 11. 删除数据\n(1:条件 2 是否删除所有符合条件的)  \n`db.users.remove({'name':'xiaomoing'},true)`  \n\n#### 12. 删除集合  \n`db.users.drop()`  \n\n### 三、使用mongoose操作数据库  \n\n#### 1. 模块的介绍  \n连接mongdodb的驱动\n\n#### 2. 配置和链接  \n`npm install --save mongoose`  \n\n```\n  var mongoose = require('mongoose');\n  <!-- var uri = 'mongodb://username:password@hostname:port/databasename'; -->\n  var uri = 'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin';\n  mongoose.connect(uri);\n```\n\n#### 3. Model 和Shema\n\n```\n // model.js\nvar Schema = mongoose.Schema,\n    ObjectId = Schema.ObjectId;\n\nvar BlogPost = new Schema({\n    author    : ObjectId,\n    title     : String,\n    body      : String,\n    date      : Date\n});\n\n//Model\nmongoose.model('blog',Schema);\n\nvar Comment = new Schema({\n  name: { type: String, default: 'hahaha' },\n  age: { type: Number, min: 18, index: true },\n  bio: { type: String, match: /[a-z]/ },\n  date: { type: Date, default: Date.now }\n});\n\n// a setter\nComment.path('name').set(function (v) {\n  return capitalize(v);\n});\n\n// middleware\nComment.pre('save', function (next) {\n  notify(this.get('email'));\n  next();\n});\n\n```\n\n#### 4. 创建文档  \n\n```\n  //insert.js\n  var mongoose ＝ require('mongoose');\n  require('./model.js'); //执行\n  var Blog = mongoose.model('blog');\n  var blog = new Blog({\n      name:'xiaomo',\n      age:25,\n      bio:'don't know',\n      date:new Date\n    });\n\n  book.save(function(err){\n      console.log('save status:'+err);\n    });\n```\n\n#### 5. 删除文档  \n\n```\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  Blog.findOne({'name':'xiaomo'},function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    if(doc){\n    doc.reomove();\n  }\n    })\n```\n\n#### 6. 简单查询\n\n```\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  Blog.find({},function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    console.log('result',doc)\n    })\n```\n\n第一个满足条件的结果\n\n```\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  Blog.findOne({'name':'xiaomo'},function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    console.log('result',doc)\n    })\n```\n\n#### 7. 条件语句  \n\n```\n // condation.js\n  var mongoose = require('mongoose');\n  require('./model.js');\n  var Blog = mongoose.model('blog');\n  //名字是xiaomo或者xiaoming 可以用$or和$and\n  var condation = {\n    $or  $and:[\n    {'name':'xiaomo'},\n    {'name':'xiaoming'}\n    ]\n  }\n  Blog.find(condation,function(err,doc){\n    if(err){\n    console.log(err)\n    return;\n    }\n    console.log('result',doc)\n    })\n```\n\n\n### 三、在项目中使用mongoose  \n\n#### 1. 生成项目\n`koa koatest -e koatest`  \n\n#### 2. 安装依赖  \n`cd koatest && npm install`\n\n#### 3. 安装mongoose  \n`npm install --save mongoose`  \n\n#### 4. 创建模型  \n\n```\n  // models/users.server.model.js\n  var mongoose = require('mongoose');\n  var UserSchema = new mongoose.Schema({\n      uid:Number,\n      username:String,\n      createTime:Date,\n      lastLogin:Date\n    })\n  module.exports = mongoose.model('User',UserSchema);\n```\n\n#### 5. 创建配置文件  \n\n```\n  // config/config.js\n  module.exports={\n    mongodb:'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin'\n  }\n  //config/mongoose.js\n  var mongoose = require('mongoose');\n  var config = require('./config.js');\n\n  module.exports=function(){\n    var db = mongoose.connect(config.mongodb);\n    require('./../models/users.server.model.js');\n    return db;\n  }\n```\n\n#### 6. 操作mongdodb 代码   \n\n```\n  //routers/users.js\n  var router = require('koa-router')();\n  var mongoose = require('mongoose');\n  var User = mongoose.model('User');\n  router.get('/', function *(next) {\n      //add\n      var user = new User({\n        uid:\n        })\n      this.body = yield User.find({});\n  });\n  module.exports = router;\n\n\n```\n","slug":"MongodbUse","published":1,"updated":"2016-12-01T06:50:25.606Z","_id":"civ0ggq7j0021rwvna3nd4guu","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近在学习node，听说node和mongodb更配哦。。所以我就来学习mongodb了<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/mongodb.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、mongodb的开启和关闭\"><a href=\"#一、mongodb的开启和关闭\" class=\"headerlink\" title=\"一、mongodb的开启和关闭\"></a>一、mongodb的开启和关闭</h3><h4 id=\"1-查找mongod是否可用\"><a href=\"#1-查找mongod是否可用\" class=\"headerlink\" title=\"1. 查找mongod是否可用\"></a>1. 查找mongod是否可用</h4><p><code>which mongod</code></p>\n<h4 id=\"2-启动mongodb\"><a href=\"#2-启动mongodb\" class=\"headerlink\" title=\"2. 启动mongodb\"></a>2. 启动mongodb</h4><p> 指定path 和log日志<br><code>mongod --dbpath /data2/db --port=27017 --fork /data2/db/log/mongod.log</code></p>\n<h4 id=\"3-关闭数据库\"><a href=\"#3-关闭数据库\" class=\"headerlink\" title=\"3. 关闭数据库\"></a>3. 关闭数据库</h4><p><code>mongod --shutdown</code></p>\n<h3 id=\"二、mongodb的操作\"><a href=\"#二、mongodb的操作\" class=\"headerlink\" title=\"二、mongodb的操作\"></a>二、mongodb的操作</h3><h4 id=\"1-连接服务器\"><a href=\"#1-连接服务器\" class=\"headerlink\" title=\"1. 连接服务器\"></a>1. 连接服务器</h4><p><code>mongod 115.29.137.34:27017</code>  </p>\n<h4 id=\"2-使用数据库\"><a href=\"#2-使用数据库\" class=\"headerlink\" title=\"2. 使用数据库\"></a>2. 使用数据库</h4><p>(不存在的数据库也可以使用,插入数据之后会自动保存)<br><code>use mydb</code>  </p>\n<h4 id=\"3-权限登陆\"><a href=\"#3-权限登陆\" class=\"headerlink\" title=\"3. 权限登陆\"></a>3. 权限登陆</h4><p><code>db.auth(&#39;username&#39;,&#39;password&#39;)</code></p>\n<h4 id=\"4-展示数据库列表\"><a href=\"#4-展示数据库列表\" class=\"headerlink\" title=\"4. 展示数据库列表\"></a>4. 展示数据库列表</h4><p><code>show dbs</code></p>\n<h4 id=\"5-插入数据\"><a href=\"#5-插入数据\" class=\"headerlink\" title=\"5. 插入数据\"></a>5. 插入数据</h4><p>(类似于mysql的表)<br><code>db.users.insert({&#39;name&#39;:&#39;xiaomo&#39;})</code><br><code>db.users.insert({&#39;name&#39;:&#39;xiaoming&#39;,&#39;age&#39;:25})</code><br><code>db.users.insert({&#39;name&#39;:&#39;xiaoming&#39;,&#39;age&#39;:24,&#39;sex&#39;:&#39;女&#39;})</code></p>\n<h4 id=\"6-查询集合\"><a href=\"#6-查询集合\" class=\"headerlink\" title=\"6. 查询集合\"></a>6. 查询集合</h4><p>(前提是use了一个数据库)<br>有一个System.indexes 是索引<br><code>show collections</code></p>\n<h4 id=\"7-不带条件查询\"><a href=\"#7-不带条件查询\" class=\"headerlink\" title=\"7. 不带条件查询\"></a>7. 不带条件查询</h4><p><code>db.users.find()</code>  </p>\n<h4 id=\"8-带条件查询\"><a href=\"#8-带条件查询\" class=\"headerlink\" title=\"8. 带条件查询\"></a>8. 带条件查询</h4><p>(参数是一个对象)<br><code>db.users.find({&#39;name&#39;:&#39;xiaomo&#39;})</code>  </p>\n<h4 id=\"9-更新数据\"><a href=\"#9-更新数据\" class=\"headerlink\" title=\"9. 更新数据\"></a>9. 更新数据</h4><p>(有三个参数,1:查询条件,2:更新的内容 3：更新的配置)<br><code>db.users.update({&#39;name&#39;:&#39;xiaomo&#39;,{$set:{&#39;name:&#39;xm}})</code>   修改满足条件的第一条数据<br><code>db.users.update({&#39;name&#39;:&#39;xiaomo&#39;,{$set:{&#39;name:&#39;xm}},{multi:true})</code>    修改所有满足条件的数据  </p>\n<h4 id=\"10-保存数据\"><a href=\"#10-保存数据\" class=\"headerlink\" title=\"10. 保存数据\"></a>10. 保存数据</h4><p>(只有一个参数，必须要传id，后面是要修改的数据)<br><code>db.users.save({&#39;id&#39;:&#39;objectId(574710a97a3afd63cde56a49)&#39;,&#39;age&#39;:30})</code>  </p>\n<h4 id=\"11-删除数据\"><a href=\"#11-删除数据\" class=\"headerlink\" title=\"11. 删除数据\"></a>11. 删除数据</h4><p>(1:条件 2 是否删除所有符合条件的)<br><code>db.users.remove({&#39;name&#39;:&#39;xiaomoing&#39;},true)</code>  </p>\n<h4 id=\"12-删除集合\"><a href=\"#12-删除集合\" class=\"headerlink\" title=\"12. 删除集合\"></a>12. 删除集合</h4><p><code>db.users.drop()</code>  </p>\n<h3 id=\"三、使用mongoose操作数据库\"><a href=\"#三、使用mongoose操作数据库\" class=\"headerlink\" title=\"三、使用mongoose操作数据库\"></a>三、使用mongoose操作数据库</h3><h4 id=\"1-模块的介绍\"><a href=\"#1-模块的介绍\" class=\"headerlink\" title=\"1. 模块的介绍\"></a>1. 模块的介绍</h4><p>连接mongdodb的驱动</p>\n<h4 id=\"2-配置和链接\"><a href=\"#2-配置和链接\" class=\"headerlink\" title=\"2. 配置和链接\"></a>2. 配置和链接</h4><p><code>npm install --save mongoose</code>  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"xml\"><span class=\"comment\">&lt;!-- var uri = 'mongodb://username:password@hostname:port/databasename'; --&gt;</span></span></div><div class=\"line\">var uri = 'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin';</div><div class=\"line\">mongoose.connect(uri);</div></pre></td></tr></table></figure>\n<h4 id=\"3-Model-和Shema\"><a href=\"#3-Model-和Shema\" class=\"headerlink\" title=\"3. Model 和Shema\"></a>3. Model 和Shema</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"comment\">// model.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> Schema = mongoose.Schema,</div><div class=\"line\">    ObjectId = Schema.ObjectId;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> BlogPost = <span class=\"keyword\">new</span> Schema(&#123;</div><div class=\"line\">    author    : ObjectId,</div><div class=\"line\">    title     : <span class=\"built_in\">String</span>,</div><div class=\"line\">    body      : <span class=\"built_in\">String</span>,</div><div class=\"line\">    date      : <span class=\"built_in\">Date</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//Model</span></div><div class=\"line\">mongoose.model(<span class=\"string\">'blog'</span>,Schema);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> Comment = <span class=\"keyword\">new</span> Schema(&#123;</div><div class=\"line\">  name: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">String</span>, <span class=\"keyword\">default</span>: <span class=\"string\">'hahaha'</span> &#125;,</div><div class=\"line\">  age: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">Number</span>, min: <span class=\"number\">18</span>, index: <span class=\"literal\">true</span> &#125;,</div><div class=\"line\">  bio: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">String</span>, match: <span class=\"regexp\">/[a-z]/</span> &#125;,</div><div class=\"line\">  date: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">Date</span>, <span class=\"keyword\">default</span>: <span class=\"built_in\">Date</span>.now &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// a setter</span></div><div class=\"line\">Comment.path(<span class=\"string\">'name'</span>).set(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> capitalize(v);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// middleware</span></div><div class=\"line\">Comment.pre(<span class=\"string\">'save'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\">  notify(<span class=\"keyword\">this</span>.get(<span class=\"string\">'email'</span>));</div><div class=\"line\">  next();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"4-创建文档\"><a href=\"#4-创建文档\" class=\"headerlink\" title=\"4. 创建文档\"></a>4. 创建文档</h4><figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//insert.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> mongoose ＝ <span class=\"keyword\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">require</span>(<span class=\"string\">'./model.js'</span>); <span class=\"comment\">//执行</span></div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> blog = <span class=\"keyword\">new</span> Blog(<span class=\"comment\">&#123;</span></div><div class=\"line\">    name:'xiaomo',</div><div class=\"line\">    age:25,</div><div class=\"line\">    bio:'don't know',</div><div class=\"line\">    date:new Date</div><div class=\"line\">  &#125;);</div><div class=\"line\"></div><div class=\"line\">book.save(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(err)</span><span class=\"comment\">&#123;</span></span></div><div class=\"line\">    console.log('save status:'+err);</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"5-删除文档\"><a href=\"#5-删除文档\" class=\"headerlink\" title=\"5. 删除文档\"></a>5. 删除文档</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\">Blog.findOne(&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaomo'</span>&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">  <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">if</span>(doc)&#123;</div><div class=\"line\">  doc.reomove();</div><div class=\"line\">&#125;</div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"6-简单查询\"><a href=\"#6-简单查询\" class=\"headerlink\" title=\"6. 简单查询\"></a>6. 简单查询</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\">Blog.find(&#123;&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">  <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'result'</span>,doc)</div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<p>第一个满足条件的结果</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\">Blog.findOne(&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaomo'</span>&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">  <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'result'</span>,doc)</div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"7-条件语句\"><a href=\"#7-条件语句\" class=\"headerlink\" title=\"7. 条件语句\"></a>7. 条件语句</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// condation.js</span></div><div class=\"line\"> <span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"> <span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"> <span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\"> <span class=\"comment\">//名字是xiaomo或者xiaoming 可以用$or和$and</span></div><div class=\"line\"> <span class=\"keyword\">var</span> condation = &#123;</div><div class=\"line\">   $or  $and:[</div><div class=\"line\">   &#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaomo'</span>&#125;,</div><div class=\"line\">   &#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaoming'</span>&#125;</div><div class=\"line\">   ]</div><div class=\"line\"> &#125;</div><div class=\"line\"> Blog.find(condation,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">   <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">   <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">   <span class=\"keyword\">return</span>;</div><div class=\"line\">   &#125;</div><div class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">'result'</span>,doc)</div><div class=\"line\">   &#125;)</div></pre></td></tr></table></figure>\n<h3 id=\"三、在项目中使用mongoose\"><a href=\"#三、在项目中使用mongoose\" class=\"headerlink\" title=\"三、在项目中使用mongoose\"></a>三、在项目中使用mongoose</h3><h4 id=\"1-生成项目\"><a href=\"#1-生成项目\" class=\"headerlink\" title=\"1. 生成项目\"></a>1. 生成项目</h4><p><code>koa koatest -e koatest</code>  </p>\n<h4 id=\"2-安装依赖\"><a href=\"#2-安装依赖\" class=\"headerlink\" title=\"2. 安装依赖\"></a>2. 安装依赖</h4><p><code>cd koatest &amp;&amp; npm install</code></p>\n<h4 id=\"3-安装mongoose\"><a href=\"#3-安装mongoose\" class=\"headerlink\" title=\"3. 安装mongoose\"></a>3. 安装mongoose</h4><p><code>npm install --save mongoose</code>  </p>\n<h4 id=\"4-创建模型\"><a href=\"#4-创建模型\" class=\"headerlink\" title=\"4. 创建模型\"></a>4. 创建模型</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// models/users.server.model.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> UserSchema = <span class=\"keyword\">new</span> mongoose.Schema(&#123;</div><div class=\"line\">    <span class=\"attr\">uid</span>:<span class=\"built_in\">Number</span>,</div><div class=\"line\">    <span class=\"attr\">username</span>:<span class=\"built_in\">String</span>,</div><div class=\"line\">    <span class=\"attr\">createTime</span>:<span class=\"built_in\">Date</span>,</div><div class=\"line\">    <span class=\"attr\">lastLogin</span>:<span class=\"built_in\">Date</span></div><div class=\"line\">  &#125;)</div><div class=\"line\"><span class=\"built_in\">module</span>.exports = mongoose.model(<span class=\"string\">'User'</span>,UserSchema);</div></pre></td></tr></table></figure>\n<h4 id=\"5-创建配置文件\"><a href=\"#5-创建配置文件\" class=\"headerlink\" title=\"5. 创建配置文件\"></a>5. 创建配置文件</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// config/config.js</span></div><div class=\"line\"><span class=\"built_in\">module</span>.exports=&#123;</div><div class=\"line\">  <span class=\"attr\">mongodb</span>:<span class=\"string\">'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin'</span></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//config/mongoose.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'./config.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exports=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> db = mongoose.connect(config.mongodb);</div><div class=\"line\">  <span class=\"built_in\">require</span>(<span class=\"string\">'./../models/users.server.model.js'</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> db;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"6-操作mongdodb-代码\"><a href=\"#6-操作mongdodb-代码\" class=\"headerlink\" title=\"6. 操作mongdodb 代码\"></a>6. 操作mongdodb 代码</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//routers/users.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> router = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-router'</span>)();</div><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> User = mongoose.model(<span class=\"string\">'User'</span>);</div><div class=\"line\">router.get(<span class=\"string\">'/'</span>, <span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">//add</span></div><div class=\"line\">    <span class=\"keyword\">var</span> user = <span class=\"keyword\">new</span> User(&#123;</div><div class=\"line\">      <span class=\"attr\">uid</span>:</div><div class=\"line\">      &#125;)</div><div class=\"line\">    <span class=\"keyword\">this</span>.body = <span class=\"keyword\">yield</span> User.find(&#123;&#125;);</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports = router;</div></pre></td></tr></table></figure>\n","excerpt":"<p>最近在学习node，听说node和mongodb更配哦。。所以我就来学习mongodb了<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/mongodb.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、mongodb的开启和关闭\"><a href=\"#一、mongodb的开启和关闭\" class=\"headerlink\" title=\"一、mongodb的开启和关闭\"></a>一、mongodb的开启和关闭</h3><h4 id=\"1-查找mongod是否可用\"><a href=\"#1-查找mongod是否可用\" class=\"headerlink\" title=\"1. 查找mongod是否可用\"></a>1. 查找mongod是否可用</h4><p><code>which mongod</code></p>\n<h4 id=\"2-启动mongodb\"><a href=\"#2-启动mongodb\" class=\"headerlink\" title=\"2. 启动mongodb\"></a>2. 启动mongodb</h4><p> 指定path 和log日志<br><code>mongod --dbpath /data2/db --port=27017 --fork /data2/db/log/mongod.log</code></p>\n<h4 id=\"3-关闭数据库\"><a href=\"#3-关闭数据库\" class=\"headerlink\" title=\"3. 关闭数据库\"></a>3. 关闭数据库</h4><p><code>mongod --shutdown</code></p>\n<h3 id=\"二、mongodb的操作\"><a href=\"#二、mongodb的操作\" class=\"headerlink\" title=\"二、mongodb的操作\"></a>二、mongodb的操作</h3><h4 id=\"1-连接服务器\"><a href=\"#1-连接服务器\" class=\"headerlink\" title=\"1. 连接服务器\"></a>1. 连接服务器</h4><p><code>mongod 115.29.137.34:27017</code>  </p>\n<h4 id=\"2-使用数据库\"><a href=\"#2-使用数据库\" class=\"headerlink\" title=\"2. 使用数据库\"></a>2. 使用数据库</h4><p>(不存在的数据库也可以使用,插入数据之后会自动保存)<br><code>use mydb</code>  </p>\n<h4 id=\"3-权限登陆\"><a href=\"#3-权限登陆\" class=\"headerlink\" title=\"3. 权限登陆\"></a>3. 权限登陆</h4><p><code>db.auth(&#39;username&#39;,&#39;password&#39;)</code></p>\n<h4 id=\"4-展示数据库列表\"><a href=\"#4-展示数据库列表\" class=\"headerlink\" title=\"4. 展示数据库列表\"></a>4. 展示数据库列表</h4><p><code>show dbs</code></p>\n<h4 id=\"5-插入数据\"><a href=\"#5-插入数据\" class=\"headerlink\" title=\"5. 插入数据\"></a>5. 插入数据</h4><p>(类似于mysql的表)<br><code>db.users.insert({&#39;name&#39;:&#39;xiaomo&#39;})</code><br><code>db.users.insert({&#39;name&#39;:&#39;xiaoming&#39;,&#39;age&#39;:25})</code><br><code>db.users.insert({&#39;name&#39;:&#39;xiaoming&#39;,&#39;age&#39;:24,&#39;sex&#39;:&#39;女&#39;})</code></p>\n<h4 id=\"6-查询集合\"><a href=\"#6-查询集合\" class=\"headerlink\" title=\"6. 查询集合\"></a>6. 查询集合</h4><p>(前提是use了一个数据库)<br>有一个System.indexes 是索引<br><code>show collections</code></p>\n<h4 id=\"7-不带条件查询\"><a href=\"#7-不带条件查询\" class=\"headerlink\" title=\"7. 不带条件查询\"></a>7. 不带条件查询</h4><p><code>db.users.find()</code>  </p>\n<h4 id=\"8-带条件查询\"><a href=\"#8-带条件查询\" class=\"headerlink\" title=\"8. 带条件查询\"></a>8. 带条件查询</h4><p>(参数是一个对象)<br><code>db.users.find({&#39;name&#39;:&#39;xiaomo&#39;})</code>  </p>\n<h4 id=\"9-更新数据\"><a href=\"#9-更新数据\" class=\"headerlink\" title=\"9. 更新数据\"></a>9. 更新数据</h4><p>(有三个参数,1:查询条件,2:更新的内容 3：更新的配置)<br><code>db.users.update({&#39;name&#39;:&#39;xiaomo&#39;,{$set:{&#39;name:&#39;xm}})</code>   修改满足条件的第一条数据<br><code>db.users.update({&#39;name&#39;:&#39;xiaomo&#39;,{$set:{&#39;name:&#39;xm}},{multi:true})</code>    修改所有满足条件的数据  </p>\n<h4 id=\"10-保存数据\"><a href=\"#10-保存数据\" class=\"headerlink\" title=\"10. 保存数据\"></a>10. 保存数据</h4><p>(只有一个参数，必须要传id，后面是要修改的数据)<br><code>db.users.save({&#39;id&#39;:&#39;objectId(574710a97a3afd63cde56a49)&#39;,&#39;age&#39;:30})</code>  </p>\n<h4 id=\"11-删除数据\"><a href=\"#11-删除数据\" class=\"headerlink\" title=\"11. 删除数据\"></a>11. 删除数据</h4><p>(1:条件 2 是否删除所有符合条件的)<br><code>db.users.remove({&#39;name&#39;:&#39;xiaomoing&#39;},true)</code>  </p>\n<h4 id=\"12-删除集合\"><a href=\"#12-删除集合\" class=\"headerlink\" title=\"12. 删除集合\"></a>12. 删除集合</h4><p><code>db.users.drop()</code>  </p>\n<h3 id=\"三、使用mongoose操作数据库\"><a href=\"#三、使用mongoose操作数据库\" class=\"headerlink\" title=\"三、使用mongoose操作数据库\"></a>三、使用mongoose操作数据库</h3><h4 id=\"1-模块的介绍\"><a href=\"#1-模块的介绍\" class=\"headerlink\" title=\"1. 模块的介绍\"></a>1. 模块的介绍</h4><p>连接mongdodb的驱动</p>\n<h4 id=\"2-配置和链接\"><a href=\"#2-配置和链接\" class=\"headerlink\" title=\"2. 配置和链接\"></a>2. 配置和链接</h4><p><code>npm install --save mongoose</code>  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"xml\"><span class=\"comment\">&lt;!-- var uri = 'mongodb://username:password@hostname:port/databasename'; --&gt;</span></div><div class=\"line\">var uri = 'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin';</div><div class=\"line\">mongoose.connect(uri);</span></div></pre></td></tr></table></figure>\n<h4 id=\"3-Model-和Shema\"><a href=\"#3-Model-和Shema\" class=\"headerlink\" title=\"3. Model 和Shema\"></a>3. Model 和Shema</h4><figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"comment\">// model.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> Schema = mongoose.Schema,</div><div class=\"line\">    ObjectId = Schema.ObjectId;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> BlogPost = <span class=\"keyword\">new</span> Schema(&#123;</div><div class=\"line\">    author    : ObjectId,</div><div class=\"line\">    title     : <span class=\"built_in\">String</span>,</div><div class=\"line\">    body      : <span class=\"built_in\">String</span>,</div><div class=\"line\">    date      : <span class=\"built_in\">Date</span></div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//Model</span></div><div class=\"line\">mongoose.model(<span class=\"string\">'blog'</span>,Schema);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> Comment = <span class=\"keyword\">new</span> Schema(&#123;</div><div class=\"line\">  name: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">String</span>, <span class=\"keyword\">default</span>: <span class=\"string\">'hahaha'</span> &#125;,</div><div class=\"line\">  age: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">Number</span>, min: <span class=\"number\">18</span>, index: <span class=\"literal\">true</span> &#125;,</div><div class=\"line\">  bio: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">String</span>, match: <span class=\"regexp\">/[a-z]/</span> &#125;,</div><div class=\"line\">  date: &#123; <span class=\"keyword\">type</span>: <span class=\"built_in\">Date</span>, <span class=\"keyword\">default</span>: <span class=\"built_in\">Date</span>.now &#125;</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// a setter</span></div><div class=\"line\">Comment.path(<span class=\"string\">'name'</span>).set(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">v</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> capitalize(v);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// middleware</span></div><div class=\"line\">Comment.pre(<span class=\"string\">'save'</span>, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\">  notify(<span class=\"keyword\">this</span>.get(<span class=\"string\">'email'</span>));</div><div class=\"line\">  next();</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"4-创建文档\"><a href=\"#4-创建文档\" class=\"headerlink\" title=\"4. 创建文档\"></a>4. 创建文档</h4><figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//insert.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> mongoose ＝ <span class=\"keyword\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">require</span>(<span class=\"string\">'./model.js'</span>); <span class=\"comment\">//执行</span></div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> blog = <span class=\"keyword\">new</span> Blog(<span class=\"comment\">&#123;</div><div class=\"line\">    name:'xiaomo',</div><div class=\"line\">    age:25,</div><div class=\"line\">    bio:'don't know',</div><div class=\"line\">    date:new Date</div><div class=\"line\">  &#125;</span>);</div><div class=\"line\"></div><div class=\"line\">book.save(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(err)</span><span class=\"comment\">&#123;</div><div class=\"line\">    console.log('save status:'+err);</div><div class=\"line\">  &#125;</span>);</span></div></pre></td></tr></table></figure>\n<h4 id=\"5-删除文档\"><a href=\"#5-删除文档\" class=\"headerlink\" title=\"5. 删除文档\"></a>5. 删除文档</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\">Blog.findOne(&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaomo'</span>&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">  <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">if</span>(doc)&#123;</div><div class=\"line\">  doc.reomove();</div><div class=\"line\">&#125;</div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"6-简单查询\"><a href=\"#6-简单查询\" class=\"headerlink\" title=\"6. 简单查询\"></a>6. 简单查询</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\">Blog.find(&#123;&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">  <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'result'</span>,doc)</div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<p>第一个满足条件的结果</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\">Blog.findOne(&#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaomo'</span>&#125;,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">  <span class=\"keyword\">return</span>;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">'result'</span>,doc)</div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"7-条件语句\"><a href=\"#7-条件语句\" class=\"headerlink\" title=\"7. 条件语句\"></a>7. 条件语句</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// condation.js</span></div><div class=\"line\"> <span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"> <span class=\"built_in\">require</span>(<span class=\"string\">'./model.js'</span>);</div><div class=\"line\"> <span class=\"keyword\">var</span> Blog = mongoose.model(<span class=\"string\">'blog'</span>);</div><div class=\"line\"> <span class=\"comment\">//名字是xiaomo或者xiaoming 可以用$or和$and</span></div><div class=\"line\"> <span class=\"keyword\">var</span> condation = &#123;</div><div class=\"line\">   $or  $and:[</div><div class=\"line\">   &#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaomo'</span>&#125;,</div><div class=\"line\">   &#123;<span class=\"string\">'name'</span>:<span class=\"string\">'xiaoming'</span>&#125;</div><div class=\"line\">   ]</div><div class=\"line\"> &#125;</div><div class=\"line\"> Blog.find(condation,<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">err,doc</span>)</span>&#123;</div><div class=\"line\">   <span class=\"keyword\">if</span>(err)&#123;</div><div class=\"line\">   <span class=\"built_in\">console</span>.log(err)</div><div class=\"line\">   <span class=\"keyword\">return</span>;</div><div class=\"line\">   &#125;</div><div class=\"line\">   <span class=\"built_in\">console</span>.log(<span class=\"string\">'result'</span>,doc)</div><div class=\"line\">   &#125;)</div></pre></td></tr></table></figure>\n<h3 id=\"三、在项目中使用mongoose\"><a href=\"#三、在项目中使用mongoose\" class=\"headerlink\" title=\"三、在项目中使用mongoose\"></a>三、在项目中使用mongoose</h3><h4 id=\"1-生成项目\"><a href=\"#1-生成项目\" class=\"headerlink\" title=\"1. 生成项目\"></a>1. 生成项目</h4><p><code>koa koatest -e koatest</code>  </p>\n<h4 id=\"2-安装依赖\"><a href=\"#2-安装依赖\" class=\"headerlink\" title=\"2. 安装依赖\"></a>2. 安装依赖</h4><p><code>cd koatest &amp;&amp; npm install</code></p>\n<h4 id=\"3-安装mongoose\"><a href=\"#3-安装mongoose\" class=\"headerlink\" title=\"3. 安装mongoose\"></a>3. 安装mongoose</h4><p><code>npm install --save mongoose</code>  </p>\n<h4 id=\"4-创建模型\"><a href=\"#4-创建模型\" class=\"headerlink\" title=\"4. 创建模型\"></a>4. 创建模型</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// models/users.server.model.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> UserSchema = <span class=\"keyword\">new</span> mongoose.Schema(&#123;</div><div class=\"line\">    <span class=\"attr\">uid</span>:<span class=\"built_in\">Number</span>,</div><div class=\"line\">    <span class=\"attr\">username</span>:<span class=\"built_in\">String</span>,</div><div class=\"line\">    <span class=\"attr\">createTime</span>:<span class=\"built_in\">Date</span>,</div><div class=\"line\">    <span class=\"attr\">lastLogin</span>:<span class=\"built_in\">Date</span></div><div class=\"line\">  &#125;)</div><div class=\"line\"><span class=\"built_in\">module</span>.exports = mongoose.model(<span class=\"string\">'User'</span>,UserSchema);</div></pre></td></tr></table></figure>\n<h4 id=\"5-创建配置文件\"><a href=\"#5-创建配置文件\" class=\"headerlink\" title=\"5. 创建配置文件\"></a>5. 创建配置文件</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// config/config.js</span></div><div class=\"line\"><span class=\"built_in\">module</span>.exports=&#123;</div><div class=\"line\">  <span class=\"attr\">mongodb</span>:<span class=\"string\">'mongodb://xiaomo:xiaomo@115.29.137.34:27017/admin'</span></div><div class=\"line\">&#125;</div><div class=\"line\"><span class=\"comment\">//config/mongoose.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">'./config.js'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">module</span>.exports=<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> db = mongoose.connect(config.mongodb);</div><div class=\"line\">  <span class=\"built_in\">require</span>(<span class=\"string\">'./../models/users.server.model.js'</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> db;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"6-操作mongdodb-代码\"><a href=\"#6-操作mongdodb-代码\" class=\"headerlink\" title=\"6. 操作mongdodb 代码\"></a>6. 操作mongdodb 代码</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//routers/users.js</span></div><div class=\"line\"><span class=\"keyword\">var</span> router = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-router'</span>)();</div><div class=\"line\"><span class=\"keyword\">var</span> mongoose = <span class=\"built_in\">require</span>(<span class=\"string\">'mongoose'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> User = mongoose.model(<span class=\"string\">'User'</span>);</div><div class=\"line\">router.get(<span class=\"string\">'/'</span>, <span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\">next</span>) </span>&#123;</div><div class=\"line\">    <span class=\"comment\">//add</span></div><div class=\"line\">    <span class=\"keyword\">var</span> user = <span class=\"keyword\">new</span> User(&#123;</div><div class=\"line\">      <span class=\"attr\">uid</span>:</div><div class=\"line\">      &#125;)</div><div class=\"line\">    <span class=\"keyword\">this</span>.body = <span class=\"keyword\">yield</span> User.find(&#123;&#125;);</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"built_in\">module</span>.exports = router;</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-05-31T16:00:00.000Z","title":"npm模块分享","_content":"平时自己用的npm模块也不算少了，其实网上有很多牛人开发的npm模块都很好，希望不要被埋没了。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/npm.png)](https://github.com/syoubaku)\n### 一、 实用的模块\n#### 1.[thunder-vip](https://github.com/nswbmw/thunder-vip)  \n作用：获取最新可用的迅雷 vip 账号。                  \n解决什么：不用每次打开网站去找号。。            \n用法： `$ thunder`  or\n\n  ```\n    var thunderVip = require('thunder-vip');\n\n    thunderVip(function (err, accounts) {\n    console.log(accounts);\n    });\n  ```\n\n  截图  \n\n  ![1](https://dn-cnode.qbox.me/FskKgd_Epv4IYYh0waATFFHoD7g9)\n\n#### 2. npm-user-downloads\n[npm-user-downloads](https://github.com/nswbmw/npm-user-downloads)  \n\n  查看 npm 用户某个时间段内所有模块的下载量，按从高到低排名。\n\n  解决什么：起初是想看自己的那些模块下载量多，好重点维护。。\n\n  用法： `$ nud hupengbest last-month --limit=20`\n\n  截图：\n\n  ![1](https://dn-cnode.qbox.me/FhJDMWtAwWxgkXsEMWsfIz4XZ3Jl)\n\n### 二、koa开发模块\n#### 1. [co](https://npm.taobao.org/package/co)  \n作用：异步控制  \n\n1 栗子\n\n```\n\tco(function* () {\n\t  var result = yield Promise.resolve(true);\n\t  return result;\n\t}).then(function (value) {\n\t  console.log(value);\n\t}, function (err) {\n\t  console.error(err.stack);\n\t});\n```\n\n2 如果你想把一个 co-generator-function 转成真实的functionu并返回一个promise 可以使用`co.wrap(fn*)`\n\n```\n\tvar fn = co.wrap(function* (val) {\n\t  return yield Promise.resolve(val);\n\t});\n\n\tfn(true).then(function (val) {\n\n\t});\n```\n\n3 完整的example  \n\n```\n\tvar co = require('co');\n\n\tco(function *(){\n\t  // yield any promise\n\t  var result = yield Promise.resolve(true);\n\t}).catch(onerror);\n\n\tco(function *(){\n\t  // resolve multiple promises in parallel\n\t  var a = Promise.resolve(1);\n\t  var b = Promise.resolve(2);\n\t  var c = Promise.resolve(3);\n\t  var res = yield [a, b, c];\n\t  console.log(res);\n\t  // => [1, 2, 3]\n\t}).catch(onerror);\n\n\t// errors can be try/catched\n\tco(function *(){\n\t  try {\n\t    yield Promise.reject(new Error('boom'));\n\t  } catch (err) {\n\t    console.error(err.message); // \"boom\"\n\t }\n\t}).catch(onerror);\n\n\tfunction onerror(err) {\n\t  // log any uncaught errors\n\t  // co will not throw any errors you do not handle!!!\n\t  // HANDLE ALL YOUR ERRORS!!!\n\t  console.error(err.stack);\n\t}\n```\n\n4 api  \n\n`co(fn*).then( val => )`  \n解决一个generator然后返回一个promise\n\n```\n\tco(function* () {\n\t  return yield Promise.resolve(true);\n\t}).then(function (val) {\n\t  console.log(val);\n\t}, function (err) {\n\t  console.error(err.stack);\n\t});\n```\n\n`var fn = co.wrap(fn*)`  \n将一个generator转成普通的function并返回一个promise  \n\n```\n\tvar fn = co.wrap(function* (val) {\n\t  return yield Promise.resolve(val);\n\t});\n\n\tfn(true).then(function (val) {\n\n\t});\n```\n#### 2、[debug](https://npm.taobao.org/package/debug)  \n` npm install debug`  \n\n1. 使用方法  \n\n```\n  //Example app.js\n\tvar debug = require('debug')('http')\n\t  , http = require('http')\n\t  , name = 'My App';\n\n\t// fake app\n\n\tdebug('booting %s', name);\n\n\thttp.createServer(function(req, res){\n\t  debug(req.method + ' ' + req.url);\n\t  res.end('hello\\n');\n\t}).listen(3000, function(){\n\t  debug('listening');\n\t});\n\n\t// fake worker of some kind\n\n\trequire('./worker');\n```\n\n\n```\n //Example worker.js:\n\tvar debug = require('debug')('worker');\n\n\tsetInterval(function(){\n\t  debug('doing some work');\n\t}, 1000);\n```\n\n效果图  \n![1](http://f.cl.ly/items/18471z1H402O24072r1J/Screenshot.png)\n\n在windows环境下需要设置环境变量`set DEBUG=*,-not_this` 我这里使用的是idea的debug调试  \n![1](https://image.xiaomo.info/node/debug.png)\n\nwindows 下启动方式  \n![1](http://f.cl.ly/items/2i3h1d3t121M2Z1A3Q0N/Screenshot.png)\n\n将debug日志转存到文件中  \n`DEBUG_FD=3 node your-app.js 3> whatever.log`   \n\n#### 3、[koa-bodyparser](https://npm.taobao.org/package/koa-bodyparser)  \n\n\n使用方法  \n\n```\n  var koa = require('koa');\n  var bodyParser = require('koa-bodyparser');\n\n  var app = koa();\n  app.use(bodyParser());\n\n  app.use(function *() {\n    this.body = this.request.body;\n  });\n```\n\n\n在koa2中使用   \n\n`npm install koa-bodyparser@next --save`\n\n#### 4. [koa-json](https://npm.taobao.org/package/koa-json)  \n`npm install koa-json --save`  \n\n使用方法   \n\n```\nvar json = require('koa-json');\nvar Koa = require('koa');\nvar app = new Koa();\n\napp.use(json());\n\napp.use((ctx) => {\n  ctx.body = { foo: 'bar' };\n});\n```\n\n#### 4. [koa-webpack-dev-middleware](https://npm.taobao.org/package/koa-webpack-dev-middleware)\n\n使用方法   \n\n`npm install --save-dev koa-webpack-dev-middleware`\n\n```\nvar app = require('koa')();\nvar webpackMiddleware = require(\"koa-webpack-dev-middleware\");\napp.use(webpackMiddleware(webpack({\n  // webpack options\n  // webpackMiddleware takes a Compiler object as first parameter\n  // which is returned by webpack(...) without callback.\n  entry: \"...\",\n  output: {\n      path: \"/\"\n      // no real path is required, just pass \"/\"\n      // but it will work with other paths too.\n  }\n}), {\n  // all options optional\n\n  noInfo: false,\n  // display no info to console (only warnings and errors)\n\n  quiet: false,\n  // display nothing to the console\n\n  lazy: true,\n  // switch into lazy mode\n  // that means no watching, but recompilation on every request\n\n  watchDelay: 300,\n  // delay after change (only lazy: false)\n\n  publicPath: \"/assets/\",\n  // public path to bind the middleware to\n  // use the same as in webpack\n\n  headers: { \"X-Custom-Header\": \"yes\" },\n  // custom headers\n\n  stats: {\n      colors: true\n  }\n  // options for formating the statistics\n}));\n```\n","source":"_posts/2016-06-01.npm_modules_share.md","raw":"---\nauthor: 小莫\ndate: 2016-06-01\ntitle: npm模块分享\ntags:\n- npm\n- node\n- koa\ncategory: npm\npermalink: NpmModulesShare\n---\n平时自己用的npm模块也不算少了，其实网上有很多牛人开发的npm模块都很好，希望不要被埋没了。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/npm.png)](https://github.com/syoubaku)\n### 一、 实用的模块\n#### 1.[thunder-vip](https://github.com/nswbmw/thunder-vip)  \n作用：获取最新可用的迅雷 vip 账号。                  \n解决什么：不用每次打开网站去找号。。            \n用法： `$ thunder`  or\n\n  ```\n    var thunderVip = require('thunder-vip');\n\n    thunderVip(function (err, accounts) {\n    console.log(accounts);\n    });\n  ```\n\n  截图  \n\n  ![1](https://dn-cnode.qbox.me/FskKgd_Epv4IYYh0waATFFHoD7g9)\n\n#### 2. npm-user-downloads\n[npm-user-downloads](https://github.com/nswbmw/npm-user-downloads)  \n\n  查看 npm 用户某个时间段内所有模块的下载量，按从高到低排名。\n\n  解决什么：起初是想看自己的那些模块下载量多，好重点维护。。\n\n  用法： `$ nud hupengbest last-month --limit=20`\n\n  截图：\n\n  ![1](https://dn-cnode.qbox.me/FhJDMWtAwWxgkXsEMWsfIz4XZ3Jl)\n\n### 二、koa开发模块\n#### 1. [co](https://npm.taobao.org/package/co)  \n作用：异步控制  \n\n1 栗子\n\n```\n\tco(function* () {\n\t  var result = yield Promise.resolve(true);\n\t  return result;\n\t}).then(function (value) {\n\t  console.log(value);\n\t}, function (err) {\n\t  console.error(err.stack);\n\t});\n```\n\n2 如果你想把一个 co-generator-function 转成真实的functionu并返回一个promise 可以使用`co.wrap(fn*)`\n\n```\n\tvar fn = co.wrap(function* (val) {\n\t  return yield Promise.resolve(val);\n\t});\n\n\tfn(true).then(function (val) {\n\n\t});\n```\n\n3 完整的example  \n\n```\n\tvar co = require('co');\n\n\tco(function *(){\n\t  // yield any promise\n\t  var result = yield Promise.resolve(true);\n\t}).catch(onerror);\n\n\tco(function *(){\n\t  // resolve multiple promises in parallel\n\t  var a = Promise.resolve(1);\n\t  var b = Promise.resolve(2);\n\t  var c = Promise.resolve(3);\n\t  var res = yield [a, b, c];\n\t  console.log(res);\n\t  // => [1, 2, 3]\n\t}).catch(onerror);\n\n\t// errors can be try/catched\n\tco(function *(){\n\t  try {\n\t    yield Promise.reject(new Error('boom'));\n\t  } catch (err) {\n\t    console.error(err.message); // \"boom\"\n\t }\n\t}).catch(onerror);\n\n\tfunction onerror(err) {\n\t  // log any uncaught errors\n\t  // co will not throw any errors you do not handle!!!\n\t  // HANDLE ALL YOUR ERRORS!!!\n\t  console.error(err.stack);\n\t}\n```\n\n4 api  \n\n`co(fn*).then( val => )`  \n解决一个generator然后返回一个promise\n\n```\n\tco(function* () {\n\t  return yield Promise.resolve(true);\n\t}).then(function (val) {\n\t  console.log(val);\n\t}, function (err) {\n\t  console.error(err.stack);\n\t});\n```\n\n`var fn = co.wrap(fn*)`  \n将一个generator转成普通的function并返回一个promise  \n\n```\n\tvar fn = co.wrap(function* (val) {\n\t  return yield Promise.resolve(val);\n\t});\n\n\tfn(true).then(function (val) {\n\n\t});\n```\n#### 2、[debug](https://npm.taobao.org/package/debug)  \n` npm install debug`  \n\n1. 使用方法  \n\n```\n  //Example app.js\n\tvar debug = require('debug')('http')\n\t  , http = require('http')\n\t  , name = 'My App';\n\n\t// fake app\n\n\tdebug('booting %s', name);\n\n\thttp.createServer(function(req, res){\n\t  debug(req.method + ' ' + req.url);\n\t  res.end('hello\\n');\n\t}).listen(3000, function(){\n\t  debug('listening');\n\t});\n\n\t// fake worker of some kind\n\n\trequire('./worker');\n```\n\n\n```\n //Example worker.js:\n\tvar debug = require('debug')('worker');\n\n\tsetInterval(function(){\n\t  debug('doing some work');\n\t}, 1000);\n```\n\n效果图  \n![1](http://f.cl.ly/items/18471z1H402O24072r1J/Screenshot.png)\n\n在windows环境下需要设置环境变量`set DEBUG=*,-not_this` 我这里使用的是idea的debug调试  \n![1](https://image.xiaomo.info/node/debug.png)\n\nwindows 下启动方式  \n![1](http://f.cl.ly/items/2i3h1d3t121M2Z1A3Q0N/Screenshot.png)\n\n将debug日志转存到文件中  \n`DEBUG_FD=3 node your-app.js 3> whatever.log`   \n\n#### 3、[koa-bodyparser](https://npm.taobao.org/package/koa-bodyparser)  \n\n\n使用方法  \n\n```\n  var koa = require('koa');\n  var bodyParser = require('koa-bodyparser');\n\n  var app = koa();\n  app.use(bodyParser());\n\n  app.use(function *() {\n    this.body = this.request.body;\n  });\n```\n\n\n在koa2中使用   \n\n`npm install koa-bodyparser@next --save`\n\n#### 4. [koa-json](https://npm.taobao.org/package/koa-json)  \n`npm install koa-json --save`  \n\n使用方法   \n\n```\nvar json = require('koa-json');\nvar Koa = require('koa');\nvar app = new Koa();\n\napp.use(json());\n\napp.use((ctx) => {\n  ctx.body = { foo: 'bar' };\n});\n```\n\n#### 4. [koa-webpack-dev-middleware](https://npm.taobao.org/package/koa-webpack-dev-middleware)\n\n使用方法   \n\n`npm install --save-dev koa-webpack-dev-middleware`\n\n```\nvar app = require('koa')();\nvar webpackMiddleware = require(\"koa-webpack-dev-middleware\");\napp.use(webpackMiddleware(webpack({\n  // webpack options\n  // webpackMiddleware takes a Compiler object as first parameter\n  // which is returned by webpack(...) without callback.\n  entry: \"...\",\n  output: {\n      path: \"/\"\n      // no real path is required, just pass \"/\"\n      // but it will work with other paths too.\n  }\n}), {\n  // all options optional\n\n  noInfo: false,\n  // display no info to console (only warnings and errors)\n\n  quiet: false,\n  // display nothing to the console\n\n  lazy: true,\n  // switch into lazy mode\n  // that means no watching, but recompilation on every request\n\n  watchDelay: 300,\n  // delay after change (only lazy: false)\n\n  publicPath: \"/assets/\",\n  // public path to bind the middleware to\n  // use the same as in webpack\n\n  headers: { \"X-Custom-Header\": \"yes\" },\n  // custom headers\n\n  stats: {\n      colors: true\n  }\n  // options for formating the statistics\n}));\n```\n","slug":"NpmModulesShare","published":1,"updated":"2016-12-01T07:37:07.472Z","_id":"civ0ggq7m0025rwvn29ifu1iz","comments":1,"layout":"post","photos":[],"link":"","content":"<p>平时自己用的npm模块也不算少了，其实网上有很多牛人开发的npm模块都很好，希望不要被埋没了。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/npm.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-实用的模块\"><a href=\"#一、-实用的模块\" class=\"headerlink\" title=\"一、 实用的模块\"></a>一、 实用的模块</h3><h4 id=\"1-thunder-vip\"><a href=\"#1-thunder-vip\" class=\"headerlink\" title=\"1.thunder-vip\"></a>1.<a href=\"https://github.com/nswbmw/thunder-vip\" target=\"_blank\" rel=\"external\">thunder-vip</a></h4><p>作用：获取最新可用的迅雷 vip 账号。<br>解决什么：不用每次打开网站去找号。。<br>用法： <code>$ thunder</code>  or</p>\n  <figure class=\"highlight lisp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">var thunderVip = require('thunder-vip')<span class=\"comment\">;</span></div><div class=\"line\"></div><div class=\"line\">thunderVip(<span class=\"name\">function</span> (<span class=\"name\">err</span>, accounts) &#123;</div><div class=\"line\">console.log(<span class=\"name\">accounts</span>)<span class=\"comment\">;</span></div><div class=\"line\">&#125;)<span class=\"comment\">;</span></div></pre></td></tr></table></figure>\n<p>  截图  </p>\n<p>  <img src=\"https://dn-cnode.qbox.me/FskKgd_Epv4IYYh0waATFFHoD7g9\" alt=\"1\"></p>\n<h4 id=\"2-npm-user-downloads\"><a href=\"#2-npm-user-downloads\" class=\"headerlink\" title=\"2. npm-user-downloads\"></a>2. npm-user-downloads</h4><p><a href=\"https://github.com/nswbmw/npm-user-downloads\" target=\"_blank\" rel=\"external\">npm-user-downloads</a>  </p>\n<p>  查看 npm 用户某个时间段内所有模块的下载量，按从高到低排名。</p>\n<p>  解决什么：起初是想看自己的那些模块下载量多，好重点维护。。</p>\n<p>  用法： <code>$ nud hupengbest last-month --limit=20</code></p>\n<p>  截图：</p>\n<p>  <img src=\"https://dn-cnode.qbox.me/FhJDMWtAwWxgkXsEMWsfIz4XZ3Jl\" alt=\"1\"></p>\n<h3 id=\"二、koa开发模块\"><a href=\"#二、koa开发模块\" class=\"headerlink\" title=\"二、koa开发模块\"></a>二、koa开发模块</h3><h4 id=\"1-co\"><a href=\"#1-co\" class=\"headerlink\" title=\"1. co\"></a>1. <a href=\"https://npm.taobao.org/package/co\" target=\"_blank\" rel=\"external\">co</a></h4><p>作用：异步控制  </p>\n<p>1 栗子</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> result = <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"literal\">true</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> result;</div><div class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(value);</div><div class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.error(err.stack);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>2 如果你想把一个 co-generator-function 转成真实的functionu并返回一个promise 可以使用<code>co.wrap(fn*)</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> fn = co.wrap(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(val);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">fn(<span class=\"literal\">true</span>).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>3 完整的example  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> co = <span class=\"built_in\">require</span>(<span class=\"string\">'co'</span>);</div><div class=\"line\"></div><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">// yield any promise</span></div><div class=\"line\">  <span class=\"keyword\">var</span> result = <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"literal\">true</span>);</div><div class=\"line\">&#125;).catch(onerror);</div><div class=\"line\"></div><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">// resolve multiple promises in parallel</span></div><div class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> b = <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">2</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> c = <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">3</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> res = <span class=\"keyword\">yield</span> [a, b, c];</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(res);</div><div class=\"line\">  <span class=\"comment\">// =&gt; [1, 2, 3]</span></div><div class=\"line\">&#125;).catch(onerror);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// errors can be try/catched</span></div><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">try</span> &#123;</div><div class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.reject(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'boom'</span>));</div><div class=\"line\">  &#125; <span class=\"keyword\">catch</span> (err) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.error(err.message); <span class=\"comment\">// \"boom\"</span></div><div class=\"line\"> &#125;</div><div class=\"line\">&#125;).catch(onerror);</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onerror</span>(<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">  <span class=\"comment\">// log any uncaught errors</span></div><div class=\"line\">  <span class=\"comment\">// co will not throw any errors you do not handle!!!</span></div><div class=\"line\">  <span class=\"comment\">// HANDLE ALL YOUR ERRORS!!!</span></div><div class=\"line\">  <span class=\"built_in\">console</span>.error(err.stack);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>4 api  </p>\n<p><code>co(fn*).then( val =&gt; )</code><br>解决一个generator然后返回一个promise</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"literal\">true</span>);</div><div class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(val);</div><div class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.error(err.stack);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p><code>var fn = co.wrap(fn*)</code><br>将一个generator转成普通的function并返回一个promise  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> fn = co.wrap(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(val);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">fn(<span class=\"literal\">true</span>).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"2、debug\"><a href=\"#2、debug\" class=\"headerlink\" title=\"2、debug\"></a>2、<a href=\"https://npm.taobao.org/package/debug\" target=\"_blank\" rel=\"external\">debug</a></h4><p><code>npm install debug</code>  </p>\n<ol>\n<li>使用方法  </li>\n</ol>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"> //Example app.js</div><div class=\"line\">var <span class=\"built_in\">debug</span> = <span class=\"built_in\">require</span>(<span class=\"string\">'debug'</span>)(<span class=\"string\">'http'</span>)</div><div class=\"line\">  , http = <span class=\"built_in\">require</span>(<span class=\"string\">'http'</span>)</div><div class=\"line\">  , name = <span class=\"string\">'My App'</span>;</div><div class=\"line\"></div><div class=\"line\">// fake app</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">debug</span>(<span class=\"string\">'booting %s'</span>, name);</div><div class=\"line\"></div><div class=\"line\">http.createServer(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(req, res)</span></span>&#123;</div><div class=\"line\">  <span class=\"built_in\">debug</span>(req.method + <span class=\"string\">' '</span> + req.url);</div><div class=\"line\">  res.<span class=\"keyword\">end</span>(<span class=\"string\">'hello\\n'</span>);</div><div class=\"line\">&#125;).listen(<span class=\"number\">3000</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">  <span class=\"built_in\">debug</span>(<span class=\"string\">'listening'</span>);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">// fake worker of some kind</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./worker'</span>);</div></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//Example worker.js:</span></div><div class=\"line\"><span class=\"keyword\">var</span> debug = <span class=\"built_in\">require</span>(<span class=\"string\">'debug'</span>)(<span class=\"string\">'worker'</span>);</div><div class=\"line\"></div><div class=\"line\">setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  debug(<span class=\"string\">'doing some work'</span>);</div><div class=\"line\">&#125;, <span class=\"number\">1000</span>);</div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"http://f.cl.ly/items/18471z1H402O24072r1J/Screenshot.png\" alt=\"1\"></p>\n<p>在windows环境下需要设置环境变量<code>set DEBUG=*,-not_this</code> 我这里使用的是idea的debug调试<br><img src=\"https://image.xiaomo.info/node/debug.png\" alt=\"1\"></p>\n<p>windows 下启动方式<br><img src=\"http://f.cl.ly/items/2i3h1d3t121M2Z1A3Q0N/Screenshot.png\" alt=\"1\"></p>\n<p>将debug日志转存到文件中<br><code>DEBUG_FD=3 node your-app.js 3&gt; whatever.log</code>   </p>\n<h4 id=\"3、koa-bodyparser\"><a href=\"#3、koa-bodyparser\" class=\"headerlink\" title=\"3、koa-bodyparser\"></a>3、<a href=\"https://npm.taobao.org/package/koa-bodyparser\" target=\"_blank\" rel=\"external\">koa-bodyparser</a></h4><p>使用方法  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> bodyParser = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-bodyparser'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> app = koa();</div><div class=\"line\">app.use(bodyParser());</div><div class=\"line\"></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.body = <span class=\"keyword\">this</span>.request.body;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>在koa2中使用   </p>\n<p><code>npm install koa-bodyparser@next --save</code></p>\n<h4 id=\"4-koa-json\"><a href=\"#4-koa-json\" class=\"headerlink\" title=\"4. koa-json\"></a>4. <a href=\"https://npm.taobao.org/package/koa-json\" target=\"_blank\" rel=\"external\">koa-json</a></h4><p><code>npm install koa-json --save</code>  </p>\n<p>使用方法   </p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> json = <span class=\"keyword\">require</span>(<span class=\"string\">'koa-json'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Koa = <span class=\"keyword\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> app = <span class=\"keyword\">new</span> Koa();</div><div class=\"line\"></div><div class=\"line\">app.<span class=\"keyword\">use</span>(json());</div><div class=\"line\"></div><div class=\"line\">app.<span class=\"keyword\">use</span>((ctx) =&gt; &#123;</div><div class=\"line\">  ctx.body = &#123; foo: <span class=\"string\">'bar'</span> &#125;;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"4-koa-webpack-dev-middleware\"><a href=\"#4-koa-webpack-dev-middleware\" class=\"headerlink\" title=\"4. koa-webpack-dev-middleware\"></a>4. <a href=\"https://npm.taobao.org/package/koa-webpack-dev-middleware\" target=\"_blank\" rel=\"external\">koa-webpack-dev-middleware</a></h4><p>使用方法   </p>\n<p><code>npm install --save-dev koa-webpack-dev-middleware</code></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> app = <span class=\"keyword\">require</span>(<span class=\"string\">'koa'</span>)();</div><div class=\"line\"><span class=\"keyword\">var</span> webpackMiddleware = <span class=\"keyword\">require</span>(<span class=\"string\">\"koa-webpack-dev-middleware\"</span>);</div><div class=\"line\">app.<span class=\"keyword\">use</span>(webpackMiddleware(webpack(&#123;</div><div class=\"line\">  <span class=\"comment\">// webpack options</span></div><div class=\"line\">  <span class=\"comment\">// webpackMiddleware takes a Compiler object as first parameter</span></div><div class=\"line\">  <span class=\"comment\">// which is returned by webpack(...) without callback.</span></div><div class=\"line\">  entry: <span class=\"string\">\"...\"</span>,</div><div class=\"line\">  output: &#123;</div><div class=\"line\">      path: <span class=\"string\">\"/\"</span></div><div class=\"line\">      <span class=\"comment\">// no real path is required, just pass \"/\"</span></div><div class=\"line\">      <span class=\"comment\">// but it will work with other paths too.</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;), &#123;</div><div class=\"line\">  <span class=\"comment\">// all options optional</span></div><div class=\"line\"></div><div class=\"line\">  noInfo: <span class=\"keyword\">false</span>,</div><div class=\"line\">  <span class=\"comment\">// display no info to console (only warnings and errors)</span></div><div class=\"line\"></div><div class=\"line\">  quiet: <span class=\"keyword\">false</span>,</div><div class=\"line\">  <span class=\"comment\">// display nothing to the console</span></div><div class=\"line\"></div><div class=\"line\">  lazy: <span class=\"keyword\">true</span>,</div><div class=\"line\">  <span class=\"comment\">// switch into lazy mode</span></div><div class=\"line\">  <span class=\"comment\">// that means no watching, but recompilation on every request</span></div><div class=\"line\"></div><div class=\"line\">  watchDelay: <span class=\"number\">300</span>,</div><div class=\"line\">  <span class=\"comment\">// delay after change (only lazy: false)</span></div><div class=\"line\"></div><div class=\"line\">  publicPath: <span class=\"string\">\"/assets/\"</span>,</div><div class=\"line\">  <span class=\"comment\">// public path to bind the middleware to</span></div><div class=\"line\">  <span class=\"comment\">// use the same as in webpack</span></div><div class=\"line\"></div><div class=\"line\">  headers: &#123; <span class=\"string\">\"X-Custom-Header\"</span>: <span class=\"string\">\"yes\"</span> &#125;,</div><div class=\"line\">  <span class=\"comment\">// custom headers</span></div><div class=\"line\"></div><div class=\"line\">  stats: &#123;</div><div class=\"line\">      colors: <span class=\"keyword\">true</span></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"comment\">// options for formating the statistics</span></div><div class=\"line\">&#125;));</div></pre></td></tr></table></figure>\n","excerpt":"<p>平时自己用的npm模块也不算少了，其实网上有很多牛人开发的npm模块都很好，希望不要被埋没了。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/npm.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-实用的模块\"><a href=\"#一、-实用的模块\" class=\"headerlink\" title=\"一、 实用的模块\"></a>一、 实用的模块</h3><h4 id=\"1-thunder-vip\"><a href=\"#1-thunder-vip\" class=\"headerlink\" title=\"1.thunder-vip\"></a>1.<a href=\"https://github.com/nswbmw/thunder-vip\">thunder-vip</a></h4><p>作用：获取最新可用的迅雷 vip 账号。<br>解决什么：不用每次打开网站去找号。。<br>用法： <code>$ thunder</code>  or</p>\n  <figure class=\"highlight lisp\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">var thunderVip = require('thunder-vip')<span class=\"comment\">;</span></div><div class=\"line\"></div><div class=\"line\">thunderVip(<span class=\"name\">function</span> (<span class=\"name\">err</span>, accounts) &#123;</div><div class=\"line\">console.log(<span class=\"name\">accounts</span>)<span class=\"comment\">;</span></div><div class=\"line\">&#125;)<span class=\"comment\">;</span></div></pre></td></tr></table></figure>\n<p>  截图  </p>\n<p>  <img src=\"https://dn-cnode.qbox.me/FskKgd_Epv4IYYh0waATFFHoD7g9\" alt=\"1\"></p>\n<h4 id=\"2-npm-user-downloads\"><a href=\"#2-npm-user-downloads\" class=\"headerlink\" title=\"2. npm-user-downloads\"></a>2. npm-user-downloads</h4><p><a href=\"https://github.com/nswbmw/npm-user-downloads\">npm-user-downloads</a>  </p>\n<p>  查看 npm 用户某个时间段内所有模块的下载量，按从高到低排名。</p>\n<p>  解决什么：起初是想看自己的那些模块下载量多，好重点维护。。</p>\n<p>  用法： <code>$ nud hupengbest last-month --limit=20</code></p>\n<p>  截图：</p>\n<p>  <img src=\"https://dn-cnode.qbox.me/FhJDMWtAwWxgkXsEMWsfIz4XZ3Jl\" alt=\"1\"></p>\n<h3 id=\"二、koa开发模块\"><a href=\"#二、koa开发模块\" class=\"headerlink\" title=\"二、koa开发模块\"></a>二、koa开发模块</h3><h4 id=\"1-co\"><a href=\"#1-co\" class=\"headerlink\" title=\"1. co\"></a>1. <a href=\"https://npm.taobao.org/package/co\">co</a></h4><p>作用：异步控制  </p>\n<p>1 栗子</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> result = <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"literal\">true</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> result;</div><div class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">value</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(value);</div><div class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.error(err.stack);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>2 如果你想把一个 co-generator-function 转成真实的functionu并返回一个promise 可以使用<code>co.wrap(fn*)</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> fn = co.wrap(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(val);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">fn(<span class=\"literal\">true</span>).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>3 完整的example  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> co = <span class=\"built_in\">require</span>(<span class=\"string\">'co'</span>);</div><div class=\"line\"></div><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">// yield any promise</span></div><div class=\"line\">  <span class=\"keyword\">var</span> result = <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"literal\">true</span>);</div><div class=\"line\">&#125;).catch(onerror);</div><div class=\"line\"></div><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"comment\">// resolve multiple promises in parallel</span></div><div class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">1</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> b = <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">2</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> c = <span class=\"built_in\">Promise</span>.resolve(<span class=\"number\">3</span>);</div><div class=\"line\">  <span class=\"keyword\">var</span> res = <span class=\"keyword\">yield</span> [a, b, c];</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(res);</div><div class=\"line\">  <span class=\"comment\">// =&gt; [1, 2, 3]</span></div><div class=\"line\">&#125;).catch(onerror);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// errors can be try/catched</span></div><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">try</span> &#123;</div><div class=\"line\">    <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.reject(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'boom'</span>));</div><div class=\"line\">  &#125; <span class=\"keyword\">catch</span> (err) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.error(err.message); <span class=\"comment\">// \"boom\"</span></div><div class=\"line\"> &#125;</div><div class=\"line\">&#125;).catch(onerror);</div><div class=\"line\"></div><div class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">onerror</span>(<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">  <span class=\"comment\">// log any uncaught errors</span></div><div class=\"line\">  <span class=\"comment\">// co will not throw any errors you do not handle!!!</span></div><div class=\"line\">  <span class=\"comment\">// HANDLE ALL YOUR ERRORS!!!</span></div><div class=\"line\">  <span class=\"built_in\">console</span>.error(err.stack);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>4 api  </p>\n<p><code>co(fn*).then( val =&gt; )</code><br>解决一个generator然后返回一个promise</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">co(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(<span class=\"literal\">true</span>);</div><div class=\"line\">&#125;).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(val);</div><div class=\"line\">&#125;, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.error(err.stack);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p><code>var fn = co.wrap(fn*)</code><br>将一个generator转成普通的function并返回一个promise  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> fn = co.wrap(<span class=\"function\"><span class=\"keyword\">function</span>* (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">yield</span> <span class=\"built_in\">Promise</span>.resolve(val);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">fn(<span class=\"literal\">true</span>).then(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">val</span>) </span>&#123;</div><div class=\"line\"></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"2、debug\"><a href=\"#2、debug\" class=\"headerlink\" title=\"2、debug\"></a>2、<a href=\"https://npm.taobao.org/package/debug\">debug</a></h4><p><code>npm install debug</code>  </p>\n<ol>\n<li>使用方法  </li>\n</ol>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"> //Example app.js</div><div class=\"line\">var <span class=\"built_in\">debug</span> = <span class=\"built_in\">require</span>(<span class=\"string\">'debug'</span>)(<span class=\"string\">'http'</span>)</div><div class=\"line\">  , http = <span class=\"built_in\">require</span>(<span class=\"string\">'http'</span>)</div><div class=\"line\">  , name = <span class=\"string\">'My App'</span>;</div><div class=\"line\"></div><div class=\"line\">// fake app</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">debug</span>(<span class=\"string\">'booting %s'</span>, name);</div><div class=\"line\"></div><div class=\"line\">http.createServer(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(req, res)</span></span>&#123;</div><div class=\"line\">  <span class=\"built_in\">debug</span>(req.method + <span class=\"string\">' '</span> + req.url);</div><div class=\"line\">  res.<span class=\"keyword\">end</span>(<span class=\"string\">'hello\\n'</span>);</div><div class=\"line\">&#125;).listen(<span class=\"number\">3000</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</div><div class=\"line\">  <span class=\"built_in\">debug</span>(<span class=\"string\">'listening'</span>);</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">// fake worker of some kind</div><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">require</span>(<span class=\"string\">'./worker'</span>);</div></pre></td></tr></table></figure>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//Example worker.js:</span></div><div class=\"line\"><span class=\"keyword\">var</span> debug = <span class=\"built_in\">require</span>(<span class=\"string\">'debug'</span>)(<span class=\"string\">'worker'</span>);</div><div class=\"line\"></div><div class=\"line\">setInterval(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>)</span>&#123;</div><div class=\"line\">  debug(<span class=\"string\">'doing some work'</span>);</div><div class=\"line\">&#125;, <span class=\"number\">1000</span>);</div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"http://f.cl.ly/items/18471z1H402O24072r1J/Screenshot.png\" alt=\"1\"></p>\n<p>在windows环境下需要设置环境变量<code>set DEBUG=*,-not_this</code> 我这里使用的是idea的debug调试<br><img src=\"https://image.xiaomo.info/node/debug.png\" alt=\"1\"></p>\n<p>windows 下启动方式<br><img src=\"http://f.cl.ly/items/2i3h1d3t121M2Z1A3Q0N/Screenshot.png\" alt=\"1\"></p>\n<p>将debug日志转存到文件中<br><code>DEBUG_FD=3 node your-app.js 3&gt; whatever.log</code>   </p>\n<h4 id=\"3、koa-bodyparser\"><a href=\"#3、koa-bodyparser\" class=\"headerlink\" title=\"3、koa-bodyparser\"></a>3、<a href=\"https://npm.taobao.org/package/koa-bodyparser\">koa-bodyparser</a></h4><p>使用方法  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> bodyParser = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-bodyparser'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> app = koa();</div><div class=\"line\">app.use(bodyParser());</div><div class=\"line\"></div><div class=\"line\">app.use(<span class=\"function\"><span class=\"keyword\">function</span> *(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.body = <span class=\"keyword\">this</span>.request.body;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>在koa2中使用   </p>\n<p><code>npm install koa-bodyparser@next --save</code></p>\n<h4 id=\"4-koa-json\"><a href=\"#4-koa-json\" class=\"headerlink\" title=\"4. koa-json\"></a>4. <a href=\"https://npm.taobao.org/package/koa-json\">koa-json</a></h4><p><code>npm install koa-json --save</code>  </p>\n<p>使用方法   </p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> json = <span class=\"keyword\">require</span>(<span class=\"string\">'koa-json'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> Koa = <span class=\"keyword\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> app = <span class=\"keyword\">new</span> Koa();</div><div class=\"line\"></div><div class=\"line\">app.<span class=\"keyword\">use</span>(json());</div><div class=\"line\"></div><div class=\"line\">app.<span class=\"keyword\">use</span>((ctx) =&gt; &#123;</div><div class=\"line\">  ctx.body = &#123; foo: <span class=\"string\">'bar'</span> &#125;;</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"4-koa-webpack-dev-middleware\"><a href=\"#4-koa-webpack-dev-middleware\" class=\"headerlink\" title=\"4. koa-webpack-dev-middleware\"></a>4. <a href=\"https://npm.taobao.org/package/koa-webpack-dev-middleware\">koa-webpack-dev-middleware</a></h4><p>使用方法   </p>\n<p><code>npm install --save-dev koa-webpack-dev-middleware</code></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> app = <span class=\"keyword\">require</span>(<span class=\"string\">'koa'</span>)();</div><div class=\"line\"><span class=\"keyword\">var</span> webpackMiddleware = <span class=\"keyword\">require</span>(<span class=\"string\">\"koa-webpack-dev-middleware\"</span>);</div><div class=\"line\">app.<span class=\"keyword\">use</span>(webpackMiddleware(webpack(&#123;</div><div class=\"line\">  <span class=\"comment\">// webpack options</span></div><div class=\"line\">  <span class=\"comment\">// webpackMiddleware takes a Compiler object as first parameter</span></div><div class=\"line\">  <span class=\"comment\">// which is returned by webpack(...) without callback.</span></div><div class=\"line\">  entry: <span class=\"string\">\"...\"</span>,</div><div class=\"line\">  output: &#123;</div><div class=\"line\">      path: <span class=\"string\">\"/\"</span></div><div class=\"line\">      <span class=\"comment\">// no real path is required, just pass \"/\"</span></div><div class=\"line\">      <span class=\"comment\">// but it will work with other paths too.</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;), &#123;</div><div class=\"line\">  <span class=\"comment\">// all options optional</span></div><div class=\"line\"></div><div class=\"line\">  noInfo: <span class=\"keyword\">false</span>,</div><div class=\"line\">  <span class=\"comment\">// display no info to console (only warnings and errors)</span></div><div class=\"line\"></div><div class=\"line\">  quiet: <span class=\"keyword\">false</span>,</div><div class=\"line\">  <span class=\"comment\">// display nothing to the console</span></div><div class=\"line\"></div><div class=\"line\">  lazy: <span class=\"keyword\">true</span>,</div><div class=\"line\">  <span class=\"comment\">// switch into lazy mode</span></div><div class=\"line\">  <span class=\"comment\">// that means no watching, but recompilation on every request</span></div><div class=\"line\"></div><div class=\"line\">  watchDelay: <span class=\"number\">300</span>,</div><div class=\"line\">  <span class=\"comment\">// delay after change (only lazy: false)</span></div><div class=\"line\"></div><div class=\"line\">  publicPath: <span class=\"string\">\"/assets/\"</span>,</div><div class=\"line\">  <span class=\"comment\">// public path to bind the middleware to</span></div><div class=\"line\">  <span class=\"comment\">// use the same as in webpack</span></div><div class=\"line\"></div><div class=\"line\">  headers: &#123; <span class=\"string\">\"X-Custom-Header\"</span>: <span class=\"string\">\"yes\"</span> &#125;,</div><div class=\"line\">  <span class=\"comment\">// custom headers</span></div><div class=\"line\"></div><div class=\"line\">  stats: &#123;</div><div class=\"line\">      colors: <span class=\"keyword\">true</span></div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"comment\">// options for formating the statistics</span></div><div class=\"line\">&#125;));</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-02T16:00:00.000Z","title":"nodejs爬虫项目实战","_content":"这篇文章主要介绍了NodeJS制作爬虫的全过程，包括项目建立，目标网站分析、使用superagent获取源数据、使用cheerio解析、使用eventproxy来并发抓取每个主题的内容等方面，有需要的小伙伴参考下吧。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、 依赖\n#### 1. DOM操作  [cheerio](https://npm.taobao.org/package/cheerio)    \n#### 2. 请求插件  [request](https://npm.taobao.org/package/request)    \n#### 3. http库  [superagent](https://npm.taobao.org/package/superagent)   \n#### 4. 代理  [eventproxy](https://npm.taobao.org/package/eventproxy)   \n\n### 二、建立项目node-spider\n\n#### 1. 建立一个Koa2项目\n `npm install -g koa-generator`\n#### 2. 生成一个koa2的项目\n `koa2 -e node-spider`   -e表示使用ejs模板，具体参照[koa生成器,一键生成koa和koa2项目](http://localhost:4000/2016/05/26/2016-5-26-koa_generator/)   \n\n### 三、目标网站分析\n\n如图，这是CNode首页一部分div标签，我们就是通过这一系列的id、class来定位我们需要的信息。\n![](https://image.xiaomo.info/nodeSpider/0.png)\n\n### 四、爬虫功能制作\n\n#### 1. superagent   \n是ajax API来使用的Http库，它的使用方法与jQuery差不多，我们通过它发起get请求，在回调函数中输出结果。\n\n```\n  var koa = require('koa');\n  var router = require('koa-router')\n  var url = require('url'); //解析操作url\n  var superagent = require('superagent'); //这三个外部依赖不要忘记npm install\n  var cheerio = require('cheerio');\n  var eventproxy = require('eventproxy');\n  var targetUrl = 'https://cnodejs.org/';\n  superagent.get(targetUrl)\n    .end(function (err, res) {\n        console.log(res);\n    });\n```\n\n它的res结果为一个包含目标url信息的对象，网站内容主要在其text(string)里。\n\n![](https://image.xiaomo.info/nodeSpider/1.png)\n\n#### 2. 使用cheerio解析\n\ncheerio充当服务器端的jQuery功能，我们先使用它的.load()来载入HTML，再通过CSS selector来筛选元素。\n\n```\n  var $ = cheerio.load(res.text);\n  //通过CSS selector来筛选数据\n  $('#topic_list .topic_title').each(function (idx, element) {\n      console.log(element);\n  });\n```\n\n其结果为一个个对象，调用 `.each(function(index, element))`函数来遍历每一个对象，返回的是HTML DOM Elements。\n\n![](https://image.xiaomo.info/nodeSpider/2.png)\n\n输出 `console.log($element.attr('title'));`的结果为\n `广州2014年12月06日 NodeParty 之 UC 场之类的标题`   \n输出 `console.log($element.attr('href'));`的结果为\n` /topic/545c395becbcb78265856eb2之类的url`。  \n再用`NodeJS1的url.resolve()`函数来补全完整的url。  \n\n\n```\nsuperagent.get(tUrl)\n    .end(function (err, res) {\n        if (err) {\n            return console.error(err);\n        }\n        var topicUrls = [];\n        var $ = cheerio.load(res.text);\n        // 获取首页所有的链接\n        $('#topic_list .topic_title').each(function (idx, element) {\n            var $element = $(element);\n            var href = url.resolve(tUrl, $element.attr('href'));\n            console.log(href);\n            //topicUrls.push(href);\n        });\n    });\n```\n\n#### 3.使用eventproxy来并发抓取\n教程上展示了深度嵌套(串行)方法和计数器方法的例子，eventproxy就是使用事件(并行)方法来解决这个问题。当所有的抓取完成后，eventproxy接收到事件消息自动帮你调用处理函数。\n\n```\n  //第一步：得到一个 eventproxy 的实例\n  var ep = new eventproxy();\n  //第二步：定义监听事件的回调函数。\n  //after方法为重复监听\n  //params: eventname(String) 事件名,times(Number) 监听次数, callback 回调函数\n  ep.after('topic_html', topicUrls.length, function(topics){\n      // topics 是个数组，包含了 40 次 ep.emit('topic_html', pair) 中的那 40 个 pair\n      //.map\n      topics = topics.map(function(topicPair){\n          //use cheerio\n          var topicUrl = topicPair[0];\n          var topicHtml = topicPair[1];\n          var $ = cheerio.load(topicHtml);\n          return ({\n              title: $('.topic_full_title').text().trim(),\n              href: topicUrl,\n              comment1: $('.reply_content').eq(0).text().trim()\n          });\n      });\n      //outcome\n      console.log('outcome:');\n      console.log(topics);\n  });\n  //第三步：确定放出事件消息的\n  topicUrls.forEach(function (topicUrl) {\n      superagent.get(topicUrl)\n          .end(function (err, res) {\n              console.log('fetch ' + topicUrl + ' successful');\n              ep.emit('topic_html', [topicUrl, res.text]);\n          });\n  });\n```\n\n结果如下  \n\n![](https://image.xiaomo.info/nodeSpider/3.png)\n\n\n获取留言用户名和积分  \n\n![](https://image.xiaomo.info/nodeSpider/4.png)\n\n在文章页面的源码找到评论的用户class名，classname为reply_author。console.log第一个元素 $('.reply_author').get(0)可以看到，我们需要获取东西都在这里头。\n\n![](https://image.xiaomo.info/nodeSpider/5.png)\n\n首先，我们先对一篇文章进行抓取，一次性把需要的都得到即可。\n\n```\n  var userHref = url.resolve(tUrl, $('.reply_author').get(0).attribs.href);\n  console.log(userHref);\n  console.log($('.reply_author').get(0).children[0].data);\n```\n\n我们可以通过`https://cnodejs.org/user/username`抓取积分信息\n\n```\n$('.reply_author').each(function (idx, element) {\nvar $element = $(element);\nconsole.log($element.attr('href'));\n});\n```\n\n在用户信息页面 `$('.big').text().trim()`即为积分信息。\n使用cheerio的函数.get(0)为获取第一个元素。\n\n```\nvar userHref = url.resolve(tUrl, $('.reply_author').get(0).attribs.href);\nconsole.log(userHref);\n```\n","source":"_posts/2016-06-02.nodejs_spider_system.md","raw":"---\nauthor: 小莫\ndate: 2016-06-03\ntitle: nodejs爬虫项目实战\ntags:\n- node\n- javascript\n- es6\ncategory: node\npermalink: NodeSpider\n---\n这篇文章主要介绍了NodeJS制作爬虫的全过程，包括项目建立，目标网站分析、使用superagent获取源数据、使用cheerio解析、使用eventproxy来并发抓取每个主题的内容等方面，有需要的小伙伴参考下吧。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n### 一、 依赖\n#### 1. DOM操作  [cheerio](https://npm.taobao.org/package/cheerio)    \n#### 2. 请求插件  [request](https://npm.taobao.org/package/request)    \n#### 3. http库  [superagent](https://npm.taobao.org/package/superagent)   \n#### 4. 代理  [eventproxy](https://npm.taobao.org/package/eventproxy)   \n\n### 二、建立项目node-spider\n\n#### 1. 建立一个Koa2项目\n `npm install -g koa-generator`\n#### 2. 生成一个koa2的项目\n `koa2 -e node-spider`   -e表示使用ejs模板，具体参照[koa生成器,一键生成koa和koa2项目](http://localhost:4000/2016/05/26/2016-5-26-koa_generator/)   \n\n### 三、目标网站分析\n\n如图，这是CNode首页一部分div标签，我们就是通过这一系列的id、class来定位我们需要的信息。\n![](https://image.xiaomo.info/nodeSpider/0.png)\n\n### 四、爬虫功能制作\n\n#### 1. superagent   \n是ajax API来使用的Http库，它的使用方法与jQuery差不多，我们通过它发起get请求，在回调函数中输出结果。\n\n```\n  var koa = require('koa');\n  var router = require('koa-router')\n  var url = require('url'); //解析操作url\n  var superagent = require('superagent'); //这三个外部依赖不要忘记npm install\n  var cheerio = require('cheerio');\n  var eventproxy = require('eventproxy');\n  var targetUrl = 'https://cnodejs.org/';\n  superagent.get(targetUrl)\n    .end(function (err, res) {\n        console.log(res);\n    });\n```\n\n它的res结果为一个包含目标url信息的对象，网站内容主要在其text(string)里。\n\n![](https://image.xiaomo.info/nodeSpider/1.png)\n\n#### 2. 使用cheerio解析\n\ncheerio充当服务器端的jQuery功能，我们先使用它的.load()来载入HTML，再通过CSS selector来筛选元素。\n\n```\n  var $ = cheerio.load(res.text);\n  //通过CSS selector来筛选数据\n  $('#topic_list .topic_title').each(function (idx, element) {\n      console.log(element);\n  });\n```\n\n其结果为一个个对象，调用 `.each(function(index, element))`函数来遍历每一个对象，返回的是HTML DOM Elements。\n\n![](https://image.xiaomo.info/nodeSpider/2.png)\n\n输出 `console.log($element.attr('title'));`的结果为\n `广州2014年12月06日 NodeParty 之 UC 场之类的标题`   \n输出 `console.log($element.attr('href'));`的结果为\n` /topic/545c395becbcb78265856eb2之类的url`。  \n再用`NodeJS1的url.resolve()`函数来补全完整的url。  \n\n\n```\nsuperagent.get(tUrl)\n    .end(function (err, res) {\n        if (err) {\n            return console.error(err);\n        }\n        var topicUrls = [];\n        var $ = cheerio.load(res.text);\n        // 获取首页所有的链接\n        $('#topic_list .topic_title').each(function (idx, element) {\n            var $element = $(element);\n            var href = url.resolve(tUrl, $element.attr('href'));\n            console.log(href);\n            //topicUrls.push(href);\n        });\n    });\n```\n\n#### 3.使用eventproxy来并发抓取\n教程上展示了深度嵌套(串行)方法和计数器方法的例子，eventproxy就是使用事件(并行)方法来解决这个问题。当所有的抓取完成后，eventproxy接收到事件消息自动帮你调用处理函数。\n\n```\n  //第一步：得到一个 eventproxy 的实例\n  var ep = new eventproxy();\n  //第二步：定义监听事件的回调函数。\n  //after方法为重复监听\n  //params: eventname(String) 事件名,times(Number) 监听次数, callback 回调函数\n  ep.after('topic_html', topicUrls.length, function(topics){\n      // topics 是个数组，包含了 40 次 ep.emit('topic_html', pair) 中的那 40 个 pair\n      //.map\n      topics = topics.map(function(topicPair){\n          //use cheerio\n          var topicUrl = topicPair[0];\n          var topicHtml = topicPair[1];\n          var $ = cheerio.load(topicHtml);\n          return ({\n              title: $('.topic_full_title').text().trim(),\n              href: topicUrl,\n              comment1: $('.reply_content').eq(0).text().trim()\n          });\n      });\n      //outcome\n      console.log('outcome:');\n      console.log(topics);\n  });\n  //第三步：确定放出事件消息的\n  topicUrls.forEach(function (topicUrl) {\n      superagent.get(topicUrl)\n          .end(function (err, res) {\n              console.log('fetch ' + topicUrl + ' successful');\n              ep.emit('topic_html', [topicUrl, res.text]);\n          });\n  });\n```\n\n结果如下  \n\n![](https://image.xiaomo.info/nodeSpider/3.png)\n\n\n获取留言用户名和积分  \n\n![](https://image.xiaomo.info/nodeSpider/4.png)\n\n在文章页面的源码找到评论的用户class名，classname为reply_author。console.log第一个元素 $('.reply_author').get(0)可以看到，我们需要获取东西都在这里头。\n\n![](https://image.xiaomo.info/nodeSpider/5.png)\n\n首先，我们先对一篇文章进行抓取，一次性把需要的都得到即可。\n\n```\n  var userHref = url.resolve(tUrl, $('.reply_author').get(0).attribs.href);\n  console.log(userHref);\n  console.log($('.reply_author').get(0).children[0].data);\n```\n\n我们可以通过`https://cnodejs.org/user/username`抓取积分信息\n\n```\n$('.reply_author').each(function (idx, element) {\nvar $element = $(element);\nconsole.log($element.attr('href'));\n});\n```\n\n在用户信息页面 `$('.big').text().trim()`即为积分信息。\n使用cheerio的函数.get(0)为获取第一个元素。\n\n```\nvar userHref = url.resolve(tUrl, $('.reply_author').get(0).attribs.href);\nconsole.log(userHref);\n```\n","slug":"NodeSpider","published":1,"updated":"2016-12-01T06:31:41.644Z","_id":"civ0ggq7p0029rwvnua9110f6","comments":1,"layout":"post","photos":[],"link":"","content":"<p>这篇文章主要介绍了NodeJS制作爬虫的全过程，包括项目建立，目标网站分析、使用superagent获取源数据、使用cheerio解析、使用eventproxy来并发抓取每个主题的内容等方面，有需要的小伙伴参考下吧。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-依赖\"><a href=\"#一、-依赖\" class=\"headerlink\" title=\"一、 依赖\"></a>一、 依赖</h3><h4 id=\"1-DOM操作-cheerio\"><a href=\"#1-DOM操作-cheerio\" class=\"headerlink\" title=\"1. DOM操作  cheerio\"></a>1. DOM操作  <a href=\"https://npm.taobao.org/package/cheerio\" target=\"_blank\" rel=\"external\">cheerio</a></h4><h4 id=\"2-请求插件-request\"><a href=\"#2-请求插件-request\" class=\"headerlink\" title=\"2. 请求插件  request\"></a>2. 请求插件  <a href=\"https://npm.taobao.org/package/request\" target=\"_blank\" rel=\"external\">request</a></h4><h4 id=\"3-http库-superagent\"><a href=\"#3-http库-superagent\" class=\"headerlink\" title=\"3. http库  superagent\"></a>3. http库  <a href=\"https://npm.taobao.org/package/superagent\" target=\"_blank\" rel=\"external\">superagent</a></h4><h4 id=\"4-代理-eventproxy\"><a href=\"#4-代理-eventproxy\" class=\"headerlink\" title=\"4. 代理  eventproxy\"></a>4. 代理  <a href=\"https://npm.taobao.org/package/eventproxy\" target=\"_blank\" rel=\"external\">eventproxy</a></h4><h3 id=\"二、建立项目node-spider\"><a href=\"#二、建立项目node-spider\" class=\"headerlink\" title=\"二、建立项目node-spider\"></a>二、建立项目node-spider</h3><h4 id=\"1-建立一个Koa2项目\"><a href=\"#1-建立一个Koa2项目\" class=\"headerlink\" title=\"1. 建立一个Koa2项目\"></a>1. 建立一个Koa2项目</h4><p> <code>npm install -g koa-generator</code></p>\n<h4 id=\"2-生成一个koa2的项目\"><a href=\"#2-生成一个koa2的项目\" class=\"headerlink\" title=\"2. 生成一个koa2的项目\"></a>2. 生成一个koa2的项目</h4><p> <code>koa2 -e node-spider</code>   -e表示使用ejs模板，具体参照<a href=\"http://localhost:4000/2016/05/26/2016-5-26-koa_generator/\" target=\"_blank\" rel=\"external\">koa生成器,一键生成koa和koa2项目</a>   </p>\n<h3 id=\"三、目标网站分析\"><a href=\"#三、目标网站分析\" class=\"headerlink\" title=\"三、目标网站分析\"></a>三、目标网站分析</h3><p>如图，这是CNode首页一部分div标签，我们就是通过这一系列的id、class来定位我们需要的信息。<br><img src=\"https://image.xiaomo.info/nodeSpider/0.png\" alt=\"\"></p>\n<h3 id=\"四、爬虫功能制作\"><a href=\"#四、爬虫功能制作\" class=\"headerlink\" title=\"四、爬虫功能制作\"></a>四、爬虫功能制作</h3><h4 id=\"1-superagent\"><a href=\"#1-superagent\" class=\"headerlink\" title=\"1. superagent\"></a>1. superagent</h4><p>是ajax API来使用的Http库，它的使用方法与jQuery差不多，我们通过它发起get请求，在回调函数中输出结果。</p>\n<figure class=\"highlight qml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"built_in\">var</span> router = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-router'</span>)</div><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"built_in\">url</span> = <span class=\"built_in\">require</span>(<span class=\"string\">'url'</span>); <span class=\"comment\">//解析操作url</span></div><div class=\"line\"><span class=\"built_in\">var</span> superagent = <span class=\"built_in\">require</span>(<span class=\"string\">'superagent'</span>); <span class=\"comment\">//这三个外部依赖不要忘记npm install</span></div><div class=\"line\"><span class=\"built_in\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">'cheerio'</span>);</div><div class=\"line\"><span class=\"built_in\">var</span> eventproxy = <span class=\"built_in\">require</span>(<span class=\"string\">'eventproxy'</span>);</div><div class=\"line\"><span class=\"built_in\">var</span> targetUrl = <span class=\"string\">'https://cnodejs.org/'</span>;</div><div class=\"line\">superagent.get(targetUrl)</div><div class=\"line\">  .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(res);</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<p>它的res结果为一个包含目标url信息的对象，网站内容主要在其text(string)里。</p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/1.png\" alt=\"\"></p>\n<h4 id=\"2-使用cheerio解析\"><a href=\"#2-使用cheerio解析\" class=\"headerlink\" title=\"2. 使用cheerio解析\"></a>2. 使用cheerio解析</h4><p>cheerio充当服务器端的jQuery功能，我们先使用它的.load()来载入HTML，再通过CSS selector来筛选元素。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> $ = cheerio.load(res.text);</div><div class=\"line\"><span class=\"comment\">//通过CSS selector来筛选数据</span></div><div class=\"line\">$(<span class=\"string\">'#topic_list .topic_title'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">idx, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(element);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>其结果为一个个对象，调用 <code>.each(function(index, element))</code>函数来遍历每一个对象，返回的是HTML DOM Elements。</p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/2.png\" alt=\"\"></p>\n<p>输出 <code>console.log($element.attr(&#39;title&#39;));</code>的结果为<br> <code>广州2014年12月06日 NodeParty 之 UC 场之类的标题</code><br>输出 <code>console.log($element.attr(&#39;href&#39;));</code>的结果为<br><code>/topic/545c395becbcb78265856eb2之类的url</code>。<br>再用<code>NodeJS1的url.resolve()</code>函数来补全完整的url。  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">superagent.get(tUrl)</div><div class=\"line\">    .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (err) &#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(err);</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">var</span> topicUrls = [];</div><div class=\"line\">        <span class=\"keyword\">var</span> $ = cheerio.load(res.text);</div><div class=\"line\">        <span class=\"comment\">// 获取首页所有的链接</span></div><div class=\"line\">        $(<span class=\"string\">'#topic_list .topic_title'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">idx, element</span>) </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">var</span> $element = $(element);</div><div class=\"line\">            <span class=\"keyword\">var</span> href = url.resolve(tUrl, $element.attr(<span class=\"string\">'href'</span>));</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(href);</div><div class=\"line\">            <span class=\"comment\">//topicUrls.push(href);</span></div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"3-使用eventproxy来并发抓取\"><a href=\"#3-使用eventproxy来并发抓取\" class=\"headerlink\" title=\"3.使用eventproxy来并发抓取\"></a>3.使用eventproxy来并发抓取</h4><p>教程上展示了深度嵌套(串行)方法和计数器方法的例子，eventproxy就是使用事件(并行)方法来解决这个问题。当所有的抓取完成后，eventproxy接收到事件消息自动帮你调用处理函数。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//第一步：得到一个 eventproxy 的实例</span></div><div class=\"line\"><span class=\"keyword\">var</span> ep = <span class=\"keyword\">new</span> eventproxy();</div><div class=\"line\"><span class=\"comment\">//第二步：定义监听事件的回调函数。</span></div><div class=\"line\"><span class=\"comment\">//after方法为重复监听</span></div><div class=\"line\"><span class=\"comment\">//params: eventname(String) 事件名,times(Number) 监听次数, callback 回调函数</span></div><div class=\"line\">ep.after(<span class=\"string\">'topic_html'</span>, topicUrls.length, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">topics</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">// topics 是个数组，包含了 40 次 ep.emit('topic_html', pair) 中的那 40 个 pair</span></div><div class=\"line\">    <span class=\"comment\">//.map</span></div><div class=\"line\">    topics = topics.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">topicPair</span>)</span>&#123;</div><div class=\"line\">        <span class=\"comment\">//use cheerio</span></div><div class=\"line\">        <span class=\"keyword\">var</span> topicUrl = topicPair[<span class=\"number\">0</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> topicHtml = topicPair[<span class=\"number\">1</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> $ = cheerio.load(topicHtml);</div><div class=\"line\">        <span class=\"keyword\">return</span> (&#123;</div><div class=\"line\">            <span class=\"attr\">title</span>: $(<span class=\"string\">'.topic_full_title'</span>).text().trim(),</div><div class=\"line\">            <span class=\"attr\">href</span>: topicUrl,</div><div class=\"line\">            <span class=\"attr\">comment1</span>: $(<span class=\"string\">'.reply_content'</span>).eq(<span class=\"number\">0</span>).text().trim()</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;);</div><div class=\"line\">    <span class=\"comment\">//outcome</span></div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'outcome:'</span>);</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(topics);</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">//第三步：确定放出事件消息的</span></div><div class=\"line\">topicUrls.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">topicUrl</span>) </span>&#123;</div><div class=\"line\">    superagent.get(topicUrl)</div><div class=\"line\">        .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'fetch '</span> + topicUrl + <span class=\"string\">' successful'</span>);</div><div class=\"line\">            ep.emit(<span class=\"string\">'topic_html'</span>, [topicUrl, res.text]);</div><div class=\"line\">        &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>结果如下  </p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/3.png\" alt=\"\"></p>\n<p>获取留言用户名和积分  </p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/4.png\" alt=\"\"></p>\n<p>在文章页面的源码找到评论的用户class名，classname为reply_author。console.log第一个元素 $(‘.reply_author’).get(0)可以看到，我们需要获取东西都在这里头。</p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/5.png\" alt=\"\"></p>\n<p>首先，我们先对一篇文章进行抓取，一次性把需要的都得到即可。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> userHref = url.resolve(tUrl, $(<span class=\"string\">'.reply_author'</span>).get(<span class=\"number\">0</span>).attribs.href);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(userHref);</div><div class=\"line\"><span class=\"built_in\">console</span>.log($(<span class=\"string\">'.reply_author'</span>).get(<span class=\"number\">0</span>).children[<span class=\"number\">0</span>].data);</div></pre></td></tr></table></figure>\n<p>我们可以通过<code>https://cnodejs.org/user/username</code>抓取积分信息</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">'.reply_author'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">idx, element</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">var</span> $element = $(element);</div><div class=\"line\"><span class=\"built_in\">console</span>.log($element.attr(<span class=\"string\">'href'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>在用户信息页面 <code>$(&#39;.big&#39;).text().trim()</code>即为积分信息。<br>使用cheerio的函数.get(0)为获取第一个元素。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> userHref = url.resolve(tUrl, $(<span class=\"string\">'.reply_author'</span>).get(<span class=\"number\">0</span>).attribs.href);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(userHref);</div></pre></td></tr></table></figure>\n","excerpt":"<p>这篇文章主要介绍了NodeJS制作爬虫的全过程，包括项目建立，目标网站分析、使用superagent获取源数据、使用cheerio解析、使用eventproxy来并发抓取每个主题的内容等方面，有需要的小伙伴参考下吧。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-依赖\"><a href=\"#一、-依赖\" class=\"headerlink\" title=\"一、 依赖\"></a>一、 依赖</h3><h4 id=\"1-DOM操作-cheerio\"><a href=\"#1-DOM操作-cheerio\" class=\"headerlink\" title=\"1. DOM操作  cheerio\"></a>1. DOM操作  <a href=\"https://npm.taobao.org/package/cheerio\">cheerio</a></h4><h4 id=\"2-请求插件-request\"><a href=\"#2-请求插件-request\" class=\"headerlink\" title=\"2. 请求插件  request\"></a>2. 请求插件  <a href=\"https://npm.taobao.org/package/request\">request</a></h4><h4 id=\"3-http库-superagent\"><a href=\"#3-http库-superagent\" class=\"headerlink\" title=\"3. http库  superagent\"></a>3. http库  <a href=\"https://npm.taobao.org/package/superagent\">superagent</a></h4><h4 id=\"4-代理-eventproxy\"><a href=\"#4-代理-eventproxy\" class=\"headerlink\" title=\"4. 代理  eventproxy\"></a>4. 代理  <a href=\"https://npm.taobao.org/package/eventproxy\">eventproxy</a></h4><h3 id=\"二、建立项目node-spider\"><a href=\"#二、建立项目node-spider\" class=\"headerlink\" title=\"二、建立项目node-spider\"></a>二、建立项目node-spider</h3><h4 id=\"1-建立一个Koa2项目\"><a href=\"#1-建立一个Koa2项目\" class=\"headerlink\" title=\"1. 建立一个Koa2项目\"></a>1. 建立一个Koa2项目</h4><p> <code>npm install -g koa-generator</code></p>\n<h4 id=\"2-生成一个koa2的项目\"><a href=\"#2-生成一个koa2的项目\" class=\"headerlink\" title=\"2. 生成一个koa2的项目\"></a>2. 生成一个koa2的项目</h4><p> <code>koa2 -e node-spider</code>   -e表示使用ejs模板，具体参照<a href=\"http://localhost:4000/2016/05/26/2016-5-26-koa_generator/\">koa生成器,一键生成koa和koa2项目</a>   </p>\n<h3 id=\"三、目标网站分析\"><a href=\"#三、目标网站分析\" class=\"headerlink\" title=\"三、目标网站分析\"></a>三、目标网站分析</h3><p>如图，这是CNode首页一部分div标签，我们就是通过这一系列的id、class来定位我们需要的信息。<br><img src=\"https://image.xiaomo.info/nodeSpider/0.png\" alt=\"\"></p>\n<h3 id=\"四、爬虫功能制作\"><a href=\"#四、爬虫功能制作\" class=\"headerlink\" title=\"四、爬虫功能制作\"></a>四、爬虫功能制作</h3><h4 id=\"1-superagent\"><a href=\"#1-superagent\" class=\"headerlink\" title=\"1. superagent\"></a>1. superagent</h4><p>是ajax API来使用的Http库，它的使用方法与jQuery差不多，我们通过它发起get请求，在回调函数中输出结果。</p>\n<figure class=\"highlight qml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> koa = <span class=\"built_in\">require</span>(<span class=\"string\">'koa'</span>);</div><div class=\"line\"><span class=\"built_in\">var</span> router = <span class=\"built_in\">require</span>(<span class=\"string\">'koa-router'</span>)</div><div class=\"line\"><span class=\"built_in\">var</span> <span class=\"built_in\">url</span> = <span class=\"built_in\">require</span>(<span class=\"string\">'url'</span>); <span class=\"comment\">//解析操作url</span></div><div class=\"line\"><span class=\"built_in\">var</span> superagent = <span class=\"built_in\">require</span>(<span class=\"string\">'superagent'</span>); <span class=\"comment\">//这三个外部依赖不要忘记npm install</span></div><div class=\"line\"><span class=\"built_in\">var</span> cheerio = <span class=\"built_in\">require</span>(<span class=\"string\">'cheerio'</span>);</div><div class=\"line\"><span class=\"built_in\">var</span> eventproxy = <span class=\"built_in\">require</span>(<span class=\"string\">'eventproxy'</span>);</div><div class=\"line\"><span class=\"built_in\">var</span> targetUrl = <span class=\"string\">'https://cnodejs.org/'</span>;</div><div class=\"line\">superagent.get(targetUrl)</div><div class=\"line\">  .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</div><div class=\"line\">      <span class=\"built_in\">console</span>.log(res);</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<p>它的res结果为一个包含目标url信息的对象，网站内容主要在其text(string)里。</p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/1.png\" alt=\"\"></p>\n<h4 id=\"2-使用cheerio解析\"><a href=\"#2-使用cheerio解析\" class=\"headerlink\" title=\"2. 使用cheerio解析\"></a>2. 使用cheerio解析</h4><p>cheerio充当服务器端的jQuery功能，我们先使用它的.load()来载入HTML，再通过CSS selector来筛选元素。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> $ = cheerio.load(res.text);</div><div class=\"line\"><span class=\"comment\">//通过CSS selector来筛选数据</span></div><div class=\"line\">$(<span class=\"string\">'#topic_list .topic_title'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">idx, element</span>) </span>&#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(element);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>其结果为一个个对象，调用 <code>.each(function(index, element))</code>函数来遍历每一个对象，返回的是HTML DOM Elements。</p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/2.png\" alt=\"\"></p>\n<p>输出 <code>console.log($element.attr(&#39;title&#39;));</code>的结果为<br> <code>广州2014年12月06日 NodeParty 之 UC 场之类的标题</code><br>输出 <code>console.log($element.attr(&#39;href&#39;));</code>的结果为<br><code>/topic/545c395becbcb78265856eb2之类的url</code>。<br>再用<code>NodeJS1的url.resolve()</code>函数来补全完整的url。  </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">superagent.get(tUrl)</div><div class=\"line\">    .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (err) &#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">console</span>.error(err);</div><div class=\"line\">        &#125;</div><div class=\"line\">        <span class=\"keyword\">var</span> topicUrls = [];</div><div class=\"line\">        <span class=\"keyword\">var</span> $ = cheerio.load(res.text);</div><div class=\"line\">        <span class=\"comment\">// 获取首页所有的链接</span></div><div class=\"line\">        $(<span class=\"string\">'#topic_list .topic_title'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">idx, element</span>) </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">var</span> $element = $(element);</div><div class=\"line\">            <span class=\"keyword\">var</span> href = url.resolve(tUrl, $element.attr(<span class=\"string\">'href'</span>));</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(href);</div><div class=\"line\">            <span class=\"comment\">//topicUrls.push(href);</span></div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"3-使用eventproxy来并发抓取\"><a href=\"#3-使用eventproxy来并发抓取\" class=\"headerlink\" title=\"3.使用eventproxy来并发抓取\"></a>3.使用eventproxy来并发抓取</h4><p>教程上展示了深度嵌套(串行)方法和计数器方法的例子，eventproxy就是使用事件(并行)方法来解决这个问题。当所有的抓取完成后，eventproxy接收到事件消息自动帮你调用处理函数。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//第一步：得到一个 eventproxy 的实例</span></div><div class=\"line\"><span class=\"keyword\">var</span> ep = <span class=\"keyword\">new</span> eventproxy();</div><div class=\"line\"><span class=\"comment\">//第二步：定义监听事件的回调函数。</span></div><div class=\"line\"><span class=\"comment\">//after方法为重复监听</span></div><div class=\"line\"><span class=\"comment\">//params: eventname(String) 事件名,times(Number) 监听次数, callback 回调函数</span></div><div class=\"line\">ep.after(<span class=\"string\">'topic_html'</span>, topicUrls.length, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">topics</span>)</span>&#123;</div><div class=\"line\">    <span class=\"comment\">// topics 是个数组，包含了 40 次 ep.emit('topic_html', pair) 中的那 40 个 pair</span></div><div class=\"line\">    <span class=\"comment\">//.map</span></div><div class=\"line\">    topics = topics.map(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">topicPair</span>)</span>&#123;</div><div class=\"line\">        <span class=\"comment\">//use cheerio</span></div><div class=\"line\">        <span class=\"keyword\">var</span> topicUrl = topicPair[<span class=\"number\">0</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> topicHtml = topicPair[<span class=\"number\">1</span>];</div><div class=\"line\">        <span class=\"keyword\">var</span> $ = cheerio.load(topicHtml);</div><div class=\"line\">        <span class=\"keyword\">return</span> (&#123;</div><div class=\"line\">            <span class=\"attr\">title</span>: $(<span class=\"string\">'.topic_full_title'</span>).text().trim(),</div><div class=\"line\">            <span class=\"attr\">href</span>: topicUrl,</div><div class=\"line\">            <span class=\"attr\">comment1</span>: $(<span class=\"string\">'.reply_content'</span>).eq(<span class=\"number\">0</span>).text().trim()</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;);</div><div class=\"line\">    <span class=\"comment\">//outcome</span></div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'outcome:'</span>);</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(topics);</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"comment\">//第三步：确定放出事件消息的</span></div><div class=\"line\">topicUrls.forEach(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">topicUrl</span>) </span>&#123;</div><div class=\"line\">    superagent.get(topicUrl)</div><div class=\"line\">        .end(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err, res</span>) </span>&#123;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'fetch '</span> + topicUrl + <span class=\"string\">' successful'</span>);</div><div class=\"line\">            ep.emit(<span class=\"string\">'topic_html'</span>, [topicUrl, res.text]);</div><div class=\"line\">        &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>结果如下  </p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/3.png\" alt=\"\"></p>\n<p>获取留言用户名和积分  </p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/4.png\" alt=\"\"></p>\n<p>在文章页面的源码找到评论的用户class名，classname为reply_author。console.log第一个元素 $(‘.reply_author’).get(0)可以看到，我们需要获取东西都在这里头。</p>\n<p><img src=\"https://image.xiaomo.info/nodeSpider/5.png\" alt=\"\"></p>\n<p>首先，我们先对一篇文章进行抓取，一次性把需要的都得到即可。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> userHref = url.resolve(tUrl, $(<span class=\"string\">'.reply_author'</span>).get(<span class=\"number\">0</span>).attribs.href);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(userHref);</div><div class=\"line\"><span class=\"built_in\">console</span>.log($(<span class=\"string\">'.reply_author'</span>).get(<span class=\"number\">0</span>).children[<span class=\"number\">0</span>].data);</div></pre></td></tr></table></figure>\n<p>我们可以通过<code>https://cnodejs.org/user/username</code>抓取积分信息</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">'.reply_author'</span>).each(<span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">idx, element</span>) </span>&#123;</div><div class=\"line\"><span class=\"keyword\">var</span> $element = $(element);</div><div class=\"line\"><span class=\"built_in\">console</span>.log($element.attr(<span class=\"string\">'href'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>在用户信息页面 <code>$(&#39;.big&#39;).text().trim()</code>即为积分信息。<br>使用cheerio的函数.get(0)为获取第一个元素。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> userHref = url.resolve(tUrl, $(<span class=\"string\">'.reply_author'</span>).get(<span class=\"number\">0</span>).attribs.href);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(userHref);</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-01T16:00:00.000Z","title":"package.json常用script","_content":"好的script能够大大减少我们对命令行的操作，直接使用npm run xxx 就可以执行。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/npm.png)](https://github.com/syoubaku)\n### 一、git相关\n\n\n#### 1. 查看分支\n  `branch:git branch -a`,    \n#### 2. 查看标签\n  `tag:git tag`,    \n#### 3. 创建标签\n  `createtag:git tag -a 0.1.2 -m Release^-^`,    \n#### 4. 推送标签\n  `pushtag:npm run createtag && git push origin --tags`,        \n#### 5. 删除分支\n  `delbranch:git push origin --delete`,             \n#### 6. 同步git\n  `fetch`:`git fetch -p`,                  \n#### 7. 推送更新\n  `push`:`git push origin master`,            \n#### 8. 提交代码\n `commit`:`git commit -a `,             \n#### 9. 检出代码\n  `checkout`:`git checkout`,            \n#### 10. 删除标签\n  `deltag:git push origin --delete tag`,             \n#### 11. 删除己合并分支\n   `delbranck:git branch -d`,          \n#### 12. 删除所分支\n `delbranchall:git branch -D`,                 \n#### 13. 重命名分支\n  `renamebranch:git branch -m`,   \n\n\n### 二、webpack相关\n#### 1. 清空目录\n  `clean:rimraf dist`,\n#### 2. 构建项目\n  `build:npm run clean && webpack --progress --colors --profile`,\n#### 3. 启动项目\n  `start:webpack-dev-server --progress --colors --profile`,\n#### 4. 测试代码\n  `test:karma start`,\n#### 5. 检测测试\n  `test-watch:karma start --auto-watch --no-single-run`\n","source":"_posts/2016-06-02.package.json_scripts.md","raw":"---\nauthor: 小莫\ndate: 2016-06-02\ntitle: package.json常用script\ntags:\n- npm\n- node\n- git\n- webpack\ncategory: npm\npermalink: Package.jsonScripts\n---\n好的script能够大大减少我们对命令行的操作，直接使用npm run xxx 就可以执行。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/npm.png)](https://github.com/syoubaku)\n### 一、git相关\n\n\n#### 1. 查看分支\n  `branch:git branch -a`,    \n#### 2. 查看标签\n  `tag:git tag`,    \n#### 3. 创建标签\n  `createtag:git tag -a 0.1.2 -m Release^-^`,    \n#### 4. 推送标签\n  `pushtag:npm run createtag && git push origin --tags`,        \n#### 5. 删除分支\n  `delbranch:git push origin --delete`,             \n#### 6. 同步git\n  `fetch`:`git fetch -p`,                  \n#### 7. 推送更新\n  `push`:`git push origin master`,            \n#### 8. 提交代码\n `commit`:`git commit -a `,             \n#### 9. 检出代码\n  `checkout`:`git checkout`,            \n#### 10. 删除标签\n  `deltag:git push origin --delete tag`,             \n#### 11. 删除己合并分支\n   `delbranck:git branch -d`,          \n#### 12. 删除所分支\n `delbranchall:git branch -D`,                 \n#### 13. 重命名分支\n  `renamebranch:git branch -m`,   \n\n\n### 二、webpack相关\n#### 1. 清空目录\n  `clean:rimraf dist`,\n#### 2. 构建项目\n  `build:npm run clean && webpack --progress --colors --profile`,\n#### 3. 启动项目\n  `start:webpack-dev-server --progress --colors --profile`,\n#### 4. 测试代码\n  `test:karma start`,\n#### 5. 检测测试\n  `test-watch:karma start --auto-watch --no-single-run`\n","slug":"Package.jsonScripts","published":1,"updated":"2016-12-01T06:50:28.918Z","_id":"civ0ggq7u002crwvn49099wbg","comments":1,"layout":"post","photos":[],"link":"","content":"<p>好的script能够大大减少我们对命令行的操作，直接使用npm run xxx 就可以执行。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/npm.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、git相关\"><a href=\"#一、git相关\" class=\"headerlink\" title=\"一、git相关\"></a>一、git相关</h3><h4 id=\"1-查看分支\"><a href=\"#1-查看分支\" class=\"headerlink\" title=\"1. 查看分支\"></a>1. 查看分支</h4><p>  <code>branch:git branch -a</code>,    </p>\n<h4 id=\"2-查看标签\"><a href=\"#2-查看标签\" class=\"headerlink\" title=\"2. 查看标签\"></a>2. 查看标签</h4><p>  <code>tag:git tag</code>,    </p>\n<h4 id=\"3-创建标签\"><a href=\"#3-创建标签\" class=\"headerlink\" title=\"3. 创建标签\"></a>3. 创建标签</h4><p>  <code>createtag:git tag -a 0.1.2 -m Release^-^</code>,    </p>\n<h4 id=\"4-推送标签\"><a href=\"#4-推送标签\" class=\"headerlink\" title=\"4. 推送标签\"></a>4. 推送标签</h4><p>  <code>pushtag:npm run createtag &amp;&amp; git push origin --tags</code>,        </p>\n<h4 id=\"5-删除分支\"><a href=\"#5-删除分支\" class=\"headerlink\" title=\"5. 删除分支\"></a>5. 删除分支</h4><p>  <code>delbranch:git push origin --delete</code>,             </p>\n<h4 id=\"6-同步git\"><a href=\"#6-同步git\" class=\"headerlink\" title=\"6. 同步git\"></a>6. 同步git</h4><p>  <code>fetch</code>:<code>git fetch -p</code>,                  </p>\n<h4 id=\"7-推送更新\"><a href=\"#7-推送更新\" class=\"headerlink\" title=\"7. 推送更新\"></a>7. 推送更新</h4><p>  <code>push</code>:<code>git push origin master</code>,            </p>\n<h4 id=\"8-提交代码\"><a href=\"#8-提交代码\" class=\"headerlink\" title=\"8. 提交代码\"></a>8. 提交代码</h4><p> <code>commit</code>:<code>git commit -a</code>,             </p>\n<h4 id=\"9-检出代码\"><a href=\"#9-检出代码\" class=\"headerlink\" title=\"9. 检出代码\"></a>9. 检出代码</h4><p>  <code>checkout</code>:<code>git checkout</code>,            </p>\n<h4 id=\"10-删除标签\"><a href=\"#10-删除标签\" class=\"headerlink\" title=\"10. 删除标签\"></a>10. 删除标签</h4><p>  <code>deltag:git push origin --delete tag</code>,             </p>\n<h4 id=\"11-删除己合并分支\"><a href=\"#11-删除己合并分支\" class=\"headerlink\" title=\"11. 删除己合并分支\"></a>11. 删除己合并分支</h4><p>   <code>delbranck:git branch -d</code>,          </p>\n<h4 id=\"12-删除所分支\"><a href=\"#12-删除所分支\" class=\"headerlink\" title=\"12. 删除所分支\"></a>12. 删除所分支</h4><p> <code>delbranchall:git branch -D</code>,                 </p>\n<h4 id=\"13-重命名分支\"><a href=\"#13-重命名分支\" class=\"headerlink\" title=\"13. 重命名分支\"></a>13. 重命名分支</h4><p>  <code>renamebranch:git branch -m</code>,   </p>\n<h3 id=\"二、webpack相关\"><a href=\"#二、webpack相关\" class=\"headerlink\" title=\"二、webpack相关\"></a>二、webpack相关</h3><h4 id=\"1-清空目录\"><a href=\"#1-清空目录\" class=\"headerlink\" title=\"1. 清空目录\"></a>1. 清空目录</h4><p>  <code>clean:rimraf dist</code>,</p>\n<h4 id=\"2-构建项目\"><a href=\"#2-构建项目\" class=\"headerlink\" title=\"2. 构建项目\"></a>2. 构建项目</h4><p>  <code>build:npm run clean &amp;&amp; webpack --progress --colors --profile</code>,</p>\n<h4 id=\"3-启动项目\"><a href=\"#3-启动项目\" class=\"headerlink\" title=\"3. 启动项目\"></a>3. 启动项目</h4><p>  <code>start:webpack-dev-server --progress --colors --profile</code>,</p>\n<h4 id=\"4-测试代码\"><a href=\"#4-测试代码\" class=\"headerlink\" title=\"4. 测试代码\"></a>4. 测试代码</h4><p>  <code>test:karma start</code>,</p>\n<h4 id=\"5-检测测试\"><a href=\"#5-检测测试\" class=\"headerlink\" title=\"5. 检测测试\"></a>5. 检测测试</h4><p>  <code>test-watch:karma start --auto-watch --no-single-run</code></p>\n","excerpt":"<p>好的script能够大大减少我们对命令行的操作，直接使用npm run xxx 就可以执行。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/npm.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、git相关\"><a href=\"#一、git相关\" class=\"headerlink\" title=\"一、git相关\"></a>一、git相关</h3><h4 id=\"1-查看分支\"><a href=\"#1-查看分支\" class=\"headerlink\" title=\"1. 查看分支\"></a>1. 查看分支</h4><p>  <code>branch:git branch -a</code>,    </p>\n<h4 id=\"2-查看标签\"><a href=\"#2-查看标签\" class=\"headerlink\" title=\"2. 查看标签\"></a>2. 查看标签</h4><p>  <code>tag:git tag</code>,    </p>\n<h4 id=\"3-创建标签\"><a href=\"#3-创建标签\" class=\"headerlink\" title=\"3. 创建标签\"></a>3. 创建标签</h4><p>  <code>createtag:git tag -a 0.1.2 -m Release^-^</code>,    </p>\n<h4 id=\"4-推送标签\"><a href=\"#4-推送标签\" class=\"headerlink\" title=\"4. 推送标签\"></a>4. 推送标签</h4><p>  <code>pushtag:npm run createtag &amp;&amp; git push origin --tags</code>,        </p>\n<h4 id=\"5-删除分支\"><a href=\"#5-删除分支\" class=\"headerlink\" title=\"5. 删除分支\"></a>5. 删除分支</h4><p>  <code>delbranch:git push origin --delete</code>,             </p>\n<h4 id=\"6-同步git\"><a href=\"#6-同步git\" class=\"headerlink\" title=\"6. 同步git\"></a>6. 同步git</h4><p>  <code>fetch</code>:<code>git fetch -p</code>,                  </p>\n<h4 id=\"7-推送更新\"><a href=\"#7-推送更新\" class=\"headerlink\" title=\"7. 推送更新\"></a>7. 推送更新</h4><p>  <code>push</code>:<code>git push origin master</code>,            </p>\n<h4 id=\"8-提交代码\"><a href=\"#8-提交代码\" class=\"headerlink\" title=\"8. 提交代码\"></a>8. 提交代码</h4><p> <code>commit</code>:<code>git commit -a</code>,             </p>\n<h4 id=\"9-检出代码\"><a href=\"#9-检出代码\" class=\"headerlink\" title=\"9. 检出代码\"></a>9. 检出代码</h4><p>  <code>checkout</code>:<code>git checkout</code>,            </p>\n<h4 id=\"10-删除标签\"><a href=\"#10-删除标签\" class=\"headerlink\" title=\"10. 删除标签\"></a>10. 删除标签</h4><p>  <code>deltag:git push origin --delete tag</code>,             </p>\n<h4 id=\"11-删除己合并分支\"><a href=\"#11-删除己合并分支\" class=\"headerlink\" title=\"11. 删除己合并分支\"></a>11. 删除己合并分支</h4><p>   <code>delbranck:git branch -d</code>,          </p>\n<h4 id=\"12-删除所分支\"><a href=\"#12-删除所分支\" class=\"headerlink\" title=\"12. 删除所分支\"></a>12. 删除所分支</h4><p> <code>delbranchall:git branch -D</code>,                 </p>\n<h4 id=\"13-重命名分支\"><a href=\"#13-重命名分支\" class=\"headerlink\" title=\"13. 重命名分支\"></a>13. 重命名分支</h4><p>  <code>renamebranch:git branch -m</code>,   </p>\n<h3 id=\"二、webpack相关\"><a href=\"#二、webpack相关\" class=\"headerlink\" title=\"二、webpack相关\"></a>二、webpack相关</h3><h4 id=\"1-清空目录\"><a href=\"#1-清空目录\" class=\"headerlink\" title=\"1. 清空目录\"></a>1. 清空目录</h4><p>  <code>clean:rimraf dist</code>,</p>\n<h4 id=\"2-构建项目\"><a href=\"#2-构建项目\" class=\"headerlink\" title=\"2. 构建项目\"></a>2. 构建项目</h4><p>  <code>build:npm run clean &amp;&amp; webpack --progress --colors --profile</code>,</p>\n<h4 id=\"3-启动项目\"><a href=\"#3-启动项目\" class=\"headerlink\" title=\"3. 启动项目\"></a>3. 启动项目</h4><p>  <code>start:webpack-dev-server --progress --colors --profile</code>,</p>\n<h4 id=\"4-测试代码\"><a href=\"#4-测试代码\" class=\"headerlink\" title=\"4. 测试代码\"></a>4. 测试代码</h4><p>  <code>test:karma start</code>,</p>\n<h4 id=\"5-检测测试\"><a href=\"#5-检测测试\" class=\"headerlink\" title=\"5. 检测测试\"></a>5. 检测测试</h4><p>  <code>test-watch:karma start --auto-watch --no-single-run</code></p>"},{"title":"CSS font-family 网页字体使用小结","date":"2016-06-02T16:33:55.000Z","_content":"\n<h2 id=\"intro\">前言</h2>一直到最近才开始调整博客的字体，之前都是全站微软雅黑了事。慢慢调整后发现 font-family 这个属性相关的知识还是不少的，整理一下常用的部分，分享于此。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 基本用法\n\n#### 使用语法\n\n``` css\nfont-family: 字体名1, 字体名2, 字体名n, 字体系列名;\nfont-family: Verdana, Helvetica, \"Microsoft YaHei\", Arial;\n```\n\n#### 语法说明\n> 1. 系统将选择列表中最先可用的字体来显示文字;\n1. 因为规则1，通常在最末添加一个 generic-family 字体系列名，保证文字获得相似的显示效果;\n1. 因为规则1，西文字体名应该写在中文字体前，这样才能中英文同时使用不同字体;\n1. 字体名为中文或包含空格等时，需要加双引号\"\"才能正确识别;\n1. 中文字体建议也是用其对应英文字体名，如\"微软雅黑\"为\"Microsoft YaHei\"，以提高编码兼容性。\n\n### 常见字体系列\n\n#### Serif 衬线字体\n- Times New Roman, Georgia 和宋体都是很常见的衬线字体；\n- 特征: 文字笔划的开始或结束处有额外的装饰，笔划有粗细之分。\n\n![serif](http://moxfive.xyz/resources/serif.png)\n\n#### Sans-serif 无衬线字体\n- Arial, Verdana, Tahoma, 微软雅黑都是很常见的无衬线字体;\n- 说明: `sans-`源于法语前缀，意思为`没有`。Sans-serif 也就是指无衬线字体。\n- 特征: 字体比较圆滑，笔划较为均匀。\n\n![sans-serif](http://moxfive.xyz/resources/sans-serif.png)\n\n- 字体选用: 有种说法是正文多用衬线字体，易于区分；标题多用无衬线字体。不过这个也看个人喜好，我更习惯正文用无衬线字体。如果实在不知道怎么选，随便找一个自己看着舒服的网站，套用它的字体样式好了。\n\n#### Monospace 等宽字体\n- Courier New, Consolas, Menlo 都是比较常见的等宽字体;\n- 特征: 字母、数字、空格以及其他符号所占宽度都一致。识别度高，易于对齐和定位，通常用于显示代码。\n\n![Monospace](http://moxfive.xyz/resources/Monospace.png)\n\n- 一个优秀的代码字体除了等宽外，还应该能较好地区分出`0 o O i l 1 I \"\" '' [] () {}` 等字符。\n\n#### Cursive 手写体\n- Comic Sans, Author, 华文行楷都是比较常见的仿手写体;\n- 特征: 模仿人的手写体，笔划圆滑或者有连笔等装饰。英文的花体，中文的行书草书等都属于此类。\n\n![cursive](http://moxfive.xyz/resources/cursive.png)\n\n\n### 获取字体名称\n同一个字体在不同系统和应用中可能会显示为不同名字，但其内部一般有一个不变的英文名字。CSS font-family 需要引用的就是字体的内部名字。\n\n#### 本地字体\n- Win 上通过搜索或控制面板进入字体文件夹，然后双击字体查看字体名称;\n- 通过软件，如记事本、Office 等也可以查看字体名字:\n\n![font-a1](http://moxfive.xyz/resources/font-a1.png)\n\n- Mac 上搜索打开字体册即可，中间一栏显示的就是字体名称:\n\n![font-a2](http://moxfive.xyz/resources/font-a2.png)\n\n#### 网页字体\n\n- 审查元素，查看生效的 font-family:\n\n![font-a3](http://moxfive.xyz/resources/font-a3.png)\n\n- 通过 Chrome 插件 [WhatFont](http://chengyinliu.com/whatfont.html):\n\n![font-a4](http://moxfive.xyz/resources/font-a4.png)\n\n### 字体图标\n\n使用`@font-face`引入字体后，可以像使用文字那样，无损的控制图标的大小，颜色等样式。常见的有 Webdings，Wingdings, [Font Awesome](http://fontawesome.io/).\n\n![font-icon](http://moxfive.xyz/resources/font-icon.png)\n\n### 备用记录\n\n#### 字体配置\n- 下面是自己目前比较常用的字体配置，通常按系列设置为 CSS 预处理器的变量，方便调用。\n\n``` stylus\n//中文\nfont-chs = \"Microsoft YaHei\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\"\n//无衬线字体 sans-serif\nfont-sans = Verdana, \"Helvetica Neue\", Helvetica, Tahoma, Arial\n//衬线字体 serif\nfont-serif = Times, Georgia\n//等宽字体 monospace\nfont-mono = Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco, \"Courier New\"\n```\n\n### 字体英文名\n- 一些常见中文字体的对应英文名。\n\n<style>\n\t.fa-apple {\n\t\tcolor: #9d9e9d;\n\t}\n\t.fa-windows {\n\t\tcolor: #4ca6e7;\n\t}\n</style>\n\n-|中文名|英文名\n:-:|-|-\n1|<i class=\"fa fa-apple\"></i> 苹方|PingFang SC\n2|<i class=\"fa fa-apple\"></i> 冬青黑/苹果丽黑|Hiragino Sans GB\n3|<i class=\"fa fa-apple\"></i> 思源黑体|Source Han Sans CN\n4|<i class=\"fa fa-apple\"></i> 华文细黑|STHeiti Light [STXihei]\n5|<i class=\"fa fa-apple\"></i> 华文黑体|ST Heiti\n6|<i class=\"fa fa-apple\"></i> 华文楷体|STKaiti\n7|<i class=\"fa fa-apple\"></i> 华文宋体|STSong\n8|<i class=\"fa fa-apple\"></i> 华文仿宋|STFangsong\n9|<i class=\"fa fa-apple\"></i> 丽黑 Pro|LiHei Pro Medium\n10|<i class=\"fa fa-apple\"></i> 丽宋 Pro|LiSong Pro Light\n11|<i class=\"fa fa-apple\"></i> 标楷体|BiauKai\n12|<i class=\"fa fa-apple\"></i> 苹果丽中黑|Apple LiGothic Medium\n13|<i class=\"fa fa-apple\"></i> 苹果丽细宋|Apple LiSung Light\n14|<i class=\"fa fa-windows\"></i> 新细明体|PMingLiU\n15|<i class=\"fa fa-windows\"></i> 细明体|MingLiU\n16|<i class=\"fa fa-windows\"></i> 标楷体|DFKai-SB\n17|<i class=\"fa fa-windows\"></i> (中易)黑体|SimHei\n18|<i class=\"fa fa-windows\"></i> 宋体|SimSun\n19|<i class=\"fa fa-windows\"></i> 新宋体|NSimSun\n20|<i class=\"fa fa-windows\"></i> 仿宋|FangSong\n21|<i class=\"fa fa-windows\"></i> 楷体|KaiTi\n22|<i class=\"fa fa-windows\"></i> 仿宋_GB2312|FangSong_GB2312\n23|<i class=\"fa fa-windows\"></i> 楷体_GB2312|KaiTi_GB2312\n24|<i class=\"fa fa-windows\"></i> 微软正黑体|Microsoft JhengHei\n25|<i class=\"fa fa-windows\"></i> 微软雅黑|Microsoft YaHei\n26|<i class=\"fa fa-file-word-o\"></i>  隶书|LiSu\n27|<i class=\"fa fa-file-word-o\"></i>  幼圆|YouYuan\n28|<i class=\"fa fa-file-word-o\"></i>  华文中宋|STZhongsong\n29|<i class=\"fa fa-file-word-o\"></i>  方正舒体|FZShuTi\n30|<i class=\"fa fa-file-word-o\"></i>  方正姚体|FZYaoti\n31|<i class=\"fa fa-file-word-o\"></i>  华文彩云|STCaiyun\n32|<i class=\"fa fa-file-word-o\"></i>  华文琥珀|STHupo\n33|<i class=\"fa fa-file-word-o\"></i>  华文隶书|STLiti\n34|<i class=\"fa fa-file-word-o\"></i>  华文行楷|STXingkai\n35|<i class=\"fa fa-file-word-o\"></i>  华文新魏|STXinwei\n36|<i class=\"fa fa-linux\"></i> 文泉驿微米黑|Wenquanyi Micro Hei\n37|<i class=\"fa fa-linux\"></i> 文泉驿正黑|WenQuanYi Zen Hei\n38|<i class=\"fa fa-linux\"></i> 文泉驿点阵正黑|WenQuanYi Zen Hei Sharp\n\n## 相关链接\n1. **Font Awesome**: <http://fontawesome.io/>\n1. **Webdings和Wingdings字符码对应表**: <http://dwz.cn/2jOjYi>\n1. ***CSS魔法堂：再次认识 font*** by **肥仔John** on <code>2015/3/3</code>: <http://www.cnblogs.com/fsjohnhuang/p/4310533.html>\n1. **有字库-中文在线字体**: <http://www.youziku.com/>\n1. ***谈谈网页设计中的字体应用 (2) serif 和 sans-serif*** by **棕熊** on <code>2008/5/6</code>: <http://www.cnblogs.com/ruxpinsp1/archive/2008/05/06/font-in-front-end-development-2.html>\n1. ***Serif 和 Sans Serif 字体的区别*** by **冰火九九** on <code>2013/11/4</code>: <http://blog.jobbole.com/50828/>\n1. ***Chinese Web Font Guide*** by **Kendra Schaefer** on <code>2012/6/11</code>: <http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/>\n1. **Fonts.css -- 跨平台中文字体解决方案**: <http://zenozeng.github.io/fonts.css/>\n","source":"_posts/2016-06-03.css_font_family.md","raw":"---\ntitle: CSS font-family 网页字体使用小结\ndate: 2016-06-03 00:33:55\ncategories:\n- 自用笔记\n- 术业专攻\ntags:\n- css\npermalink: CssFontFamily\n---\n\n<h2 id=\"intro\">前言</h2>一直到最近才开始调整博客的字体，之前都是全站微软雅黑了事。慢慢调整后发现 font-family 这个属性相关的知识还是不少的，整理一下常用的部分，分享于此。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 基本用法\n\n#### 使用语法\n\n``` css\nfont-family: 字体名1, 字体名2, 字体名n, 字体系列名;\nfont-family: Verdana, Helvetica, \"Microsoft YaHei\", Arial;\n```\n\n#### 语法说明\n> 1. 系统将选择列表中最先可用的字体来显示文字;\n1. 因为规则1，通常在最末添加一个 generic-family 字体系列名，保证文字获得相似的显示效果;\n1. 因为规则1，西文字体名应该写在中文字体前，这样才能中英文同时使用不同字体;\n1. 字体名为中文或包含空格等时，需要加双引号\"\"才能正确识别;\n1. 中文字体建议也是用其对应英文字体名，如\"微软雅黑\"为\"Microsoft YaHei\"，以提高编码兼容性。\n\n### 常见字体系列\n\n#### Serif 衬线字体\n- Times New Roman, Georgia 和宋体都是很常见的衬线字体；\n- 特征: 文字笔划的开始或结束处有额外的装饰，笔划有粗细之分。\n\n![serif](http://moxfive.xyz/resources/serif.png)\n\n#### Sans-serif 无衬线字体\n- Arial, Verdana, Tahoma, 微软雅黑都是很常见的无衬线字体;\n- 说明: `sans-`源于法语前缀，意思为`没有`。Sans-serif 也就是指无衬线字体。\n- 特征: 字体比较圆滑，笔划较为均匀。\n\n![sans-serif](http://moxfive.xyz/resources/sans-serif.png)\n\n- 字体选用: 有种说法是正文多用衬线字体，易于区分；标题多用无衬线字体。不过这个也看个人喜好，我更习惯正文用无衬线字体。如果实在不知道怎么选，随便找一个自己看着舒服的网站，套用它的字体样式好了。\n\n#### Monospace 等宽字体\n- Courier New, Consolas, Menlo 都是比较常见的等宽字体;\n- 特征: 字母、数字、空格以及其他符号所占宽度都一致。识别度高，易于对齐和定位，通常用于显示代码。\n\n![Monospace](http://moxfive.xyz/resources/Monospace.png)\n\n- 一个优秀的代码字体除了等宽外，还应该能较好地区分出`0 o O i l 1 I \"\" '' [] () {}` 等字符。\n\n#### Cursive 手写体\n- Comic Sans, Author, 华文行楷都是比较常见的仿手写体;\n- 特征: 模仿人的手写体，笔划圆滑或者有连笔等装饰。英文的花体，中文的行书草书等都属于此类。\n\n![cursive](http://moxfive.xyz/resources/cursive.png)\n\n\n### 获取字体名称\n同一个字体在不同系统和应用中可能会显示为不同名字，但其内部一般有一个不变的英文名字。CSS font-family 需要引用的就是字体的内部名字。\n\n#### 本地字体\n- Win 上通过搜索或控制面板进入字体文件夹，然后双击字体查看字体名称;\n- 通过软件，如记事本、Office 等也可以查看字体名字:\n\n![font-a1](http://moxfive.xyz/resources/font-a1.png)\n\n- Mac 上搜索打开字体册即可，中间一栏显示的就是字体名称:\n\n![font-a2](http://moxfive.xyz/resources/font-a2.png)\n\n#### 网页字体\n\n- 审查元素，查看生效的 font-family:\n\n![font-a3](http://moxfive.xyz/resources/font-a3.png)\n\n- 通过 Chrome 插件 [WhatFont](http://chengyinliu.com/whatfont.html):\n\n![font-a4](http://moxfive.xyz/resources/font-a4.png)\n\n### 字体图标\n\n使用`@font-face`引入字体后，可以像使用文字那样，无损的控制图标的大小，颜色等样式。常见的有 Webdings，Wingdings, [Font Awesome](http://fontawesome.io/).\n\n![font-icon](http://moxfive.xyz/resources/font-icon.png)\n\n### 备用记录\n\n#### 字体配置\n- 下面是自己目前比较常用的字体配置，通常按系列设置为 CSS 预处理器的变量，方便调用。\n\n``` stylus\n//中文\nfont-chs = \"Microsoft YaHei\", \"Hiragino Sans GB\", \"WenQuanYi Micro Hei\"\n//无衬线字体 sans-serif\nfont-sans = Verdana, \"Helvetica Neue\", Helvetica, Tahoma, Arial\n//衬线字体 serif\nfont-serif = Times, Georgia\n//等宽字体 monospace\nfont-mono = Menlo, Consolas, \"Source Code Pro\", Inconsolata, Monaco, \"Courier New\"\n```\n\n### 字体英文名\n- 一些常见中文字体的对应英文名。\n\n<style>\n\t.fa-apple {\n\t\tcolor: #9d9e9d;\n\t}\n\t.fa-windows {\n\t\tcolor: #4ca6e7;\n\t}\n</style>\n\n-|中文名|英文名\n:-:|-|-\n1|<i class=\"fa fa-apple\"></i> 苹方|PingFang SC\n2|<i class=\"fa fa-apple\"></i> 冬青黑/苹果丽黑|Hiragino Sans GB\n3|<i class=\"fa fa-apple\"></i> 思源黑体|Source Han Sans CN\n4|<i class=\"fa fa-apple\"></i> 华文细黑|STHeiti Light [STXihei]\n5|<i class=\"fa fa-apple\"></i> 华文黑体|ST Heiti\n6|<i class=\"fa fa-apple\"></i> 华文楷体|STKaiti\n7|<i class=\"fa fa-apple\"></i> 华文宋体|STSong\n8|<i class=\"fa fa-apple\"></i> 华文仿宋|STFangsong\n9|<i class=\"fa fa-apple\"></i> 丽黑 Pro|LiHei Pro Medium\n10|<i class=\"fa fa-apple\"></i> 丽宋 Pro|LiSong Pro Light\n11|<i class=\"fa fa-apple\"></i> 标楷体|BiauKai\n12|<i class=\"fa fa-apple\"></i> 苹果丽中黑|Apple LiGothic Medium\n13|<i class=\"fa fa-apple\"></i> 苹果丽细宋|Apple LiSung Light\n14|<i class=\"fa fa-windows\"></i> 新细明体|PMingLiU\n15|<i class=\"fa fa-windows\"></i> 细明体|MingLiU\n16|<i class=\"fa fa-windows\"></i> 标楷体|DFKai-SB\n17|<i class=\"fa fa-windows\"></i> (中易)黑体|SimHei\n18|<i class=\"fa fa-windows\"></i> 宋体|SimSun\n19|<i class=\"fa fa-windows\"></i> 新宋体|NSimSun\n20|<i class=\"fa fa-windows\"></i> 仿宋|FangSong\n21|<i class=\"fa fa-windows\"></i> 楷体|KaiTi\n22|<i class=\"fa fa-windows\"></i> 仿宋_GB2312|FangSong_GB2312\n23|<i class=\"fa fa-windows\"></i> 楷体_GB2312|KaiTi_GB2312\n24|<i class=\"fa fa-windows\"></i> 微软正黑体|Microsoft JhengHei\n25|<i class=\"fa fa-windows\"></i> 微软雅黑|Microsoft YaHei\n26|<i class=\"fa fa-file-word-o\"></i>  隶书|LiSu\n27|<i class=\"fa fa-file-word-o\"></i>  幼圆|YouYuan\n28|<i class=\"fa fa-file-word-o\"></i>  华文中宋|STZhongsong\n29|<i class=\"fa fa-file-word-o\"></i>  方正舒体|FZShuTi\n30|<i class=\"fa fa-file-word-o\"></i>  方正姚体|FZYaoti\n31|<i class=\"fa fa-file-word-o\"></i>  华文彩云|STCaiyun\n32|<i class=\"fa fa-file-word-o\"></i>  华文琥珀|STHupo\n33|<i class=\"fa fa-file-word-o\"></i>  华文隶书|STLiti\n34|<i class=\"fa fa-file-word-o\"></i>  华文行楷|STXingkai\n35|<i class=\"fa fa-file-word-o\"></i>  华文新魏|STXinwei\n36|<i class=\"fa fa-linux\"></i> 文泉驿微米黑|Wenquanyi Micro Hei\n37|<i class=\"fa fa-linux\"></i> 文泉驿正黑|WenQuanYi Zen Hei\n38|<i class=\"fa fa-linux\"></i> 文泉驿点阵正黑|WenQuanYi Zen Hei Sharp\n\n## 相关链接\n1. **Font Awesome**: <http://fontawesome.io/>\n1. **Webdings和Wingdings字符码对应表**: <http://dwz.cn/2jOjYi>\n1. ***CSS魔法堂：再次认识 font*** by **肥仔John** on <code>2015/3/3</code>: <http://www.cnblogs.com/fsjohnhuang/p/4310533.html>\n1. **有字库-中文在线字体**: <http://www.youziku.com/>\n1. ***谈谈网页设计中的字体应用 (2) serif 和 sans-serif*** by **棕熊** on <code>2008/5/6</code>: <http://www.cnblogs.com/ruxpinsp1/archive/2008/05/06/font-in-front-end-development-2.html>\n1. ***Serif 和 Sans Serif 字体的区别*** by **冰火九九** on <code>2013/11/4</code>: <http://blog.jobbole.com/50828/>\n1. ***Chinese Web Font Guide*** by **Kendra Schaefer** on <code>2012/6/11</code>: <http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/>\n1. **Fonts.css -- 跨平台中文字体解决方案**: <http://zenozeng.github.io/fonts.css/>\n","slug":"CssFontFamily","published":1,"updated":"2016-12-01T06:50:28.427Z","_id":"civ0ggq7y002grwvn9w0l94oq","comments":1,"layout":"post","photos":[],"link":"","content":"<p></p><h2 id=\"intro\">前言</h2>一直到最近才开始调整博客的字体，之前都是全站微软雅黑了事。慢慢调整后发现 font-family 这个属性相关的知识还是不少的，整理一下常用的部分，分享于此。<p></p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"基本用法\"><a href=\"#基本用法\" class=\"headerlink\" title=\"基本用法\"></a>基本用法</h3><h4 id=\"使用语法\"><a href=\"#使用语法\" class=\"headerlink\" title=\"使用语法\"></a>使用语法</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">font-family</span>: 字体名1, 字体名2, 字体名<span class=\"selector-tag\">n</span>, 字体系列名;</div><div class=\"line\"><span class=\"selector-tag\">font-family</span>: <span class=\"selector-tag\">Verdana</span>, <span class=\"selector-tag\">Helvetica</span>, \"<span class=\"selector-tag\">Microsoft</span> <span class=\"selector-tag\">YaHei</span>\", <span class=\"selector-tag\">Arial</span>;</div></pre></td></tr></table></figure>\n<h4 id=\"语法说明\"><a href=\"#语法说明\" class=\"headerlink\" title=\"语法说明\"></a>语法说明</h4><blockquote>\n<ol>\n<li>系统将选择列表中最先可用的字体来显示文字;</li>\n<li>因为规则1，通常在最末添加一个 generic-family 字体系列名，保证文字获得相似的显示效果;</li>\n<li>因为规则1，西文字体名应该写在中文字体前，这样才能中英文同时使用不同字体;</li>\n<li>字体名为中文或包含空格等时，需要加双引号””才能正确识别;</li>\n<li>中文字体建议也是用其对应英文字体名，如”微软雅黑”为”Microsoft YaHei”，以提高编码兼容性。</li>\n</ol>\n</blockquote>\n<h3 id=\"常见字体系列\"><a href=\"#常见字体系列\" class=\"headerlink\" title=\"常见字体系列\"></a>常见字体系列</h3><h4 id=\"Serif-衬线字体\"><a href=\"#Serif-衬线字体\" class=\"headerlink\" title=\"Serif 衬线字体\"></a>Serif 衬线字体</h4><ul>\n<li>Times New Roman, Georgia 和宋体都是很常见的衬线字体；</li>\n<li>特征: 文字笔划的开始或结束处有额外的装饰，笔划有粗细之分。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/serif.png\" alt=\"serif\"></p>\n<h4 id=\"Sans-serif-无衬线字体\"><a href=\"#Sans-serif-无衬线字体\" class=\"headerlink\" title=\"Sans-serif 无衬线字体\"></a>Sans-serif 无衬线字体</h4><ul>\n<li>Arial, Verdana, Tahoma, 微软雅黑都是很常见的无衬线字体;</li>\n<li>说明: <code>sans-</code>源于法语前缀，意思为<code>没有</code>。Sans-serif 也就是指无衬线字体。</li>\n<li>特征: 字体比较圆滑，笔划较为均匀。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/sans-serif.png\" alt=\"sans-serif\"></p>\n<ul>\n<li>字体选用: 有种说法是正文多用衬线字体，易于区分；标题多用无衬线字体。不过这个也看个人喜好，我更习惯正文用无衬线字体。如果实在不知道怎么选，随便找一个自己看着舒服的网站，套用它的字体样式好了。</li>\n</ul>\n<h4 id=\"Monospace-等宽字体\"><a href=\"#Monospace-等宽字体\" class=\"headerlink\" title=\"Monospace 等宽字体\"></a>Monospace 等宽字体</h4><ul>\n<li>Courier New, Consolas, Menlo 都是比较常见的等宽字体;</li>\n<li>特征: 字母、数字、空格以及其他符号所占宽度都一致。识别度高，易于对齐和定位，通常用于显示代码。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/Monospace.png\" alt=\"Monospace\"></p>\n<ul>\n<li>一个优秀的代码字体除了等宽外，还应该能较好地区分出<code>0 o O i l 1 I &quot;&quot; &#39;&#39; [] () {}</code> 等字符。</li>\n</ul>\n<h4 id=\"Cursive-手写体\"><a href=\"#Cursive-手写体\" class=\"headerlink\" title=\"Cursive 手写体\"></a>Cursive 手写体</h4><ul>\n<li>Comic Sans, Author, 华文行楷都是比较常见的仿手写体;</li>\n<li>特征: 模仿人的手写体，笔划圆滑或者有连笔等装饰。英文的花体，中文的行书草书等都属于此类。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/cursive.png\" alt=\"cursive\"></p>\n<h3 id=\"获取字体名称\"><a href=\"#获取字体名称\" class=\"headerlink\" title=\"获取字体名称\"></a>获取字体名称</h3><p>同一个字体在不同系统和应用中可能会显示为不同名字，但其内部一般有一个不变的英文名字。CSS font-family 需要引用的就是字体的内部名字。</p>\n<h4 id=\"本地字体\"><a href=\"#本地字体\" class=\"headerlink\" title=\"本地字体\"></a>本地字体</h4><ul>\n<li>Win 上通过搜索或控制面板进入字体文件夹，然后双击字体查看字体名称;</li>\n<li>通过软件，如记事本、Office 等也可以查看字体名字:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a1.png\" alt=\"font-a1\"></p>\n<ul>\n<li>Mac 上搜索打开字体册即可，中间一栏显示的就是字体名称:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a2.png\" alt=\"font-a2\"></p>\n<h4 id=\"网页字体\"><a href=\"#网页字体\" class=\"headerlink\" title=\"网页字体\"></a>网页字体</h4><ul>\n<li>审查元素，查看生效的 font-family:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a3.png\" alt=\"font-a3\"></p>\n<ul>\n<li>通过 Chrome 插件 <a href=\"http://chengyinliu.com/whatfont.html\" target=\"_blank\" rel=\"external\">WhatFont</a>:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a4.png\" alt=\"font-a4\"></p>\n<h3 id=\"字体图标\"><a href=\"#字体图标\" class=\"headerlink\" title=\"字体图标\"></a>字体图标</h3><p>使用<code>@font-face</code>引入字体后，可以像使用文字那样，无损的控制图标的大小，颜色等样式。常见的有 Webdings，Wingdings, <a href=\"http://fontawesome.io/\" target=\"_blank\" rel=\"external\">Font Awesome</a>.</p>\n<p><img src=\"http://moxfive.xyz/resources/font-icon.png\" alt=\"font-icon\"></p>\n<h3 id=\"备用记录\"><a href=\"#备用记录\" class=\"headerlink\" title=\"备用记录\"></a>备用记录</h3><h4 id=\"字体配置\"><a href=\"#字体配置\" class=\"headerlink\" title=\"字体配置\"></a>字体配置</h4><ul>\n<li>下面是自己目前比较常用的字体配置，通常按系列设置为 CSS 预处理器的变量，方便调用。</li>\n</ul>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//中文</span></div><div class=\"line\"><span class=\"attribute\">font</span>-chs = <span class=\"string\">\"Microsoft YaHei\"</span>, <span class=\"string\">\"Hiragino Sans GB\"</span>, <span class=\"string\">\"WenQuanYi Micro Hei\"</span></div><div class=\"line\"><span class=\"comment\">//无衬线字体 sans-serif</span></div><div class=\"line\"><span class=\"attribute\">font</span>-sans = Verdana, <span class=\"string\">\"Helvetica Neue\"</span>, Helvetica, Tahoma, Arial</div><div class=\"line\"><span class=\"comment\">//衬线字体 serif</span></div><div class=\"line\"><span class=\"attribute\">font</span>-serif = Times, Georgia</div><div class=\"line\"><span class=\"comment\">//等宽字体 monospace</span></div><div class=\"line\"><span class=\"attribute\">font</span>-mono = Menlo, Consolas, <span class=\"string\">\"Source Code Pro\"</span>, Inconsolata, Monaco, <span class=\"string\">\"Courier New\"</span></div></pre></td></tr></table></figure>\n<h3 id=\"字体英文名\"><a href=\"#字体英文名\" class=\"headerlink\" title=\"字体英文名\"></a>字体英文名</h3><ul>\n<li>一些常见中文字体的对应英文名。</li>\n</ul>\n<style>\n    .fa-apple {\n        color: #9d9e9d;\n    }\n    .fa-windows {\n        color: #4ca6e7;\n    }\n</style>\n\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>中文名</th>\n<th>英文名</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td><i class=\"fa fa-apple\"></i> 苹方</td>\n<td>PingFang SC</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td><i class=\"fa fa-apple\"></i> 冬青黑/苹果丽黑</td>\n<td>Hiragino Sans GB</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td><i class=\"fa fa-apple\"></i> 思源黑体</td>\n<td>Source Han Sans CN</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td><i class=\"fa fa-apple\"></i> 华文细黑</td>\n<td>STHeiti Light [STXihei]</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td><i class=\"fa fa-apple\"></i> 华文黑体</td>\n<td>ST Heiti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td><i class=\"fa fa-apple\"></i> 华文楷体</td>\n<td>STKaiti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td><i class=\"fa fa-apple\"></i> 华文宋体</td>\n<td>STSong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td><i class=\"fa fa-apple\"></i> 华文仿宋</td>\n<td>STFangsong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td><i class=\"fa fa-apple\"></i> 丽黑 Pro</td>\n<td>LiHei Pro Medium</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td><i class=\"fa fa-apple\"></i> 丽宋 Pro</td>\n<td>LiSong Pro Light</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td><i class=\"fa fa-apple\"></i> 标楷体</td>\n<td>BiauKai</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td><i class=\"fa fa-apple\"></i> 苹果丽中黑</td>\n<td>Apple LiGothic Medium</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td><i class=\"fa fa-apple\"></i> 苹果丽细宋</td>\n<td>Apple LiSung Light</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td><i class=\"fa fa-windows\"></i> 新细明体</td>\n<td>PMingLiU</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td><i class=\"fa fa-windows\"></i> 细明体</td>\n<td>MingLiU</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td><i class=\"fa fa-windows\"></i> 标楷体</td>\n<td>DFKai-SB</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td><i class=\"fa fa-windows\"></i> (中易)黑体</td>\n<td>SimHei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td><i class=\"fa fa-windows\"></i> 宋体</td>\n<td>SimSun</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td><i class=\"fa fa-windows\"></i> 新宋体</td>\n<td>NSimSun</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td><i class=\"fa fa-windows\"></i> 仿宋</td>\n<td>FangSong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td><i class=\"fa fa-windows\"></i> 楷体</td>\n<td>KaiTi</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td><i class=\"fa fa-windows\"></i> 仿宋_GB2312</td>\n<td>FangSong_GB2312</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td><i class=\"fa fa-windows\"></i> 楷体_GB2312</td>\n<td>KaiTi_GB2312</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td><i class=\"fa fa-windows\"></i> 微软正黑体</td>\n<td>Microsoft JhengHei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td><i class=\"fa fa-windows\"></i> 微软雅黑</td>\n<td>Microsoft YaHei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td><i class=\"fa fa-file-word-o\"></i>  隶书</td>\n<td>LiSu</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td><i class=\"fa fa-file-word-o\"></i>  幼圆</td>\n<td>YouYuan</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文中宋</td>\n<td>STZhongsong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td><i class=\"fa fa-file-word-o\"></i>  方正舒体</td>\n<td>FZShuTi</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td><i class=\"fa fa-file-word-o\"></i>  方正姚体</td>\n<td>FZYaoti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文彩云</td>\n<td>STCaiyun</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文琥珀</td>\n<td>STHupo</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">33</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文隶书</td>\n<td>STLiti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">34</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文行楷</td>\n<td>STXingkai</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">35</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文新魏</td>\n<td>STXinwei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">36</td>\n<td><i class=\"fa fa-linux\"></i> 文泉驿微米黑</td>\n<td>Wenquanyi Micro Hei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">37</td>\n<td><i class=\"fa fa-linux\"></i> 文泉驿正黑</td>\n<td>WenQuanYi Zen Hei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">38</td>\n<td><i class=\"fa fa-linux\"></i> 文泉驿点阵正黑</td>\n<td>WenQuanYi Zen Hei Sharp</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h2><ol>\n<li><strong>Font Awesome</strong>: <a href=\"http://fontawesome.io/\" target=\"_blank\" rel=\"external\">http://fontawesome.io/</a></li>\n<li><strong>Webdings和Wingdings字符码对应表</strong>: <a href=\"http://dwz.cn/2jOjYi\" target=\"_blank\" rel=\"external\">http://dwz.cn/2jOjYi</a></li>\n<li><strong><em>CSS魔法堂：再次认识 font</em></strong> by <strong>肥仔John</strong> on <code>2015/3/3</code>: <a href=\"http://www.cnblogs.com/fsjohnhuang/p/4310533.html\" target=\"_blank\" rel=\"external\">http://www.cnblogs.com/fsjohnhuang/p/4310533.html</a></li>\n<li><strong>有字库-中文在线字体</strong>: <a href=\"http://www.youziku.com/\" target=\"_blank\" rel=\"external\">http://www.youziku.com/</a></li>\n<li><strong><em>谈谈网页设计中的字体应用 (2) serif 和 sans-serif</em></strong> by <strong>棕熊</strong> on <code>2008/5/6</code>: <a href=\"http://www.cnblogs.com/ruxpinsp1/archive/2008/05/06/font-in-front-end-development-2.html\" target=\"_blank\" rel=\"external\">http://www.cnblogs.com/ruxpinsp1/archive/2008/05/06/font-in-front-end-development-2.html</a></li>\n<li><strong><em>Serif 和 Sans Serif 字体的区别</em></strong> by <strong>冰火九九</strong> on <code>2013/11/4</code>: <a href=\"http://blog.jobbole.com/50828/\" target=\"_blank\" rel=\"external\">http://blog.jobbole.com/50828/</a></li>\n<li><strong><em>Chinese Web Font Guide</em></strong> by <strong>Kendra Schaefer</strong> on <code>2012/6/11</code>: <a href=\"http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/\" target=\"_blank\" rel=\"external\">http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/</a></li>\n<li><strong>Fonts.css – 跨平台中文字体解决方案</strong>: <a href=\"http://zenozeng.github.io/fonts.css/\" target=\"_blank\" rel=\"external\">http://zenozeng.github.io/fonts.css/</a></li>\n</ol>\n","excerpt":"<p><h2 id=\"intro\">前言</h2>一直到最近才开始调整博客的字体，之前都是全站微软雅黑了事。慢慢调整后发现 font-family 这个属性相关的知识还是不少的，整理一下常用的部分，分享于此。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"基本用法\"><a href=\"#基本用法\" class=\"headerlink\" title=\"基本用法\"></a>基本用法</h3><h4 id=\"使用语法\"><a href=\"#使用语法\" class=\"headerlink\" title=\"使用语法\"></a>使用语法</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">font-family</span>: 字体名1, 字体名2, 字体名<span class=\"selector-tag\">n</span>, 字体系列名;</div><div class=\"line\"><span class=\"selector-tag\">font-family</span>: <span class=\"selector-tag\">Verdana</span>, <span class=\"selector-tag\">Helvetica</span>, \"<span class=\"selector-tag\">Microsoft</span> <span class=\"selector-tag\">YaHei</span>\", <span class=\"selector-tag\">Arial</span>;</div></pre></td></tr></table></figure>\n<h4 id=\"语法说明\"><a href=\"#语法说明\" class=\"headerlink\" title=\"语法说明\"></a>语法说明</h4><blockquote>\n<ol>\n<li>系统将选择列表中最先可用的字体来显示文字;</li>\n<li>因为规则1，通常在最末添加一个 generic-family 字体系列名，保证文字获得相似的显示效果;</li>\n<li>因为规则1，西文字体名应该写在中文字体前，这样才能中英文同时使用不同字体;</li>\n<li>字体名为中文或包含空格等时，需要加双引号””才能正确识别;</li>\n<li>中文字体建议也是用其对应英文字体名，如”微软雅黑”为”Microsoft YaHei”，以提高编码兼容性。</li>\n</ol>\n</blockquote>\n<h3 id=\"常见字体系列\"><a href=\"#常见字体系列\" class=\"headerlink\" title=\"常见字体系列\"></a>常见字体系列</h3><h4 id=\"Serif-衬线字体\"><a href=\"#Serif-衬线字体\" class=\"headerlink\" title=\"Serif 衬线字体\"></a>Serif 衬线字体</h4><ul>\n<li>Times New Roman, Georgia 和宋体都是很常见的衬线字体；</li>\n<li>特征: 文字笔划的开始或结束处有额外的装饰，笔划有粗细之分。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/serif.png\" alt=\"serif\"></p>\n<h4 id=\"Sans-serif-无衬线字体\"><a href=\"#Sans-serif-无衬线字体\" class=\"headerlink\" title=\"Sans-serif 无衬线字体\"></a>Sans-serif 无衬线字体</h4><ul>\n<li>Arial, Verdana, Tahoma, 微软雅黑都是很常见的无衬线字体;</li>\n<li>说明: <code>sans-</code>源于法语前缀，意思为<code>没有</code>。Sans-serif 也就是指无衬线字体。</li>\n<li>特征: 字体比较圆滑，笔划较为均匀。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/sans-serif.png\" alt=\"sans-serif\"></p>\n<ul>\n<li>字体选用: 有种说法是正文多用衬线字体，易于区分；标题多用无衬线字体。不过这个也看个人喜好，我更习惯正文用无衬线字体。如果实在不知道怎么选，随便找一个自己看着舒服的网站，套用它的字体样式好了。</li>\n</ul>\n<h4 id=\"Monospace-等宽字体\"><a href=\"#Monospace-等宽字体\" class=\"headerlink\" title=\"Monospace 等宽字体\"></a>Monospace 等宽字体</h4><ul>\n<li>Courier New, Consolas, Menlo 都是比较常见的等宽字体;</li>\n<li>特征: 字母、数字、空格以及其他符号所占宽度都一致。识别度高，易于对齐和定位，通常用于显示代码。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/Monospace.png\" alt=\"Monospace\"></p>\n<ul>\n<li>一个优秀的代码字体除了等宽外，还应该能较好地区分出<code>0 o O i l 1 I &quot;&quot; &#39;&#39; [] () {}</code> 等字符。</li>\n</ul>\n<h4 id=\"Cursive-手写体\"><a href=\"#Cursive-手写体\" class=\"headerlink\" title=\"Cursive 手写体\"></a>Cursive 手写体</h4><ul>\n<li>Comic Sans, Author, 华文行楷都是比较常见的仿手写体;</li>\n<li>特征: 模仿人的手写体，笔划圆滑或者有连笔等装饰。英文的花体，中文的行书草书等都属于此类。</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/cursive.png\" alt=\"cursive\"></p>\n<h3 id=\"获取字体名称\"><a href=\"#获取字体名称\" class=\"headerlink\" title=\"获取字体名称\"></a>获取字体名称</h3><p>同一个字体在不同系统和应用中可能会显示为不同名字，但其内部一般有一个不变的英文名字。CSS font-family 需要引用的就是字体的内部名字。</p>\n<h4 id=\"本地字体\"><a href=\"#本地字体\" class=\"headerlink\" title=\"本地字体\"></a>本地字体</h4><ul>\n<li>Win 上通过搜索或控制面板进入字体文件夹，然后双击字体查看字体名称;</li>\n<li>通过软件，如记事本、Office 等也可以查看字体名字:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a1.png\" alt=\"font-a1\"></p>\n<ul>\n<li>Mac 上搜索打开字体册即可，中间一栏显示的就是字体名称:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a2.png\" alt=\"font-a2\"></p>\n<h4 id=\"网页字体\"><a href=\"#网页字体\" class=\"headerlink\" title=\"网页字体\"></a>网页字体</h4><ul>\n<li>审查元素，查看生效的 font-family:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a3.png\" alt=\"font-a3\"></p>\n<ul>\n<li>通过 Chrome 插件 <a href=\"http://chengyinliu.com/whatfont.html\">WhatFont</a>:</li>\n</ul>\n<p><img src=\"http://moxfive.xyz/resources/font-a4.png\" alt=\"font-a4\"></p>\n<h3 id=\"字体图标\"><a href=\"#字体图标\" class=\"headerlink\" title=\"字体图标\"></a>字体图标</h3><p>使用<code>@font-face</code>引入字体后，可以像使用文字那样，无损的控制图标的大小，颜色等样式。常见的有 Webdings，Wingdings, <a href=\"http://fontawesome.io/\">Font Awesome</a>.</p>\n<p><img src=\"http://moxfive.xyz/resources/font-icon.png\" alt=\"font-icon\"></p>\n<h3 id=\"备用记录\"><a href=\"#备用记录\" class=\"headerlink\" title=\"备用记录\"></a>备用记录</h3><h4 id=\"字体配置\"><a href=\"#字体配置\" class=\"headerlink\" title=\"字体配置\"></a>字体配置</h4><ul>\n<li>下面是自己目前比较常用的字体配置，通常按系列设置为 CSS 预处理器的变量，方便调用。</li>\n</ul>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//中文</span></div><div class=\"line\"><span class=\"attribute\">font</span>-chs = <span class=\"string\">\"Microsoft YaHei\"</span>, <span class=\"string\">\"Hiragino Sans GB\"</span>, <span class=\"string\">\"WenQuanYi Micro Hei\"</span></div><div class=\"line\"><span class=\"comment\">//无衬线字体 sans-serif</span></div><div class=\"line\"><span class=\"attribute\">font</span>-sans = Verdana, <span class=\"string\">\"Helvetica Neue\"</span>, Helvetica, Tahoma, Arial</div><div class=\"line\"><span class=\"comment\">//衬线字体 serif</span></div><div class=\"line\"><span class=\"attribute\">font</span>-serif = Times, Georgia</div><div class=\"line\"><span class=\"comment\">//等宽字体 monospace</span></div><div class=\"line\"><span class=\"attribute\">font</span>-mono = Menlo, Consolas, <span class=\"string\">\"Source Code Pro\"</span>, Inconsolata, Monaco, <span class=\"string\">\"Courier New\"</span></div></pre></td></tr></table></figure>\n<h3 id=\"字体英文名\"><a href=\"#字体英文名\" class=\"headerlink\" title=\"字体英文名\"></a>字体英文名</h3><ul>\n<li>一些常见中文字体的对应英文名。</li>\n</ul>\n<style>\n    .fa-apple {\n        color: #9d9e9d;\n    }\n    .fa-windows {\n        color: #4ca6e7;\n    }\n</style>\n\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>中文名</th>\n<th>英文名</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td><i class=\"fa fa-apple\"></i> 苹方</td>\n<td>PingFang SC</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td><i class=\"fa fa-apple\"></i> 冬青黑/苹果丽黑</td>\n<td>Hiragino Sans GB</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td><i class=\"fa fa-apple\"></i> 思源黑体</td>\n<td>Source Han Sans CN</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td><i class=\"fa fa-apple\"></i> 华文细黑</td>\n<td>STHeiti Light [STXihei]</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td><i class=\"fa fa-apple\"></i> 华文黑体</td>\n<td>ST Heiti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td><i class=\"fa fa-apple\"></i> 华文楷体</td>\n<td>STKaiti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td><i class=\"fa fa-apple\"></i> 华文宋体</td>\n<td>STSong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td><i class=\"fa fa-apple\"></i> 华文仿宋</td>\n<td>STFangsong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td><i class=\"fa fa-apple\"></i> 丽黑 Pro</td>\n<td>LiHei Pro Medium</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td><i class=\"fa fa-apple\"></i> 丽宋 Pro</td>\n<td>LiSong Pro Light</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td><i class=\"fa fa-apple\"></i> 标楷体</td>\n<td>BiauKai</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td><i class=\"fa fa-apple\"></i> 苹果丽中黑</td>\n<td>Apple LiGothic Medium</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td><i class=\"fa fa-apple\"></i> 苹果丽细宋</td>\n<td>Apple LiSung Light</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td><i class=\"fa fa-windows\"></i> 新细明体</td>\n<td>PMingLiU</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td><i class=\"fa fa-windows\"></i> 细明体</td>\n<td>MingLiU</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td><i class=\"fa fa-windows\"></i> 标楷体</td>\n<td>DFKai-SB</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td><i class=\"fa fa-windows\"></i> (中易)黑体</td>\n<td>SimHei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td><i class=\"fa fa-windows\"></i> 宋体</td>\n<td>SimSun</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td><i class=\"fa fa-windows\"></i> 新宋体</td>\n<td>NSimSun</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td><i class=\"fa fa-windows\"></i> 仿宋</td>\n<td>FangSong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td><i class=\"fa fa-windows\"></i> 楷体</td>\n<td>KaiTi</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td><i class=\"fa fa-windows\"></i> 仿宋_GB2312</td>\n<td>FangSong_GB2312</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td><i class=\"fa fa-windows\"></i> 楷体_GB2312</td>\n<td>KaiTi_GB2312</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td><i class=\"fa fa-windows\"></i> 微软正黑体</td>\n<td>Microsoft JhengHei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td><i class=\"fa fa-windows\"></i> 微软雅黑</td>\n<td>Microsoft YaHei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td><i class=\"fa fa-file-word-o\"></i>  隶书</td>\n<td>LiSu</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td><i class=\"fa fa-file-word-o\"></i>  幼圆</td>\n<td>YouYuan</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文中宋</td>\n<td>STZhongsong</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td><i class=\"fa fa-file-word-o\"></i>  方正舒体</td>\n<td>FZShuTi</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td><i class=\"fa fa-file-word-o\"></i>  方正姚体</td>\n<td>FZYaoti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文彩云</td>\n<td>STCaiyun</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文琥珀</td>\n<td>STHupo</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">33</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文隶书</td>\n<td>STLiti</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">34</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文行楷</td>\n<td>STXingkai</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">35</td>\n<td><i class=\"fa fa-file-word-o\"></i>  华文新魏</td>\n<td>STXinwei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">36</td>\n<td><i class=\"fa fa-linux\"></i> 文泉驿微米黑</td>\n<td>Wenquanyi Micro Hei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">37</td>\n<td><i class=\"fa fa-linux\"></i> 文泉驿正黑</td>\n<td>WenQuanYi Zen Hei</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">38</td>\n<td><i class=\"fa fa-linux\"></i> 文泉驿点阵正黑</td>\n<td>WenQuanYi Zen Hei Sharp</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h2><ol>\n<li><strong>Font Awesome</strong>: <a href=\"http://fontawesome.io/\">http://fontawesome.io/</a></li>\n<li><strong>Webdings和Wingdings字符码对应表</strong>: <a href=\"http://dwz.cn/2jOjYi\">http://dwz.cn/2jOjYi</a></li>\n<li><strong><em>CSS魔法堂：再次认识 font</em></strong> by <strong>肥仔John</strong> on <code>2015/3/3</code>: <a href=\"http://www.cnblogs.com/fsjohnhuang/p/4310533.html\">http://www.cnblogs.com/fsjohnhuang/p/4310533.html</a></li>\n<li><strong>有字库-中文在线字体</strong>: <a href=\"http://www.youziku.com/\">http://www.youziku.com/</a></li>\n<li><strong><em>谈谈网页设计中的字体应用 (2) serif 和 sans-serif</em></strong> by <strong>棕熊</strong> on <code>2008/5/6</code>: <a href=\"http://www.cnblogs.com/ruxpinsp1/archive/2008/05/06/font-in-front-end-development-2.html\">http://www.cnblogs.com/ruxpinsp1/archive/2008/05/06/font-in-front-end-development-2.html</a></li>\n<li><strong><em>Serif 和 Sans Serif 字体的区别</em></strong> by <strong>冰火九九</strong> on <code>2013/11/4</code>: <a href=\"http://blog.jobbole.com/50828/\">http://blog.jobbole.com/50828/</a></li>\n<li><strong><em>Chinese Web Font Guide</em></strong> by <strong>Kendra Schaefer</strong> on <code>2012/6/11</code>: <a href=\"http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/\">http://www.kendraschaefer.com/2012/06/chinese-standard-web-fonts-the-ultimate-guide-to-css-font-family-declarations-for-web-design-in-simplified-chinese/</a></li>\n<li><strong>Fonts.css – 跨平台中文字体解决方案</strong>: <a href=\"http://zenozeng.github.io/fonts.css/\">http://zenozeng.github.io/fonts.css/</a></li>\n</ol>"},{"title":"Anki 记忆库之 Excel 快捷键大全","date":"2016-06-04T15:15:00.000Z","_content":"\n<h2 id=\"intro\">前言</h2>如果微软 Office 系列套件里只能保留一个，我会选择保留 Excel。只需要学一点基础的 Excel 知识，就能直观地感受到信息技术所带来的高效生产力。有些软件，掌握了它的快捷键，不仅能较全面地了解它的功能，也能极大地提升使用效率。Excel 就属于这类软件。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 记忆库使用\n所有快捷键已整理为 Anki 记忆库，下载后导入即可开始使用。\n\n> 下载: [Excel 快捷键大全 (Windows) for Anki](/resources/Excel-Shortcut-keys.apkg)\n\n释义默认中英对照显示，可按需隐藏。\n![Anki-a1](http://moxfive.xyz/resources/Anki-a1.png)\n\n### 常用快捷键\n列出自己平时使用最频繁的10个 Excel 快捷键。\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|CTRL+D|使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。\n2|CTRL+ENTER|使用当前输入的条目填充选定的单元格区域。\n3|F2|编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。\n4|CTRL+1|显示“单元格格式”对话框。\n5|CTRL+SHIFT+~|应用“常规”数字格式。\n6|CTRL+G|显示“定位”对话框。\n7|CTRL+`|在工作表中切换显示单元格值和公式。\n8|CTRL+'|将公式从活动单元格上方的单元格复制到单元格或编辑栏中。\n9|F4|重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换\n10|ALT+ENTER|在同一单元格中另起一个新行。\n\n### 快捷键大全\n\n#### Ctrl 组合快捷键\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|CTRL+PgUp|向左切换工作表\n2|CTRL+PgDn|向右切换工作表\n3|CTRL+SHIFT+&|将外框应用于选定单元格。\n4|CTRL+SHIFT_|从选定单元格删除外框。\n5|CTRL+SHIFT+~|应用“常规”数字格式。\n6|CTRL+SHIFT+$|应用带有两位小数的“货币”格式（负数放在括号中）。\n7|CTRL+SHIFT+%|应用不带小数位的“百分比”格式。\n8|CTRL+SHIFT+^|应用带有两位小数的“指数”格式。\n9|CTRL+SHIFT+#|应用带有日、月和年的“日期”格式。\n10|CTRL+SHIFT+@|应用带有小时和分钟以及 AM 或 PM 的“时间”格式。\n11|CTRL+SHIFT+!|应用带有两位小数、千位分隔符和减号 (-)（用于负值）的“数值”格式。\n12|CTRL+SHIFT+*|选择环绕活动单元格的当前区域（由空白行和空白列围起的数据区域）。<br>在数据透视表中，它将选择整个数据透视表。\n13|CTRL+SHIFT+:|输入当前时间。\n14|CTRL+SHIFT+\"|将值从活动单元格上方的单元格复制到单元格或编辑栏中。\n15|CTRL+SHIFT+Plus (+)|显示用于插入空白单元格的“插入”对话框。\n16|CTRL+Minus (-)|显示用于删除选定单元格的“删除”对话框。\n17|CTRL+;|输入当前日期。\n18|CTRL+`|在工作表中切换显示单元格值和公式。\n19|CTRL+'|将公式从活动单元格上方的单元格复制到单元格或编辑栏中。\n20|CTRL+1|显示“单元格格式”对话框。\n21|CTRL+2|应用或取消加粗格式设置。\n22|CTRL+3|应用或取消倾斜格式设置。\n23|CTRL+4|应用或取消下划线。\n24|CTRL+5|应用或取消删除线。\n25|CTRL+6|在隐藏对象、显示对象和显示对象占位符之间切换。\n26|CTRL+8|显示或隐藏大纲符号。\n27|CTRL+9|隐藏选定的行。\n28|CTRL+0|隐藏选定的列。\n29|CTRL+A|☆选择整个工作表。<br>☆如果工作表包含数据，则按 Ctrl+A 将选择当前区域，再次按 Ctrl+A 将选择当前区域及其汇总行，第三次按 Ctrl+A 将选择整个工作表。<br>☆当插入点位于公式中某个函数名称的右边时，则会显示“函数参数”对话框。<br>☆当插入点位于公式中某个函数名称的右边时，按 Ctrl+Shift+A 将会插入参数名称和括号。\n30|CTRL+B|应用或取消加粗格式设置。\n31|CTRL+C|复制选定的单元格。<br>如果连续按两次 Ctrl+C，则会显示剪贴板。\n32|CTRL+D|使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。\n33|CTRL+F|显示“查找和替换”对话框，其中的“查找”选项卡处于选中状态。<br>按 Shift+F5 也会显示此选项卡。\n34|SHIFT+F4 |重复上一次“查找”操作。\n35|CTRL+SHIFT+F<br>CTRL+SHIFT+P|打开“设置单元格格式”对话框，且其中的“字体”选项卡处于选中状态。\n36|CTRL+G<br>F5|显示“定位”对话框。\n37|CTRL+H|显示“查找和替换”对话框，其中的“替换”选项卡处于选中状态。\n38|CTRL+I|应用或取消倾斜格式设置。\n39|CTRL+K|为新的超链接显示“插入超链接”对话框，或为选定的现有超链接显示“编辑超链接”对话框。\n40|CTRL+N|创建一个新的空白工作簿。\n41|CTRL+O|显示“打开”对话框以打开或查找文件。\n42|CTRL+SHIFT+O|选择所有包含批注的单元格。\n43|CTRL+P|显示“打印”对话框。\n44|CTRL+R|使用“向右填充”命令将选定范围最左边单元格的内容和格式复制到右边的单元格中。\n45|CTRL+S|使用其当前文件名、位置和文件格式保存活动文件。\n46|CTRL+T|显示“创建表”对话框。\n47|CTRL+U|应用或取消下划线。\n48|CTRL+SHIFT+U|在展开和折叠编辑栏之间切换。\n49|CTRL+V|在插入点处插入剪贴板的内容，并替换任何所选内容。只有在剪切或复制了对象、文本或单元格内容之后，才能使用此快捷键。\n50|CTRL+ALT+V|显示“选择性粘贴”对话框。只有在剪切或复制了工作表或其他程序中的对象、文本或单元格内容后此快捷键才可用。\n51|CTRL+W|关闭选定的工作簿窗口。\n52|CTRL+X|剪切选定的单元格。\n53|CTRL+Y|重复上一个命令或操作（如有可能）。\n54|CTRL+Z|使用“撤消”命令来撤消上一个命令或删除最后键入的内容。\n55|CTRL+SHIFT+Z|显示了自动更正智能标记时，可撤消或恢复上一次自动更正操作。\n\n#### 功能键\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|F1|显示“Microsoft Office Excel 帮助”任务窗格。\n2|ALT+F1|创建当前范围中数据的图表。\n3|ALT+SHIFT+F1|插入新的工作表。\n4|F2|编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。\n5|SHIFT+F2|添加或编辑单元格批注。\n6|CTRL+F2|显示“打印预览”窗口。\n7|F3|显示“粘贴名称”对话框。\n8|SHIFT+F3|显示“插入函数”对话框。\n9|F4|\"重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换\"\n10|Ctrl+F4|关闭选定的工作簿窗口。\n11|Ctrl+F5|从最大化中恢复选定工作簿窗口的窗口大小。\n12|F6|在工作表、功能区、任务窗格和缩放控件之间切换。在已拆分（通过依次单击“视图”菜单、“管理此窗口”、“冻结窗格”、“拆分窗口”命令来进行拆分）的工作表中，在窗格和功能区区域之间切换时，按 F6 可包括已拆分的窗格。\n13|SHIFT+F6|在工作表、缩放控件、任务窗格和功能区之间切换。\n14|CTRL+F6|如果打开了多个工作簿窗口，则可切换到下一个工作簿窗口。\n15|F7|显示“拼写检查”对话框，以检查活动工作表或选定范围中的拼写。\n16|CTRL+F7|如果工作簿窗口未最大化，则可对该窗口执行“移动”命令。使用箭头键移动窗口，并在完成时按 Enter，或按 Esc 取消。\n17|F8|打开或关闭扩展模式。在扩展模式中，“扩展选定区域”将出现在状态行中，并且按箭头键可扩展选定范围。\n18|SHIFT+F8|使用箭头键将非邻近单元格或区域添加到单元格的选定范围中。\n19|CTRL+F8|当工作簿未最大化时，可执行“大小”命令（在工作簿窗口的“控制”菜单上）。\n20|ALT+F8|显示用于创建、运行、编辑或删除宏的“宏”对话框。\n21|F9|计算所有打开的工作簿中的所有工作表。\n22|SHIFT+F9|按 Shift+F9 可计算活动工作表。\n23|CTRL+ALT+F9|计算所有打开的工作簿中的所有工作表，不管它们自上次计算以来是否已更改。\n24|CTRL+ALT+SHIFT+F9|重新检查相关公式，然后计算所有打开的工作簿中的所有单元格，其中包括未标记为需要计算的单元格。\n25|CTRL+F9|将工作簿窗口最小化为图标。\n26|F10|\"打开或关闭键盘操作提示。<br>当打开提示时箭头键可用于导航。\"\n27|SHIFT+F10|按 Shift+F10 可显示选定项目的快捷菜单。\n28|ALT+SHIFT+F10|显示智能标记的菜单或消息。如果存在多个智能标记，按该组合键可切换到下一个智能标记并显示其菜单或消息。\n29|CTRL+F10|最大化或还原选定的工作簿窗口。\n30|F11|创建当前范围内数据的图表。\n31|SHIFT+F11|按 Shift+F11 可插入一个新工作表。\n32|ALT+F11|打开 Microsoft Visual Basic 编辑器，您可以在其中通过使用 Visual Basic for Applications (VBA) 来创建宏。\n33|F12|显示“另存为”对话框。\n\n#### 其他实用快捷键\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|ARROW KEYS|在工作表中上移、下移、左移或右移一个单元格。\n2|CTRL+ARROW KEY|移动到工作表中当前数据区域的边缘。\n3|SHIFT+ARROW KEY|将单元格的选定范围扩大一个单元格。\n4|CTRL+SHIFT+ARROW KEY|按 Ctrl+Shift+箭头键可将单元格的选定范围扩展到活动单元格所在列或行中的最后一个非空单元格，或者如果下一个单元格为空，则将选定范围扩展到下一个非空单元格。\n5|BACKSPACE|在编辑栏中删除左边的一个字符。<br>也可清除活动单元格的内容。<br>在单元格编辑模式下，按该键将会删除插入点左边的字符。\n6|DELETE|从选定单元格中删除单元格内容（数据和公式），而不会影响单元格格式或批注。<br>在单元格编辑模式下，按该键将会删除插入点右边的字符。\n7|END|当 Scroll Lock 处于开启状态时，移动到窗口右下角的单元格。<br>当菜单或子菜单处于可见状态时，也可选择菜单上的最后一个命令。\n8|CTRL+END|移动到工作表上的最后一个单元格，即所使用的最下面一行与所使用的最右边一列的交汇单元格。如果光标位于编辑栏中，它会将光标移到文本的末尾。\n9|CTRL+SHIFT+END|按 Ctrl+Shift+End 可将单元格选定区域扩展到工作表上所使用的最后一个单元格（位于右下角）。如果光标位于编辑栏中，则按 Ctrl+Shift+End 可选择编辑栏中从光标所在位置到末尾处的所有文本，这不会影响编辑栏的高度。\n10|ENTER|从单元格或编辑栏中完成单元格输入，并（默认）选择下面的单元格。<br>打开选定的菜单（按 F10 激活菜单栏），或执行选定命令的操作。<br>在数据表单中，按该键可移动到下一条记录中的第一个字段。<br>在对话框中，按该键可执行对话框中默认命令按钮（带有突出轮廓的按钮，通常为“确定”按钮）的操作。\n11|ALT+ENTER|在同一单元格中另起一个新行。\n12|CTRL+ENTER|使用当前输入的条目填充选定的单元格区域。\n13|SHIFT+ENTER|完成单元格输入并选择上面的单元格。\n14|ESC|取消单元格或编辑栏中的输入。<br>关闭打开的菜单或子菜单、对话框或消息窗口。<br>在应用全屏模式时，按该键还可关闭此模式，返回到普通屏幕模式，再次显示功能区和状态栏。\n15|HOME|移到工作表中某一行的开头。<br>当 Scroll Lock 处于开启状态时，移到窗口左上角的单元格。<br>当菜单或子菜单处于可见状态时，选择菜单上的第一个命令。\n16|CTRL+HOME |移到工作表的开头。\n17|CTRL+SHIFT+HOME|将单元格的选定范围扩展到工作表的开头。\n18|PAGE DOWN|在工作表中下移一个屏幕。\n19|ALT+PAGE DOWN|在工作表中向右移动一个屏幕。\n20|CTRL+SHIFT+PAGE DOWN|选择工作簿中的当前和下一个工作表。\n21|PAGE UP|在工作表中上移一个屏幕。\n22|ALT+PAGE UP|在工作表中向左移动一个屏幕。\n23|CTRL+SHIFT+PAGE UP|选择工作簿中的当前和上一个工作表。\n24|SPACEBAR|在对话框中，执行选定按钮的操作，或者选中或清除复选框。\n25|CTRL+SPACEBAR|选择工作表中的整列。\n26|SHIFT+SPACEBAR|选择工作表中的整行。\n27|CTRL+SHIFT+SPACEBAR|按 Ctrl+Shift+空格键可选择整个工作表。<br>如果工作表中包含数据，则按 Ctrl+Shift+空格键将选择当前区域，再按一次 Ctrl+Shift+空格键将选择当前区域及其汇总行，第三次按 Ctrl+Shift+空格键将选择整个工作表。<br>当某个对象处于选定状态时，按 Ctrl+Shift+空格键可选择工作表上的所有对象。\n28|ALT+SPACEBAR|显示 Microsoft Office Excel 窗口的“控制”菜单。\n29|TAB|在工作表中向右移动一个单元格。<br>在受保护的工作表中，可在未锁定的单元格之间移动。<br>在对话框中，移到下一个选项或选项组。\n30|SHIFT+TAB|移到前一个单元格（在工作表中）或前一个选项（在对话框中）。\n31|CTRL+TAB|在对话框中，按 Ctrl+Tab 可切换到下一个选项卡。\n32|CTRL+SHIFT+TAB|在对话框中，按 Ctrl+Shift+Tab 可切换到前一个选项卡。\n\n### 相关链接\n\n1. 微软 Office 帮助中心: [Excel 快捷键和功能键](https://support.office.com/zh-cn/article/Excel-%e5%bf%ab%e6%8d%b7%e9%94%ae%e5%92%8c%e5%8a%9f%e8%83%bd%e9%94%ae-1798d9d5-842a-42b8-9c99-9b7213f0040f?ui=zh-CN&rs=zh-CN&ad=CN)\n1. Microsoft Office Support: [Excel shortcut and function keys](https://support.office.com/en-ca/article/Excel-shortcut-and-function-keys-1798d9d5-842a-42b8-9c99-9b7213f0040f)\n","source":"_posts/2016-06-04.anki_excel_shortcuts.md","raw":"---\ntitle: Anki 记忆库之 Excel 快捷键大全\ndate: 2016-06-04 23:15:00\ncategories:\n- 触类旁通\ntags:\n- excel\npermalink: AnkiExcelShortcuts\n---\n\n<h2 id=\"intro\">前言</h2>如果微软 Office 系列套件里只能保留一个，我会选择保留 Excel。只需要学一点基础的 Excel 知识，就能直观地感受到信息技术所带来的高效生产力。有些软件，掌握了它的快捷键，不仅能较全面地了解它的功能，也能极大地提升使用效率。Excel 就属于这类软件。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 记忆库使用\n所有快捷键已整理为 Anki 记忆库，下载后导入即可开始使用。\n\n> 下载: [Excel 快捷键大全 (Windows) for Anki](/resources/Excel-Shortcut-keys.apkg)\n\n释义默认中英对照显示，可按需隐藏。\n![Anki-a1](http://moxfive.xyz/resources/Anki-a1.png)\n\n### 常用快捷键\n列出自己平时使用最频繁的10个 Excel 快捷键。\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|CTRL+D|使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。\n2|CTRL+ENTER|使用当前输入的条目填充选定的单元格区域。\n3|F2|编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。\n4|CTRL+1|显示“单元格格式”对话框。\n5|CTRL+SHIFT+~|应用“常规”数字格式。\n6|CTRL+G|显示“定位”对话框。\n7|CTRL+`|在工作表中切换显示单元格值和公式。\n8|CTRL+'|将公式从活动单元格上方的单元格复制到单元格或编辑栏中。\n9|F4|重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换\n10|ALT+ENTER|在同一单元格中另起一个新行。\n\n### 快捷键大全\n\n#### Ctrl 组合快捷键\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|CTRL+PgUp|向左切换工作表\n2|CTRL+PgDn|向右切换工作表\n3|CTRL+SHIFT+&|将外框应用于选定单元格。\n4|CTRL+SHIFT_|从选定单元格删除外框。\n5|CTRL+SHIFT+~|应用“常规”数字格式。\n6|CTRL+SHIFT+$|应用带有两位小数的“货币”格式（负数放在括号中）。\n7|CTRL+SHIFT+%|应用不带小数位的“百分比”格式。\n8|CTRL+SHIFT+^|应用带有两位小数的“指数”格式。\n9|CTRL+SHIFT+#|应用带有日、月和年的“日期”格式。\n10|CTRL+SHIFT+@|应用带有小时和分钟以及 AM 或 PM 的“时间”格式。\n11|CTRL+SHIFT+!|应用带有两位小数、千位分隔符和减号 (-)（用于负值）的“数值”格式。\n12|CTRL+SHIFT+*|选择环绕活动单元格的当前区域（由空白行和空白列围起的数据区域）。<br>在数据透视表中，它将选择整个数据透视表。\n13|CTRL+SHIFT+:|输入当前时间。\n14|CTRL+SHIFT+\"|将值从活动单元格上方的单元格复制到单元格或编辑栏中。\n15|CTRL+SHIFT+Plus (+)|显示用于插入空白单元格的“插入”对话框。\n16|CTRL+Minus (-)|显示用于删除选定单元格的“删除”对话框。\n17|CTRL+;|输入当前日期。\n18|CTRL+`|在工作表中切换显示单元格值和公式。\n19|CTRL+'|将公式从活动单元格上方的单元格复制到单元格或编辑栏中。\n20|CTRL+1|显示“单元格格式”对话框。\n21|CTRL+2|应用或取消加粗格式设置。\n22|CTRL+3|应用或取消倾斜格式设置。\n23|CTRL+4|应用或取消下划线。\n24|CTRL+5|应用或取消删除线。\n25|CTRL+6|在隐藏对象、显示对象和显示对象占位符之间切换。\n26|CTRL+8|显示或隐藏大纲符号。\n27|CTRL+9|隐藏选定的行。\n28|CTRL+0|隐藏选定的列。\n29|CTRL+A|☆选择整个工作表。<br>☆如果工作表包含数据，则按 Ctrl+A 将选择当前区域，再次按 Ctrl+A 将选择当前区域及其汇总行，第三次按 Ctrl+A 将选择整个工作表。<br>☆当插入点位于公式中某个函数名称的右边时，则会显示“函数参数”对话框。<br>☆当插入点位于公式中某个函数名称的右边时，按 Ctrl+Shift+A 将会插入参数名称和括号。\n30|CTRL+B|应用或取消加粗格式设置。\n31|CTRL+C|复制选定的单元格。<br>如果连续按两次 Ctrl+C，则会显示剪贴板。\n32|CTRL+D|使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。\n33|CTRL+F|显示“查找和替换”对话框，其中的“查找”选项卡处于选中状态。<br>按 Shift+F5 也会显示此选项卡。\n34|SHIFT+F4 |重复上一次“查找”操作。\n35|CTRL+SHIFT+F<br>CTRL+SHIFT+P|打开“设置单元格格式”对话框，且其中的“字体”选项卡处于选中状态。\n36|CTRL+G<br>F5|显示“定位”对话框。\n37|CTRL+H|显示“查找和替换”对话框，其中的“替换”选项卡处于选中状态。\n38|CTRL+I|应用或取消倾斜格式设置。\n39|CTRL+K|为新的超链接显示“插入超链接”对话框，或为选定的现有超链接显示“编辑超链接”对话框。\n40|CTRL+N|创建一个新的空白工作簿。\n41|CTRL+O|显示“打开”对话框以打开或查找文件。\n42|CTRL+SHIFT+O|选择所有包含批注的单元格。\n43|CTRL+P|显示“打印”对话框。\n44|CTRL+R|使用“向右填充”命令将选定范围最左边单元格的内容和格式复制到右边的单元格中。\n45|CTRL+S|使用其当前文件名、位置和文件格式保存活动文件。\n46|CTRL+T|显示“创建表”对话框。\n47|CTRL+U|应用或取消下划线。\n48|CTRL+SHIFT+U|在展开和折叠编辑栏之间切换。\n49|CTRL+V|在插入点处插入剪贴板的内容，并替换任何所选内容。只有在剪切或复制了对象、文本或单元格内容之后，才能使用此快捷键。\n50|CTRL+ALT+V|显示“选择性粘贴”对话框。只有在剪切或复制了工作表或其他程序中的对象、文本或单元格内容后此快捷键才可用。\n51|CTRL+W|关闭选定的工作簿窗口。\n52|CTRL+X|剪切选定的单元格。\n53|CTRL+Y|重复上一个命令或操作（如有可能）。\n54|CTRL+Z|使用“撤消”命令来撤消上一个命令或删除最后键入的内容。\n55|CTRL+SHIFT+Z|显示了自动更正智能标记时，可撤消或恢复上一次自动更正操作。\n\n#### 功能键\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|F1|显示“Microsoft Office Excel 帮助”任务窗格。\n2|ALT+F1|创建当前范围中数据的图表。\n3|ALT+SHIFT+F1|插入新的工作表。\n4|F2|编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。\n5|SHIFT+F2|添加或编辑单元格批注。\n6|CTRL+F2|显示“打印预览”窗口。\n7|F3|显示“粘贴名称”对话框。\n8|SHIFT+F3|显示“插入函数”对话框。\n9|F4|\"重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换\"\n10|Ctrl+F4|关闭选定的工作簿窗口。\n11|Ctrl+F5|从最大化中恢复选定工作簿窗口的窗口大小。\n12|F6|在工作表、功能区、任务窗格和缩放控件之间切换。在已拆分（通过依次单击“视图”菜单、“管理此窗口”、“冻结窗格”、“拆分窗口”命令来进行拆分）的工作表中，在窗格和功能区区域之间切换时，按 F6 可包括已拆分的窗格。\n13|SHIFT+F6|在工作表、缩放控件、任务窗格和功能区之间切换。\n14|CTRL+F6|如果打开了多个工作簿窗口，则可切换到下一个工作簿窗口。\n15|F7|显示“拼写检查”对话框，以检查活动工作表或选定范围中的拼写。\n16|CTRL+F7|如果工作簿窗口未最大化，则可对该窗口执行“移动”命令。使用箭头键移动窗口，并在完成时按 Enter，或按 Esc 取消。\n17|F8|打开或关闭扩展模式。在扩展模式中，“扩展选定区域”将出现在状态行中，并且按箭头键可扩展选定范围。\n18|SHIFT+F8|使用箭头键将非邻近单元格或区域添加到单元格的选定范围中。\n19|CTRL+F8|当工作簿未最大化时，可执行“大小”命令（在工作簿窗口的“控制”菜单上）。\n20|ALT+F8|显示用于创建、运行、编辑或删除宏的“宏”对话框。\n21|F9|计算所有打开的工作簿中的所有工作表。\n22|SHIFT+F9|按 Shift+F9 可计算活动工作表。\n23|CTRL+ALT+F9|计算所有打开的工作簿中的所有工作表，不管它们自上次计算以来是否已更改。\n24|CTRL+ALT+SHIFT+F9|重新检查相关公式，然后计算所有打开的工作簿中的所有单元格，其中包括未标记为需要计算的单元格。\n25|CTRL+F9|将工作簿窗口最小化为图标。\n26|F10|\"打开或关闭键盘操作提示。<br>当打开提示时箭头键可用于导航。\"\n27|SHIFT+F10|按 Shift+F10 可显示选定项目的快捷菜单。\n28|ALT+SHIFT+F10|显示智能标记的菜单或消息。如果存在多个智能标记，按该组合键可切换到下一个智能标记并显示其菜单或消息。\n29|CTRL+F10|最大化或还原选定的工作簿窗口。\n30|F11|创建当前范围内数据的图表。\n31|SHIFT+F11|按 Shift+F11 可插入一个新工作表。\n32|ALT+F11|打开 Microsoft Visual Basic 编辑器，您可以在其中通过使用 Visual Basic for Applications (VBA) 来创建宏。\n33|F12|显示“另存为”对话框。\n\n#### 其他实用快捷键\n\n-|快捷键|　　　　说明　　　　\n:-:|-|-\n1|ARROW KEYS|在工作表中上移、下移、左移或右移一个单元格。\n2|CTRL+ARROW KEY|移动到工作表中当前数据区域的边缘。\n3|SHIFT+ARROW KEY|将单元格的选定范围扩大一个单元格。\n4|CTRL+SHIFT+ARROW KEY|按 Ctrl+Shift+箭头键可将单元格的选定范围扩展到活动单元格所在列或行中的最后一个非空单元格，或者如果下一个单元格为空，则将选定范围扩展到下一个非空单元格。\n5|BACKSPACE|在编辑栏中删除左边的一个字符。<br>也可清除活动单元格的内容。<br>在单元格编辑模式下，按该键将会删除插入点左边的字符。\n6|DELETE|从选定单元格中删除单元格内容（数据和公式），而不会影响单元格格式或批注。<br>在单元格编辑模式下，按该键将会删除插入点右边的字符。\n7|END|当 Scroll Lock 处于开启状态时，移动到窗口右下角的单元格。<br>当菜单或子菜单处于可见状态时，也可选择菜单上的最后一个命令。\n8|CTRL+END|移动到工作表上的最后一个单元格，即所使用的最下面一行与所使用的最右边一列的交汇单元格。如果光标位于编辑栏中，它会将光标移到文本的末尾。\n9|CTRL+SHIFT+END|按 Ctrl+Shift+End 可将单元格选定区域扩展到工作表上所使用的最后一个单元格（位于右下角）。如果光标位于编辑栏中，则按 Ctrl+Shift+End 可选择编辑栏中从光标所在位置到末尾处的所有文本，这不会影响编辑栏的高度。\n10|ENTER|从单元格或编辑栏中完成单元格输入，并（默认）选择下面的单元格。<br>打开选定的菜单（按 F10 激活菜单栏），或执行选定命令的操作。<br>在数据表单中，按该键可移动到下一条记录中的第一个字段。<br>在对话框中，按该键可执行对话框中默认命令按钮（带有突出轮廓的按钮，通常为“确定”按钮）的操作。\n11|ALT+ENTER|在同一单元格中另起一个新行。\n12|CTRL+ENTER|使用当前输入的条目填充选定的单元格区域。\n13|SHIFT+ENTER|完成单元格输入并选择上面的单元格。\n14|ESC|取消单元格或编辑栏中的输入。<br>关闭打开的菜单或子菜单、对话框或消息窗口。<br>在应用全屏模式时，按该键还可关闭此模式，返回到普通屏幕模式，再次显示功能区和状态栏。\n15|HOME|移到工作表中某一行的开头。<br>当 Scroll Lock 处于开启状态时，移到窗口左上角的单元格。<br>当菜单或子菜单处于可见状态时，选择菜单上的第一个命令。\n16|CTRL+HOME |移到工作表的开头。\n17|CTRL+SHIFT+HOME|将单元格的选定范围扩展到工作表的开头。\n18|PAGE DOWN|在工作表中下移一个屏幕。\n19|ALT+PAGE DOWN|在工作表中向右移动一个屏幕。\n20|CTRL+SHIFT+PAGE DOWN|选择工作簿中的当前和下一个工作表。\n21|PAGE UP|在工作表中上移一个屏幕。\n22|ALT+PAGE UP|在工作表中向左移动一个屏幕。\n23|CTRL+SHIFT+PAGE UP|选择工作簿中的当前和上一个工作表。\n24|SPACEBAR|在对话框中，执行选定按钮的操作，或者选中或清除复选框。\n25|CTRL+SPACEBAR|选择工作表中的整列。\n26|SHIFT+SPACEBAR|选择工作表中的整行。\n27|CTRL+SHIFT+SPACEBAR|按 Ctrl+Shift+空格键可选择整个工作表。<br>如果工作表中包含数据，则按 Ctrl+Shift+空格键将选择当前区域，再按一次 Ctrl+Shift+空格键将选择当前区域及其汇总行，第三次按 Ctrl+Shift+空格键将选择整个工作表。<br>当某个对象处于选定状态时，按 Ctrl+Shift+空格键可选择工作表上的所有对象。\n28|ALT+SPACEBAR|显示 Microsoft Office Excel 窗口的“控制”菜单。\n29|TAB|在工作表中向右移动一个单元格。<br>在受保护的工作表中，可在未锁定的单元格之间移动。<br>在对话框中，移到下一个选项或选项组。\n30|SHIFT+TAB|移到前一个单元格（在工作表中）或前一个选项（在对话框中）。\n31|CTRL+TAB|在对话框中，按 Ctrl+Tab 可切换到下一个选项卡。\n32|CTRL+SHIFT+TAB|在对话框中，按 Ctrl+Shift+Tab 可切换到前一个选项卡。\n\n### 相关链接\n\n1. 微软 Office 帮助中心: [Excel 快捷键和功能键](https://support.office.com/zh-cn/article/Excel-%e5%bf%ab%e6%8d%b7%e9%94%ae%e5%92%8c%e5%8a%9f%e8%83%bd%e9%94%ae-1798d9d5-842a-42b8-9c99-9b7213f0040f?ui=zh-CN&rs=zh-CN&ad=CN)\n1. Microsoft Office Support: [Excel shortcut and function keys](https://support.office.com/en-ca/article/Excel-shortcut-and-function-keys-1798d9d5-842a-42b8-9c99-9b7213f0040f)\n","slug":"AnkiExcelShortcuts","published":1,"updated":"2016-12-01T06:50:27.337Z","_id":"civ0ggq80002jrwvng1s8hxnv","comments":1,"layout":"post","photos":[],"link":"","content":"<p></p><h2 id=\"intro\">前言</h2>如果微软 Office 系列套件里只能保留一个，我会选择保留 Excel。只需要学一点基础的 Excel 知识，就能直观地感受到信息技术所带来的高效生产力。有些软件，掌握了它的快捷键，不仅能较全面地了解它的功能，也能极大地提升使用效率。Excel 就属于这类软件。<p></p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"记忆库使用\"><a href=\"#记忆库使用\" class=\"headerlink\" title=\"记忆库使用\"></a>记忆库使用</h3><p>所有快捷键已整理为 Anki 记忆库，下载后导入即可开始使用。</p>\n<blockquote>\n<p>下载: <a href=\"/resources/Excel-Shortcut-keys.apkg\">Excel 快捷键大全 (Windows) for Anki</a></p>\n</blockquote>\n<p>释义默认中英对照显示，可按需隐藏。<br><img src=\"http://moxfive.xyz/resources/Anki-a1.png\" alt=\"Anki-a1\"></p>\n<h3 id=\"常用快捷键\"><a href=\"#常用快捷键\" class=\"headerlink\" title=\"常用快捷键\"></a>常用快捷键</h3><p>列出自己平时使用最频繁的10个 Excel 快捷键。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>CTRL+D</td>\n<td>使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>CTRL+ENTER</td>\n<td>使用当前输入的条目填充选定的单元格区域。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>F2</td>\n<td>编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>CTRL+1</td>\n<td>显示“单元格格式”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>CTRL+SHIFT+~</td>\n<td>应用“常规”数字格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>CTRL+G</td>\n<td>显示“定位”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>CTRL+`</td>\n<td>在工作表中切换显示单元格值和公式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>CTRL+’</td>\n<td>将公式从活动单元格上方的单元格复制到单元格或编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>F4</td>\n<td>重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>ALT+ENTER</td>\n<td>在同一单元格中另起一个新行。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"快捷键大全\"><a href=\"#快捷键大全\" class=\"headerlink\" title=\"快捷键大全\"></a>快捷键大全</h3><h4 id=\"Ctrl-组合快捷键\"><a href=\"#Ctrl-组合快捷键\" class=\"headerlink\" title=\"Ctrl 组合快捷键\"></a>Ctrl 组合快捷键</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>CTRL+PgUp</td>\n<td>向左切换工作表</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>CTRL+PgDn</td>\n<td>向右切换工作表</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>CTRL+SHIFT+&amp;</td>\n<td>将外框应用于选定单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>CTRL+SHIFT_</td>\n<td>从选定单元格删除外框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>CTRL+SHIFT+~</td>\n<td>应用“常规”数字格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>CTRL+SHIFT+$</td>\n<td>应用带有两位小数的“货币”格式（负数放在括号中）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>CTRL+SHIFT+%</td>\n<td>应用不带小数位的“百分比”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>CTRL+SHIFT+^</td>\n<td>应用带有两位小数的“指数”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>CTRL+SHIFT+#</td>\n<td>应用带有日、月和年的“日期”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>CTRL+SHIFT+@</td>\n<td>应用带有小时和分钟以及 AM 或 PM 的“时间”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td>CTRL+SHIFT+!</td>\n<td>应用带有两位小数、千位分隔符和减号 (-)（用于负值）的“数值”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td>CTRL+SHIFT+*</td>\n<td>选择环绕活动单元格的当前区域（由空白行和空白列围起的数据区域）。<br>在数据透视表中，它将选择整个数据透视表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td>CTRL+SHIFT+:</td>\n<td>输入当前时间。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td>CTRL+SHIFT+”</td>\n<td>将值从活动单元格上方的单元格复制到单元格或编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td>CTRL+SHIFT+Plus (+)</td>\n<td>显示用于插入空白单元格的“插入”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td>CTRL+Minus (-)</td>\n<td>显示用于删除选定单元格的“删除”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td>CTRL+;</td>\n<td>输入当前日期。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td>CTRL+`</td>\n<td>在工作表中切换显示单元格值和公式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td>CTRL+’</td>\n<td>将公式从活动单元格上方的单元格复制到单元格或编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td>CTRL+1</td>\n<td>显示“单元格格式”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td>CTRL+2</td>\n<td>应用或取消加粗格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td>CTRL+3</td>\n<td>应用或取消倾斜格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td>CTRL+4</td>\n<td>应用或取消下划线。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td>CTRL+5</td>\n<td>应用或取消删除线。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td>CTRL+6</td>\n<td>在隐藏对象、显示对象和显示对象占位符之间切换。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td>CTRL+8</td>\n<td>显示或隐藏大纲符号。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td>CTRL+9</td>\n<td>隐藏选定的行。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td>CTRL+0</td>\n<td>隐藏选定的列。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td>CTRL+A</td>\n<td>☆选择整个工作表。<br>☆如果工作表包含数据，则按 Ctrl+A 将选择当前区域，再次按 Ctrl+A 将选择当前区域及其汇总行，第三次按 Ctrl+A 将选择整个工作表。<br>☆当插入点位于公式中某个函数名称的右边时，则会显示“函数参数”对话框。<br>☆当插入点位于公式中某个函数名称的右边时，按 Ctrl+Shift+A 将会插入参数名称和括号。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td>CTRL+B</td>\n<td>应用或取消加粗格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td>CTRL+C</td>\n<td>复制选定的单元格。<br>如果连续按两次 Ctrl+C，则会显示剪贴板。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td>CTRL+D</td>\n<td>使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">33</td>\n<td>CTRL+F</td>\n<td>显示“查找和替换”对话框，其中的“查找”选项卡处于选中状态。<br>按 Shift+F5 也会显示此选项卡。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">34</td>\n<td>SHIFT+F4</td>\n<td>重复上一次“查找”操作。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">35</td>\n<td>CTRL+SHIFT+F<br>CTRL+SHIFT+P</td>\n<td>打开“设置单元格格式”对话框，且其中的“字体”选项卡处于选中状态。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">36</td>\n<td>CTRL+G<br>F5</td>\n<td>显示“定位”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">37</td>\n<td>CTRL+H</td>\n<td>显示“查找和替换”对话框，其中的“替换”选项卡处于选中状态。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">38</td>\n<td>CTRL+I</td>\n<td>应用或取消倾斜格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">39</td>\n<td>CTRL+K</td>\n<td>为新的超链接显示“插入超链接”对话框，或为选定的现有超链接显示“编辑超链接”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">40</td>\n<td>CTRL+N</td>\n<td>创建一个新的空白工作簿。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">41</td>\n<td>CTRL+O</td>\n<td>显示“打开”对话框以打开或查找文件。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">42</td>\n<td>CTRL+SHIFT+O</td>\n<td>选择所有包含批注的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">43</td>\n<td>CTRL+P</td>\n<td>显示“打印”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">44</td>\n<td>CTRL+R</td>\n<td>使用“向右填充”命令将选定范围最左边单元格的内容和格式复制到右边的单元格中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">45</td>\n<td>CTRL+S</td>\n<td>使用其当前文件名、位置和文件格式保存活动文件。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">46</td>\n<td>CTRL+T</td>\n<td>显示“创建表”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">47</td>\n<td>CTRL+U</td>\n<td>应用或取消下划线。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">48</td>\n<td>CTRL+SHIFT+U</td>\n<td>在展开和折叠编辑栏之间切换。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">49</td>\n<td>CTRL+V</td>\n<td>在插入点处插入剪贴板的内容，并替换任何所选内容。只有在剪切或复制了对象、文本或单元格内容之后，才能使用此快捷键。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">50</td>\n<td>CTRL+ALT+V</td>\n<td>显示“选择性粘贴”对话框。只有在剪切或复制了工作表或其他程序中的对象、文本或单元格内容后此快捷键才可用。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">51</td>\n<td>CTRL+W</td>\n<td>关闭选定的工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">52</td>\n<td>CTRL+X</td>\n<td>剪切选定的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">53</td>\n<td>CTRL+Y</td>\n<td>重复上一个命令或操作（如有可能）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">54</td>\n<td>CTRL+Z</td>\n<td>使用“撤消”命令来撤消上一个命令或删除最后键入的内容。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">55</td>\n<td>CTRL+SHIFT+Z</td>\n<td>显示了自动更正智能标记时，可撤消或恢复上一次自动更正操作。</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"功能键\"><a href=\"#功能键\" class=\"headerlink\" title=\"功能键\"></a>功能键</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>F1</td>\n<td>显示“Microsoft Office Excel 帮助”任务窗格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>ALT+F1</td>\n<td>创建当前范围中数据的图表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>ALT+SHIFT+F1</td>\n<td>插入新的工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>F2</td>\n<td>编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>SHIFT+F2</td>\n<td>添加或编辑单元格批注。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>CTRL+F2</td>\n<td>显示“打印预览”窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>F3</td>\n<td>显示“粘贴名称”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>SHIFT+F3</td>\n<td>显示“插入函数”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>F4</td>\n<td>“重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换”</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>Ctrl+F4</td>\n<td>关闭选定的工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td>Ctrl+F5</td>\n<td>从最大化中恢复选定工作簿窗口的窗口大小。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td>F6</td>\n<td>在工作表、功能区、任务窗格和缩放控件之间切换。在已拆分（通过依次单击“视图”菜单、“管理此窗口”、“冻结窗格”、“拆分窗口”命令来进行拆分）的工作表中，在窗格和功能区区域之间切换时，按 F6 可包括已拆分的窗格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td>SHIFT+F6</td>\n<td>在工作表、缩放控件、任务窗格和功能区之间切换。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td>CTRL+F6</td>\n<td>如果打开了多个工作簿窗口，则可切换到下一个工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td>F7</td>\n<td>显示“拼写检查”对话框，以检查活动工作表或选定范围中的拼写。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td>CTRL+F7</td>\n<td>如果工作簿窗口未最大化，则可对该窗口执行“移动”命令。使用箭头键移动窗口，并在完成时按 Enter，或按 Esc 取消。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td>F8</td>\n<td>打开或关闭扩展模式。在扩展模式中，“扩展选定区域”将出现在状态行中，并且按箭头键可扩展选定范围。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td>SHIFT+F8</td>\n<td>使用箭头键将非邻近单元格或区域添加到单元格的选定范围中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td>CTRL+F8</td>\n<td>当工作簿未最大化时，可执行“大小”命令（在工作簿窗口的“控制”菜单上）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td>ALT+F8</td>\n<td>显示用于创建、运行、编辑或删除宏的“宏”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td>F9</td>\n<td>计算所有打开的工作簿中的所有工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td>SHIFT+F9</td>\n<td>按 Shift+F9 可计算活动工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td>CTRL+ALT+F9</td>\n<td>计算所有打开的工作簿中的所有工作表，不管它们自上次计算以来是否已更改。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td>CTRL+ALT+SHIFT+F9</td>\n<td>重新检查相关公式，然后计算所有打开的工作簿中的所有单元格，其中包括未标记为需要计算的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td>CTRL+F9</td>\n<td>将工作簿窗口最小化为图标。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td>F10</td>\n<td>“打开或关闭键盘操作提示。<br>当打开提示时箭头键可用于导航。”</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td>SHIFT+F10</td>\n<td>按 Shift+F10 可显示选定项目的快捷菜单。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td>ALT+SHIFT+F10</td>\n<td>显示智能标记的菜单或消息。如果存在多个智能标记，按该组合键可切换到下一个智能标记并显示其菜单或消息。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td>CTRL+F10</td>\n<td>最大化或还原选定的工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td>F11</td>\n<td>创建当前范围内数据的图表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td>SHIFT+F11</td>\n<td>按 Shift+F11 可插入一个新工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td>ALT+F11</td>\n<td>打开 Microsoft Visual Basic 编辑器，您可以在其中通过使用 Visual Basic for Applications (VBA) 来创建宏。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">33</td>\n<td>F12</td>\n<td>显示“另存为”对话框。</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"其他实用快捷键\"><a href=\"#其他实用快捷键\" class=\"headerlink\" title=\"其他实用快捷键\"></a>其他实用快捷键</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>ARROW KEYS</td>\n<td>在工作表中上移、下移、左移或右移一个单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>CTRL+ARROW KEY</td>\n<td>移动到工作表中当前数据区域的边缘。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>SHIFT+ARROW KEY</td>\n<td>将单元格的选定范围扩大一个单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>CTRL+SHIFT+ARROW KEY</td>\n<td>按 Ctrl+Shift+箭头键可将单元格的选定范围扩展到活动单元格所在列或行中的最后一个非空单元格，或者如果下一个单元格为空，则将选定范围扩展到下一个非空单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>BACKSPACE</td>\n<td>在编辑栏中删除左边的一个字符。<br>也可清除活动单元格的内容。<br>在单元格编辑模式下，按该键将会删除插入点左边的字符。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>DELETE</td>\n<td>从选定单元格中删除单元格内容（数据和公式），而不会影响单元格格式或批注。<br>在单元格编辑模式下，按该键将会删除插入点右边的字符。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>END</td>\n<td>当 Scroll Lock 处于开启状态时，移动到窗口右下角的单元格。<br>当菜单或子菜单处于可见状态时，也可选择菜单上的最后一个命令。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>CTRL+END</td>\n<td>移动到工作表上的最后一个单元格，即所使用的最下面一行与所使用的最右边一列的交汇单元格。如果光标位于编辑栏中，它会将光标移到文本的末尾。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>CTRL+SHIFT+END</td>\n<td>按 Ctrl+Shift+End 可将单元格选定区域扩展到工作表上所使用的最后一个单元格（位于右下角）。如果光标位于编辑栏中，则按 Ctrl+Shift+End 可选择编辑栏中从光标所在位置到末尾处的所有文本，这不会影响编辑栏的高度。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>ENTER</td>\n<td>从单元格或编辑栏中完成单元格输入，并（默认）选择下面的单元格。<br>打开选定的菜单（按 F10 激活菜单栏），或执行选定命令的操作。<br>在数据表单中，按该键可移动到下一条记录中的第一个字段。<br>在对话框中，按该键可执行对话框中默认命令按钮（带有突出轮廓的按钮，通常为“确定”按钮）的操作。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td>ALT+ENTER</td>\n<td>在同一单元格中另起一个新行。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td>CTRL+ENTER</td>\n<td>使用当前输入的条目填充选定的单元格区域。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td>SHIFT+ENTER</td>\n<td>完成单元格输入并选择上面的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td>ESC</td>\n<td>取消单元格或编辑栏中的输入。<br>关闭打开的菜单或子菜单、对话框或消息窗口。<br>在应用全屏模式时，按该键还可关闭此模式，返回到普通屏幕模式，再次显示功能区和状态栏。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td>HOME</td>\n<td>移到工作表中某一行的开头。<br>当 Scroll Lock 处于开启状态时，移到窗口左上角的单元格。<br>当菜单或子菜单处于可见状态时，选择菜单上的第一个命令。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td>CTRL+HOME</td>\n<td>移到工作表的开头。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td>CTRL+SHIFT+HOME</td>\n<td>将单元格的选定范围扩展到工作表的开头。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td>PAGE DOWN</td>\n<td>在工作表中下移一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td>ALT+PAGE DOWN</td>\n<td>在工作表中向右移动一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td>CTRL+SHIFT+PAGE DOWN</td>\n<td>选择工作簿中的当前和下一个工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td>PAGE UP</td>\n<td>在工作表中上移一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td>ALT+PAGE UP</td>\n<td>在工作表中向左移动一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td>CTRL+SHIFT+PAGE UP</td>\n<td>选择工作簿中的当前和上一个工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td>SPACEBAR</td>\n<td>在对话框中，执行选定按钮的操作，或者选中或清除复选框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td>CTRL+SPACEBAR</td>\n<td>选择工作表中的整列。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td>SHIFT+SPACEBAR</td>\n<td>选择工作表中的整行。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td>CTRL+SHIFT+SPACEBAR</td>\n<td>按 Ctrl+Shift+空格键可选择整个工作表。<br>如果工作表中包含数据，则按 Ctrl+Shift+空格键将选择当前区域，再按一次 Ctrl+Shift+空格键将选择当前区域及其汇总行，第三次按 Ctrl+Shift+空格键将选择整个工作表。<br>当某个对象处于选定状态时，按 Ctrl+Shift+空格键可选择工作表上的所有对象。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td>ALT+SPACEBAR</td>\n<td>显示 Microsoft Office Excel 窗口的“控制”菜单。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td>TAB</td>\n<td>在工作表中向右移动一个单元格。<br>在受保护的工作表中，可在未锁定的单元格之间移动。<br>在对话框中，移到下一个选项或选项组。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td>SHIFT+TAB</td>\n<td>移到前一个单元格（在工作表中）或前一个选项（在对话框中）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td>CTRL+TAB</td>\n<td>在对话框中，按 Ctrl+Tab 可切换到下一个选项卡。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td>CTRL+SHIFT+TAB</td>\n<td>在对话框中，按 Ctrl+Shift+Tab 可切换到前一个选项卡。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h3><ol>\n<li>微软 Office 帮助中心: <a href=\"https://support.office.com/zh-cn/article/Excel-%e5%bf%ab%e6%8d%b7%e9%94%ae%e5%92%8c%e5%8a%9f%e8%83%bd%e9%94%ae-1798d9d5-842a-42b8-9c99-9b7213f0040f?ui=zh-CN&amp;rs=zh-CN&amp;ad=CN\" target=\"_blank\" rel=\"external\">Excel 快捷键和功能键</a></li>\n<li>Microsoft Office Support: <a href=\"https://support.office.com/en-ca/article/Excel-shortcut-and-function-keys-1798d9d5-842a-42b8-9c99-9b7213f0040f\" target=\"_blank\" rel=\"external\">Excel shortcut and function keys</a></li>\n</ol>\n","excerpt":"<p><h2 id=\"intro\">前言</h2>如果微软 Office 系列套件里只能保留一个，我会选择保留 Excel。只需要学一点基础的 Excel 知识，就能直观地感受到信息技术所带来的高效生产力。有些软件，掌握了它的快捷键，不仅能较全面地了解它的功能，也能极大地提升使用效率。Excel 就属于这类软件。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"记忆库使用\"><a href=\"#记忆库使用\" class=\"headerlink\" title=\"记忆库使用\"></a>记忆库使用</h3><p>所有快捷键已整理为 Anki 记忆库，下载后导入即可开始使用。</p>\n<blockquote>\n<p>下载: <a href=\"/resources/Excel-Shortcut-keys.apkg\">Excel 快捷键大全 (Windows) for Anki</a></p>\n</blockquote>\n<p>释义默认中英对照显示，可按需隐藏。<br><img src=\"http://moxfive.xyz/resources/Anki-a1.png\" alt=\"Anki-a1\"></p>\n<h3 id=\"常用快捷键\"><a href=\"#常用快捷键\" class=\"headerlink\" title=\"常用快捷键\"></a>常用快捷键</h3><p>列出自己平时使用最频繁的10个 Excel 快捷键。</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>CTRL+D</td>\n<td>使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>CTRL+ENTER</td>\n<td>使用当前输入的条目填充选定的单元格区域。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>F2</td>\n<td>编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>CTRL+1</td>\n<td>显示“单元格格式”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>CTRL+SHIFT+~</td>\n<td>应用“常规”数字格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>CTRL+G</td>\n<td>显示“定位”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>CTRL+`</td>\n<td>在工作表中切换显示单元格值和公式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>CTRL+’</td>\n<td>将公式从活动单元格上方的单元格复制到单元格或编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>F4</td>\n<td>重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>ALT+ENTER</td>\n<td>在同一单元格中另起一个新行。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"快捷键大全\"><a href=\"#快捷键大全\" class=\"headerlink\" title=\"快捷键大全\"></a>快捷键大全</h3><h4 id=\"Ctrl-组合快捷键\"><a href=\"#Ctrl-组合快捷键\" class=\"headerlink\" title=\"Ctrl 组合快捷键\"></a>Ctrl 组合快捷键</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>CTRL+PgUp</td>\n<td>向左切换工作表</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>CTRL+PgDn</td>\n<td>向右切换工作表</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>CTRL+SHIFT+&amp;</td>\n<td>将外框应用于选定单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>CTRL+SHIFT_</td>\n<td>从选定单元格删除外框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>CTRL+SHIFT+~</td>\n<td>应用“常规”数字格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>CTRL+SHIFT+$</td>\n<td>应用带有两位小数的“货币”格式（负数放在括号中）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>CTRL+SHIFT+%</td>\n<td>应用不带小数位的“百分比”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>CTRL+SHIFT+^</td>\n<td>应用带有两位小数的“指数”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>CTRL+SHIFT+#</td>\n<td>应用带有日、月和年的“日期”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>CTRL+SHIFT+@</td>\n<td>应用带有小时和分钟以及 AM 或 PM 的“时间”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td>CTRL+SHIFT+!</td>\n<td>应用带有两位小数、千位分隔符和减号 (-)（用于负值）的“数值”格式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td>CTRL+SHIFT+*</td>\n<td>选择环绕活动单元格的当前区域（由空白行和空白列围起的数据区域）。<br>在数据透视表中，它将选择整个数据透视表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td>CTRL+SHIFT+:</td>\n<td>输入当前时间。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td>CTRL+SHIFT+”</td>\n<td>将值从活动单元格上方的单元格复制到单元格或编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td>CTRL+SHIFT+Plus (+)</td>\n<td>显示用于插入空白单元格的“插入”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td>CTRL+Minus (-)</td>\n<td>显示用于删除选定单元格的“删除”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td>CTRL+;</td>\n<td>输入当前日期。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td>CTRL+`</td>\n<td>在工作表中切换显示单元格值和公式。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td>CTRL+’</td>\n<td>将公式从活动单元格上方的单元格复制到单元格或编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td>CTRL+1</td>\n<td>显示“单元格格式”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td>CTRL+2</td>\n<td>应用或取消加粗格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td>CTRL+3</td>\n<td>应用或取消倾斜格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td>CTRL+4</td>\n<td>应用或取消下划线。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td>CTRL+5</td>\n<td>应用或取消删除线。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td>CTRL+6</td>\n<td>在隐藏对象、显示对象和显示对象占位符之间切换。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td>CTRL+8</td>\n<td>显示或隐藏大纲符号。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td>CTRL+9</td>\n<td>隐藏选定的行。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td>CTRL+0</td>\n<td>隐藏选定的列。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td>CTRL+A</td>\n<td>☆选择整个工作表。<br>☆如果工作表包含数据，则按 Ctrl+A 将选择当前区域，再次按 Ctrl+A 将选择当前区域及其汇总行，第三次按 Ctrl+A 将选择整个工作表。<br>☆当插入点位于公式中某个函数名称的右边时，则会显示“函数参数”对话框。<br>☆当插入点位于公式中某个函数名称的右边时，按 Ctrl+Shift+A 将会插入参数名称和括号。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td>CTRL+B</td>\n<td>应用或取消加粗格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td>CTRL+C</td>\n<td>复制选定的单元格。<br>如果连续按两次 Ctrl+C，则会显示剪贴板。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td>CTRL+D</td>\n<td>使用“向下填充”命令将选定范围内最顶层单元格的内容和格式复制到下面的单元格中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">33</td>\n<td>CTRL+F</td>\n<td>显示“查找和替换”对话框，其中的“查找”选项卡处于选中状态。<br>按 Shift+F5 也会显示此选项卡。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">34</td>\n<td>SHIFT+F4</td>\n<td>重复上一次“查找”操作。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">35</td>\n<td>CTRL+SHIFT+F<br>CTRL+SHIFT+P</td>\n<td>打开“设置单元格格式”对话框，且其中的“字体”选项卡处于选中状态。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">36</td>\n<td>CTRL+G<br>F5</td>\n<td>显示“定位”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">37</td>\n<td>CTRL+H</td>\n<td>显示“查找和替换”对话框，其中的“替换”选项卡处于选中状态。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">38</td>\n<td>CTRL+I</td>\n<td>应用或取消倾斜格式设置。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">39</td>\n<td>CTRL+K</td>\n<td>为新的超链接显示“插入超链接”对话框，或为选定的现有超链接显示“编辑超链接”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">40</td>\n<td>CTRL+N</td>\n<td>创建一个新的空白工作簿。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">41</td>\n<td>CTRL+O</td>\n<td>显示“打开”对话框以打开或查找文件。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">42</td>\n<td>CTRL+SHIFT+O</td>\n<td>选择所有包含批注的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">43</td>\n<td>CTRL+P</td>\n<td>显示“打印”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">44</td>\n<td>CTRL+R</td>\n<td>使用“向右填充”命令将选定范围最左边单元格的内容和格式复制到右边的单元格中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">45</td>\n<td>CTRL+S</td>\n<td>使用其当前文件名、位置和文件格式保存活动文件。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">46</td>\n<td>CTRL+T</td>\n<td>显示“创建表”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">47</td>\n<td>CTRL+U</td>\n<td>应用或取消下划线。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">48</td>\n<td>CTRL+SHIFT+U</td>\n<td>在展开和折叠编辑栏之间切换。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">49</td>\n<td>CTRL+V</td>\n<td>在插入点处插入剪贴板的内容，并替换任何所选内容。只有在剪切或复制了对象、文本或单元格内容之后，才能使用此快捷键。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">50</td>\n<td>CTRL+ALT+V</td>\n<td>显示“选择性粘贴”对话框。只有在剪切或复制了工作表或其他程序中的对象、文本或单元格内容后此快捷键才可用。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">51</td>\n<td>CTRL+W</td>\n<td>关闭选定的工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">52</td>\n<td>CTRL+X</td>\n<td>剪切选定的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">53</td>\n<td>CTRL+Y</td>\n<td>重复上一个命令或操作（如有可能）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">54</td>\n<td>CTRL+Z</td>\n<td>使用“撤消”命令来撤消上一个命令或删除最后键入的内容。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">55</td>\n<td>CTRL+SHIFT+Z</td>\n<td>显示了自动更正智能标记时，可撤消或恢复上一次自动更正操作。</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"功能键\"><a href=\"#功能键\" class=\"headerlink\" title=\"功能键\"></a>功能键</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>F1</td>\n<td>显示“Microsoft Office Excel 帮助”任务窗格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>ALT+F1</td>\n<td>创建当前范围中数据的图表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>ALT+SHIFT+F1</td>\n<td>插入新的工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>F2</td>\n<td>编辑活动单元格并将插入点放在单元格内容的结尾。如果禁止在单元格中进行编辑，它也会将插入点移到编辑栏中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>SHIFT+F2</td>\n<td>添加或编辑单元格批注。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>CTRL+F2</td>\n<td>显示“打印预览”窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>F3</td>\n<td>显示“粘贴名称”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>SHIFT+F3</td>\n<td>显示“插入函数”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>F4</td>\n<td>“重复上一个命令或操作（如有可能）。<br>编辑公式时，在绝对引用和相对引用间切换”</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>Ctrl+F4</td>\n<td>关闭选定的工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td>Ctrl+F5</td>\n<td>从最大化中恢复选定工作簿窗口的窗口大小。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td>F6</td>\n<td>在工作表、功能区、任务窗格和缩放控件之间切换。在已拆分（通过依次单击“视图”菜单、“管理此窗口”、“冻结窗格”、“拆分窗口”命令来进行拆分）的工作表中，在窗格和功能区区域之间切换时，按 F6 可包括已拆分的窗格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td>SHIFT+F6</td>\n<td>在工作表、缩放控件、任务窗格和功能区之间切换。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td>CTRL+F6</td>\n<td>如果打开了多个工作簿窗口，则可切换到下一个工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td>F7</td>\n<td>显示“拼写检查”对话框，以检查活动工作表或选定范围中的拼写。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td>CTRL+F7</td>\n<td>如果工作簿窗口未最大化，则可对该窗口执行“移动”命令。使用箭头键移动窗口，并在完成时按 Enter，或按 Esc 取消。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td>F8</td>\n<td>打开或关闭扩展模式。在扩展模式中，“扩展选定区域”将出现在状态行中，并且按箭头键可扩展选定范围。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td>SHIFT+F8</td>\n<td>使用箭头键将非邻近单元格或区域添加到单元格的选定范围中。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td>CTRL+F8</td>\n<td>当工作簿未最大化时，可执行“大小”命令（在工作簿窗口的“控制”菜单上）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td>ALT+F8</td>\n<td>显示用于创建、运行、编辑或删除宏的“宏”对话框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td>F9</td>\n<td>计算所有打开的工作簿中的所有工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td>SHIFT+F9</td>\n<td>按 Shift+F9 可计算活动工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td>CTRL+ALT+F9</td>\n<td>计算所有打开的工作簿中的所有工作表，不管它们自上次计算以来是否已更改。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td>CTRL+ALT+SHIFT+F9</td>\n<td>重新检查相关公式，然后计算所有打开的工作簿中的所有单元格，其中包括未标记为需要计算的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td>CTRL+F9</td>\n<td>将工作簿窗口最小化为图标。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td>F10</td>\n<td>“打开或关闭键盘操作提示。<br>当打开提示时箭头键可用于导航。”</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td>SHIFT+F10</td>\n<td>按 Shift+F10 可显示选定项目的快捷菜单。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td>ALT+SHIFT+F10</td>\n<td>显示智能标记的菜单或消息。如果存在多个智能标记，按该组合键可切换到下一个智能标记并显示其菜单或消息。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td>CTRL+F10</td>\n<td>最大化或还原选定的工作簿窗口。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td>F11</td>\n<td>创建当前范围内数据的图表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td>SHIFT+F11</td>\n<td>按 Shift+F11 可插入一个新工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td>ALT+F11</td>\n<td>打开 Microsoft Visual Basic 编辑器，您可以在其中通过使用 Visual Basic for Applications (VBA) 来创建宏。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">33</td>\n<td>F12</td>\n<td>显示“另存为”对话框。</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"其他实用快捷键\"><a href=\"#其他实用快捷键\" class=\"headerlink\" title=\"其他实用快捷键\"></a>其他实用快捷键</h4><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">-</th>\n<th>快捷键</th>\n<th>　　　　说明　　　　</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1</td>\n<td>ARROW KEYS</td>\n<td>在工作表中上移、下移、左移或右移一个单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td>CTRL+ARROW KEY</td>\n<td>移动到工作表中当前数据区域的边缘。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td>SHIFT+ARROW KEY</td>\n<td>将单元格的选定范围扩大一个单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td>CTRL+SHIFT+ARROW KEY</td>\n<td>按 Ctrl+Shift+箭头键可将单元格的选定范围扩展到活动单元格所在列或行中的最后一个非空单元格，或者如果下一个单元格为空，则将选定范围扩展到下一个非空单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td>BACKSPACE</td>\n<td>在编辑栏中删除左边的一个字符。<br>也可清除活动单元格的内容。<br>在单元格编辑模式下，按该键将会删除插入点左边的字符。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">6</td>\n<td>DELETE</td>\n<td>从选定单元格中删除单元格内容（数据和公式），而不会影响单元格格式或批注。<br>在单元格编辑模式下，按该键将会删除插入点右边的字符。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td>END</td>\n<td>当 Scroll Lock 处于开启状态时，移动到窗口右下角的单元格。<br>当菜单或子菜单处于可见状态时，也可选择菜单上的最后一个命令。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td>CTRL+END</td>\n<td>移动到工作表上的最后一个单元格，即所使用的最下面一行与所使用的最右边一列的交汇单元格。如果光标位于编辑栏中，它会将光标移到文本的末尾。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td>CTRL+SHIFT+END</td>\n<td>按 Ctrl+Shift+End 可将单元格选定区域扩展到工作表上所使用的最后一个单元格（位于右下角）。如果光标位于编辑栏中，则按 Ctrl+Shift+End 可选择编辑栏中从光标所在位置到末尾处的所有文本，这不会影响编辑栏的高度。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td>ENTER</td>\n<td>从单元格或编辑栏中完成单元格输入，并（默认）选择下面的单元格。<br>打开选定的菜单（按 F10 激活菜单栏），或执行选定命令的操作。<br>在数据表单中，按该键可移动到下一条记录中的第一个字段。<br>在对话框中，按该键可执行对话框中默认命令按钮（带有突出轮廓的按钮，通常为“确定”按钮）的操作。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">11</td>\n<td>ALT+ENTER</td>\n<td>在同一单元格中另起一个新行。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">12</td>\n<td>CTRL+ENTER</td>\n<td>使用当前输入的条目填充选定的单元格区域。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">13</td>\n<td>SHIFT+ENTER</td>\n<td>完成单元格输入并选择上面的单元格。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">14</td>\n<td>ESC</td>\n<td>取消单元格或编辑栏中的输入。<br>关闭打开的菜单或子菜单、对话框或消息窗口。<br>在应用全屏模式时，按该键还可关闭此模式，返回到普通屏幕模式，再次显示功能区和状态栏。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">15</td>\n<td>HOME</td>\n<td>移到工作表中某一行的开头。<br>当 Scroll Lock 处于开启状态时，移到窗口左上角的单元格。<br>当菜单或子菜单处于可见状态时，选择菜单上的第一个命令。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">16</td>\n<td>CTRL+HOME</td>\n<td>移到工作表的开头。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">17</td>\n<td>CTRL+SHIFT+HOME</td>\n<td>将单元格的选定范围扩展到工作表的开头。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">18</td>\n<td>PAGE DOWN</td>\n<td>在工作表中下移一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">19</td>\n<td>ALT+PAGE DOWN</td>\n<td>在工作表中向右移动一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">20</td>\n<td>CTRL+SHIFT+PAGE DOWN</td>\n<td>选择工作簿中的当前和下一个工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">21</td>\n<td>PAGE UP</td>\n<td>在工作表中上移一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">22</td>\n<td>ALT+PAGE UP</td>\n<td>在工作表中向左移动一个屏幕。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">23</td>\n<td>CTRL+SHIFT+PAGE UP</td>\n<td>选择工作簿中的当前和上一个工作表。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">24</td>\n<td>SPACEBAR</td>\n<td>在对话框中，执行选定按钮的操作，或者选中或清除复选框。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">25</td>\n<td>CTRL+SPACEBAR</td>\n<td>选择工作表中的整列。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">26</td>\n<td>SHIFT+SPACEBAR</td>\n<td>选择工作表中的整行。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">27</td>\n<td>CTRL+SHIFT+SPACEBAR</td>\n<td>按 Ctrl+Shift+空格键可选择整个工作表。<br>如果工作表中包含数据，则按 Ctrl+Shift+空格键将选择当前区域，再按一次 Ctrl+Shift+空格键将选择当前区域及其汇总行，第三次按 Ctrl+Shift+空格键将选择整个工作表。<br>当某个对象处于选定状态时，按 Ctrl+Shift+空格键可选择工作表上的所有对象。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">28</td>\n<td>ALT+SPACEBAR</td>\n<td>显示 Microsoft Office Excel 窗口的“控制”菜单。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">29</td>\n<td>TAB</td>\n<td>在工作表中向右移动一个单元格。<br>在受保护的工作表中，可在未锁定的单元格之间移动。<br>在对话框中，移到下一个选项或选项组。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">30</td>\n<td>SHIFT+TAB</td>\n<td>移到前一个单元格（在工作表中）或前一个选项（在对话框中）。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">31</td>\n<td>CTRL+TAB</td>\n<td>在对话框中，按 Ctrl+Tab 可切换到下一个选项卡。</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">32</td>\n<td>CTRL+SHIFT+TAB</td>\n<td>在对话框中，按 Ctrl+Shift+Tab 可切换到前一个选项卡。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h3><ol>\n<li>微软 Office 帮助中心: <a href=\"https://support.office.com/zh-cn/article/Excel-%e5%bf%ab%e6%8d%b7%e9%94%ae%e5%92%8c%e5%8a%9f%e8%83%bd%e9%94%ae-1798d9d5-842a-42b8-9c99-9b7213f0040f?ui=zh-CN&amp;rs=zh-CN&amp;ad=CN\">Excel 快捷键和功能键</a></li>\n<li>Microsoft Office Support: <a href=\"https://support.office.com/en-ca/article/Excel-shortcut-and-function-keys-1798d9d5-842a-42b8-9c99-9b7213f0040f\">Excel shortcut and function keys</a></li>\n</ol>"},{"title":"前端工程化工具初选","date":"2016-06-05T10:53:03.000Z","comments":1,"note":1,"_content":"\n　　面对日益纷杂的前端工具，作为新人常感无从下手。经过一番检索和简单对比，再结合自己的喜好，筛选了将要学习和使用的工具，以适应日益工程化、专业化的 Web 前端开发工作。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 库与框架\n\n>\n - [jQuery](http://jquery.com/)\n - [jQuery UI](http://jqueryui.com/): 一个JQuery的UI框架,特点是高效、组件化\n - [Vue.js](http://cn.vuejs.org/): 数据驱动的组件，为现代化的 Web 界面而生\n - [angularjs](http://www.apjs.net/) 应用最广泛的企业级web开发框架\n - [angular](https://angular.io/): 新一代angular开发框架\n - [React.js](http://facebook.github.io/react/): 构建组化件应用的javascript库\n - [React Native](https://facebook.github.io/react-native/): 使用react构建移动app应用\n\n### 构建工具&模块化\n\n一个构建、测试应用的构建工具\n\n>\n - [gulp.js](http://gulpjs.com/): 自动化工作流\n - [node](https://nodejs.org/) 建立在V8引擎上的快速构建平台\n\n\n###   模块打包器\n\n将模块打包到一个bundle中\n\n>\n- [webpack](https://webpack.github.io/): 能够将依赖打包、生成的自动构建工具\n\n### 包管理\n\n一个用来管理依赖的包管理器，你可以使用它下载很多模块化的工具\n\n>\n - [npm](https://www.npmjs.com/): Node 模块化管理工具\n\n### CSS 处理\n\n提供一个高效、动态的方法生成css\n\n>\n - [Stylus](https://github.com/stylus/stylus): node社区的css预处理器\n - [PostCSS](https://github.com/postcss/postcss): 将css转换成js插件\n\n### 模块化\n\n>\n - [ECMAScript 6 Module](http://exploringjs.com/es6/ch_modules.html)\n\n### 模板引擎\n\n使用js生成html文件\n\n>\n - [EJS](http://ejs.co/)\n - [jade](http://jade-lang.com/)\n\n### 测试框架\n>\n - [Mocha](http://mochajs.org/): 一个简单、快速的用来测试node和web应用的测试框架\n - [Chai](http://chaijs.com/): Chai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。\n\n\n### 脚手架\n\n>\n - [Yeoman](http://yeoman.io/) Web 应用开发流程与工具   \n - [koa-generator](https://npm.taobao.org/package/koa-generator) koa项目生成器         \n\n### 集成方案\n>\n - [FIS](http://fis.baidu.com/): 解决前端开发中自动化工具、性能优化、模块化框架、开发规范、代码部署、开发流程等问题\n\n### UI框架\n\n>\n - [bootstrap](http://bootcss.com/) 简洁、直观、强悍的UI框架，让web开发更迅速,后端程序的福音。\n - [foundation](http://foundation.zurb.com/) 最流行的响应式前前端布局框架\n - [semantic-ui](http://www.semantic-ui.cn/) Semantic作为一个开发框架，通过HTML语言帮助创建令人赏心悦目、响应式的布局。\n - [Material UI](http://callemall.github.io/material-ui/#/)  一组反应元件，实现谷歌的材料设计。\n - [ant design](http://ant.design/) Ant Design 是一个 UI 设计语言，是一套提炼和应用于企业级后台产品的交互语言和视觉体系。\n\n### 游戏引擎\n\n>\n  - [CreateJS](http://createjs.com/)  基于HTML5的一套模块化的库和工具共同工作或独立使丰富的交互式内容的开放式Web技术。\n  - [PhaserJS](http://phaser.io/)  PC端和移动端HTML5游戏框架 。\n  - [ThreeJS](http://threejs.org/) 制作HTML5的3D游戏引擎 。\n  - [白鹭](http://www.egret.com/) Egret是一套HTML5游戏开发解决方案\n  - [Cocos2d-JS](http://www.cocos.com/) 开发者可以通过cocos游戏开发引擎快速编辑界面和动画、编写和调试代码等，最终导出适合于各平台、各渠道发布的游戏安装包。\n### 容器\n> - [Docker](http://www.docker.com/): Build, Ship, and Run Any App, Anywhere\n\n### 社区\n\n>\n  - [stackoverflow](http://stackoverflow.com/) 技术大牛多，素质好，质量高\n  - [segmentfault](https://segmentfault.com/) 自动生成目录，博客UI看起来相对漂亮\n  - [开源中国](http://www.oschina.net/) 支持开源文化\n\n### 学习网站\n\n>\n  - [极客学院](http://www.jikexueyuan.com/)  学习资源多\n  - [慕课网](http://www.imooc.com/)  质量高，全免费  \n  - [花川学院](http://www.huachuanxueyuan.com/) 学习swift的好去处\n  - [麦子学院](http://www.maiziedu.com/) 后起之秀\n  - [W3C菜鸟](http://www.runoob.com/) 新手程序员的天堂\n  - [云路课堂](http://www.yun.lu/student/homepage) 极客风\n  - [码萌](http://www.mengma.com/) 编程从来简单有趣\n\n\n### 其他常用网站\n>\n  - [github](https://github.com) 程序员的QQ,面试的门面\n  - [码云](https://git.oschina.net) 和马云同名，给个面子\n  - [淘宝同步npm](https://npm.taobao.org/) 访问快，10分钟同步一次，查资料必备\n  - [bootCDN](http://www.bootcdn.cn/) 使用最普遍的CDN\n  - [font-awesome](http://fontawesome.dashgame.com/) 最好用的图标库\n  - [JSON格式化](http://json.cn/#)  这个时代的开发者谁离得了JSON呢\n  - [开发工具](http://fenav.com/#/p11) 全面省心\n","source":"_posts/2016-06-05.front_end_tools.md","raw":"---\ntitle: 前端工程化工具初选\ndate: 2016-06-05 18:53:03\ncategories:\n- 自用笔记\n- 术业专攻\ntags:\n- 开发工具\ncomments:\npermalink: FrontEndTools\nnote: 1\n---\n\n　　面对日益纷杂的前端工具，作为新人常感无从下手。经过一番检索和简单对比，再结合自己的喜好，筛选了将要学习和使用的工具，以适应日益工程化、专业化的 Web 前端开发工作。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 库与框架\n\n>\n - [jQuery](http://jquery.com/)\n - [jQuery UI](http://jqueryui.com/): 一个JQuery的UI框架,特点是高效、组件化\n - [Vue.js](http://cn.vuejs.org/): 数据驱动的组件，为现代化的 Web 界面而生\n - [angularjs](http://www.apjs.net/) 应用最广泛的企业级web开发框架\n - [angular](https://angular.io/): 新一代angular开发框架\n - [React.js](http://facebook.github.io/react/): 构建组化件应用的javascript库\n - [React Native](https://facebook.github.io/react-native/): 使用react构建移动app应用\n\n### 构建工具&模块化\n\n一个构建、测试应用的构建工具\n\n>\n - [gulp.js](http://gulpjs.com/): 自动化工作流\n - [node](https://nodejs.org/) 建立在V8引擎上的快速构建平台\n\n\n###   模块打包器\n\n将模块打包到一个bundle中\n\n>\n- [webpack](https://webpack.github.io/): 能够将依赖打包、生成的自动构建工具\n\n### 包管理\n\n一个用来管理依赖的包管理器，你可以使用它下载很多模块化的工具\n\n>\n - [npm](https://www.npmjs.com/): Node 模块化管理工具\n\n### CSS 处理\n\n提供一个高效、动态的方法生成css\n\n>\n - [Stylus](https://github.com/stylus/stylus): node社区的css预处理器\n - [PostCSS](https://github.com/postcss/postcss): 将css转换成js插件\n\n### 模块化\n\n>\n - [ECMAScript 6 Module](http://exploringjs.com/es6/ch_modules.html)\n\n### 模板引擎\n\n使用js生成html文件\n\n>\n - [EJS](http://ejs.co/)\n - [jade](http://jade-lang.com/)\n\n### 测试框架\n>\n - [Mocha](http://mochajs.org/): 一个简单、快速的用来测试node和web应用的测试框架\n - [Chai](http://chaijs.com/): Chai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。\n\n\n### 脚手架\n\n>\n - [Yeoman](http://yeoman.io/) Web 应用开发流程与工具   \n - [koa-generator](https://npm.taobao.org/package/koa-generator) koa项目生成器         \n\n### 集成方案\n>\n - [FIS](http://fis.baidu.com/): 解决前端开发中自动化工具、性能优化、模块化框架、开发规范、代码部署、开发流程等问题\n\n### UI框架\n\n>\n - [bootstrap](http://bootcss.com/) 简洁、直观、强悍的UI框架，让web开发更迅速,后端程序的福音。\n - [foundation](http://foundation.zurb.com/) 最流行的响应式前前端布局框架\n - [semantic-ui](http://www.semantic-ui.cn/) Semantic作为一个开发框架，通过HTML语言帮助创建令人赏心悦目、响应式的布局。\n - [Material UI](http://callemall.github.io/material-ui/#/)  一组反应元件，实现谷歌的材料设计。\n - [ant design](http://ant.design/) Ant Design 是一个 UI 设计语言，是一套提炼和应用于企业级后台产品的交互语言和视觉体系。\n\n### 游戏引擎\n\n>\n  - [CreateJS](http://createjs.com/)  基于HTML5的一套模块化的库和工具共同工作或独立使丰富的交互式内容的开放式Web技术。\n  - [PhaserJS](http://phaser.io/)  PC端和移动端HTML5游戏框架 。\n  - [ThreeJS](http://threejs.org/) 制作HTML5的3D游戏引擎 。\n  - [白鹭](http://www.egret.com/) Egret是一套HTML5游戏开发解决方案\n  - [Cocos2d-JS](http://www.cocos.com/) 开发者可以通过cocos游戏开发引擎快速编辑界面和动画、编写和调试代码等，最终导出适合于各平台、各渠道发布的游戏安装包。\n### 容器\n> - [Docker](http://www.docker.com/): Build, Ship, and Run Any App, Anywhere\n\n### 社区\n\n>\n  - [stackoverflow](http://stackoverflow.com/) 技术大牛多，素质好，质量高\n  - [segmentfault](https://segmentfault.com/) 自动生成目录，博客UI看起来相对漂亮\n  - [开源中国](http://www.oschina.net/) 支持开源文化\n\n### 学习网站\n\n>\n  - [极客学院](http://www.jikexueyuan.com/)  学习资源多\n  - [慕课网](http://www.imooc.com/)  质量高，全免费  \n  - [花川学院](http://www.huachuanxueyuan.com/) 学习swift的好去处\n  - [麦子学院](http://www.maiziedu.com/) 后起之秀\n  - [W3C菜鸟](http://www.runoob.com/) 新手程序员的天堂\n  - [云路课堂](http://www.yun.lu/student/homepage) 极客风\n  - [码萌](http://www.mengma.com/) 编程从来简单有趣\n\n\n### 其他常用网站\n>\n  - [github](https://github.com) 程序员的QQ,面试的门面\n  - [码云](https://git.oschina.net) 和马云同名，给个面子\n  - [淘宝同步npm](https://npm.taobao.org/) 访问快，10分钟同步一次，查资料必备\n  - [bootCDN](http://www.bootcdn.cn/) 使用最普遍的CDN\n  - [font-awesome](http://fontawesome.dashgame.com/) 最好用的图标库\n  - [JSON格式化](http://json.cn/#)  这个时代的开发者谁离得了JSON呢\n  - [开发工具](http://fenav.com/#/p11) 全面省心\n","slug":"FrontEndTools","published":1,"updated":"2016-12-01T06:50:25.475Z","_id":"civ0ggq82002mrwvng632s27u","layout":"post","photos":[],"link":"","content":"<p>　　面对日益纷杂的前端工具，作为新人常感无从下手。经过一番检索和简单对比，再结合自己的喜好，筛选了将要学习和使用的工具，以适应日益工程化、专业化的 Web 前端开发工作。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"库与框架\"><a href=\"#库与框架\" class=\"headerlink\" title=\"库与框架\"></a>库与框架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://jquery.com/\" target=\"_blank\" rel=\"external\">jQuery</a></li>\n<li><a href=\"http://jqueryui.com/\" target=\"_blank\" rel=\"external\">jQuery UI</a>: 一个JQuery的UI框架,特点是高效、组件化</li>\n<li><a href=\"http://cn.vuejs.org/\" target=\"_blank\" rel=\"external\">Vue.js</a>: 数据驱动的组件，为现代化的 Web 界面而生</li>\n<li><a href=\"http://www.apjs.net/\" target=\"_blank\" rel=\"external\">angularjs</a> 应用最广泛的企业级web开发框架</li>\n<li><a href=\"https://angular.io/\" target=\"_blank\" rel=\"external\">angular</a>: 新一代angular开发框架</li>\n<li><a href=\"http://facebook.github.io/react/\" target=\"_blank\" rel=\"external\">React.js</a>: 构建组化件应用的javascript库</li>\n<li><a href=\"https://facebook.github.io/react-native/\" target=\"_blank\" rel=\"external\">React Native</a>: 使用react构建移动app应用</li>\n</ul>\n<h3 id=\"构建工具-amp-模块化\"><a href=\"#构建工具-amp-模块化\" class=\"headerlink\" title=\"构建工具&amp;模块化\"></a>构建工具&amp;模块化</h3><p>一个构建、测试应用的构建工具</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"http://gulpjs.com/\" target=\"_blank\" rel=\"external\">gulp.js</a>: 自动化工作流</li>\n<li><a href=\"https://nodejs.org/\" target=\"_blank\" rel=\"external\">node</a> 建立在V8引擎上的快速构建平台</li>\n</ul>\n<h3 id=\"模块打包器\"><a href=\"#模块打包器\" class=\"headerlink\" title=\"模块打包器\"></a>模块打包器</h3><p>将模块打包到一个bundle中</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"https://webpack.github.io/\" target=\"_blank\" rel=\"external\">webpack</a>: 能够将依赖打包、生成的自动构建工具</li>\n</ul>\n<h3 id=\"包管理\"><a href=\"#包管理\" class=\"headerlink\" title=\"包管理\"></a>包管理</h3><p>一个用来管理依赖的包管理器，你可以使用它下载很多模块化的工具</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/\" target=\"_blank\" rel=\"external\">npm</a>: Node 模块化管理工具</li>\n</ul>\n<h3 id=\"CSS-处理\"><a href=\"#CSS-处理\" class=\"headerlink\" title=\"CSS 处理\"></a>CSS 处理</h3><p>提供一个高效、动态的方法生成css</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"https://github.com/stylus/stylus\" target=\"_blank\" rel=\"external\">Stylus</a>: node社区的css预处理器</li>\n<li><a href=\"https://github.com/postcss/postcss\" target=\"_blank\" rel=\"external\">PostCSS</a>: 将css转换成js插件</li>\n</ul>\n<h3 id=\"模块化\"><a href=\"#模块化\" class=\"headerlink\" title=\"模块化\"></a>模块化</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://exploringjs.com/es6/ch_modules.html\" target=\"_blank\" rel=\"external\">ECMAScript 6 Module</a></li>\n</ul>\n<h3 id=\"模板引擎\"><a href=\"#模板引擎\" class=\"headerlink\" title=\"模板引擎\"></a>模板引擎</h3><p>使用js生成html文件</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"http://ejs.co/\" target=\"_blank\" rel=\"external\">EJS</a></li>\n<li><a href=\"http://jade-lang.com/\" target=\"_blank\" rel=\"external\">jade</a></li>\n</ul>\n<h3 id=\"测试框架\"><a href=\"#测试框架\" class=\"headerlink\" title=\"测试框架\"></a>测试框架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://mochajs.org/\" target=\"_blank\" rel=\"external\">Mocha</a>: 一个简单、快速的用来测试node和web应用的测试框架</li>\n<li><a href=\"http://chaijs.com/\" target=\"_blank\" rel=\"external\">Chai</a>: Chai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。</li>\n</ul>\n<h3 id=\"脚手架\"><a href=\"#脚手架\" class=\"headerlink\" title=\"脚手架\"></a>脚手架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://yeoman.io/\" target=\"_blank\" rel=\"external\">Yeoman</a> Web 应用开发流程与工具   </li>\n<li><a href=\"https://npm.taobao.org/package/koa-generator\" target=\"_blank\" rel=\"external\">koa-generator</a> koa项目生成器         </li>\n</ul>\n<h3 id=\"集成方案\"><a href=\"#集成方案\" class=\"headerlink\" title=\"集成方案\"></a>集成方案</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://fis.baidu.com/\" target=\"_blank\" rel=\"external\">FIS</a>: 解决前端开发中自动化工具、性能优化、模块化框架、开发规范、代码部署、开发流程等问题</li>\n</ul>\n<h3 id=\"UI框架\"><a href=\"#UI框架\" class=\"headerlink\" title=\"UI框架\"></a>UI框架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://bootcss.com/\" target=\"_blank\" rel=\"external\">bootstrap</a> 简洁、直观、强悍的UI框架，让web开发更迅速,后端程序的福音。</li>\n<li><a href=\"http://foundation.zurb.com/\" target=\"_blank\" rel=\"external\">foundation</a> 最流行的响应式前前端布局框架</li>\n<li><a href=\"http://www.semantic-ui.cn/\" target=\"_blank\" rel=\"external\">semantic-ui</a> Semantic作为一个开发框架，通过HTML语言帮助创建令人赏心悦目、响应式的布局。</li>\n<li><a href=\"http://callemall.github.io/material-ui/#/\" target=\"_blank\" rel=\"external\">Material UI</a>  一组反应元件，实现谷歌的材料设计。</li>\n<li><a href=\"http://ant.design/\" target=\"_blank\" rel=\"external\">ant design</a> Ant Design 是一个 UI 设计语言，是一套提炼和应用于企业级后台产品的交互语言和视觉体系。</li>\n</ul>\n<h3 id=\"游戏引擎\"><a href=\"#游戏引擎\" class=\"headerlink\" title=\"游戏引擎\"></a>游戏引擎</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://createjs.com/\" target=\"_blank\" rel=\"external\">CreateJS</a>  基于HTML5的一套模块化的库和工具共同工作或独立使丰富的交互式内容的开放式Web技术。</li>\n<li><a href=\"http://phaser.io/\" target=\"_blank\" rel=\"external\">PhaserJS</a>  PC端和移动端HTML5游戏框架 。</li>\n<li><a href=\"http://threejs.org/\" target=\"_blank\" rel=\"external\">ThreeJS</a> 制作HTML5的3D游戏引擎 。</li>\n<li><a href=\"http://www.egret.com/\" target=\"_blank\" rel=\"external\">白鹭</a> Egret是一套HTML5游戏开发解决方案</li>\n<li><a href=\"http://www.cocos.com/\" target=\"_blank\" rel=\"external\">Cocos2d-JS</a> 开发者可以通过cocos游戏开发引擎快速编辑界面和动画、编写和调试代码等，最终导出适合于各平台、各渠道发布的游戏安装包。<h3 id=\"容器\"><a href=\"#容器\" class=\"headerlink\" title=\"容器\"></a>容器</h3><blockquote>\n<ul>\n<li><a href=\"http://www.docker.com/\" target=\"_blank\" rel=\"external\">Docker</a>: Build, Ship, and Run Any App, Anywhere</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"社区\"><a href=\"#社区\" class=\"headerlink\" title=\"社区\"></a>社区</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://stackoverflow.com/\" target=\"_blank\" rel=\"external\">stackoverflow</a> 技术大牛多，素质好，质量高</li>\n<li><a href=\"https://segmentfault.com/\" target=\"_blank\" rel=\"external\">segmentfault</a> 自动生成目录，博客UI看起来相对漂亮</li>\n<li><a href=\"http://www.oschina.net/\" target=\"_blank\" rel=\"external\">开源中国</a> 支持开源文化</li>\n</ul>\n<h3 id=\"学习网站\"><a href=\"#学习网站\" class=\"headerlink\" title=\"学习网站\"></a>学习网站</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://www.jikexueyuan.com/\" target=\"_blank\" rel=\"external\">极客学院</a>  学习资源多</li>\n<li><a href=\"http://www.imooc.com/\" target=\"_blank\" rel=\"external\">慕课网</a>  质量高，全免费  </li>\n<li><a href=\"http://www.huachuanxueyuan.com/\" target=\"_blank\" rel=\"external\">花川学院</a> 学习swift的好去处</li>\n<li><a href=\"http://www.maiziedu.com/\" target=\"_blank\" rel=\"external\">麦子学院</a> 后起之秀</li>\n<li><a href=\"http://www.runoob.com/\" target=\"_blank\" rel=\"external\">W3C菜鸟</a> 新手程序员的天堂</li>\n<li><a href=\"http://www.yun.lu/student/homepage\" target=\"_blank\" rel=\"external\">云路课堂</a> 极客风</li>\n<li><a href=\"http://www.mengma.com/\" target=\"_blank\" rel=\"external\">码萌</a> 编程从来简单有趣</li>\n</ul>\n<h3 id=\"其他常用网站\"><a href=\"#其他常用网站\" class=\"headerlink\" title=\"其他常用网站\"></a>其他常用网站</h3><p>&gt;</p>\n<ul>\n<li><a href=\"https://github.com\" target=\"_blank\" rel=\"external\">github</a> 程序员的QQ,面试的门面</li>\n<li><a href=\"https://git.oschina.net\" target=\"_blank\" rel=\"external\">码云</a> 和马云同名，给个面子</li>\n<li><a href=\"https://npm.taobao.org/\" target=\"_blank\" rel=\"external\">淘宝同步npm</a> 访问快，10分钟同步一次，查资料必备</li>\n<li><a href=\"http://www.bootcdn.cn/\" target=\"_blank\" rel=\"external\">bootCDN</a> 使用最普遍的CDN</li>\n<li><a href=\"http://fontawesome.dashgame.com/\" target=\"_blank\" rel=\"external\">font-awesome</a> 最好用的图标库</li>\n<li><a href=\"http://json.cn/#\" target=\"_blank\" rel=\"external\">JSON格式化</a>  这个时代的开发者谁离得了JSON呢</li>\n<li><a href=\"http://fenav.com/#/p11\" target=\"_blank\" rel=\"external\">开发工具</a> 全面省心</li>\n</ul>\n","excerpt":"<p>　　面对日益纷杂的前端工具，作为新人常感无从下手。经过一番检索和简单对比，再结合自己的喜好，筛选了将要学习和使用的工具，以适应日益工程化、专业化的 Web 前端开发工作。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"库与框架\"><a href=\"#库与框架\" class=\"headerlink\" title=\"库与框架\"></a>库与框架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://jquery.com/\">jQuery</a></li>\n<li><a href=\"http://jqueryui.com/\">jQuery UI</a>: 一个JQuery的UI框架,特点是高效、组件化</li>\n<li><a href=\"http://cn.vuejs.org/\">Vue.js</a>: 数据驱动的组件，为现代化的 Web 界面而生</li>\n<li><a href=\"http://www.apjs.net/\">angularjs</a> 应用最广泛的企业级web开发框架</li>\n<li><a href=\"https://angular.io/\">angular</a>: 新一代angular开发框架</li>\n<li><a href=\"http://facebook.github.io/react/\">React.js</a>: 构建组化件应用的javascript库</li>\n<li><a href=\"https://facebook.github.io/react-native/\">React Native</a>: 使用react构建移动app应用</li>\n</ul>\n<h3 id=\"构建工具-amp-模块化\"><a href=\"#构建工具-amp-模块化\" class=\"headerlink\" title=\"构建工具&amp;模块化\"></a>构建工具&amp;模块化</h3><p>一个构建、测试应用的构建工具</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"http://gulpjs.com/\">gulp.js</a>: 自动化工作流</li>\n<li><a href=\"https://nodejs.org/\">node</a> 建立在V8引擎上的快速构建平台</li>\n</ul>\n<h3 id=\"模块打包器\"><a href=\"#模块打包器\" class=\"headerlink\" title=\"模块打包器\"></a>模块打包器</h3><p>将模块打包到一个bundle中</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"https://webpack.github.io/\">webpack</a>: 能够将依赖打包、生成的自动构建工具</li>\n</ul>\n<h3 id=\"包管理\"><a href=\"#包管理\" class=\"headerlink\" title=\"包管理\"></a>包管理</h3><p>一个用来管理依赖的包管理器，你可以使用它下载很多模块化的工具</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"https://www.npmjs.com/\">npm</a>: Node 模块化管理工具</li>\n</ul>\n<h3 id=\"CSS-处理\"><a href=\"#CSS-处理\" class=\"headerlink\" title=\"CSS 处理\"></a>CSS 处理</h3><p>提供一个高效、动态的方法生成css</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"https://github.com/stylus/stylus\">Stylus</a>: node社区的css预处理器</li>\n<li><a href=\"https://github.com/postcss/postcss\">PostCSS</a>: 将css转换成js插件</li>\n</ul>\n<h3 id=\"模块化\"><a href=\"#模块化\" class=\"headerlink\" title=\"模块化\"></a>模块化</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://exploringjs.com/es6/ch_modules.html\">ECMAScript 6 Module</a></li>\n</ul>\n<h3 id=\"模板引擎\"><a href=\"#模板引擎\" class=\"headerlink\" title=\"模板引擎\"></a>模板引擎</h3><p>使用js生成html文件</p>\n<p>&gt;</p>\n<ul>\n<li><a href=\"http://ejs.co/\">EJS</a></li>\n<li><a href=\"http://jade-lang.com/\">jade</a></li>\n</ul>\n<h3 id=\"测试框架\"><a href=\"#测试框架\" class=\"headerlink\" title=\"测试框架\"></a>测试框架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://mochajs.org/\">Mocha</a>: 一个简单、快速的用来测试node和web应用的测试框架</li>\n<li><a href=\"http://chaijs.com/\">Chai</a>: Chai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。</li>\n</ul>\n<h3 id=\"脚手架\"><a href=\"#脚手架\" class=\"headerlink\" title=\"脚手架\"></a>脚手架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://yeoman.io/\">Yeoman</a> Web 应用开发流程与工具   </li>\n<li><a href=\"https://npm.taobao.org/package/koa-generator\">koa-generator</a> koa项目生成器         </li>\n</ul>\n<h3 id=\"集成方案\"><a href=\"#集成方案\" class=\"headerlink\" title=\"集成方案\"></a>集成方案</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://fis.baidu.com/\">FIS</a>: 解决前端开发中自动化工具、性能优化、模块化框架、开发规范、代码部署、开发流程等问题</li>\n</ul>\n<h3 id=\"UI框架\"><a href=\"#UI框架\" class=\"headerlink\" title=\"UI框架\"></a>UI框架</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://bootcss.com/\">bootstrap</a> 简洁、直观、强悍的UI框架，让web开发更迅速,后端程序的福音。</li>\n<li><a href=\"http://foundation.zurb.com/\">foundation</a> 最流行的响应式前前端布局框架</li>\n<li><a href=\"http://www.semantic-ui.cn/\">semantic-ui</a> Semantic作为一个开发框架，通过HTML语言帮助创建令人赏心悦目、响应式的布局。</li>\n<li><a href=\"http://callemall.github.io/material-ui/#/\">Material UI</a>  一组反应元件，实现谷歌的材料设计。</li>\n<li><a href=\"http://ant.design/\">ant design</a> Ant Design 是一个 UI 设计语言，是一套提炼和应用于企业级后台产品的交互语言和视觉体系。</li>\n</ul>\n<h3 id=\"游戏引擎\"><a href=\"#游戏引擎\" class=\"headerlink\" title=\"游戏引擎\"></a>游戏引擎</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://createjs.com/\">CreateJS</a>  基于HTML5的一套模块化的库和工具共同工作或独立使丰富的交互式内容的开放式Web技术。</li>\n<li><a href=\"http://phaser.io/\">PhaserJS</a>  PC端和移动端HTML5游戏框架 。</li>\n<li><a href=\"http://threejs.org/\">ThreeJS</a> 制作HTML5的3D游戏引擎 。</li>\n<li><a href=\"http://www.egret.com/\">白鹭</a> Egret是一套HTML5游戏开发解决方案</li>\n<li><a href=\"http://www.cocos.com/\">Cocos2d-JS</a> 开发者可以通过cocos游戏开发引擎快速编辑界面和动画、编写和调试代码等，最终导出适合于各平台、各渠道发布的游戏安装包。<h3 id=\"容器\"><a href=\"#容器\" class=\"headerlink\" title=\"容器\"></a>容器</h3><blockquote>\n<ul>\n<li><a href=\"http://www.docker.com/\">Docker</a>: Build, Ship, and Run Any App, Anywhere</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"社区\"><a href=\"#社区\" class=\"headerlink\" title=\"社区\"></a>社区</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://stackoverflow.com/\">stackoverflow</a> 技术大牛多，素质好，质量高</li>\n<li><a href=\"https://segmentfault.com/\">segmentfault</a> 自动生成目录，博客UI看起来相对漂亮</li>\n<li><a href=\"http://www.oschina.net/\">开源中国</a> 支持开源文化</li>\n</ul>\n<h3 id=\"学习网站\"><a href=\"#学习网站\" class=\"headerlink\" title=\"学习网站\"></a>学习网站</h3><p>&gt;</p>\n<ul>\n<li><a href=\"http://www.jikexueyuan.com/\">极客学院</a>  学习资源多</li>\n<li><a href=\"http://www.imooc.com/\">慕课网</a>  质量高，全免费  </li>\n<li><a href=\"http://www.huachuanxueyuan.com/\">花川学院</a> 学习swift的好去处</li>\n<li><a href=\"http://www.maiziedu.com/\">麦子学院</a> 后起之秀</li>\n<li><a href=\"http://www.runoob.com/\">W3C菜鸟</a> 新手程序员的天堂</li>\n<li><a href=\"http://www.yun.lu/student/homepage\">云路课堂</a> 极客风</li>\n<li><a href=\"http://www.mengma.com/\">码萌</a> 编程从来简单有趣</li>\n</ul>\n<h3 id=\"其他常用网站\"><a href=\"#其他常用网站\" class=\"headerlink\" title=\"其他常用网站\"></a>其他常用网站</h3><p>&gt;</p>\n<ul>\n<li><a href=\"https://github.com\">github</a> 程序员的QQ,面试的门面</li>\n<li><a href=\"https://git.oschina.net\">码云</a> 和马云同名，给个面子</li>\n<li><a href=\"https://npm.taobao.org/\">淘宝同步npm</a> 访问快，10分钟同步一次，查资料必备</li>\n<li><a href=\"http://www.bootcdn.cn/\">bootCDN</a> 使用最普遍的CDN</li>\n<li><a href=\"http://fontawesome.dashgame.com/\">font-awesome</a> 最好用的图标库</li>\n<li><a href=\"http://json.cn/#\">JSON格式化</a>  这个时代的开发者谁离得了JSON呢</li>\n<li><a href=\"http://fenav.com/#/p11\">开发工具</a> 全面省心</li>\n</ul>"},{"author":"小莫","date":"2016-06-06T16:00:00.000Z","title":"gulp构建工具的使用","_content":"\n先前学习了webpack,但是总是感觉webpack略显复杂，并且现在很多公司gulp工作流用的比较多，因此就入gulp的坑来踩一踩，技多不压身，霍霍霍...。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/gulp.png)](https://github.com/syoubaku)\n### 一、简介(增强和使你的工作自动化)\n#### 1. 使用简单  \n没有繁琐的配置，一个任务一个task。通过代码优于配置的策略，Gulp 让简单的任务简单，复杂的任务可管理。  \n\n#### 2. 高效  \n利用node强大的工作流，快速的构建项目并减少频繁的 IO 操作。  \n\n#### 3. 高质量  \ngulp生态圈有相当多优秀的插件以供我们使用，Gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。\n\n#### 4. 易学  \n通过最少的 API，掌握 Gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。\n\n### 二、gulp相关api\n#### 1. `gulp.src`: 来源\n#### 2. `gulp.dest`: 目标\n#### 3. `gulp.pipe`: 管道\n#### 4. `gulp.watch`: 热加载\n#### 5. `gulp.task`: 任务\n#### 6. `gulp.task`('default')  \n 默认任务,必须存在\n\n### 三、使用(工作流程)  \n#### 1. 全局安装gulp     \n`npm install -g gulp`  \n#### 2. 建立项目    \n`mkdir gulp-test && cd gulp-test`\n#### 3. 初始化项目  \n`npm init -y`  (会生成package.json)   \n#### 4. 安装项目依赖  \n`npm install --save-dev gulp`\n5. 创建配置文件\n`touch gulpfile.js`\n#### 6. gulp常用的功能  \n转码（`gulp-babel` `babel-preset-es2015` `gulp-sass` `gulp-less` `gulp-react`）、合并（`gulp-concat`）、压缩（`gulp-uglify`）、模块化（`gulp-browserify`）、测试（gulp-jasmine），请依次安装这些依赖。\n#### 7. 小常识  \n因为国外的网站比较慢 npm经常会卡住。我们可以设置镜像源或使用`cnpm`或者设置镜像源`npm config set registry https://registry.npm.taobao.org `\n#### 8. 写配置   \n（gulpfile一定有一个default的任务，你可以把每个任务分文件书写然后再require进来，这种方式适合多人同时书写任务时，可以防止多人修改同一文件导致的冲突）\n\n```\nvar gulp = require(\"gulp\");\nvar babel = require(\"gulp-babel\");\nvar react = require(\"gulp-react\");\nvar sass = require(\"gulp-sass\");\nvar less = require(\"gulp-less\");\nvar uglify = require(\"gulp-uglify\");\nvar jasmine = require(\"gulp-jasmine\");\nvar concat = require(\"gulp-concat\");\n\n//定义常量\nconst transformJs = \"transformJs\";\nconst transformSass = \"transformSass\";\nconst transformLess = \"transformLess\";\nconst test = 'test';\n\n\n//js\ngulp.task(transformJs, function () {\n    return gulp.src(\"src/*.js\")\n        .pipe(react())\n        .pipe(babel(\n            {\n                presets: [\"babel-preset-es2015\"]\n            }\n        ))\n        .pipe(concat('bundle.min.js'))\n        .pipe(uglify())\n        .pipe(gulp.dest(\"./dist\"))\n});\n\n// scss\ngulp.task(transformSass, function () {\n    return gulp.src(\"src/css/*.scss\")\n        .pipe(sass())\n        .pipe(gulp.dest(\"./dist\"))\n});\n\n\n// less\ngulp.task(transformLess, function () {\n    return gulp.src(\"src/css/*.less\")\n        .pipe(less())\n        .pipe(gulp.dest(\"./dist\"))\n});\n\n\n// jasmine\ngulp.task(test, function () {\n    return gulp.src(\"./test/*.js\")\n        .pipe(jasmine())\n});\n\ngulp.task(\"default\", [transformJs, transformSass, transformLess, test]);\n```\n\n### 四、配置文件解读\n\n#### 1. 第一部分   \n一堆`reqire`,是引用gulp相应的插件。在引用之前要确保己经安装。\n#### 2. 第二部分   \n几个`const`,是定义任务名常量，有多几任务就定义多少常量。\n#### 3. 第三部分   \n几个`task`,每个task对应一个任务，具有不同的功能。可以使用 `gulp xxx`来启动这个任务。\n#### 4. 第四部分   \n`default`,是执行`gulp`之后就会开始的任务 常用参数(`'default',[task1,task2,...],callback[可选]`)。\n\n### 五、执行  \n1. 如果要执行`default`任务，直接`gulp`\n\n```\n  [09:56:04] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js\n  [09:56:04] Starting 'transformJs'...\n  [09:56:04] Starting 'transformSass'...\n  [09:56:04] Starting 'transformLess'...\n  [09:56:04] Starting 'test'...\n  .\n\n  1 spec, 0 failures\n  Finished in 0 seconds\n  [09:56:04] Finished 'test' after 62 ms\n  [09:56:06] Finished 'transformLess' after 2.66 s\n  [09:56:06] Finished 'transformSass' after 2.68 s\n  [09:56:06] Finished 'transformJs' after 2.7 s\n  [09:56:06] Finished 'default' after 32 μs\n\n  Process finished with exit code 0\n```\n\n2. 如果想要执行单个任务，请输入 `gulp taskName`,例如`gulp test`\n\n```\n  [09:56:47] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js\n  [09:56:47] Starting 'test'...\n  .\n\n  1 spec, 0 failures\n  Finished in 0 seconds\n  [09:56:47] Finished 'test' after 77 ms\n\n  Process finished with exit code 0\n```\n\n### 六、gulp常见任务\n#### 1. 处理js\n\n（包括转码、合并、压缩）  [gulp-babel](https://npm.taobao.org/package/gulp-babel) [babel-preset-es2015](https://npm.taobao.org/package/babel-preset-es2015) [gulp-concat](https://npm.taobao.org/package/gulp-concat) [gulp-uglify](https://npm.taobao.org/package/gulp-uglify)\n\n\n```\ngulp.task(transformJs, function () {\n  return gulp.src(\"src/*.js\")\n      .pipe(react())\n      .pipe(babel(\n          {\n              presets: [\"babel-preset-es2015\"]\n          }\n      ))\n      .pipe(concat('bundle.min.js'))\n      .pipe(uglify())\n      .pipe(gulp.dest(\"./dist\"))\n});\n```\n\n#### 2. 处理scss\n\n(包括转码、合并、压缩)  [gulp-sass](https://npm.taobao.org/package/gulp-sass)  [gulp-concat](https://npm.taobao.org/package/gulp-concat) [gulp-uglify](https://npm.taobao.org/package/gulp-uglify)\n\n\n\n```\n  // scss\n  gulp.task(transformSass, function () {\n      return gulp.src(\"src/css/*.scss\")\n          .pipe(sass())\n          .pipe(gulp.dest(\"./dist\"))\n  });\n```\n\n\n#### 3. 处理less\n\n(包括转码、合并、压缩)  [gulp-less](https://npm.taobao.org/package/gulp-less)  [gulp-concat](https://npm.taobao.org/package/gulp-concat) [gulp-uglify](https://npm.taobao.org/package/gulp-uglify)\n\n```\n  // less\n  gulp.task(transformLess, function () {\n    return gulp.src(\"src/css/*.less\")\n        .pipe(less())\n        .pipe(gulp.dest(\"./dist\"))\n  });\n```\n\n#### 4. 测试\n[gulp-jasmine](https://npm.taobao.org/package/gulp-jasmine)  \n\n```\n  // jasmine\n  gulp.task(test, function () {\n      return gulp.src(\"./test/*.js\")\n          .pipe(jasmine())\n  });\n\n  //测试文件 test.spec.js\n  describe('test one', function () {\n      it('test', function () {\n          expect(true).toBe(true);\n      })\n  });\n```\n\n#### 5. 清理  \n\n [gulp-clean](https://npm.taobao.org/package/gulp-clean)\n\n```\ngulp.task('clean', function () {\n  return gulp.src(config.dist + '/*', {read: false})\n      .pipe(clean());\n});\n```\n\n#### 6. 热加载\n\n  [gulp-util](https://npm.taobao.org/package/gulp-util) [gulp-watch](https://npm.taobao.org/package/gulp-watch)\n\n```\n  var util = require('gulp-util');\n  var watch = require('gulp-watch');\n  var config = {};\n  config.dist = 'dist';\n  config.static = [\n    'bin/**/*',\n    'package.json'\n  ];\n  // sync static resource in production mode\n  gulp.task('static-sync', function () {\n    return gulp.src(config.static, {base: './'})\n        .pipe(gulp.dest(config.dist));\n  });\n\n  gulp.task('static-sync:dev', ['static-sync'], function () {\n    util.log('[Sync] starting file watch');\n    return watch(config.static, function (obj) {\n      if (obj.event === 'change' || obj.event === 'add')\n        return gulp.src(obj.path, {base: './'})\n            .pipe(gulp.dest(config.dist))\n            .pipe(print(function () {\n              return '[Sync] file sync success: ' + obj.path.replace(obj.base, '');\n            }));\n      else if (obj.event === 'unlink') {\n        var distFilePath = obj.path.replace(__dirname, __dirname + '/' + config.dist);\n        return gulp.src(distFilePath)\n            .pipe(clean())\n            .pipe(print(function () {\n              return '[Sync] file remove success: ' + obj.path.replace(obj.base, '');\n            }));\n      }\n    });\n  });\n\n```\n\n#### 7. debug\n\n [gulp-print](https://npm.taobao.org/package/gulp-print)\n\n```\n//下载\nnpm install gulp-print\n//引用\nvar gulp = require('gulp');\nvar print = require('gulp-print');\n// 注册任务\ngulp.task('print', function() {\n  gulp.src('test/*.js')\n    .pipe(print())\n});\n```\n\n#### 8. sourceMap\n\n  [gulp-sourcemaps](https://npm.taobao.org/package/gulp-sourcemaps)\n\n```\n  var sourcemaps = require('gulp-sourcemaps');\n  // compile server script in production mode\n  gulp.task('compile:server', function () {\n    if (config.babel.sourceMaps){\n      return gulp.src('**/*.es6', {base: './'})\n          .pipe(sourcemaps.init())\n          .pipe(babel(config.babel))\n          .pipe(sourcemaps.write('.', {sourceRoot: '/ustar'}))\n          .pipe(gulp.dest(config.dist));\n    }else{\n      return gulp.src('**/*.es6', {base: './'})\n          .pipe(babel({\n            preset:'babel-preset-es2015'\n            }))\n          .pipe(gulp.dest('./dist'));\n  });\n```\n\n#### 9. 复制静态资源\n\n```\ngulp.task('static-sync', function () {\n    return gulp.src('src/css/*', {base: './'})\n        .pipe(gulp.dest('./dist'));\n});\n```\n\n#### 10. 处理css雪碧图\n\n [gulp-css-spriter](https://npm.taobao.org/package/gulp-css-spriter)\n\n```\n  var gulp = require('gulp');\n  var spriter = require('gulp-css-spriter');\n\n  gulp.task('css', function() {\n    return gulp.src('./src/css/styles.css')\n        .pipe(spriter({\n            // The path and file name of where we will save the sprite sheet\n            'spriteSheet': './dist/images/spritesheet.png',\n            // Because we don't know where you will end up saving the CSS file at this point in the pipe,\n            // we need a litle help identifying where it will be.\n            'pathToSpriteSheetFromCSS': '../images/spritesheet.png'\n        }))\n        .pipe(gulp.dest('./dist/css'));\n  });\n```\n\n#### 11. 压缩css\n\n[gulp-minify-css](https://npm.taobao.org/package/gulp-minify-css)\n\n```\n  gulp.task(gulp_minify_css,function () {\n     return gulp.src('./dist/*.css')\n         .pipe(print())\n         .pipe(minifycss())\n         .pipe(gulp.dest(config.dist))\n  });\n```\n\n#### 12. 压缩图片\n\n[gulp-imagemin](https://npm.taobao.org/package/gulp-imagemin)\n\n```\n// 压缩图片\n  gulp.task('img', function() {\n    return gulp.src('src/images/*')\n      .pipe(imagemin({\n          progressive: true,\n          svgoPlugins: [{removeViewBox: false}],\n          use: [pngcrush()]\n      }))\n      .pipe(gulp.dest('./dest/images/'))\n      .pipe(notify({ message: 'img task ok' }));\n  });\n```\n\n#### 13. 检查js  \n\n  [gulp-jshint](https://npm.taobao.org/package/gulp-jshint)  [gulp-jshint](https://npm.taobao.org/package/jshint)\n\n```\n// 检查js\n  gulp.task('lint', function() {\n    return gulp.src('src/js/*.js')\n      .pipe(jshint())\n      .pipe(jshint.reporter('default'))\n      .pipe(notify({ message: 'lint task ok' }));\n  });\n```\n\n#### 14. gzip压缩\n\n [gulp-gzip](https://npm.taobao.org/package/gulp-gzip)\n\n```\n  var gulp = require('gulp');\n  var gzip = require('gulp-gzip');\n\n  gulp.task('compress', function() {\n      gulp.src('./dev/scripts/*.js')\n      .pipe(gzip())\n      .pipe(gulp.dest('./public/scripts'));\n  });\n```\n\n#### 15. 处理前缀  \n\n[gulp-autoprefixer](https://npm.taobao.org/package/gulp-autoprefixer)\n\n```\n  var gulp = require('gulp');\n  var autoprefixer = require('gulp-autoprefixer');\n\n  gulp.task('default', function () {\n    return gulp.src('src/app.css')\n      .pipe(sourcemaps.init())\n        .pipe(autoprefixer({\n            browsers: ['last 2 versions'],\n            cascade: false\n        }))\n        .pipe(concat('all.css'))\n        .pipe(sourcemaps.write('.',{sourceRoot:config.dist}))\n        .pipe(gulp.dest('dist'));\n  });\n```\n\n\n### 七、项目地址\n[gulp-start-kit](https://github.com/syoubaku/gulp-start-kit)\n","source":"_posts/2016-06-07.gulp_use.md","raw":"---\nauthor: 小莫\ndate: 2016-06-07\ntitle: gulp构建工具的使用\ntags:\n- gulp\n- 开发工具\n- node\n- JavaScript\n- es6\ncategory: gulp\npermalink: GulpUse\n---\n\n先前学习了webpack,但是总是感觉webpack略显复杂，并且现在很多公司gulp工作流用的比较多，因此就入gulp的坑来踩一踩，技多不压身，霍霍霍...。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/gulp.png)](https://github.com/syoubaku)\n### 一、简介(增强和使你的工作自动化)\n#### 1. 使用简单  \n没有繁琐的配置，一个任务一个task。通过代码优于配置的策略，Gulp 让简单的任务简单，复杂的任务可管理。  \n\n#### 2. 高效  \n利用node强大的工作流，快速的构建项目并减少频繁的 IO 操作。  \n\n#### 3. 高质量  \ngulp生态圈有相当多优秀的插件以供我们使用，Gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。\n\n#### 4. 易学  \n通过最少的 API，掌握 Gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。\n\n### 二、gulp相关api\n#### 1. `gulp.src`: 来源\n#### 2. `gulp.dest`: 目标\n#### 3. `gulp.pipe`: 管道\n#### 4. `gulp.watch`: 热加载\n#### 5. `gulp.task`: 任务\n#### 6. `gulp.task`('default')  \n 默认任务,必须存在\n\n### 三、使用(工作流程)  \n#### 1. 全局安装gulp     \n`npm install -g gulp`  \n#### 2. 建立项目    \n`mkdir gulp-test && cd gulp-test`\n#### 3. 初始化项目  \n`npm init -y`  (会生成package.json)   \n#### 4. 安装项目依赖  \n`npm install --save-dev gulp`\n5. 创建配置文件\n`touch gulpfile.js`\n#### 6. gulp常用的功能  \n转码（`gulp-babel` `babel-preset-es2015` `gulp-sass` `gulp-less` `gulp-react`）、合并（`gulp-concat`）、压缩（`gulp-uglify`）、模块化（`gulp-browserify`）、测试（gulp-jasmine），请依次安装这些依赖。\n#### 7. 小常识  \n因为国外的网站比较慢 npm经常会卡住。我们可以设置镜像源或使用`cnpm`或者设置镜像源`npm config set registry https://registry.npm.taobao.org `\n#### 8. 写配置   \n（gulpfile一定有一个default的任务，你可以把每个任务分文件书写然后再require进来，这种方式适合多人同时书写任务时，可以防止多人修改同一文件导致的冲突）\n\n```\nvar gulp = require(\"gulp\");\nvar babel = require(\"gulp-babel\");\nvar react = require(\"gulp-react\");\nvar sass = require(\"gulp-sass\");\nvar less = require(\"gulp-less\");\nvar uglify = require(\"gulp-uglify\");\nvar jasmine = require(\"gulp-jasmine\");\nvar concat = require(\"gulp-concat\");\n\n//定义常量\nconst transformJs = \"transformJs\";\nconst transformSass = \"transformSass\";\nconst transformLess = \"transformLess\";\nconst test = 'test';\n\n\n//js\ngulp.task(transformJs, function () {\n    return gulp.src(\"src/*.js\")\n        .pipe(react())\n        .pipe(babel(\n            {\n                presets: [\"babel-preset-es2015\"]\n            }\n        ))\n        .pipe(concat('bundle.min.js'))\n        .pipe(uglify())\n        .pipe(gulp.dest(\"./dist\"))\n});\n\n// scss\ngulp.task(transformSass, function () {\n    return gulp.src(\"src/css/*.scss\")\n        .pipe(sass())\n        .pipe(gulp.dest(\"./dist\"))\n});\n\n\n// less\ngulp.task(transformLess, function () {\n    return gulp.src(\"src/css/*.less\")\n        .pipe(less())\n        .pipe(gulp.dest(\"./dist\"))\n});\n\n\n// jasmine\ngulp.task(test, function () {\n    return gulp.src(\"./test/*.js\")\n        .pipe(jasmine())\n});\n\ngulp.task(\"default\", [transformJs, transformSass, transformLess, test]);\n```\n\n### 四、配置文件解读\n\n#### 1. 第一部分   \n一堆`reqire`,是引用gulp相应的插件。在引用之前要确保己经安装。\n#### 2. 第二部分   \n几个`const`,是定义任务名常量，有多几任务就定义多少常量。\n#### 3. 第三部分   \n几个`task`,每个task对应一个任务，具有不同的功能。可以使用 `gulp xxx`来启动这个任务。\n#### 4. 第四部分   \n`default`,是执行`gulp`之后就会开始的任务 常用参数(`'default',[task1,task2,...],callback[可选]`)。\n\n### 五、执行  \n1. 如果要执行`default`任务，直接`gulp`\n\n```\n  [09:56:04] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js\n  [09:56:04] Starting 'transformJs'...\n  [09:56:04] Starting 'transformSass'...\n  [09:56:04] Starting 'transformLess'...\n  [09:56:04] Starting 'test'...\n  .\n\n  1 spec, 0 failures\n  Finished in 0 seconds\n  [09:56:04] Finished 'test' after 62 ms\n  [09:56:06] Finished 'transformLess' after 2.66 s\n  [09:56:06] Finished 'transformSass' after 2.68 s\n  [09:56:06] Finished 'transformJs' after 2.7 s\n  [09:56:06] Finished 'default' after 32 μs\n\n  Process finished with exit code 0\n```\n\n2. 如果想要执行单个任务，请输入 `gulp taskName`,例如`gulp test`\n\n```\n  [09:56:47] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js\n  [09:56:47] Starting 'test'...\n  .\n\n  1 spec, 0 failures\n  Finished in 0 seconds\n  [09:56:47] Finished 'test' after 77 ms\n\n  Process finished with exit code 0\n```\n\n### 六、gulp常见任务\n#### 1. 处理js\n\n（包括转码、合并、压缩）  [gulp-babel](https://npm.taobao.org/package/gulp-babel) [babel-preset-es2015](https://npm.taobao.org/package/babel-preset-es2015) [gulp-concat](https://npm.taobao.org/package/gulp-concat) [gulp-uglify](https://npm.taobao.org/package/gulp-uglify)\n\n\n```\ngulp.task(transformJs, function () {\n  return gulp.src(\"src/*.js\")\n      .pipe(react())\n      .pipe(babel(\n          {\n              presets: [\"babel-preset-es2015\"]\n          }\n      ))\n      .pipe(concat('bundle.min.js'))\n      .pipe(uglify())\n      .pipe(gulp.dest(\"./dist\"))\n});\n```\n\n#### 2. 处理scss\n\n(包括转码、合并、压缩)  [gulp-sass](https://npm.taobao.org/package/gulp-sass)  [gulp-concat](https://npm.taobao.org/package/gulp-concat) [gulp-uglify](https://npm.taobao.org/package/gulp-uglify)\n\n\n\n```\n  // scss\n  gulp.task(transformSass, function () {\n      return gulp.src(\"src/css/*.scss\")\n          .pipe(sass())\n          .pipe(gulp.dest(\"./dist\"))\n  });\n```\n\n\n#### 3. 处理less\n\n(包括转码、合并、压缩)  [gulp-less](https://npm.taobao.org/package/gulp-less)  [gulp-concat](https://npm.taobao.org/package/gulp-concat) [gulp-uglify](https://npm.taobao.org/package/gulp-uglify)\n\n```\n  // less\n  gulp.task(transformLess, function () {\n    return gulp.src(\"src/css/*.less\")\n        .pipe(less())\n        .pipe(gulp.dest(\"./dist\"))\n  });\n```\n\n#### 4. 测试\n[gulp-jasmine](https://npm.taobao.org/package/gulp-jasmine)  \n\n```\n  // jasmine\n  gulp.task(test, function () {\n      return gulp.src(\"./test/*.js\")\n          .pipe(jasmine())\n  });\n\n  //测试文件 test.spec.js\n  describe('test one', function () {\n      it('test', function () {\n          expect(true).toBe(true);\n      })\n  });\n```\n\n#### 5. 清理  \n\n [gulp-clean](https://npm.taobao.org/package/gulp-clean)\n\n```\ngulp.task('clean', function () {\n  return gulp.src(config.dist + '/*', {read: false})\n      .pipe(clean());\n});\n```\n\n#### 6. 热加载\n\n  [gulp-util](https://npm.taobao.org/package/gulp-util) [gulp-watch](https://npm.taobao.org/package/gulp-watch)\n\n```\n  var util = require('gulp-util');\n  var watch = require('gulp-watch');\n  var config = {};\n  config.dist = 'dist';\n  config.static = [\n    'bin/**/*',\n    'package.json'\n  ];\n  // sync static resource in production mode\n  gulp.task('static-sync', function () {\n    return gulp.src(config.static, {base: './'})\n        .pipe(gulp.dest(config.dist));\n  });\n\n  gulp.task('static-sync:dev', ['static-sync'], function () {\n    util.log('[Sync] starting file watch');\n    return watch(config.static, function (obj) {\n      if (obj.event === 'change' || obj.event === 'add')\n        return gulp.src(obj.path, {base: './'})\n            .pipe(gulp.dest(config.dist))\n            .pipe(print(function () {\n              return '[Sync] file sync success: ' + obj.path.replace(obj.base, '');\n            }));\n      else if (obj.event === 'unlink') {\n        var distFilePath = obj.path.replace(__dirname, __dirname + '/' + config.dist);\n        return gulp.src(distFilePath)\n            .pipe(clean())\n            .pipe(print(function () {\n              return '[Sync] file remove success: ' + obj.path.replace(obj.base, '');\n            }));\n      }\n    });\n  });\n\n```\n\n#### 7. debug\n\n [gulp-print](https://npm.taobao.org/package/gulp-print)\n\n```\n//下载\nnpm install gulp-print\n//引用\nvar gulp = require('gulp');\nvar print = require('gulp-print');\n// 注册任务\ngulp.task('print', function() {\n  gulp.src('test/*.js')\n    .pipe(print())\n});\n```\n\n#### 8. sourceMap\n\n  [gulp-sourcemaps](https://npm.taobao.org/package/gulp-sourcemaps)\n\n```\n  var sourcemaps = require('gulp-sourcemaps');\n  // compile server script in production mode\n  gulp.task('compile:server', function () {\n    if (config.babel.sourceMaps){\n      return gulp.src('**/*.es6', {base: './'})\n          .pipe(sourcemaps.init())\n          .pipe(babel(config.babel))\n          .pipe(sourcemaps.write('.', {sourceRoot: '/ustar'}))\n          .pipe(gulp.dest(config.dist));\n    }else{\n      return gulp.src('**/*.es6', {base: './'})\n          .pipe(babel({\n            preset:'babel-preset-es2015'\n            }))\n          .pipe(gulp.dest('./dist'));\n  });\n```\n\n#### 9. 复制静态资源\n\n```\ngulp.task('static-sync', function () {\n    return gulp.src('src/css/*', {base: './'})\n        .pipe(gulp.dest('./dist'));\n});\n```\n\n#### 10. 处理css雪碧图\n\n [gulp-css-spriter](https://npm.taobao.org/package/gulp-css-spriter)\n\n```\n  var gulp = require('gulp');\n  var spriter = require('gulp-css-spriter');\n\n  gulp.task('css', function() {\n    return gulp.src('./src/css/styles.css')\n        .pipe(spriter({\n            // The path and file name of where we will save the sprite sheet\n            'spriteSheet': './dist/images/spritesheet.png',\n            // Because we don't know where you will end up saving the CSS file at this point in the pipe,\n            // we need a litle help identifying where it will be.\n            'pathToSpriteSheetFromCSS': '../images/spritesheet.png'\n        }))\n        .pipe(gulp.dest('./dist/css'));\n  });\n```\n\n#### 11. 压缩css\n\n[gulp-minify-css](https://npm.taobao.org/package/gulp-minify-css)\n\n```\n  gulp.task(gulp_minify_css,function () {\n     return gulp.src('./dist/*.css')\n         .pipe(print())\n         .pipe(minifycss())\n         .pipe(gulp.dest(config.dist))\n  });\n```\n\n#### 12. 压缩图片\n\n[gulp-imagemin](https://npm.taobao.org/package/gulp-imagemin)\n\n```\n// 压缩图片\n  gulp.task('img', function() {\n    return gulp.src('src/images/*')\n      .pipe(imagemin({\n          progressive: true,\n          svgoPlugins: [{removeViewBox: false}],\n          use: [pngcrush()]\n      }))\n      .pipe(gulp.dest('./dest/images/'))\n      .pipe(notify({ message: 'img task ok' }));\n  });\n```\n\n#### 13. 检查js  \n\n  [gulp-jshint](https://npm.taobao.org/package/gulp-jshint)  [gulp-jshint](https://npm.taobao.org/package/jshint)\n\n```\n// 检查js\n  gulp.task('lint', function() {\n    return gulp.src('src/js/*.js')\n      .pipe(jshint())\n      .pipe(jshint.reporter('default'))\n      .pipe(notify({ message: 'lint task ok' }));\n  });\n```\n\n#### 14. gzip压缩\n\n [gulp-gzip](https://npm.taobao.org/package/gulp-gzip)\n\n```\n  var gulp = require('gulp');\n  var gzip = require('gulp-gzip');\n\n  gulp.task('compress', function() {\n      gulp.src('./dev/scripts/*.js')\n      .pipe(gzip())\n      .pipe(gulp.dest('./public/scripts'));\n  });\n```\n\n#### 15. 处理前缀  \n\n[gulp-autoprefixer](https://npm.taobao.org/package/gulp-autoprefixer)\n\n```\n  var gulp = require('gulp');\n  var autoprefixer = require('gulp-autoprefixer');\n\n  gulp.task('default', function () {\n    return gulp.src('src/app.css')\n      .pipe(sourcemaps.init())\n        .pipe(autoprefixer({\n            browsers: ['last 2 versions'],\n            cascade: false\n        }))\n        .pipe(concat('all.css'))\n        .pipe(sourcemaps.write('.',{sourceRoot:config.dist}))\n        .pipe(gulp.dest('dist'));\n  });\n```\n\n\n### 七、项目地址\n[gulp-start-kit](https://github.com/syoubaku/gulp-start-kit)\n","slug":"GulpUse","published":1,"updated":"2016-12-01T06:50:31.027Z","_id":"civ0ggq84002prwvncyx9ybtp","comments":1,"layout":"post","photos":[],"link":"","content":"<p>先前学习了webpack,但是总是感觉webpack略显复杂，并且现在很多公司gulp工作流用的比较多，因此就入gulp的坑来踩一踩，技多不压身，霍霍霍…。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/gulp.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、简介-增强和使你的工作自动化\"><a href=\"#一、简介-增强和使你的工作自动化\" class=\"headerlink\" title=\"一、简介(增强和使你的工作自动化)\"></a>一、简介(增强和使你的工作自动化)</h3><h4 id=\"1-使用简单\"><a href=\"#1-使用简单\" class=\"headerlink\" title=\"1. 使用简单\"></a>1. 使用简单</h4><p>没有繁琐的配置，一个任务一个task。通过代码优于配置的策略，Gulp 让简单的任务简单，复杂的任务可管理。  </p>\n<h4 id=\"2-高效\"><a href=\"#2-高效\" class=\"headerlink\" title=\"2. 高效\"></a>2. 高效</h4><p>利用node强大的工作流，快速的构建项目并减少频繁的 IO 操作。  </p>\n<h4 id=\"3-高质量\"><a href=\"#3-高质量\" class=\"headerlink\" title=\"3. 高质量\"></a>3. 高质量</h4><p>gulp生态圈有相当多优秀的插件以供我们使用，Gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。</p>\n<h4 id=\"4-易学\"><a href=\"#4-易学\" class=\"headerlink\" title=\"4. 易学\"></a>4. 易学</h4><p>通过最少的 API，掌握 Gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。</p>\n<h3 id=\"二、gulp相关api\"><a href=\"#二、gulp相关api\" class=\"headerlink\" title=\"二、gulp相关api\"></a>二、gulp相关api</h3><h4 id=\"1-gulp-src-来源\"><a href=\"#1-gulp-src-来源\" class=\"headerlink\" title=\"1. gulp.src: 来源\"></a>1. <code>gulp.src</code>: 来源</h4><h4 id=\"2-gulp-dest-目标\"><a href=\"#2-gulp-dest-目标\" class=\"headerlink\" title=\"2. gulp.dest: 目标\"></a>2. <code>gulp.dest</code>: 目标</h4><h4 id=\"3-gulp-pipe-管道\"><a href=\"#3-gulp-pipe-管道\" class=\"headerlink\" title=\"3. gulp.pipe: 管道\"></a>3. <code>gulp.pipe</code>: 管道</h4><h4 id=\"4-gulp-watch-热加载\"><a href=\"#4-gulp-watch-热加载\" class=\"headerlink\" title=\"4. gulp.watch: 热加载\"></a>4. <code>gulp.watch</code>: 热加载</h4><h4 id=\"5-gulp-task-任务\"><a href=\"#5-gulp-task-任务\" class=\"headerlink\" title=\"5. gulp.task: 任务\"></a>5. <code>gulp.task</code>: 任务</h4><h4 id=\"6-gulp-task-‘default’\"><a href=\"#6-gulp-task-‘default’\" class=\"headerlink\" title=\"6. gulp.task(‘default’)\"></a>6. <code>gulp.task</code>(‘default’)</h4><p> 默认任务,必须存在</p>\n<h3 id=\"三、使用-工作流程\"><a href=\"#三、使用-工作流程\" class=\"headerlink\" title=\"三、使用(工作流程)\"></a>三、使用(工作流程)</h3><h4 id=\"1-全局安装gulp\"><a href=\"#1-全局安装gulp\" class=\"headerlink\" title=\"1. 全局安装gulp\"></a>1. 全局安装gulp</h4><p><code>npm install -g gulp</code>  </p>\n<h4 id=\"2-建立项目\"><a href=\"#2-建立项目\" class=\"headerlink\" title=\"2. 建立项目\"></a>2. 建立项目</h4><p><code>mkdir gulp-test &amp;&amp; cd gulp-test</code></p>\n<h4 id=\"3-初始化项目\"><a href=\"#3-初始化项目\" class=\"headerlink\" title=\"3. 初始化项目\"></a>3. 初始化项目</h4><p><code>npm init -y</code>  (会生成package.json)   </p>\n<h4 id=\"4-安装项目依赖\"><a href=\"#4-安装项目依赖\" class=\"headerlink\" title=\"4. 安装项目依赖\"></a>4. 安装项目依赖</h4><p><code>npm install --save-dev gulp</code></p>\n<ol>\n<li>创建配置文件<br><code>touch gulpfile.js</code><h4 id=\"6-gulp常用的功能\"><a href=\"#6-gulp常用的功能\" class=\"headerlink\" title=\"6. gulp常用的功能\"></a>6. gulp常用的功能</h4>转码（<code>gulp-babel</code> <code>babel-preset-es2015</code> <code>gulp-sass</code> <code>gulp-less</code> <code>gulp-react</code>）、合并（<code>gulp-concat</code>）、压缩（<code>gulp-uglify</code>）、模块化（<code>gulp-browserify</code>）、测试（gulp-jasmine），请依次安装这些依赖。<h4 id=\"7-小常识\"><a href=\"#7-小常识\" class=\"headerlink\" title=\"7. 小常识\"></a>7. 小常识</h4>因为国外的网站比较慢 npm经常会卡住。我们可以设置镜像源或使用<code>cnpm</code>或者设置镜像源<code>npm config set registry https://registry.npm.taobao.org</code><h4 id=\"8-写配置\"><a href=\"#8-写配置\" class=\"headerlink\" title=\"8. 写配置\"></a>8. 写配置</h4>（gulpfile一定有一个default的任务，你可以把每个任务分文件书写然后再require进来，这种方式适合多人同时书写任务时，可以防止多人修改同一文件导致的冲突）</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> babel = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-babel\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-react\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> sass = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-sass\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> less = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-less\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> uglify = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-uglify\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> jasmine = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-jasmine\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> concat = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-concat\"</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//定义常量</span></div><div class=\"line\"><span class=\"keyword\">const</span> transformJs = <span class=\"string\">\"transformJs\"</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> transformSass = <span class=\"string\">\"transformSass\"</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> transformLess = <span class=\"string\">\"transformLess\"</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> test = <span class=\"string\">'test'</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//js</span></div><div class=\"line\">gulp.task(transformJs, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/*.js\"</span>)</div><div class=\"line\">        .pipe(react())</div><div class=\"line\">        .pipe(babel(</div><div class=\"line\">            &#123;</div><div class=\"line\">                <span class=\"attr\">presets</span>: [<span class=\"string\">\"babel-preset-es2015\"</span>]</div><div class=\"line\">            &#125;</div><div class=\"line\">        ))</div><div class=\"line\">        .pipe(concat(<span class=\"string\">'bundle.min.js'</span>))</div><div class=\"line\">        .pipe(uglify())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// scss</span></div><div class=\"line\">gulp.task(transformSass, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.scss\"</span>)</div><div class=\"line\">        .pipe(sass())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// less</span></div><div class=\"line\">gulp.task(transformLess, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.less\"</span>)</div><div class=\"line\">        .pipe(less())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// jasmine</span></div><div class=\"line\">gulp.task(test, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"./test/*.js\"</span>)</div><div class=\"line\">        .pipe(jasmine())</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">\"default\"</span>, [transformJs, transformSass, transformLess, test]);</div></pre></td></tr></table></figure>\n<h3 id=\"四、配置文件解读\"><a href=\"#四、配置文件解读\" class=\"headerlink\" title=\"四、配置文件解读\"></a>四、配置文件解读</h3><h4 id=\"1-第一部分\"><a href=\"#1-第一部分\" class=\"headerlink\" title=\"1. 第一部分\"></a>1. 第一部分</h4><p>一堆<code>reqire</code>,是引用gulp相应的插件。在引用之前要确保己经安装。</p>\n<h4 id=\"2-第二部分\"><a href=\"#2-第二部分\" class=\"headerlink\" title=\"2. 第二部分\"></a>2. 第二部分</h4><p>几个<code>const</code>,是定义任务名常量，有多几任务就定义多少常量。</p>\n<h4 id=\"3-第三部分\"><a href=\"#3-第三部分\" class=\"headerlink\" title=\"3. 第三部分\"></a>3. 第三部分</h4><p>几个<code>task</code>,每个task对应一个任务，具有不同的功能。可以使用 <code>gulp xxx</code>来启动这个任务。</p>\n<h4 id=\"4-第四部分\"><a href=\"#4-第四部分\" class=\"headerlink\" title=\"4. 第四部分\"></a>4. 第四部分</h4><p><code>default</code>,是执行<code>gulp</code>之后就会开始的任务 常用参数(<code>&#39;default&#39;,[task1,task2,...],callback[可选]</code>)。</p>\n<h3 id=\"五、执行\"><a href=\"#五、执行\" class=\"headerlink\" title=\"五、执行\"></a>五、执行</h3><ol>\n<li>如果要执行<code>default</code>任务，直接<code>gulp</code></li>\n</ol>\n<figure class=\"highlight scheme\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"name\">09:56:04</span>] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js</div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'transformJs</span><span class=\"symbol\">'...</span></div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'transformSass</span><span class=\"symbol\">'...</span></div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'transformLess</span><span class=\"symbol\">'...</span></div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'test</span><span class=\"symbol\">'...</span></div><div class=\"line\">.</div><div class=\"line\"></div><div class=\"line\"><span class=\"number\">1</span> spec, <span class=\"number\">0</span> failures</div><div class=\"line\">Finished in <span class=\"number\">0</span> seconds</div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Finished <span class=\"symbol\">'test</span>' after <span class=\"number\">62</span> ms</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'transformLess</span>' after <span class=\"number\">2.66</span> s</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'transformSass</span>' after <span class=\"number\">2.68</span> s</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'transformJs</span>' after <span class=\"number\">2.7</span> s</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'default</span>' after <span class=\"number\">32</span> μs</div><div class=\"line\"></div><div class=\"line\">Process finished with exit code <span class=\"number\">0</span></div></pre></td></tr></table></figure>\n<ol>\n<li>如果想要执行单个任务，请输入 <code>gulp taskName</code>,例如<code>gulp test</code></li>\n</ol>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"number\">09</span>:<span class=\"number\">56</span>:<span class=\"number\">47</span>] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js</div><div class=\"line\">[<span class=\"number\">09</span>:<span class=\"number\">56</span>:<span class=\"number\">47</span>] Starting <span class=\"string\">'test'</span>...</div><div class=\"line\">.</div><div class=\"line\"></div><div class=\"line\"><span class=\"number\">1</span> spec, <span class=\"number\">0</span> failures</div><div class=\"line\">Finished <span class=\"keyword\">in</span> <span class=\"number\">0</span> seconds</div><div class=\"line\">[<span class=\"number\">09</span>:<span class=\"number\">56</span>:<span class=\"number\">47</span>] Finished <span class=\"string\">'test'</span> after <span class=\"number\">77</span> ms</div><div class=\"line\"></div><div class=\"line\">Process finished with <span class=\"keyword\">exit</span> code <span class=\"number\">0</span></div></pre></td></tr></table></figure>\n<h3 id=\"六、gulp常见任务\"><a href=\"#六、gulp常见任务\" class=\"headerlink\" title=\"六、gulp常见任务\"></a>六、gulp常见任务</h3><h4 id=\"1-处理js\"><a href=\"#1-处理js\" class=\"headerlink\" title=\"1. 处理js\"></a>1. 处理js</h4><p>（包括转码、合并、压缩）  <a href=\"https://npm.taobao.org/package/gulp-babel\" target=\"_blank\" rel=\"external\">gulp-babel</a> <a href=\"https://npm.taobao.org/package/babel-preset-es2015\" target=\"_blank\" rel=\"external\">babel-preset-es2015</a> <a href=\"https://npm.taobao.org/package/gulp-concat\" target=\"_blank\" rel=\"external\">gulp-concat</a> <a href=\"https://npm.taobao.org/package/gulp-uglify\" target=\"_blank\" rel=\"external\">gulp-uglify</a></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.task</span>(transformJs, function () &#123;</div><div class=\"line\">  <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.src</span>(<span class=\"string\">\"src/*.js\"</span>)</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(react())</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(babel(</div><div class=\"line\">          &#123;</div><div class=\"line\">              <span class=\"attribute\">presets</span>: [<span class=\"string\">\"babel-preset-es2015\"</span>]</div><div class=\"line\">          &#125;</div><div class=\"line\">      ))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(concat(<span class=\"string\">'bundle.min.js'</span>))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(uglify())</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"2-处理scss\"><a href=\"#2-处理scss\" class=\"headerlink\" title=\"2. 处理scss\"></a>2. 处理scss</h4><p>(包括转码、合并、压缩)  <a href=\"https://npm.taobao.org/package/gulp-sass\" target=\"_blank\" rel=\"external\">gulp-sass</a>  <a href=\"https://npm.taobao.org/package/gulp-concat\" target=\"_blank\" rel=\"external\">gulp-concat</a> <a href=\"https://npm.taobao.org/package/gulp-uglify\" target=\"_blank\" rel=\"external\">gulp-uglify</a></p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// scss</span></div><div class=\"line\">gulp.task(transformSass, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.scss\"</span>)</div><div class=\"line\">        .pipe(sass())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"3-处理less\"><a href=\"#3-处理less\" class=\"headerlink\" title=\"3. 处理less\"></a>3. 处理less</h4><p>(包括转码、合并、压缩)  <a href=\"https://npm.taobao.org/package/gulp-less\" target=\"_blank\" rel=\"external\">gulp-less</a>  <a href=\"https://npm.taobao.org/package/gulp-concat\" target=\"_blank\" rel=\"external\">gulp-concat</a> <a href=\"https://npm.taobao.org/package/gulp-uglify\" target=\"_blank\" rel=\"external\">gulp-uglify</a></p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// less</span></div><div class=\"line\">gulp.task(transformLess, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.less\"</span>)</div><div class=\"line\">      .pipe(less())</div><div class=\"line\">      .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"4-测试\"><a href=\"#4-测试\" class=\"headerlink\" title=\"4. 测试\"></a>4. 测试</h4><p><a href=\"https://npm.taobao.org/package/gulp-jasmine\" target=\"_blank\" rel=\"external\">gulp-jasmine</a>  </p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// jasmine</span></div><div class=\"line\">gulp.task(test, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"./test/*.js\"</span>)</div><div class=\"line\">        .pipe(jasmine())</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//测试文件 test.spec.js</span></div><div class=\"line\">describe(<span class=\"string\">'test one'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    it(<span class=\"string\">'test'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        expect(<span class=\"literal\">true</span>).toBe(<span class=\"literal\">true</span>);</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"5-清理\"><a href=\"#5-清理\" class=\"headerlink\" title=\"5. 清理\"></a>5. 清理</h4><p> <a href=\"https://npm.taobao.org/package/gulp-clean\" target=\"_blank\" rel=\"external\">gulp-clean</a></p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp.<span class=\"keyword\">task</span>(<span class=\"symbol\">'clean</span>', <span class=\"keyword\">function</span> <span class=\"title\"></span>() &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"type\">gulp.src(config.dist</span> + '/*', &#123;read: <span class=\"literal\">false</span>&#125;)</div><div class=\"line\">      .pipe(clean());</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"6-热加载\"><a href=\"#6-热加载\" class=\"headerlink\" title=\"6. 热加载\"></a>6. 热加载</h4><p>  <a href=\"https://npm.taobao.org/package/gulp-util\" target=\"_blank\" rel=\"external\">gulp-util</a> <a href=\"https://npm.taobao.org/package/gulp-watch\" target=\"_blank\" rel=\"external\">gulp-watch</a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> util = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-util'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> watch = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-watch'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> config = &#123;&#125;;</div><div class=\"line\">config.dist = <span class=\"string\">'dist'</span>;</div><div class=\"line\">config.<span class=\"keyword\">static</span> = [</div><div class=\"line\">  <span class=\"string\">'bin/**/*'</span>,</div><div class=\"line\">  <span class=\"string\">'package.json'</span></div><div class=\"line\">];</div><div class=\"line\"><span class=\"comment\">// sync static resource in production mode</span></div><div class=\"line\">gulp.task(<span class=\"string\">'static-sync'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> gulp.src(config.<span class=\"keyword\">static</span>, &#123;base: <span class=\"string\">'./'</span>&#125;)</div><div class=\"line\">      .pipe(gulp.dest(config.dist));</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'static-sync:dev'</span>, [<span class=\"string\">'static-sync'</span>], <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  util.log(<span class=\"string\">'[Sync] starting file watch'</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> watch(config.<span class=\"keyword\">static</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(obj)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (obj.event === <span class=\"string\">'change'</span> || obj.event === <span class=\"string\">'add'</span>)</div><div class=\"line\">      <span class=\"keyword\">return</span> gulp.src(obj.path, &#123;base: <span class=\"string\">'./'</span>&#125;)</div><div class=\"line\">          .pipe(gulp.dest(config.dist))</div><div class=\"line\">          .pipe(<span class=\"keyword\">print</span>(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'[Sync] file sync success: '</span> + obj.path.replace(obj.base, <span class=\"string\">''</span>);</div><div class=\"line\">          &#125;));</div><div class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (obj.event === <span class=\"string\">'unlink'</span>) &#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> distFilePath = obj.path.replace(__dirname, __dirname + <span class=\"string\">'/'</span> + config.dist);</div><div class=\"line\">      <span class=\"keyword\">return</span> gulp.src(distFilePath)</div><div class=\"line\">          .pipe(clean())</div><div class=\"line\">          .pipe(<span class=\"keyword\">print</span>(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'[Sync] file remove success: '</span> + obj.path.replace(obj.base, <span class=\"string\">''</span>);</div><div class=\"line\">          &#125;));</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"7-debug\"><a href=\"#7-debug\" class=\"headerlink\" title=\"7. debug\"></a>7. debug</h4><p> <a href=\"https://npm.taobao.org/package/gulp-print\" target=\"_blank\" rel=\"external\">gulp-print</a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//下载</span></div><div class=\"line\">npm install gulp-<span class=\"keyword\">print</span></div><div class=\"line\"><span class=\"comment\">//引用</span></div><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> <span class=\"keyword\">print</span> = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-print'</span>);</div><div class=\"line\"><span class=\"comment\">// 注册任务</span></div><div class=\"line\">gulp.task(<span class=\"string\">'print'</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  gulp.src(<span class=\"string\">'test/*.js'</span>)</div><div class=\"line\">    .pipe(<span class=\"keyword\">print</span>())</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"8-sourceMap\"><a href=\"#8-sourceMap\" class=\"headerlink\" title=\"8. sourceMap\"></a>8. sourceMap</h4><p>  <a href=\"https://npm.taobao.org/package/gulp-sourcemaps\" target=\"_blank\" rel=\"external\">gulp-sourcemaps</a></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">var sourcemaps = require(<span class=\"string\">'gulp-sourcemaps'</span>);</div><div class=\"line\"><span class=\"comment\">// compile server script in production mode</span></div><div class=\"line\">gulp.task(<span class=\"string\">'compile:server'</span>, function () &#123;</div><div class=\"line\">  <span class=\"keyword\">if</span> (config.babel.sourceMaps)&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'**/*.es6'</span>, &#123;base: './'&#125;)</div><div class=\"line\">        .pipe(sourcemaps.init())</div><div class=\"line\">        .pipe(babel(config.babel))</div><div class=\"line\">        .pipe(sourcemaps.write('.', &#123;sourceRoot: '/ustar'&#125;))</div><div class=\"line\">        .pipe(gulp.dest(config.dist));</div><div class=\"line\">  &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'**/*.es6'</span>, &#123;base: './'&#125;)</div><div class=\"line\">        .pipe(babel(&#123;</div><div class=\"line\">          preset:'babel-preset-es2015'</div><div class=\"line\">          &#125;))</div><div class=\"line\">        .pipe(gulp.dest('./dist'));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"9-复制静态资源\"><a href=\"#9-复制静态资源\" class=\"headerlink\" title=\"9. 复制静态资源\"></a>9. 复制静态资源</h4><figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp.task(<span class=\"string\">'static-sync'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'src/css/*'</span>, &#123;base: <span class=\"string\">'./'</span>&#125;)</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">'./dist'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"10-处理css雪碧图\"><a href=\"#10-处理css雪碧图\" class=\"headerlink\" title=\"10. 处理css雪碧图\"></a>10. 处理css雪碧图</h4><p> <a href=\"https://npm.taobao.org/package/gulp-css-spriter\" target=\"_blank\" rel=\"external\">gulp-css-spriter</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> spriter = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-css-spriter'</span>);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'css'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'./src/css/styles.css'</span>)</div><div class=\"line\">      .pipe(spriter(&#123;</div><div class=\"line\">          <span class=\"comment\">// The path and file name of where we will save the sprite sheet</span></div><div class=\"line\">          <span class=\"string\">'spriteSheet'</span>: <span class=\"string\">'./dist/images/spritesheet.png'</span>,</div><div class=\"line\">          <span class=\"comment\">// Because we don't know where you will end up saving the CSS file at this point in the pipe,</span></div><div class=\"line\">          <span class=\"comment\">// we need a litle help identifying where it will be.</span></div><div class=\"line\">          <span class=\"string\">'pathToSpriteSheetFromCSS'</span>: <span class=\"string\">'../images/spritesheet.png'</span></div><div class=\"line\">      &#125;))</div><div class=\"line\">      .pipe(gulp.dest(<span class=\"string\">'./dist/css'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"11-压缩css\"><a href=\"#11-压缩css\" class=\"headerlink\" title=\"11. 压缩css\"></a>11. 压缩css</h4><p><a href=\"https://npm.taobao.org/package/gulp-minify-css\" target=\"_blank\" rel=\"external\">gulp-minify-css</a></p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp.<span class=\"keyword\">task</span>(gulp_minify_css,<span class=\"keyword\">function</span> <span class=\"title\"></span>() &#123;</div><div class=\"line\">   <span class=\"keyword\">return</span> <span class=\"type\">gulp.src('./dist/*.css')</span></div><div class=\"line\">       .pipe(print())</div><div class=\"line\">       .pipe(minifycss())</div><div class=\"line\">       .pipe(gulp.dest(config.dist))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"12-压缩图片\"><a href=\"#12-压缩图片\" class=\"headerlink\" title=\"12. 压缩图片\"></a>12. 压缩图片</h4><p><a href=\"https://npm.taobao.org/package/gulp-imagemin\" target=\"_blank\" rel=\"external\">gulp-imagemin</a></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 压缩图片</span></div><div class=\"line\">  <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.task</span>(<span class=\"string\">'img'</span>, function() &#123;</div><div class=\"line\">    <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.src</span>(<span class=\"string\">'src/images/*'</span>)</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(imagemin(&#123;</div><div class=\"line\">          <span class=\"attribute\">progressive</span>: true,</div><div class=\"line\">          <span class=\"attribute\">svgoPlugins</span>: [&#123;<span class=\"attribute\">removeViewBox</span>: false&#125;],</div><div class=\"line\">          <span class=\"attribute\">use</span>: [pngcrush()]</div><div class=\"line\">      &#125;))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(gulp.dest(<span class=\"string\">'./dest/images/'</span>))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(notify(&#123; <span class=\"attribute\">message</span>: <span class=\"string\">'img task ok'</span> &#125;));</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"13-检查js\"><a href=\"#13-检查js\" class=\"headerlink\" title=\"13. 检查js\"></a>13. 检查js</h4><p>  <a href=\"https://npm.taobao.org/package/gulp-jshint\" target=\"_blank\" rel=\"external\">gulp-jshint</a>  <a href=\"https://npm.taobao.org/package/jshint\" target=\"_blank\" rel=\"external\">gulp-jshint</a></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 检查js</span></div><div class=\"line\">  <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.task</span>(<span class=\"string\">'lint'</span>, function() &#123;</div><div class=\"line\">    <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.src</span>(<span class=\"string\">'src/js/*.js'</span>)</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(jshint())</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(jshint.reporter(<span class=\"string\">'default'</span>))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(notify(&#123; <span class=\"attribute\">message</span>: <span class=\"string\">'lint task ok'</span> &#125;));</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"14-gzip压缩\"><a href=\"#14-gzip压缩\" class=\"headerlink\" title=\"14. gzip压缩\"></a>14. gzip压缩</h4><p> <a href=\"https://npm.taobao.org/package/gulp-gzip\" target=\"_blank\" rel=\"external\">gulp-gzip</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> gzip = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-gzip'</span>);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'compress'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    gulp.src(<span class=\"string\">'./dev/scripts/*.js'</span>)</div><div class=\"line\">    .pipe(gzip())</div><div class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public/scripts'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"15-处理前缀\"><a href=\"#15-处理前缀\" class=\"headerlink\" title=\"15. 处理前缀\"></a>15. 处理前缀</h4><p><a href=\"https://npm.taobao.org/package/gulp-autoprefixer\" target=\"_blank\" rel=\"external\">gulp-autoprefixer</a></p>\n<figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> autoprefixer = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-autoprefixer'</span>);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'default'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> <span class=\"comment\">&#123;</span></span></div><div class=\"line\">  return gulp.src('src/app.css')</div><div class=\"line\">    .pipe(sourcemaps.init())</div><div class=\"line\">      .pipe(autoprefixer(&#123;</div><div class=\"line\">          browsers: ['last 2 versions'],</div><div class=\"line\">          cascade: false</div><div class=\"line\">      &#125;))</div><div class=\"line\">      .<span class=\"title\">pipe</span><span class=\"params\">(<span class=\"keyword\">concat</span>(<span class=\"string\">'all.css'</span>)</span>)</div><div class=\"line\">      .<span class=\"title\">pipe</span><span class=\"params\">(sourcemaps.<span class=\"keyword\">write</span>(<span class=\"string\">'.'</span>,&#123;sourceRoot:config.dist&#125;)</span>)</div><div class=\"line\">      .<span class=\"title\">pipe</span><span class=\"params\">(gulp.dest(<span class=\"string\">'dist'</span>)</span>);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h3 id=\"七、项目地址\"><a href=\"#七、项目地址\" class=\"headerlink\" title=\"七、项目地址\"></a>七、项目地址</h3><p><a href=\"https://github.com/syoubaku/gulp-start-kit\" target=\"_blank\" rel=\"external\">gulp-start-kit</a></p>\n","excerpt":"<p>先前学习了webpack,但是总是感觉webpack略显复杂，并且现在很多公司gulp工作流用的比较多，因此就入gulp的坑来踩一踩，技多不压身，霍霍霍…。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/gulp.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、简介-增强和使你的工作自动化\"><a href=\"#一、简介-增强和使你的工作自动化\" class=\"headerlink\" title=\"一、简介(增强和使你的工作自动化)\"></a>一、简介(增强和使你的工作自动化)</h3><h4 id=\"1-使用简单\"><a href=\"#1-使用简单\" class=\"headerlink\" title=\"1. 使用简单\"></a>1. 使用简单</h4><p>没有繁琐的配置，一个任务一个task。通过代码优于配置的策略，Gulp 让简单的任务简单，复杂的任务可管理。  </p>\n<h4 id=\"2-高效\"><a href=\"#2-高效\" class=\"headerlink\" title=\"2. 高效\"></a>2. 高效</h4><p>利用node强大的工作流，快速的构建项目并减少频繁的 IO 操作。  </p>\n<h4 id=\"3-高质量\"><a href=\"#3-高质量\" class=\"headerlink\" title=\"3. 高质量\"></a>3. 高质量</h4><p>gulp生态圈有相当多优秀的插件以供我们使用，Gulp 严格的插件指南确保插件如你期望的那样简洁高质得工作。</p>\n<h4 id=\"4-易学\"><a href=\"#4-易学\" class=\"headerlink\" title=\"4. 易学\"></a>4. 易学</h4><p>通过最少的 API，掌握 Gulp 毫不费力，构建工作尽在掌握：如同一系列流管道。</p>\n<h3 id=\"二、gulp相关api\"><a href=\"#二、gulp相关api\" class=\"headerlink\" title=\"二、gulp相关api\"></a>二、gulp相关api</h3><h4 id=\"1-gulp-src-来源\"><a href=\"#1-gulp-src-来源\" class=\"headerlink\" title=\"1. gulp.src: 来源\"></a>1. <code>gulp.src</code>: 来源</h4><h4 id=\"2-gulp-dest-目标\"><a href=\"#2-gulp-dest-目标\" class=\"headerlink\" title=\"2. gulp.dest: 目标\"></a>2. <code>gulp.dest</code>: 目标</h4><h4 id=\"3-gulp-pipe-管道\"><a href=\"#3-gulp-pipe-管道\" class=\"headerlink\" title=\"3. gulp.pipe: 管道\"></a>3. <code>gulp.pipe</code>: 管道</h4><h4 id=\"4-gulp-watch-热加载\"><a href=\"#4-gulp-watch-热加载\" class=\"headerlink\" title=\"4. gulp.watch: 热加载\"></a>4. <code>gulp.watch</code>: 热加载</h4><h4 id=\"5-gulp-task-任务\"><a href=\"#5-gulp-task-任务\" class=\"headerlink\" title=\"5. gulp.task: 任务\"></a>5. <code>gulp.task</code>: 任务</h4><h4 id=\"6-gulp-task-‘default’\"><a href=\"#6-gulp-task-‘default’\" class=\"headerlink\" title=\"6. gulp.task(‘default’)\"></a>6. <code>gulp.task</code>(‘default’)</h4><p> 默认任务,必须存在</p>\n<h3 id=\"三、使用-工作流程\"><a href=\"#三、使用-工作流程\" class=\"headerlink\" title=\"三、使用(工作流程)\"></a>三、使用(工作流程)</h3><h4 id=\"1-全局安装gulp\"><a href=\"#1-全局安装gulp\" class=\"headerlink\" title=\"1. 全局安装gulp\"></a>1. 全局安装gulp</h4><p><code>npm install -g gulp</code>  </p>\n<h4 id=\"2-建立项目\"><a href=\"#2-建立项目\" class=\"headerlink\" title=\"2. 建立项目\"></a>2. 建立项目</h4><p><code>mkdir gulp-test &amp;&amp; cd gulp-test</code></p>\n<h4 id=\"3-初始化项目\"><a href=\"#3-初始化项目\" class=\"headerlink\" title=\"3. 初始化项目\"></a>3. 初始化项目</h4><p><code>npm init -y</code>  (会生成package.json)   </p>\n<h4 id=\"4-安装项目依赖\"><a href=\"#4-安装项目依赖\" class=\"headerlink\" title=\"4. 安装项目依赖\"></a>4. 安装项目依赖</h4><p><code>npm install --save-dev gulp</code></p>\n<ol>\n<li>创建配置文件<br><code>touch gulpfile.js</code><h4 id=\"6-gulp常用的功能\"><a href=\"#6-gulp常用的功能\" class=\"headerlink\" title=\"6. gulp常用的功能\"></a>6. gulp常用的功能</h4>转码（<code>gulp-babel</code> <code>babel-preset-es2015</code> <code>gulp-sass</code> <code>gulp-less</code> <code>gulp-react</code>）、合并（<code>gulp-concat</code>）、压缩（<code>gulp-uglify</code>）、模块化（<code>gulp-browserify</code>）、测试（gulp-jasmine），请依次安装这些依赖。<h4 id=\"7-小常识\"><a href=\"#7-小常识\" class=\"headerlink\" title=\"7. 小常识\"></a>7. 小常识</h4>因为国外的网站比较慢 npm经常会卡住。我们可以设置镜像源或使用<code>cnpm</code>或者设置镜像源<code>npm config set registry https://registry.npm.taobao.org</code><h4 id=\"8-写配置\"><a href=\"#8-写配置\" class=\"headerlink\" title=\"8. 写配置\"></a>8. 写配置</h4>（gulpfile一定有一个default的任务，你可以把每个任务分文件书写然后再require进来，这种方式适合多人同时书写任务时，可以防止多人修改同一文件导致的冲突）</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> babel = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-babel\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> react = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-react\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> sass = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-sass\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> less = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-less\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> uglify = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-uglify\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> jasmine = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-jasmine\"</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> concat = <span class=\"built_in\">require</span>(<span class=\"string\">\"gulp-concat\"</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//定义常量</span></div><div class=\"line\"><span class=\"keyword\">const</span> transformJs = <span class=\"string\">\"transformJs\"</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> transformSass = <span class=\"string\">\"transformSass\"</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> transformLess = <span class=\"string\">\"transformLess\"</span>;</div><div class=\"line\"><span class=\"keyword\">const</span> test = <span class=\"string\">'test'</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//js</span></div><div class=\"line\">gulp.task(transformJs, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/*.js\"</span>)</div><div class=\"line\">        .pipe(react())</div><div class=\"line\">        .pipe(babel(</div><div class=\"line\">            &#123;</div><div class=\"line\">                <span class=\"attr\">presets</span>: [<span class=\"string\">\"babel-preset-es2015\"</span>]</div><div class=\"line\">            &#125;</div><div class=\"line\">        ))</div><div class=\"line\">        .pipe(concat(<span class=\"string\">'bundle.min.js'</span>))</div><div class=\"line\">        .pipe(uglify())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// scss</span></div><div class=\"line\">gulp.task(transformSass, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.scss\"</span>)</div><div class=\"line\">        .pipe(sass())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// less</span></div><div class=\"line\">gulp.task(transformLess, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.less\"</span>)</div><div class=\"line\">        .pipe(less())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// jasmine</span></div><div class=\"line\">gulp.task(test, <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"./test/*.js\"</span>)</div><div class=\"line\">        .pipe(jasmine())</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">\"default\"</span>, [transformJs, transformSass, transformLess, test]);</div></pre></td></tr></table></figure>\n<h3 id=\"四、配置文件解读\"><a href=\"#四、配置文件解读\" class=\"headerlink\" title=\"四、配置文件解读\"></a>四、配置文件解读</h3><h4 id=\"1-第一部分\"><a href=\"#1-第一部分\" class=\"headerlink\" title=\"1. 第一部分\"></a>1. 第一部分</h4><p>一堆<code>reqire</code>,是引用gulp相应的插件。在引用之前要确保己经安装。</p>\n<h4 id=\"2-第二部分\"><a href=\"#2-第二部分\" class=\"headerlink\" title=\"2. 第二部分\"></a>2. 第二部分</h4><p>几个<code>const</code>,是定义任务名常量，有多几任务就定义多少常量。</p>\n<h4 id=\"3-第三部分\"><a href=\"#3-第三部分\" class=\"headerlink\" title=\"3. 第三部分\"></a>3. 第三部分</h4><p>几个<code>task</code>,每个task对应一个任务，具有不同的功能。可以使用 <code>gulp xxx</code>来启动这个任务。</p>\n<h4 id=\"4-第四部分\"><a href=\"#4-第四部分\" class=\"headerlink\" title=\"4. 第四部分\"></a>4. 第四部分</h4><p><code>default</code>,是执行<code>gulp</code>之后就会开始的任务 常用参数(<code>&#39;default&#39;,[task1,task2,...],callback[可选]</code>)。</p>\n<h3 id=\"五、执行\"><a href=\"#五、执行\" class=\"headerlink\" title=\"五、执行\"></a>五、执行</h3><ol>\n<li>如果要执行<code>default</code>任务，直接<code>gulp</code></li>\n</ol>\n<figure class=\"highlight scheme\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"name\">09:56:04</span>] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js</div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'transformJs</span><span class=\"symbol\">'...</span></div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'transformSass</span><span class=\"symbol\">'...</span></div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'transformLess</span><span class=\"symbol\">'...</span></div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Starting <span class=\"symbol\">'test</span><span class=\"symbol\">'...</span></div><div class=\"line\">.</div><div class=\"line\"></div><div class=\"line\"><span class=\"number\">1</span> spec, <span class=\"number\">0</span> failures</div><div class=\"line\">Finished in <span class=\"number\">0</span> seconds</div><div class=\"line\">[<span class=\"name\">09:56:04</span>] Finished <span class=\"symbol\">'test</span>' after <span class=\"number\">62</span> ms</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'transformLess</span>' after <span class=\"number\">2.66</span> s</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'transformSass</span>' after <span class=\"number\">2.68</span> s</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'transformJs</span>' after <span class=\"number\">2.7</span> s</div><div class=\"line\">[<span class=\"name\">09:56:06</span>] Finished <span class=\"symbol\">'default</span>' after <span class=\"number\">32</span> μs</div><div class=\"line\"></div><div class=\"line\">Process finished with exit code <span class=\"number\">0</span></div></pre></td></tr></table></figure>\n<ol>\n<li>如果想要执行单个任务，请输入 <code>gulp taskName</code>,例如<code>gulp test</code></li>\n</ol>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">[<span class=\"number\">09</span>:<span class=\"number\">56</span>:<span class=\"number\">47</span>] Using gulpfile e:\\oscchina\\gulp-start-kit\\gulpfile.js</div><div class=\"line\">[<span class=\"number\">09</span>:<span class=\"number\">56</span>:<span class=\"number\">47</span>] Starting <span class=\"string\">'test'</span>...</div><div class=\"line\">.</div><div class=\"line\"></div><div class=\"line\"><span class=\"number\">1</span> spec, <span class=\"number\">0</span> failures</div><div class=\"line\">Finished <span class=\"keyword\">in</span> <span class=\"number\">0</span> seconds</div><div class=\"line\">[<span class=\"number\">09</span>:<span class=\"number\">56</span>:<span class=\"number\">47</span>] Finished <span class=\"string\">'test'</span> after <span class=\"number\">77</span> ms</div><div class=\"line\"></div><div class=\"line\">Process finished with <span class=\"keyword\">exit</span> code <span class=\"number\">0</span></div></pre></td></tr></table></figure>\n<h3 id=\"六、gulp常见任务\"><a href=\"#六、gulp常见任务\" class=\"headerlink\" title=\"六、gulp常见任务\"></a>六、gulp常见任务</h3><h4 id=\"1-处理js\"><a href=\"#1-处理js\" class=\"headerlink\" title=\"1. 处理js\"></a>1. 处理js</h4><p>（包括转码、合并、压缩）  <a href=\"https://npm.taobao.org/package/gulp-babel\">gulp-babel</a> <a href=\"https://npm.taobao.org/package/babel-preset-es2015\">babel-preset-es2015</a> <a href=\"https://npm.taobao.org/package/gulp-concat\">gulp-concat</a> <a href=\"https://npm.taobao.org/package/gulp-uglify\">gulp-uglify</a></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.task</span>(transformJs, function () &#123;</div><div class=\"line\">  <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.src</span>(<span class=\"string\">\"src/*.js\"</span>)</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(react())</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(babel(</div><div class=\"line\">          &#123;</div><div class=\"line\">              <span class=\"attribute\">presets</span>: [<span class=\"string\">\"babel-preset-es2015\"</span>]</div><div class=\"line\">          &#125;</div><div class=\"line\">      ))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(concat(<span class=\"string\">'bundle.min.js'</span>))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(uglify())</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"2-处理scss\"><a href=\"#2-处理scss\" class=\"headerlink\" title=\"2. 处理scss\"></a>2. 处理scss</h4><p>(包括转码、合并、压缩)  <a href=\"https://npm.taobao.org/package/gulp-sass\">gulp-sass</a>  <a href=\"https://npm.taobao.org/package/gulp-concat\">gulp-concat</a> <a href=\"https://npm.taobao.org/package/gulp-uglify\">gulp-uglify</a></p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// scss</span></div><div class=\"line\">gulp.task(transformSass, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.scss\"</span>)</div><div class=\"line\">        .pipe(sass())</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"3-处理less\"><a href=\"#3-处理less\" class=\"headerlink\" title=\"3. 处理less\"></a>3. 处理less</h4><p>(包括转码、合并、压缩)  <a href=\"https://npm.taobao.org/package/gulp-less\">gulp-less</a>  <a href=\"https://npm.taobao.org/package/gulp-concat\">gulp-concat</a> <a href=\"https://npm.taobao.org/package/gulp-uglify\">gulp-uglify</a></p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// less</span></div><div class=\"line\">gulp.task(transformLess, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"src/css/*.less\"</span>)</div><div class=\"line\">      .pipe(less())</div><div class=\"line\">      .pipe(gulp.dest(<span class=\"string\">\"./dist\"</span>))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"4-测试\"><a href=\"#4-测试\" class=\"headerlink\" title=\"4. 测试\"></a>4. 测试</h4><p><a href=\"https://npm.taobao.org/package/gulp-jasmine\">gulp-jasmine</a>  </p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// jasmine</span></div><div class=\"line\">gulp.task(test, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">\"./test/*.js\"</span>)</div><div class=\"line\">        .pipe(jasmine())</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//测试文件 test.spec.js</span></div><div class=\"line\">describe(<span class=\"string\">'test one'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    it(<span class=\"string\">'test'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        expect(<span class=\"literal\">true</span>).toBe(<span class=\"literal\">true</span>);</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"5-清理\"><a href=\"#5-清理\" class=\"headerlink\" title=\"5. 清理\"></a>5. 清理</h4><p> <a href=\"https://npm.taobao.org/package/gulp-clean\">gulp-clean</a></p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp.<span class=\"keyword\">task</span>(<span class=\"symbol\">'clean</span>', <span class=\"keyword\">function</span> <span class=\"title\"></span>() &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"type\">gulp.src(config.dist</span> + '/*', &#123;read: <span class=\"literal\">false</span>&#125;)</div><div class=\"line\">      .pipe(clean());</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"6-热加载\"><a href=\"#6-热加载\" class=\"headerlink\" title=\"6. 热加载\"></a>6. 热加载</h4><p>  <a href=\"https://npm.taobao.org/package/gulp-util\">gulp-util</a> <a href=\"https://npm.taobao.org/package/gulp-watch\">gulp-watch</a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> util = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-util'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> watch = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-watch'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> config = &#123;&#125;;</div><div class=\"line\">config.dist = <span class=\"string\">'dist'</span>;</div><div class=\"line\">config.<span class=\"keyword\">static</span> = [</div><div class=\"line\">  <span class=\"string\">'bin/**/*'</span>,</div><div class=\"line\">  <span class=\"string\">'package.json'</span></div><div class=\"line\">];</div><div class=\"line\"><span class=\"comment\">// sync static resource in production mode</span></div><div class=\"line\">gulp.task(<span class=\"string\">'static-sync'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> gulp.src(config.<span class=\"keyword\">static</span>, &#123;base: <span class=\"string\">'./'</span>&#125;)</div><div class=\"line\">      .pipe(gulp.dest(config.dist));</div><div class=\"line\">&#125;);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'static-sync:dev'</span>, [<span class=\"string\">'static-sync'</span>], <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  util.log(<span class=\"string\">'[Sync] starting file watch'</span>);</div><div class=\"line\">  <span class=\"keyword\">return</span> watch(config.<span class=\"keyword\">static</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">(obj)</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">if</span> (obj.event === <span class=\"string\">'change'</span> || obj.event === <span class=\"string\">'add'</span>)</div><div class=\"line\">      <span class=\"keyword\">return</span> gulp.src(obj.path, &#123;base: <span class=\"string\">'./'</span>&#125;)</div><div class=\"line\">          .pipe(gulp.dest(config.dist))</div><div class=\"line\">          .pipe(<span class=\"keyword\">print</span>(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'[Sync] file sync success: '</span> + obj.path.replace(obj.base, <span class=\"string\">''</span>);</div><div class=\"line\">          &#125;));</div><div class=\"line\">    <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (obj.event === <span class=\"string\">'unlink'</span>) &#123;</div><div class=\"line\">      <span class=\"keyword\">var</span> distFilePath = obj.path.replace(__dirname, __dirname + <span class=\"string\">'/'</span> + config.dist);</div><div class=\"line\">      <span class=\"keyword\">return</span> gulp.src(distFilePath)</div><div class=\"line\">          .pipe(clean())</div><div class=\"line\">          .pipe(<span class=\"keyword\">print</span>(<span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">'[Sync] file remove success: '</span> + obj.path.replace(obj.base, <span class=\"string\">''</span>);</div><div class=\"line\">          &#125;));</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"7-debug\"><a href=\"#7-debug\" class=\"headerlink\" title=\"7. debug\"></a>7. debug</h4><p> <a href=\"https://npm.taobao.org/package/gulp-print\">gulp-print</a></p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//下载</span></div><div class=\"line\">npm install gulp-<span class=\"keyword\">print</span></div><div class=\"line\"><span class=\"comment\">//引用</span></div><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> <span class=\"keyword\">print</span> = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-print'</span>);</div><div class=\"line\"><span class=\"comment\">// 注册任务</span></div><div class=\"line\">gulp.task(<span class=\"string\">'print'</span>, <span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">  gulp.src(<span class=\"string\">'test/*.js'</span>)</div><div class=\"line\">    .pipe(<span class=\"keyword\">print</span>())</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"8-sourceMap\"><a href=\"#8-sourceMap\" class=\"headerlink\" title=\"8. sourceMap\"></a>8. sourceMap</h4><p>  <a href=\"https://npm.taobao.org/package/gulp-sourcemaps\">gulp-sourcemaps</a></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">var sourcemaps = require(<span class=\"string\">'gulp-sourcemaps'</span>);</div><div class=\"line\"><span class=\"comment\">// compile server script in production mode</span></div><div class=\"line\">gulp.task(<span class=\"string\">'compile:server'</span>, function () &#123;</div><div class=\"line\">  <span class=\"keyword\">if</span> (config.babel.sourceMaps)&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'**/*.es6'</span>, &#123;base: './'&#125;)</div><div class=\"line\">        .pipe(sourcemaps.init())</div><div class=\"line\">        .pipe(babel(config.babel))</div><div class=\"line\">        .pipe(sourcemaps.write('.', &#123;sourceRoot: '/ustar'&#125;))</div><div class=\"line\">        .pipe(gulp.dest(config.dist));</div><div class=\"line\">  &#125;<span class=\"keyword\">else</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'**/*.es6'</span>, &#123;base: './'&#125;)</div><div class=\"line\">        .pipe(babel(&#123;</div><div class=\"line\">          preset:'babel-preset-es2015'</div><div class=\"line\">          &#125;))</div><div class=\"line\">        .pipe(gulp.dest('./dist'));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"9-复制静态资源\"><a href=\"#9-复制静态资源\" class=\"headerlink\" title=\"9. 复制静态资源\"></a>9. 复制静态资源</h4><figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp.task(<span class=\"string\">'static-sync'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'src/css/*'</span>, &#123;base: <span class=\"string\">'./'</span>&#125;)</div><div class=\"line\">        .pipe(gulp.dest(<span class=\"string\">'./dist'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"10-处理css雪碧图\"><a href=\"#10-处理css雪碧图\" class=\"headerlink\" title=\"10. 处理css雪碧图\"></a>10. 处理css雪碧图</h4><p> <a href=\"https://npm.taobao.org/package/gulp-css-spriter\">gulp-css-spriter</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> spriter = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-css-spriter'</span>);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'css'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> gulp.src(<span class=\"string\">'./src/css/styles.css'</span>)</div><div class=\"line\">      .pipe(spriter(&#123;</div><div class=\"line\">          <span class=\"comment\">// The path and file name of where we will save the sprite sheet</span></div><div class=\"line\">          <span class=\"string\">'spriteSheet'</span>: <span class=\"string\">'./dist/images/spritesheet.png'</span>,</div><div class=\"line\">          <span class=\"comment\">// Because we don't know where you will end up saving the CSS file at this point in the pipe,</span></div><div class=\"line\">          <span class=\"comment\">// we need a litle help identifying where it will be.</span></div><div class=\"line\">          <span class=\"string\">'pathToSpriteSheetFromCSS'</span>: <span class=\"string\">'../images/spritesheet.png'</span></div><div class=\"line\">      &#125;))</div><div class=\"line\">      .pipe(gulp.dest(<span class=\"string\">'./dist/css'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"11-压缩css\"><a href=\"#11-压缩css\" class=\"headerlink\" title=\"11. 压缩css\"></a>11. 压缩css</h4><p><a href=\"https://npm.taobao.org/package/gulp-minify-css\">gulp-minify-css</a></p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">gulp.<span class=\"keyword\">task</span>(gulp_minify_css,<span class=\"keyword\">function</span> <span class=\"title\"></span>() &#123;</div><div class=\"line\">   <span class=\"keyword\">return</span> <span class=\"type\">gulp.src('./dist/*.css')</span></div><div class=\"line\">       .pipe(print())</div><div class=\"line\">       .pipe(minifycss())</div><div class=\"line\">       .pipe(gulp.dest(config.dist))</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"12-压缩图片\"><a href=\"#12-压缩图片\" class=\"headerlink\" title=\"12. 压缩图片\"></a>12. 压缩图片</h4><p><a href=\"https://npm.taobao.org/package/gulp-imagemin\">gulp-imagemin</a></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 压缩图片</span></div><div class=\"line\">  <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.task</span>(<span class=\"string\">'img'</span>, function() &#123;</div><div class=\"line\">    <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.src</span>(<span class=\"string\">'src/images/*'</span>)</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(imagemin(&#123;</div><div class=\"line\">          <span class=\"attribute\">progressive</span>: true,</div><div class=\"line\">          <span class=\"attribute\">svgoPlugins</span>: [&#123;<span class=\"attribute\">removeViewBox</span>: false&#125;],</div><div class=\"line\">          <span class=\"attribute\">use</span>: [pngcrush()]</div><div class=\"line\">      &#125;))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(gulp.dest(<span class=\"string\">'./dest/images/'</span>))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(notify(&#123; <span class=\"attribute\">message</span>: <span class=\"string\">'img task ok'</span> &#125;));</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"13-检查js\"><a href=\"#13-检查js\" class=\"headerlink\" title=\"13. 检查js\"></a>13. 检查js</h4><p>  <a href=\"https://npm.taobao.org/package/gulp-jshint\">gulp-jshint</a>  <a href=\"https://npm.taobao.org/package/jshint\">gulp-jshint</a></p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 检查js</span></div><div class=\"line\">  <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.task</span>(<span class=\"string\">'lint'</span>, function() &#123;</div><div class=\"line\">    <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">gulp</span><span class=\"selector-class\">.src</span>(<span class=\"string\">'src/js/*.js'</span>)</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(jshint())</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(jshint.reporter(<span class=\"string\">'default'</span>))</div><div class=\"line\">      <span class=\"selector-class\">.pipe</span>(notify(&#123; <span class=\"attribute\">message</span>: <span class=\"string\">'lint task ok'</span> &#125;));</div><div class=\"line\">  &#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"14-gzip压缩\"><a href=\"#14-gzip压缩\" class=\"headerlink\" title=\"14. gzip压缩\"></a>14. gzip压缩</h4><p> <a href=\"https://npm.taobao.org/package/gulp-gzip\">gulp-gzip</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> gzip = <span class=\"built_in\">require</span>(<span class=\"string\">'gulp-gzip'</span>);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'compress'</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    gulp.src(<span class=\"string\">'./dev/scripts/*.js'</span>)</div><div class=\"line\">    .pipe(gzip())</div><div class=\"line\">    .pipe(gulp.dest(<span class=\"string\">'./public/scripts'</span>));</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h4 id=\"15-处理前缀\"><a href=\"#15-处理前缀\" class=\"headerlink\" title=\"15. 处理前缀\"></a>15. 处理前缀</h4><p><a href=\"https://npm.taobao.org/package/gulp-autoprefixer\">gulp-autoprefixer</a></p>\n<figure class=\"highlight oxygene\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> gulp = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> autoprefixer = <span class=\"keyword\">require</span>(<span class=\"string\">'gulp-autoprefixer'</span>);</div><div class=\"line\"></div><div class=\"line\">gulp.task(<span class=\"string\">'default'</span>, <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"params\">()</span> <span class=\"comment\">&#123;</div><div class=\"line\">  return gulp.src('src/app.css')</div><div class=\"line\">    .pipe(sourcemaps.init())</div><div class=\"line\">      .pipe(autoprefixer(&#123;</div><div class=\"line\">          browsers: ['last 2 versions'],</div><div class=\"line\">          cascade: false</div><div class=\"line\">      &#125;</span>))</div><div class=\"line\">      .<span class=\"title\">pipe</span><span class=\"params\">(<span class=\"keyword\">concat</span>(<span class=\"string\">'all.css'</span>)</span>)</div><div class=\"line\">      .<span class=\"title\">pipe</span><span class=\"params\">(sourcemaps.<span class=\"keyword\">write</span>(<span class=\"string\">'.'</span>,&#123;sourceRoot:config.dist&#125;)</span>)</div><div class=\"line\">      .<span class=\"title\">pipe</span><span class=\"params\">(gulp.dest(<span class=\"string\">'dist'</span>)</span>);</span></div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<h3 id=\"七、项目地址\"><a href=\"#七、项目地址\" class=\"headerlink\" title=\"七、项目地址\"></a>七、项目地址</h3><p><a href=\"https://github.com/syoubaku/gulp-start-kit\">gulp-start-kit</a></p>"},{"title":"Markdown 表格样式调整与自适应优化","date":"2016-06-07T12:39:17.000Z","_content":"\n　　Markdown 写的表格最终会被解析成 HTML 代码，如果使用的编辑器支持自定义 CSS，就能方便的调整样式。如果可以引入 JavaScript，样式自适应也能较好地实现。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/markdown.png)](https://github.com/syoubaku)\n<p data-height=\"300\" data-theme-id=\"0\" data-slug-hash=\"ONyKqb\" data-default-tab=\"css\" data-user=\"MOxFIVE\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/MOxFIVE/pen/ONyKqb/\">Table style</a> by MOxFIVE (<a href=\"http://codepen.io/MOxFIVE\">@MOxFIVE</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n### 样式调整\n\n#### 基础概念\n\n    <table>: 表格\n    <thead>: table header 表头区\n    <th>: table headings 表头单元格内容\n    <tbody>: table body 表格内容区\n    <tr>: table row 表行\n    <td>: table data 单元格内容\n\n\n#### 基本样式\n\n``` css\ntable {\n    width: 100%; /*表格宽度*/\n    max-width: 65em; /*表格最大宽度，避免表格过宽*/\n    border: 1px solid #dedede; /*表格外边框设置*/\n    margin: 15px auto; /*外边距*/\n    border-collapse: collapse; /*使用单一线条的边框*/\n    empty-cells: show; /*单元格无内容依旧绘制边框*/\n}\n\ntable th,\ntable td {\n  height: 35px; /*统一每一行的默认高度*/\n  border: 1px solid #dedede; /*内部边框样式*/\n  padding: 0 10px; /*内边距*/\n}\n```\n\n#### 表头样式\n\n``` css\ntable th {\n    font-weight: bold; /*加粗*/\n    text-align: center !important; /*内容居中，加上 !important 避免被 Markdown 样式覆盖*/\n    background: rgba(158,188,226,0.2); /*背景色*/\n}\n```\n\n#### 隔行变色\n- 使用选择器选取复数行设置背景色。一般 Markdown 表格编译后都有 `<tbody>` 包裹内容，那下面就相当于从表格第二行开始计数\n\n``` css\ntable tbody tr:nth-child(2n) {\n    background: rgba(158,188,226,0.12);\n}\n```\n\n#### 悬浮变色\n- 鼠标悬浮时该行改变背景色\n\n``` css\ntable tr:hover {\n    background: #efefef;\n}\n```\n\n\n### 自适应优化\n表格用 Markdown 书写，编辑器解析，因而只能在已经生成好的代码上进行自适应优化。\n\n#### 表头不换行\n- 设置表头单元格内容不换行，这样可以通过表头控制该列的最小宽度，避免浏览器窗口缩小时内容被压缩得太紧\n\n``` css\ntable th {\n    white-space: nowrap; /*表头内容强制在一行显示*/\n}\n```\n\n#### 首列不换行\n- 表格第一列单元格内容不换行，多数情况下表格首列不应该被压缩换行\n\n``` css\ntable td:nth-child(1) {\n    white-space: nowrap;\n}\n```\n\n#### 表格滚动条\n- 添加 JavaScript 代码，用一个 `<div>` 把表格包裹起来，父元素宽度不足时显示横向滚动条，避免表格撑破布局\n\n``` js\n[].slice.call(document.querySelectorAll('table')).forEach(function(el){\n    var wrapper = document.createElement('div');\n    wrapper.className = 'table-area';\n    el.parentNode.insertBefore(wrapper, el);\n    el.parentNode.removeChild(el);\n    wrapper.appendChild(el);\n})\n```\n\n- jQuery\n\n``` js\n$(\"table\").wrap(\"<div class='table-area'></div>\");\n```\n\n- 同时添加如下 CSS\n\n``` css\n.table-area {\n    overflow: auto;\n}\n```\n\n\n- To be added\n","source":"_posts/2016-06-07.markdown_table_style.md","raw":"---\ntitle: Markdown 表格样式调整与自适应优化\ndate: 2016-06-07 20:39:17\ncategories:\n- 术业专攻\ntags:\n- markdown\n- css\n- JavaScript\npermalink: MarkdownTableStyle\n---\n\n　　Markdown 写的表格最终会被解析成 HTML 代码，如果使用的编辑器支持自定义 CSS，就能方便的调整样式。如果可以引入 JavaScript，样式自适应也能较好地实现。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/markdown.png)](https://github.com/syoubaku)\n<p data-height=\"300\" data-theme-id=\"0\" data-slug-hash=\"ONyKqb\" data-default-tab=\"css\" data-user=\"MOxFIVE\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/MOxFIVE/pen/ONyKqb/\">Table style</a> by MOxFIVE (<a href=\"http://codepen.io/MOxFIVE\">@MOxFIVE</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n### 样式调整\n\n#### 基础概念\n\n    <table>: 表格\n    <thead>: table header 表头区\n    <th>: table headings 表头单元格内容\n    <tbody>: table body 表格内容区\n    <tr>: table row 表行\n    <td>: table data 单元格内容\n\n\n#### 基本样式\n\n``` css\ntable {\n    width: 100%; /*表格宽度*/\n    max-width: 65em; /*表格最大宽度，避免表格过宽*/\n    border: 1px solid #dedede; /*表格外边框设置*/\n    margin: 15px auto; /*外边距*/\n    border-collapse: collapse; /*使用单一线条的边框*/\n    empty-cells: show; /*单元格无内容依旧绘制边框*/\n}\n\ntable th,\ntable td {\n  height: 35px; /*统一每一行的默认高度*/\n  border: 1px solid #dedede; /*内部边框样式*/\n  padding: 0 10px; /*内边距*/\n}\n```\n\n#### 表头样式\n\n``` css\ntable th {\n    font-weight: bold; /*加粗*/\n    text-align: center !important; /*内容居中，加上 !important 避免被 Markdown 样式覆盖*/\n    background: rgba(158,188,226,0.2); /*背景色*/\n}\n```\n\n#### 隔行变色\n- 使用选择器选取复数行设置背景色。一般 Markdown 表格编译后都有 `<tbody>` 包裹内容，那下面就相当于从表格第二行开始计数\n\n``` css\ntable tbody tr:nth-child(2n) {\n    background: rgba(158,188,226,0.12);\n}\n```\n\n#### 悬浮变色\n- 鼠标悬浮时该行改变背景色\n\n``` css\ntable tr:hover {\n    background: #efefef;\n}\n```\n\n\n### 自适应优化\n表格用 Markdown 书写，编辑器解析，因而只能在已经生成好的代码上进行自适应优化。\n\n#### 表头不换行\n- 设置表头单元格内容不换行，这样可以通过表头控制该列的最小宽度，避免浏览器窗口缩小时内容被压缩得太紧\n\n``` css\ntable th {\n    white-space: nowrap; /*表头内容强制在一行显示*/\n}\n```\n\n#### 首列不换行\n- 表格第一列单元格内容不换行，多数情况下表格首列不应该被压缩换行\n\n``` css\ntable td:nth-child(1) {\n    white-space: nowrap;\n}\n```\n\n#### 表格滚动条\n- 添加 JavaScript 代码，用一个 `<div>` 把表格包裹起来，父元素宽度不足时显示横向滚动条，避免表格撑破布局\n\n``` js\n[].slice.call(document.querySelectorAll('table')).forEach(function(el){\n    var wrapper = document.createElement('div');\n    wrapper.className = 'table-area';\n    el.parentNode.insertBefore(wrapper, el);\n    el.parentNode.removeChild(el);\n    wrapper.appendChild(el);\n})\n```\n\n- jQuery\n\n``` js\n$(\"table\").wrap(\"<div class='table-area'></div>\");\n```\n\n- 同时添加如下 CSS\n\n``` css\n.table-area {\n    overflow: auto;\n}\n```\n\n\n- To be added\n","slug":"MarkdownTableStyle","published":1,"updated":"2016-12-01T06:50:30.120Z","_id":"civ0ggq86002srwvndbj1zrby","comments":1,"layout":"post","photos":[],"link":"","content":"<p>　　Markdown 写的表格最终会被解析成 HTML 代码，如果使用的编辑器支持自定义 CSS，就能方便的调整样式。如果可以引入 JavaScript，样式自适应也能较好地实现。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/markdown.png\" alt=\"点击访问小莫的github\"></a></p>\n<p></p><p data-height=\"300\" data-theme-id=\"0\" data-slug-hash=\"ONyKqb\" data-default-tab=\"css\" data-user=\"MOxFIVE\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/MOxFIVE/pen/ONyKqb/\" target=\"_blank\" rel=\"external\">Table style</a> by MOxFIVE (<a href=\"http://codepen.io/MOxFIVE\" target=\"_blank\" rel=\"external\">@MOxFIVE</a>) on <a href=\"http://codepen.io\" target=\"_blank\" rel=\"external\">CodePen</a>.</p><p></p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n<h3 id=\"样式调整\"><a href=\"#样式调整\" class=\"headerlink\" title=\"样式调整\"></a>样式调整</h3><h4 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h4><pre><code>&lt;table&gt;: 表格\n&lt;thead&gt;: table header 表头区\n&lt;th&gt;: table headings 表头单元格内容\n&lt;tbody&gt;: table body 表格内容区\n&lt;tr&gt;: table row 表行\n&lt;td&gt;: table data 单元格内容\n</code></pre><h4 id=\"基本样式\"><a href=\"#基本样式\" class=\"headerlink\" title=\"基本样式\"></a>基本样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>; <span class=\"comment\">/*表格宽度*/</span></div><div class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">65em</span>; <span class=\"comment\">/*表格最大宽度，避免表格过宽*/</span></div><div class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#dedede</span>; <span class=\"comment\">/*表格外边框设置*/</span></div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">15px</span> auto; <span class=\"comment\">/*外边距*/</span></div><div class=\"line\">    <span class=\"attribute\">border-collapse</span>: collapse; <span class=\"comment\">/*使用单一线条的边框*/</span></div><div class=\"line\">    <span class=\"attribute\">empty-cells</span>: show; <span class=\"comment\">/*单元格无内容依旧绘制边框*/</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">th</span>,</div><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">td</span> &#123;</div><div class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">35px</span>; <span class=\"comment\">/*统一每一行的默认高度*/</span></div><div class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#dedede</span>; <span class=\"comment\">/*内部边框样式*/</span></div><div class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span>; <span class=\"comment\">/*内边距*/</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"表头样式\"><a href=\"#表头样式\" class=\"headerlink\" title=\"表头样式\"></a>表头样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">th</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/*加粗*/</span></div><div class=\"line\">    <span class=\"attribute\">text-align</span>: center <span class=\"meta\">!important</span>; <span class=\"comment\">/*内容居中，加上 !important 避免被 Markdown 样式覆盖*/</span></div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(158,188,226,0.2); <span class=\"comment\">/*背景色*/</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"隔行变色\"><a href=\"#隔行变色\" class=\"headerlink\" title=\"隔行变色\"></a>隔行变色</h4><ul>\n<li>使用选择器选取复数行设置背景色。一般 Markdown 表格编译后都有 <code>&lt;tbody&gt;</code> 包裹内容，那下面就相当于从表格第二行开始计数</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">tbody</span> <span class=\"selector-tag\">tr</span><span class=\"selector-pseudo\">:nth-child(2n)</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(158,188,226,0.12);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"悬浮变色\"><a href=\"#悬浮变色\" class=\"headerlink\" title=\"悬浮变色\"></a>悬浮变色</h4><ul>\n<li>鼠标悬浮时该行改变背景色</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">tr</span><span class=\"selector-pseudo\">:hover</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#efefef</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"自适应优化\"><a href=\"#自适应优化\" class=\"headerlink\" title=\"自适应优化\"></a>自适应优化</h3><p>表格用 Markdown 书写，编辑器解析，因而只能在已经生成好的代码上进行自适应优化。</p>\n<h4 id=\"表头不换行\"><a href=\"#表头不换行\" class=\"headerlink\" title=\"表头不换行\"></a>表头不换行</h4><ul>\n<li>设置表头单元格内容不换行，这样可以通过表头控制该列的最小宽度，避免浏览器窗口缩小时内容被压缩得太紧</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">th</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">white-space</span>: nowrap; <span class=\"comment\">/*表头内容强制在一行显示*/</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"首列不换行\"><a href=\"#首列不换行\" class=\"headerlink\" title=\"首列不换行\"></a>首列不换行</h4><ul>\n<li>表格第一列单元格内容不换行，多数情况下表格首列不应该被压缩换行</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">td</span><span class=\"selector-pseudo\">:nth-child(1)</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">white-space</span>: nowrap;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"表格滚动条\"><a href=\"#表格滚动条\" class=\"headerlink\" title=\"表格滚动条\"></a>表格滚动条</h4><ul>\n<li>添加 JavaScript 代码，用一个 <code>&lt;div&gt;</code> 把表格包裹起来，父元素宽度不足时显示横向滚动条，避免表格撑破布局</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">[].slice.call(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'table'</span>)).forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">el</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> wrapper = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</div><div class=\"line\">    wrapper.className = <span class=\"string\">'table-area'</span>;</div><div class=\"line\">    el.parentNode.insertBefore(wrapper, el);</div><div class=\"line\">    el.parentNode.removeChild(el);</div><div class=\"line\">    wrapper.appendChild(el);</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<ul>\n<li>jQuery</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">\"table\"</span>).wrap(<span class=\"string\">\"&lt;div class='table-area'&gt;&lt;/div&gt;\"</span>);</div></pre></td></tr></table></figure>\n<ul>\n<li>同时添加如下 CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.table-area</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">overflow</span>: auto;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<ul>\n<li>To be added</li>\n</ul>\n","excerpt":"<p>　　Markdown 写的表格最终会被解析成 HTML 代码，如果使用的编辑器支持自定义 CSS，就能方便的调整样式。如果可以引入 JavaScript，样式自适应也能较好地实现。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/markdown.png\" alt=\"点击访问小莫的github\"></a></p>\n<p><p data-height=\"300\" data-theme-id=\"0\" data-slug-hash=\"ONyKqb\" data-default-tab=\"css\" data-user=\"MOxFIVE\" class=\"codepen\">See the Pen <a href=\"http://codepen.io/MOxFIVE/pen/ONyKqb/\">Table style</a> by MOxFIVE (<a href=\"http://codepen.io/MOxFIVE\">@MOxFIVE</a>) on <a href=\"http://codepen.io\">CodePen</a>.</p></p>\n<script async src=\"//assets.codepen.io/assets/embed/ei.js\"></script>\n\n<h3 id=\"样式调整\"><a href=\"#样式调整\" class=\"headerlink\" title=\"样式调整\"></a>样式调整</h3><h4 id=\"基础概念\"><a href=\"#基础概念\" class=\"headerlink\" title=\"基础概念\"></a>基础概念</h4><pre><code>&lt;table&gt;: 表格\n&lt;thead&gt;: table header 表头区\n&lt;th&gt;: table headings 表头单元格内容\n&lt;tbody&gt;: table body 表格内容区\n&lt;tr&gt;: table row 表行\n&lt;td&gt;: table data 单元格内容\n</code></pre><h4 id=\"基本样式\"><a href=\"#基本样式\" class=\"headerlink\" title=\"基本样式\"></a>基本样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>; <span class=\"comment\">/*表格宽度*/</span></div><div class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">65em</span>; <span class=\"comment\">/*表格最大宽度，避免表格过宽*/</span></div><div class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#dedede</span>; <span class=\"comment\">/*表格外边框设置*/</span></div><div class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">15px</span> auto; <span class=\"comment\">/*外边距*/</span></div><div class=\"line\">    <span class=\"attribute\">border-collapse</span>: collapse; <span class=\"comment\">/*使用单一线条的边框*/</span></div><div class=\"line\">    <span class=\"attribute\">empty-cells</span>: show; <span class=\"comment\">/*单元格无内容依旧绘制边框*/</span></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">th</span>,</div><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">td</span> &#123;</div><div class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">35px</span>; <span class=\"comment\">/*统一每一行的默认高度*/</span></div><div class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#dedede</span>; <span class=\"comment\">/*内部边框样式*/</span></div><div class=\"line\">  <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">10px</span>; <span class=\"comment\">/*内边距*/</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"表头样式\"><a href=\"#表头样式\" class=\"headerlink\" title=\"表头样式\"></a>表头样式</h4><figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">th</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">font-weight</span>: bold; <span class=\"comment\">/*加粗*/</span></div><div class=\"line\">    <span class=\"attribute\">text-align</span>: center <span class=\"meta\">!important</span>; <span class=\"comment\">/*内容居中，加上 !important 避免被 Markdown 样式覆盖*/</span></div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(158,188,226,0.2); <span class=\"comment\">/*背景色*/</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"隔行变色\"><a href=\"#隔行变色\" class=\"headerlink\" title=\"隔行变色\"></a>隔行变色</h4><ul>\n<li>使用选择器选取复数行设置背景色。一般 Markdown 表格编译后都有 <code>&lt;tbody&gt;</code> 包裹内容，那下面就相当于从表格第二行开始计数</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">tbody</span> <span class=\"selector-tag\">tr</span><span class=\"selector-pseudo\">:nth-child(2n)</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"built_in\">rgba</span>(158,188,226,0.12);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"悬浮变色\"><a href=\"#悬浮变色\" class=\"headerlink\" title=\"悬浮变色\"></a>悬浮变色</h4><ul>\n<li>鼠标悬浮时该行改变背景色</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">tr</span><span class=\"selector-pseudo\">:hover</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#efefef</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"自适应优化\"><a href=\"#自适应优化\" class=\"headerlink\" title=\"自适应优化\"></a>自适应优化</h3><p>表格用 Markdown 书写，编辑器解析，因而只能在已经生成好的代码上进行自适应优化。</p>\n<h4 id=\"表头不换行\"><a href=\"#表头不换行\" class=\"headerlink\" title=\"表头不换行\"></a>表头不换行</h4><ul>\n<li>设置表头单元格内容不换行，这样可以通过表头控制该列的最小宽度，避免浏览器窗口缩小时内容被压缩得太紧</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">th</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">white-space</span>: nowrap; <span class=\"comment\">/*表头内容强制在一行显示*/</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"首列不换行\"><a href=\"#首列不换行\" class=\"headerlink\" title=\"首列不换行\"></a>首列不换行</h4><ul>\n<li>表格第一列单元格内容不换行，多数情况下表格首列不应该被压缩换行</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">td</span><span class=\"selector-pseudo\">:nth-child(1)</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">white-space</span>: nowrap;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"表格滚动条\"><a href=\"#表格滚动条\" class=\"headerlink\" title=\"表格滚动条\"></a>表格滚动条</h4><ul>\n<li>添加 JavaScript 代码，用一个 <code>&lt;div&gt;</code> 把表格包裹起来，父元素宽度不足时显示横向滚动条，避免表格撑破布局</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">[].slice.call(<span class=\"built_in\">document</span>.querySelectorAll(<span class=\"string\">'table'</span>)).forEach(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">el</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> wrapper = <span class=\"built_in\">document</span>.createElement(<span class=\"string\">'div'</span>);</div><div class=\"line\">    wrapper.className = <span class=\"string\">'table-area'</span>;</div><div class=\"line\">    el.parentNode.insertBefore(wrapper, el);</div><div class=\"line\">    el.parentNode.removeChild(el);</div><div class=\"line\">    wrapper.appendChild(el);</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<ul>\n<li>jQuery</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"string\">\"table\"</span>).wrap(<span class=\"string\">\"&lt;div class='table-area'&gt;&lt;/div&gt;\"</span>);</div></pre></td></tr></table></figure>\n<ul>\n<li>同时添加如下 CSS</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.table-area</span> &#123;</div><div class=\"line\">    <span class=\"attribute\">overflow</span>: auto;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<ul>\n<li>To be added</li>\n</ul>"},{"author":"小莫","date":"2016-06-16T16:00:00.000Z","title":"linux权限详细解读","_content":"话说我接触linux也有近2年的时候了,而且有自己的linux服务器。感觉对linux的操作熟练程度还可以，但是基本知识还是有待提高，linux权限这一块有必要啃一啃了。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/linux.png)](https://github.com/syoubaku)\n### 一、理论说明\nLinux系统中的每个文件和目录都有访问许可权限，用它来确定谁可以通过何种方式对文件和目录进行访问和操作。\n#### 1. 权限说明\n文件或目录的访问权限分为只读，只写和可执行三种。\n以文件为例，只读权限表示只允许读其内容，而禁止对其做任何的更改操作。\n可执行权限表示允许将该文件作为一个程序执行。\n文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。\n用户也可根据需要把访问权限设置为需要的任何组合。\n#### 2. 用户组\n有三种不同类型的用户可对文件或目录进行访问：\n* 文件所有者，\n* 同组用户\n* 其他用户\n所有者一般是文件的创建者。\n\n所有者可以允许同组用户有权访问文件，还可以将文件的访问权限赋予系统中的其他用户。\n在这种情况下，系统中每一位用户都能访问该用户拥有的文件或目录。\n#### 3. 文件权限\n每一文件或目录的访问权限都有三组，每组用三位表示，分别为\n* 文件属主的读、写和执行权限；\n* 与属主同组的用户的读、写和执行权限；\n* 系统中其他用户的读、写和执行权限。\n当用ls -l命令显示文件或目录的详细信息时，最左边的一列为文件的访问权限。\n\n#### 4.实例分析\n\n随意查看一个目录： `ll`\n\n```\ndrwxr-xr-x   9 root root    4096 Jun 17 10:18 .\ndrwxr-xr-x   8 root root    4096 Jun 15 09:08 ..\n-rw-r--r--   1 root root    1771 Jun 16 23:22 _config.yml\n-rw-r--r--   1 root root 1201148 Jun 17 10:18 db.json\ndrwxr-xr-x   8 root root    4096 Jun 17 10:31 .git\n-rw-r--r--   1 root root      55 Jun 15 09:09 .gitignore\ndrwxr-xr-x   2 root root    4096 Jun 15 09:09 .idea\ndrwxr-xr-x 411 root root   16384 Jun 15 09:12 node_modules\n-rw-r--r--   1 root root     861 Jun 16 10:55 package.json\ndrwxr-xr-x  13 root root    4096 Jun 17 10:18 public\ndrwxr-xr-x   2 root root    4096 Jun 15 09:09 scaffolds\ndrwxr-xr-x   7 root root    4096 Jun 15 12:51 source\ndrwxr-xr-x   6 root root    4096 Jun 15 12:51 themes\n\n```\n\n解读：\n```\n  注意这里共有10个位置,10个位置又可以分为4个部分。\n  四个部分分别为 1.类型 2.属主权限 2.同组用户权限 3 其他用户权限\n  第一个字符指定了文件类型。\n  r代表只读，w代表写，x代表可执行，横线代表空。\n  在通常意义上，一个目录也是一个文件。\n  如果第一个字符是横线，表示是一个非目录的文件。\n  如果是d，表示是一个目录。\n```\n\n单个实例\n\n```\n-rw-r--r--\n```\n\n详细解读(如果没有看懂建议回头看看理论说明1-3)\n\n![](https://image.xiaomo.info/linux/chmod.png)\n\n\n### 二、命令使用说明\n\n#### 1.格式(参数设定)\n\n`chmod ［who］ ［+ | - | =］ ［mode］ 文件名¼`\n\n\n命令解读：\n\n\n操作对象who可是下述字母中的任一个或者它们的组合：\n\n```\n　　u 表示“用户（user）”，即文件或目录的所有者。\n\n　　g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。\n\n　　o 表示“其他（others）用户”。\n\n　　a 表示“所有（all）用户”。它是系统默认值。\n```\n\n　　操作符号可以是：\n\n```\n　　+ 添加某个权限。\n\n　　- 取消某个权限。\n\n　　= 赋予给定权限并取消其他所有权限（如果有的话）。\n\n```\n\n　　设置mode所表示的权限可用下述字母的任意组合：\n\n```\n　　r 可读。\n\n　　w 可写。\n\n　　x 可执行。\n\n　　X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。\n\n　　s 在文件执行时把进程的属主或组ID置为该文件的文件属主。方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。\n\n　　t 保存程序的文本到交换设备上。\n\n　　u 与文件属主拥有一样的权限。\n\n　　g 与和文件属主同组的用户拥有一样的权限。\n\n　　o 与其他用户拥有一样的权限。\n\n　　文件名：以空格分开的要改变权限的文件列表，支持通配符。\n\n　　在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：chmod g+r，o+r example\n\n　　使同组和其他用户对文件example 有读权限。\n\n```\n\n\n#### 2.权限设置(数字)\n\n我们必须首先了解用数字表示的属性的含义：\n\n```\n0表示没有权限，\n1表示可执行权限，\n2表示可写权限，\n4表示可读权限，\n然后将其相加。所\n以数字属性的格式应为3个从0到7的八进制数，\n其顺序是（u）（g）（o）。\n```\n\n### 三、其他命令\n\n#### 1. `　chgrp`命令\n\n功能：改变文件或目录所属的组。\n\n语法：`chgrp ［选项］ group filename¼`\n\n该命令改变指定指定文件所属的用户组。其中`group`可以是用户组ID，也可以是`/etc/group`文件中用户组的组名。文件名是以空格分开的要改变属组的文件列表，支持通配符。如果用户不是该文件的属主或超级用户，则不能改变该文件的组。\n\n该命令的各选项含义为：\n\n```\n  - R 递归式地改变指定目录及其下的所有子目录和文件的属组。\n```\n\n　　例1：`$ chgrp - R book /opt/local /book`\n\n　　改变``/opt/local` `/book/`及其子目录下的所有文件的属组为`book`。\n\n#### 2. `chown`命令\n\n　　功能：更改某个文件或目录的属主和属组。这个命令也很常用。例如root用户把自己的一个文件拷贝给用户xu，为了让用户xu能够存取这个文件，root用户应该把这个文件的属主设为xu，否则，用户xu无法存取这个文件。\n\n　　语法：`chown ［选项］ 用户或组 文件`\n\n　　说明：`chown`将指定文件的拥有者改为指定的用户或组。用户可以是用户名或用户ID。组可以是组名或组ID。文件是以空格分开的要改变权限的文件列表，支持通配符。\n\n　　该命令的各选项含义如下：\n\n```\n　　- R 递归式地改变指定目录及其下的所有子目录和文件的拥有者。\n　　- v 显示chown命令所做的工作。\n```\n\n　　例1：把文件`shiyan.c`的所有者改为`wang`。\n\n　　$ `chown wang shiyan.c`\n\n　　例2：把目录/his及其下的所有文件和子目录的属主改成`wang`，属组改成`users`。\n\n　　$ `chown - R wang.users /his`\n","source":"_posts/2016-06-17.linux_chmod.md","raw":"---\nauthor: 小莫\ndate: 2016-06-17\ntitle: linux权限详细解读\ntags:\n- linux\ncategory: linux权限操作\npermalink: LinuxChmod\n---\n话说我接触linux也有近2年的时候了,而且有自己的linux服务器。感觉对linux的操作熟练程度还可以，但是基本知识还是有待提高，linux权限这一块有必要啃一啃了。\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/linux.png)](https://github.com/syoubaku)\n### 一、理论说明\nLinux系统中的每个文件和目录都有访问许可权限，用它来确定谁可以通过何种方式对文件和目录进行访问和操作。\n#### 1. 权限说明\n文件或目录的访问权限分为只读，只写和可执行三种。\n以文件为例，只读权限表示只允许读其内容，而禁止对其做任何的更改操作。\n可执行权限表示允许将该文件作为一个程序执行。\n文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。\n用户也可根据需要把访问权限设置为需要的任何组合。\n#### 2. 用户组\n有三种不同类型的用户可对文件或目录进行访问：\n* 文件所有者，\n* 同组用户\n* 其他用户\n所有者一般是文件的创建者。\n\n所有者可以允许同组用户有权访问文件，还可以将文件的访问权限赋予系统中的其他用户。\n在这种情况下，系统中每一位用户都能访问该用户拥有的文件或目录。\n#### 3. 文件权限\n每一文件或目录的访问权限都有三组，每组用三位表示，分别为\n* 文件属主的读、写和执行权限；\n* 与属主同组的用户的读、写和执行权限；\n* 系统中其他用户的读、写和执行权限。\n当用ls -l命令显示文件或目录的详细信息时，最左边的一列为文件的访问权限。\n\n#### 4.实例分析\n\n随意查看一个目录： `ll`\n\n```\ndrwxr-xr-x   9 root root    4096 Jun 17 10:18 .\ndrwxr-xr-x   8 root root    4096 Jun 15 09:08 ..\n-rw-r--r--   1 root root    1771 Jun 16 23:22 _config.yml\n-rw-r--r--   1 root root 1201148 Jun 17 10:18 db.json\ndrwxr-xr-x   8 root root    4096 Jun 17 10:31 .git\n-rw-r--r--   1 root root      55 Jun 15 09:09 .gitignore\ndrwxr-xr-x   2 root root    4096 Jun 15 09:09 .idea\ndrwxr-xr-x 411 root root   16384 Jun 15 09:12 node_modules\n-rw-r--r--   1 root root     861 Jun 16 10:55 package.json\ndrwxr-xr-x  13 root root    4096 Jun 17 10:18 public\ndrwxr-xr-x   2 root root    4096 Jun 15 09:09 scaffolds\ndrwxr-xr-x   7 root root    4096 Jun 15 12:51 source\ndrwxr-xr-x   6 root root    4096 Jun 15 12:51 themes\n\n```\n\n解读：\n```\n  注意这里共有10个位置,10个位置又可以分为4个部分。\n  四个部分分别为 1.类型 2.属主权限 2.同组用户权限 3 其他用户权限\n  第一个字符指定了文件类型。\n  r代表只读，w代表写，x代表可执行，横线代表空。\n  在通常意义上，一个目录也是一个文件。\n  如果第一个字符是横线，表示是一个非目录的文件。\n  如果是d，表示是一个目录。\n```\n\n单个实例\n\n```\n-rw-r--r--\n```\n\n详细解读(如果没有看懂建议回头看看理论说明1-3)\n\n![](https://image.xiaomo.info/linux/chmod.png)\n\n\n### 二、命令使用说明\n\n#### 1.格式(参数设定)\n\n`chmod ［who］ ［+ | - | =］ ［mode］ 文件名¼`\n\n\n命令解读：\n\n\n操作对象who可是下述字母中的任一个或者它们的组合：\n\n```\n　　u 表示“用户（user）”，即文件或目录的所有者。\n\n　　g 表示“同组（group）用户”，即与文件属主有相同组ID的所有用户。\n\n　　o 表示“其他（others）用户”。\n\n　　a 表示“所有（all）用户”。它是系统默认值。\n```\n\n　　操作符号可以是：\n\n```\n　　+ 添加某个权限。\n\n　　- 取消某个权限。\n\n　　= 赋予给定权限并取消其他所有权限（如果有的话）。\n\n```\n\n　　设置mode所表示的权限可用下述字母的任意组合：\n\n```\n　　r 可读。\n\n　　w 可写。\n\n　　x 可执行。\n\n　　X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。\n\n　　s 在文件执行时把进程的属主或组ID置为该文件的文件属主。方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。\n\n　　t 保存程序的文本到交换设备上。\n\n　　u 与文件属主拥有一样的权限。\n\n　　g 与和文件属主同组的用户拥有一样的权限。\n\n　　o 与其他用户拥有一样的权限。\n\n　　文件名：以空格分开的要改变权限的文件列表，支持通配符。\n\n　　在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：chmod g+r，o+r example\n\n　　使同组和其他用户对文件example 有读权限。\n\n```\n\n\n#### 2.权限设置(数字)\n\n我们必须首先了解用数字表示的属性的含义：\n\n```\n0表示没有权限，\n1表示可执行权限，\n2表示可写权限，\n4表示可读权限，\n然后将其相加。所\n以数字属性的格式应为3个从0到7的八进制数，\n其顺序是（u）（g）（o）。\n```\n\n### 三、其他命令\n\n#### 1. `　chgrp`命令\n\n功能：改变文件或目录所属的组。\n\n语法：`chgrp ［选项］ group filename¼`\n\n该命令改变指定指定文件所属的用户组。其中`group`可以是用户组ID，也可以是`/etc/group`文件中用户组的组名。文件名是以空格分开的要改变属组的文件列表，支持通配符。如果用户不是该文件的属主或超级用户，则不能改变该文件的组。\n\n该命令的各选项含义为：\n\n```\n  - R 递归式地改变指定目录及其下的所有子目录和文件的属组。\n```\n\n　　例1：`$ chgrp - R book /opt/local /book`\n\n　　改变``/opt/local` `/book/`及其子目录下的所有文件的属组为`book`。\n\n#### 2. `chown`命令\n\n　　功能：更改某个文件或目录的属主和属组。这个命令也很常用。例如root用户把自己的一个文件拷贝给用户xu，为了让用户xu能够存取这个文件，root用户应该把这个文件的属主设为xu，否则，用户xu无法存取这个文件。\n\n　　语法：`chown ［选项］ 用户或组 文件`\n\n　　说明：`chown`将指定文件的拥有者改为指定的用户或组。用户可以是用户名或用户ID。组可以是组名或组ID。文件是以空格分开的要改变权限的文件列表，支持通配符。\n\n　　该命令的各选项含义如下：\n\n```\n　　- R 递归式地改变指定目录及其下的所有子目录和文件的拥有者。\n　　- v 显示chown命令所做的工作。\n```\n\n　　例1：把文件`shiyan.c`的所有者改为`wang`。\n\n　　$ `chown wang shiyan.c`\n\n　　例2：把目录/his及其下的所有文件和子目录的属主改成`wang`，属组改成`users`。\n\n　　$ `chown - R wang.users /his`\n","slug":"LinuxChmod","published":1,"updated":"2016-12-01T07:43:31.648Z","_id":"civ0ggq89002xrwvnbfvmivzp","comments":1,"layout":"post","photos":[],"link":"","content":"<p>话说我接触linux也有近2年的时候了,而且有自己的linux服务器。感觉对linux的操作熟练程度还可以，但是基本知识还是有待提高，linux权限这一块有必要啃一啃了。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、理论说明\"><a href=\"#一、理论说明\" class=\"headerlink\" title=\"一、理论说明\"></a>一、理论说明</h3><p>Linux系统中的每个文件和目录都有访问许可权限，用它来确定谁可以通过何种方式对文件和目录进行访问和操作。</p>\n<h4 id=\"1-权限说明\"><a href=\"#1-权限说明\" class=\"headerlink\" title=\"1. 权限说明\"></a>1. 权限说明</h4><p>文件或目录的访问权限分为只读，只写和可执行三种。<br>以文件为例，只读权限表示只允许读其内容，而禁止对其做任何的更改操作。<br>可执行权限表示允许将该文件作为一个程序执行。<br>文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。<br>用户也可根据需要把访问权限设置为需要的任何组合。</p>\n<h4 id=\"2-用户组\"><a href=\"#2-用户组\" class=\"headerlink\" title=\"2. 用户组\"></a>2. 用户组</h4><p>有三种不同类型的用户可对文件或目录进行访问：</p>\n<ul>\n<li>文件所有者，</li>\n<li>同组用户</li>\n<li>其他用户<br>所有者一般是文件的创建者。</li>\n</ul>\n<p>所有者可以允许同组用户有权访问文件，还可以将文件的访问权限赋予系统中的其他用户。<br>在这种情况下，系统中每一位用户都能访问该用户拥有的文件或目录。</p>\n<h4 id=\"3-文件权限\"><a href=\"#3-文件权限\" class=\"headerlink\" title=\"3. 文件权限\"></a>3. 文件权限</h4><p>每一文件或目录的访问权限都有三组，每组用三位表示，分别为</p>\n<ul>\n<li>文件属主的读、写和执行权限；</li>\n<li>与属主同组的用户的读、写和执行权限；</li>\n<li>系统中其他用户的读、写和执行权限。<br>当用ls -l命令显示文件或目录的详细信息时，最左边的一列为文件的访问权限。</li>\n</ul>\n<h4 id=\"4-实例分析\"><a href=\"#4-实例分析\" class=\"headerlink\" title=\"4.实例分析\"></a>4.实例分析</h4><p>随意查看一个目录： <code>ll</code></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 9 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 17 </span>10:18 .</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 8 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>09:08 ..</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root   <span class=\"number\"> 1771 </span>Jun<span class=\"number\"> 16 </span>23:22 _config.yml</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root<span class=\"number\"> 1201148 </span>Jun<span class=\"number\"> 17 </span>10:18 db.json</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 8 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 17 </span>10:31 .git</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root     <span class=\"number\"> 55 </span>Jun<span class=\"number\"> 15 </span>09:09 .gitignore</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 2 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>09:09 .idea</div><div class=\"line\">drwxr-xr-x<span class=\"number\"> 411 </span>root root  <span class=\"number\"> 16384 </span>Jun<span class=\"number\"> 15 </span>09:12 node_modules</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root    <span class=\"number\"> 861 </span>Jun<span class=\"number\"> 16 </span>10:55 package.json</div><div class=\"line\">drwxr-xr-x <span class=\"number\"> 13 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 17 </span>10:18 public</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 2 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>09:09 scaffolds</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 7 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>12:51 source</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 6 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>12:51 themes</div></pre></td></tr></table></figure>\n<p>解读：<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">注意这里共有<span class=\"number\">10</span>个位置,<span class=\"number\">10</span>个位置又可以分为<span class=\"number\">4</span>个部分。</div><div class=\"line\">四个部分分别为 <span class=\"number\">1.</span>类型 <span class=\"number\">2.</span>属主权限 <span class=\"number\">2.</span>同组用户权限 <span class=\"number\">3</span> 其他用户权限</div><div class=\"line\">第一个字符指定了文件类型。</div><div class=\"line\">r代表只读，w代表写，x代表可执行，横线代表空。</div><div class=\"line\">在通常意义上，一个目录也是一个文件。</div><div class=\"line\">如果第一个字符是横线，表示是一个非目录的文件。</div><div class=\"line\">如果是d，表示是一个目录。</div></pre></td></tr></table></figure></p>\n<p>单个实例</p>\n<figure class=\"highlight brainfuck\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"literal\">-</span><span class=\"comment\">rw</span><span class=\"literal\">-</span><span class=\"comment\">r</span><span class=\"literal\">-</span><span class=\"literal\">-</span><span class=\"comment\">r</span><span class=\"literal\">-</span><span class=\"literal\">-</span></div></pre></td></tr></table></figure>\n<p>详细解读(如果没有看懂建议回头看看理论说明1-3)</p>\n<p><img src=\"https://image.xiaomo.info/linux/chmod.png\" alt=\"\"></p>\n<h3 id=\"二、命令使用说明\"><a href=\"#二、命令使用说明\" class=\"headerlink\" title=\"二、命令使用说明\"></a>二、命令使用说明</h3><h4 id=\"1-格式-参数设定\"><a href=\"#1-格式-参数设定\" class=\"headerlink\" title=\"1.格式(参数设定)\"></a>1.格式(参数设定)</h4><p><code>chmod ［who］ ［+ | - | =］ ［mode］ 文件名¼</code></p>\n<p>命令解读：</p>\n<p>操作对象who可是下述字母中的任一个或者它们的组合：</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　u 表示“用户（<span class=\"keyword\">user</span>）”，即文件或目录的所有者。</div><div class=\"line\"></div><div class=\"line\">　　g 表示“同组（<span class=\"keyword\">group</span>）用户”，即与文件属主有相同组ID的所有用户。</div><div class=\"line\"></div><div class=\"line\">　　o 表示“其他（others）用户”。</div><div class=\"line\"></div><div class=\"line\">　　a 表示“所有（<span class=\"literal\">all</span>）用户”。它是系统默认值。</div></pre></td></tr></table></figure>\n<p>　　操作符号可以是：</p>\n<figure class=\"highlight haml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　+ 添加某个权限。</div><div class=\"line\"></div><div class=\"line\">　　-<span class=\"ruby\"> 取消某个权限。</span></div><div class=\"line\"></div><div class=\"line\">　　=<span class=\"ruby\"> 赋予给定权限并取消其他所有权限（如果有的话）。</span></div></pre></td></tr></table></figure>\n<p>　　设置mode所表示的权限可用下述字母的任意组合：</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　r 可读。</div><div class=\"line\"></div><div class=\"line\">　　w 可写。</div><div class=\"line\"></div><div class=\"line\">　　x 可执行。</div><div class=\"line\"></div><div class=\"line\">　　X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。</div><div class=\"line\"></div><div class=\"line\">　　s 在文件执行时把进程的属主或组ID置为该文件的文件属主。方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。</div><div class=\"line\"></div><div class=\"line\">　　t 保存程序的文本到交换设备上。</div><div class=\"line\"></div><div class=\"line\">　　u 与文件属主拥有一样的权限。</div><div class=\"line\"></div><div class=\"line\">　　g 与和文件属主同组的用户拥有一样的权限。</div><div class=\"line\"></div><div class=\"line\">　　o 与其他用户拥有一样的权限。</div><div class=\"line\"></div><div class=\"line\">　　文件名：以空格分开的要改变权限的文件列表，支持通配符。</div><div class=\"line\"></div><div class=\"line\">　　在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：chmod g+r，o+r <span class=\"built_in\">example</span></div><div class=\"line\"></div><div class=\"line\">　　使同组和其他用户对文件<span class=\"built_in\">example</span> 有读权限。</div></pre></td></tr></table></figure>\n<h4 id=\"2-权限设置-数字\"><a href=\"#2-权限设置-数字\" class=\"headerlink\" title=\"2.权限设置(数字)\"></a>2.权限设置(数字)</h4><p>我们必须首先了解用数字表示的属性的含义：</p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"number\">0</span>表示没有权限，</div><div class=\"line\"><span class=\"number\">1</span>表示可执行权限，</div><div class=\"line\"><span class=\"number\">2</span>表示可写权限，</div><div class=\"line\"><span class=\"number\">4</span>表示可读权限，</div><div class=\"line\">然后将其相加。所</div><div class=\"line\">以数字属性的格式应为<span class=\"number\">3</span>个从<span class=\"number\">0</span>到<span class=\"number\">7</span>的八进制数，</div><div class=\"line\">其顺序是（u）（g）（o）。</div></pre></td></tr></table></figure>\n<h3 id=\"三、其他命令\"><a href=\"#三、其他命令\" class=\"headerlink\" title=\"三、其他命令\"></a>三、其他命令</h3><h4 id=\"1-chgrp命令\"><a href=\"#1-chgrp命令\" class=\"headerlink\" title=\"1. chgrp命令\"></a>1. <code>chgrp</code>命令</h4><p>功能：改变文件或目录所属的组。</p>\n<p>语法：<code>chgrp ［选项］ group filename¼</code></p>\n<p>该命令改变指定指定文件所属的用户组。其中<code>group</code>可以是用户组ID，也可以是<code>/etc/group</code>文件中用户组的组名。文件名是以空格分开的要改变属组的文件列表，支持通配符。如果用户不是该文件的属主或超级用户，则不能改变该文件的组。</p>\n<p>该命令的各选项含义为：</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"bullet\">- </span>R 递归式地改变指定目录及其下的所有子目录和文件的属组。</div></pre></td></tr></table></figure>\n<p>　　例1：<code>$ chgrp - R book /opt/local /book</code></p>\n<p>　　改变<code>`/opt/local</code> <code>/book/</code>及其子目录下的所有文件的属组为<code>book</code>。</p>\n<h4 id=\"2-chown命令\"><a href=\"#2-chown命令\" class=\"headerlink\" title=\"2. chown命令\"></a>2. <code>chown</code>命令</h4><p>　　功能：更改某个文件或目录的属主和属组。这个命令也很常用。例如root用户把自己的一个文件拷贝给用户xu，为了让用户xu能够存取这个文件，root用户应该把这个文件的属主设为xu，否则，用户xu无法存取这个文件。</p>\n<p>　　语法：<code>chown ［选项］ 用户或组 文件</code></p>\n<p>　　说明：<code>chown</code>将指定文件的拥有者改为指定的用户或组。用户可以是用户名或用户ID。组可以是组名或组ID。文件是以空格分开的要改变权限的文件列表，支持通配符。</p>\n<p>　　该命令的各选项含义如下：</p>\n<figure class=\"highlight haml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　-<span class=\"ruby\"> R 递归式地改变指定目录及其下的所有子目录和文件的拥有者。</span></div><div class=\"line\">　　-<span class=\"ruby\"> v 显示chown命令所做的工作。</span></div></pre></td></tr></table></figure>\n<p>　　例1：把文件<code>shiyan.c</code>的所有者改为<code>wang</code>。</p>\n<p>　　$ <code>chown wang shiyan.c</code></p>\n<p>　　例2：把目录/his及其下的所有文件和子目录的属主改成<code>wang</code>，属组改成<code>users</code>。</p>\n<p>　　$ <code>chown - R wang.users /his</code></p>\n","excerpt":"<p>话说我接触linux也有近2年的时候了,而且有自己的linux服务器。感觉对linux的操作熟练程度还可以，但是基本知识还是有待提高，linux权限这一块有必要啃一啃了。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、理论说明\"><a href=\"#一、理论说明\" class=\"headerlink\" title=\"一、理论说明\"></a>一、理论说明</h3><p>Linux系统中的每个文件和目录都有访问许可权限，用它来确定谁可以通过何种方式对文件和目录进行访问和操作。</p>\n<h4 id=\"1-权限说明\"><a href=\"#1-权限说明\" class=\"headerlink\" title=\"1. 权限说明\"></a>1. 权限说明</h4><p>文件或目录的访问权限分为只读，只写和可执行三种。<br>以文件为例，只读权限表示只允许读其内容，而禁止对其做任何的更改操作。<br>可执行权限表示允许将该文件作为一个程序执行。<br>文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。<br>用户也可根据需要把访问权限设置为需要的任何组合。</p>\n<h4 id=\"2-用户组\"><a href=\"#2-用户组\" class=\"headerlink\" title=\"2. 用户组\"></a>2. 用户组</h4><p>有三种不同类型的用户可对文件或目录进行访问：</p>\n<ul>\n<li>文件所有者，</li>\n<li>同组用户</li>\n<li>其他用户<br>所有者一般是文件的创建者。</li>\n</ul>\n<p>所有者可以允许同组用户有权访问文件，还可以将文件的访问权限赋予系统中的其他用户。<br>在这种情况下，系统中每一位用户都能访问该用户拥有的文件或目录。</p>\n<h4 id=\"3-文件权限\"><a href=\"#3-文件权限\" class=\"headerlink\" title=\"3. 文件权限\"></a>3. 文件权限</h4><p>每一文件或目录的访问权限都有三组，每组用三位表示，分别为</p>\n<ul>\n<li>文件属主的读、写和执行权限；</li>\n<li>与属主同组的用户的读、写和执行权限；</li>\n<li>系统中其他用户的读、写和执行权限。<br>当用ls -l命令显示文件或目录的详细信息时，最左边的一列为文件的访问权限。</li>\n</ul>\n<h4 id=\"4-实例分析\"><a href=\"#4-实例分析\" class=\"headerlink\" title=\"4.实例分析\"></a>4.实例分析</h4><p>随意查看一个目录： <code>ll</code></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 9 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 17 </span>10:18 .</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 8 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>09:08 ..</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root   <span class=\"number\"> 1771 </span>Jun<span class=\"number\"> 16 </span>23:22 _config.yml</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root<span class=\"number\"> 1201148 </span>Jun<span class=\"number\"> 17 </span>10:18 db.json</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 8 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 17 </span>10:31 .git</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root     <span class=\"number\"> 55 </span>Jun<span class=\"number\"> 15 </span>09:09 .gitignore</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 2 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>09:09 .idea</div><div class=\"line\">drwxr-xr-x<span class=\"number\"> 411 </span>root root  <span class=\"number\"> 16384 </span>Jun<span class=\"number\"> 15 </span>09:12 node_modules</div><div class=\"line\">-rw-r--r--  <span class=\"number\"> 1 </span>root root    <span class=\"number\"> 861 </span>Jun<span class=\"number\"> 16 </span>10:55 package.json</div><div class=\"line\">drwxr-xr-x <span class=\"number\"> 13 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 17 </span>10:18 public</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 2 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>09:09 scaffolds</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 7 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>12:51 source</div><div class=\"line\">drwxr-xr-x  <span class=\"number\"> 6 </span>root root   <span class=\"number\"> 4096 </span>Jun<span class=\"number\"> 15 </span>12:51 themes</div></pre></td></tr></table></figure>\n<p>解读：<br><figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">注意这里共有<span class=\"number\">10</span>个位置,<span class=\"number\">10</span>个位置又可以分为<span class=\"number\">4</span>个部分。</div><div class=\"line\">四个部分分别为 <span class=\"number\">1.</span>类型 <span class=\"number\">2.</span>属主权限 <span class=\"number\">2.</span>同组用户权限 <span class=\"number\">3</span> 其他用户权限</div><div class=\"line\">第一个字符指定了文件类型。</div><div class=\"line\">r代表只读，w代表写，x代表可执行，横线代表空。</div><div class=\"line\">在通常意义上，一个目录也是一个文件。</div><div class=\"line\">如果第一个字符是横线，表示是一个非目录的文件。</div><div class=\"line\">如果是d，表示是一个目录。</div></pre></td></tr></table></figure></p>\n<p>单个实例</p>\n<figure class=\"highlight brainfuck\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"literal\">-</span><span class=\"comment\">rw</span><span class=\"literal\">-</span><span class=\"comment\">r</span><span class=\"literal\">-</span><span class=\"literal\">-</span><span class=\"comment\">r</span><span class=\"literal\">-</span><span class=\"literal\">-</span></div></pre></td></tr></table></figure>\n<p>详细解读(如果没有看懂建议回头看看理论说明1-3)</p>\n<p><img src=\"https://image.xiaomo.info/linux/chmod.png\" alt=\"\"></p>\n<h3 id=\"二、命令使用说明\"><a href=\"#二、命令使用说明\" class=\"headerlink\" title=\"二、命令使用说明\"></a>二、命令使用说明</h3><h4 id=\"1-格式-参数设定\"><a href=\"#1-格式-参数设定\" class=\"headerlink\" title=\"1.格式(参数设定)\"></a>1.格式(参数设定)</h4><p><code>chmod ［who］ ［+ | - | =］ ［mode］ 文件名¼</code></p>\n<p>命令解读：</p>\n<p>操作对象who可是下述字母中的任一个或者它们的组合：</p>\n<figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　u 表示“用户（<span class=\"keyword\">user</span>）”，即文件或目录的所有者。</div><div class=\"line\"></div><div class=\"line\">　　g 表示“同组（<span class=\"keyword\">group</span>）用户”，即与文件属主有相同组ID的所有用户。</div><div class=\"line\"></div><div class=\"line\">　　o 表示“其他（others）用户”。</div><div class=\"line\"></div><div class=\"line\">　　a 表示“所有（<span class=\"literal\">all</span>）用户”。它是系统默认值。</div></pre></td></tr></table></figure>\n<p>　　操作符号可以是：</p>\n<figure class=\"highlight haml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　+ 添加某个权限。</div><div class=\"line\"></div><div class=\"line\">　　-<span class=\"ruby\"> 取消某个权限。</div><div class=\"line\"></span></div><div class=\"line\">　　=<span class=\"ruby\"> 赋予给定权限并取消其他所有权限（如果有的话）。</span></div></pre></td></tr></table></figure>\n<p>　　设置mode所表示的权限可用下述字母的任意组合：</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　r 可读。</div><div class=\"line\"></div><div class=\"line\">　　w 可写。</div><div class=\"line\"></div><div class=\"line\">　　x 可执行。</div><div class=\"line\"></div><div class=\"line\">　　X 只有目标文件对某些用户是可执行的或该目标文件是目录时才追加x 属性。</div><div class=\"line\"></div><div class=\"line\">　　s 在文件执行时把进程的属主或组ID置为该文件的文件属主。方式“u＋s”设置文件的用户ID位，“g＋s”设置组ID位。</div><div class=\"line\"></div><div class=\"line\">　　t 保存程序的文本到交换设备上。</div><div class=\"line\"></div><div class=\"line\">　　u 与文件属主拥有一样的权限。</div><div class=\"line\"></div><div class=\"line\">　　g 与和文件属主同组的用户拥有一样的权限。</div><div class=\"line\"></div><div class=\"line\">　　o 与其他用户拥有一样的权限。</div><div class=\"line\"></div><div class=\"line\">　　文件名：以空格分开的要改变权限的文件列表，支持通配符。</div><div class=\"line\"></div><div class=\"line\">　　在一个命令行中可给出多个权限方式，其间用逗号隔开。例如：chmod g+r，o+r <span class=\"built_in\">example</span></div><div class=\"line\"></div><div class=\"line\">　　使同组和其他用户对文件<span class=\"built_in\">example</span> 有读权限。</div></pre></td></tr></table></figure>\n<h4 id=\"2-权限设置-数字\"><a href=\"#2-权限设置-数字\" class=\"headerlink\" title=\"2.权限设置(数字)\"></a>2.权限设置(数字)</h4><p>我们必须首先了解用数字表示的属性的含义：</p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"number\">0</span>表示没有权限，</div><div class=\"line\"><span class=\"number\">1</span>表示可执行权限，</div><div class=\"line\"><span class=\"number\">2</span>表示可写权限，</div><div class=\"line\"><span class=\"number\">4</span>表示可读权限，</div><div class=\"line\">然后将其相加。所</div><div class=\"line\">以数字属性的格式应为<span class=\"number\">3</span>个从<span class=\"number\">0</span>到<span class=\"number\">7</span>的八进制数，</div><div class=\"line\">其顺序是（u）（g）（o）。</div></pre></td></tr></table></figure>\n<h3 id=\"三、其他命令\"><a href=\"#三、其他命令\" class=\"headerlink\" title=\"三、其他命令\"></a>三、其他命令</h3><h4 id=\"1-chgrp命令\"><a href=\"#1-chgrp命令\" class=\"headerlink\" title=\"1. chgrp命令\"></a>1. <code>chgrp</code>命令</h4><p>功能：改变文件或目录所属的组。</p>\n<p>语法：<code>chgrp ［选项］ group filename¼</code></p>\n<p>该命令改变指定指定文件所属的用户组。其中<code>group</code>可以是用户组ID，也可以是<code>/etc/group</code>文件中用户组的组名。文件名是以空格分开的要改变属组的文件列表，支持通配符。如果用户不是该文件的属主或超级用户，则不能改变该文件的组。</p>\n<p>该命令的各选项含义为：</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"bullet\">- </span>R 递归式地改变指定目录及其下的所有子目录和文件的属组。</div></pre></td></tr></table></figure>\n<p>　　例1：<code>$ chgrp - R book /opt/local /book</code></p>\n<p>　　改变<code>`/opt/local</code> <code>/book/</code>及其子目录下的所有文件的属组为<code>book</code>。</p>\n<h4 id=\"2-chown命令\"><a href=\"#2-chown命令\" class=\"headerlink\" title=\"2. chown命令\"></a>2. <code>chown</code>命令</h4><p>　　功能：更改某个文件或目录的属主和属组。这个命令也很常用。例如root用户把自己的一个文件拷贝给用户xu，为了让用户xu能够存取这个文件，root用户应该把这个文件的属主设为xu，否则，用户xu无法存取这个文件。</p>\n<p>　　语法：<code>chown ［选项］ 用户或组 文件</code></p>\n<p>　　说明：<code>chown</code>将指定文件的拥有者改为指定的用户或组。用户可以是用户名或用户ID。组可以是组名或组ID。文件是以空格分开的要改变权限的文件列表，支持通配符。</p>\n<p>　　该命令的各选项含义如下：</p>\n<figure class=\"highlight haml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">　　-<span class=\"ruby\"> R 递归式地改变指定目录及其下的所有子目录和文件的拥有者。</div><div class=\"line\"></span>　　-<span class=\"ruby\"> v 显示chown命令所做的工作。</span></div></pre></td></tr></table></figure>\n<p>　　例1：把文件<code>shiyan.c</code>的所有者改为<code>wang</code>。</p>\n<p>　　$ <code>chown wang shiyan.c</code></p>\n<p>　　例2：把目录/his及其下的所有文件和子目录的属主改成<code>wang</code>，属组改成<code>users</code>。</p>\n<p>　　$ <code>chown - R wang.users /his</code></p>"},{"title":"获取多说和 Disqus 文章评论数的方法","date":"2016-06-17T13:19:34.000Z","_content":"\n<h2 id=\"intro\">前言</h2>不少网站使用的是多说等第三方评论系统，有时候需要在特定位置显示对应文章的评论数，下面的方法可以快速获取多说和 Disqus 的文章评论数，所得为纯数字，方便排版布局。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 多说\n多说提供了获取文章评论数的接口，需要做的只是填好相关参数，然后再从返回的 JSON 数据中提取出评论数即可\n\n#### 请求参数\n\n- `short_name`: 站点注册的多说二级域名，比如注册了 http://helloworld.duoshuo.com/, 则对应二级域名为 helloworld;\n- `threads`: 文章的 `thread-key`, 与评论框中 data-thread-key 一致。\n\n#### 返回数据示例\n```json\n{\n    \"response\": {\n        \"about/index.html\": {\n            \"thread_id\": \"6205475504969401090\",\n            \"channel_key\": null,\n            \"thread_key\": \"about/index.html\",\n            \"reposts\": 0,\n            \"views\": 0,\n            \"likes\": 8,\n            \"dislikes\": 0,\n            \"comments\": 187\n        }\n    },\n    \"options\": {\n        \"comments_zero\": \"暂无评论\",\n        \"comments_one\": \"1条评论\",\n        \"comments_multiple\": \"{num}条评论\"\n    },\n    \"code\": 0\n}\n```\n#### 数据提取\n\n- 需要的只是评论数 `comments`，这里使用 jQuery 的 `getJSON` 比较方便\n\n```js\n$(function() {\n    var shortName = \"moxfive\";\n    var threads = \"about/index.html\";\n\n    var jsonUrl = \"http://api.duoshuo.com/threads/counts.jsonp?short_name=\" + shortName + \"&threads=\" + threads +  \"&callback=?\";\n    $.getJSON(jsonUrl, function(result) {\n        $.each(result.response, function(i, field) {\n            var value = field.comments;\n            $(\".duoshuo-count\").text(value);\n        })\n    })\n})\n```\n\n- 获得的值会显示在匹配的区域中\n\n```html\n<span class=\"disqus-count\"></span>\n```\n\n### Disqus\n\n#### 加载相关 JS\n\n- 域名中填入自己的 Disqus `shortname`，获取方式参考 [官方文档](https://help.disqus.com/customer/en/portal/articles/466208-what-s-a-shortname-)\n\n```html\n<script id=\"dsq-count-scr\" src=\"//<shortname>.disqus.com/count.js\" async></script>\n\n<!-- e.g. -->\n<script id=\"dsq-count-scr\" src=\"//moxfive.disqus.com/count.js\" async></script>\n```\n\n#### 显示评论数\n- 这里介绍两种借助特定 Class 显示评论数的方法\n\n```html\n<!-- 通过 `data-disqus-identifier` -->\n<span class=\"disqus-comment-count\" data-disqus-identifier=\"about/index.html\"></span>\n\n\n<!-- 通过 `data-disqus-url` -->\n<span class=\"disqus-comment-count\" data-disqus-url=\"http://MOxFIVE.xyz/about/index.html\"></span>\n```\n\n> - `identifier` 和 `url` 的值如果不清楚，可以自行设置，方法参考 [官方文档](https://help.disqus.com/customer/portal/articles/472098)\n> - 获取的评论数不正确，很可能是因为远程数据没更新，等等就好。\n\n#### 提取纯数字\n- 上面方法显示的评论数是类似 `1 Comment` 这样的格式，这里可以把它转为纯数字格式 `1`\n- 使用 jQuery 绑定事件，当评论数信息显示时去掉非数字字符即可\n\n```js\nvar $disqusCount = $(\".disqus-comment-count\");\n$disqusCount.bind(\"DOMNodeInserted\", function(e) {\n  var num = $(this).text().replace(/[^0-9]/ig,\"\");\n  $(this).text(num)\n})\n```\n\n### 相关链接\n\n1. 多说官方文档: [获取文章评论、转发数](http://dev.duoshuo.com/docs/50615732a834c63c56004257)\n1. 多说官方文档: [代码显示【文章评论数】方法](http://dev.duoshuo.com/threads/5016427f77cf5fa30500000e)\n1. Disqus Help: [Adding comment count links to your home page](https://help.disqus.com/customer/portal/articles/565624-adding-comment-c)\n","source":"_posts/2016-06-17.duoshuo_disqus_comment_ount.md","raw":"---\ntitle: 获取多说和 Disqus 文章评论数的方法\ndate: 2016-06-17 21:19:34\ncategories: 术业专攻\ntags:\n- jquery\npermalink: DuoshuoComment\n---\n\n<h2 id=\"intro\">前言</h2>不少网站使用的是多说等第三方评论系统，有时候需要在特定位置显示对应文章的评论数，下面的方法可以快速获取多说和 Disqus 的文章评论数，所得为纯数字，方便排版布局。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/life.png)](https://github.com/syoubaku)\n### 多说\n多说提供了获取文章评论数的接口，需要做的只是填好相关参数，然后再从返回的 JSON 数据中提取出评论数即可\n\n#### 请求参数\n\n- `short_name`: 站点注册的多说二级域名，比如注册了 http://helloworld.duoshuo.com/, 则对应二级域名为 helloworld;\n- `threads`: 文章的 `thread-key`, 与评论框中 data-thread-key 一致。\n\n#### 返回数据示例\n```json\n{\n    \"response\": {\n        \"about/index.html\": {\n            \"thread_id\": \"6205475504969401090\",\n            \"channel_key\": null,\n            \"thread_key\": \"about/index.html\",\n            \"reposts\": 0,\n            \"views\": 0,\n            \"likes\": 8,\n            \"dislikes\": 0,\n            \"comments\": 187\n        }\n    },\n    \"options\": {\n        \"comments_zero\": \"暂无评论\",\n        \"comments_one\": \"1条评论\",\n        \"comments_multiple\": \"{num}条评论\"\n    },\n    \"code\": 0\n}\n```\n#### 数据提取\n\n- 需要的只是评论数 `comments`，这里使用 jQuery 的 `getJSON` 比较方便\n\n```js\n$(function() {\n    var shortName = \"moxfive\";\n    var threads = \"about/index.html\";\n\n    var jsonUrl = \"http://api.duoshuo.com/threads/counts.jsonp?short_name=\" + shortName + \"&threads=\" + threads +  \"&callback=?\";\n    $.getJSON(jsonUrl, function(result) {\n        $.each(result.response, function(i, field) {\n            var value = field.comments;\n            $(\".duoshuo-count\").text(value);\n        })\n    })\n})\n```\n\n- 获得的值会显示在匹配的区域中\n\n```html\n<span class=\"disqus-count\"></span>\n```\n\n### Disqus\n\n#### 加载相关 JS\n\n- 域名中填入自己的 Disqus `shortname`，获取方式参考 [官方文档](https://help.disqus.com/customer/en/portal/articles/466208-what-s-a-shortname-)\n\n```html\n<script id=\"dsq-count-scr\" src=\"//<shortname>.disqus.com/count.js\" async></script>\n\n<!-- e.g. -->\n<script id=\"dsq-count-scr\" src=\"//moxfive.disqus.com/count.js\" async></script>\n```\n\n#### 显示评论数\n- 这里介绍两种借助特定 Class 显示评论数的方法\n\n```html\n<!-- 通过 `data-disqus-identifier` -->\n<span class=\"disqus-comment-count\" data-disqus-identifier=\"about/index.html\"></span>\n\n\n<!-- 通过 `data-disqus-url` -->\n<span class=\"disqus-comment-count\" data-disqus-url=\"http://MOxFIVE.xyz/about/index.html\"></span>\n```\n\n> - `identifier` 和 `url` 的值如果不清楚，可以自行设置，方法参考 [官方文档](https://help.disqus.com/customer/portal/articles/472098)\n> - 获取的评论数不正确，很可能是因为远程数据没更新，等等就好。\n\n#### 提取纯数字\n- 上面方法显示的评论数是类似 `1 Comment` 这样的格式，这里可以把它转为纯数字格式 `1`\n- 使用 jQuery 绑定事件，当评论数信息显示时去掉非数字字符即可\n\n```js\nvar $disqusCount = $(\".disqus-comment-count\");\n$disqusCount.bind(\"DOMNodeInserted\", function(e) {\n  var num = $(this).text().replace(/[^0-9]/ig,\"\");\n  $(this).text(num)\n})\n```\n\n### 相关链接\n\n1. 多说官方文档: [获取文章评论、转发数](http://dev.duoshuo.com/docs/50615732a834c63c56004257)\n1. 多说官方文档: [代码显示【文章评论数】方法](http://dev.duoshuo.com/threads/5016427f77cf5fa30500000e)\n1. Disqus Help: [Adding comment count links to your home page](https://help.disqus.com/customer/portal/articles/565624-adding-comment-c)\n","slug":"DuoshuoComment","published":1,"updated":"2016-12-01T06:50:25.135Z","_id":"civ0ggq8b002yrwvnp5atl2w9","comments":1,"layout":"post","photos":[],"link":"","content":"<p></p><h2 id=\"intro\">前言</h2>不少网站使用的是多说等第三方评论系统，有时候需要在特定位置显示对应文章的评论数，下面的方法可以快速获取多说和 Disqus 的文章评论数，所得为纯数字，方便排版布局。<p></p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"多说\"><a href=\"#多说\" class=\"headerlink\" title=\"多说\"></a>多说</h3><p>多说提供了获取文章评论数的接口，需要做的只是填好相关参数，然后再从返回的 JSON 数据中提取出评论数即可</p>\n<h4 id=\"请求参数\"><a href=\"#请求参数\" class=\"headerlink\" title=\"请求参数\"></a>请求参数</h4><ul>\n<li><code>short_name</code>: 站点注册的多说二级域名，比如注册了 <a href=\"http://helloworld.duoshuo.com/\" target=\"_blank\" rel=\"external\">http://helloworld.duoshuo.com/</a>, 则对应二级域名为 helloworld;</li>\n<li><code>threads</code>: 文章的 <code>thread-key</code>, 与评论框中 data-thread-key 一致。</li>\n</ul>\n<h4 id=\"返回数据示例\"><a href=\"#返回数据示例\" class=\"headerlink\" title=\"返回数据示例\"></a>返回数据示例</h4><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">    <span class=\"attr\">\"response\"</span>: &#123;</div><div class=\"line\">        <span class=\"attr\">\"about/index.html\"</span>: &#123;</div><div class=\"line\">            <span class=\"attr\">\"thread_id\"</span>: <span class=\"string\">\"6205475504969401090\"</span>,</div><div class=\"line\">            <span class=\"attr\">\"channel_key\"</span>: <span class=\"literal\">null</span>,</div><div class=\"line\">            <span class=\"attr\">\"thread_key\"</span>: <span class=\"string\">\"about/index.html\"</span>,</div><div class=\"line\">            <span class=\"attr\">\"reposts\"</span>: <span class=\"number\">0</span>,</div><div class=\"line\">            <span class=\"attr\">\"views\"</span>: <span class=\"number\">0</span>,</div><div class=\"line\">            <span class=\"attr\">\"likes\"</span>: <span class=\"number\">8</span>,</div><div class=\"line\">            <span class=\"attr\">\"dislikes\"</span>: <span class=\"number\">0</span>,</div><div class=\"line\">            <span class=\"attr\">\"comments\"</span>: <span class=\"number\">187</span></div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">\"options\"</span>: &#123;</div><div class=\"line\">        <span class=\"attr\">\"comments_zero\"</span>: <span class=\"string\">\"暂无评论\"</span>,</div><div class=\"line\">        <span class=\"attr\">\"comments_one\"</span>: <span class=\"string\">\"1条评论\"</span>,</div><div class=\"line\">        <span class=\"attr\">\"comments_multiple\"</span>: <span class=\"string\">\"&#123;num&#125;条评论\"</span></div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">\"code\"</span>: <span class=\"number\">0</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"数据提取\"><a href=\"#数据提取\" class=\"headerlink\" title=\"数据提取\"></a>数据提取</h4><ul>\n<li>需要的只是评论数 <code>comments</code>，这里使用 jQuery 的 <code>getJSON</code> 比较方便</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> shortName = <span class=\"string\">\"moxfive\"</span>;</div><div class=\"line\">    <span class=\"keyword\">var</span> threads = <span class=\"string\">\"about/index.html\"</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> jsonUrl = <span class=\"string\">\"http://api.duoshuo.com/threads/counts.jsonp?short_name=\"</span> + shortName + <span class=\"string\">\"&amp;threads=\"</span> + threads +  <span class=\"string\">\"&amp;callback=?\"</span>;</div><div class=\"line\">    $.getJSON(jsonUrl, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">result</span>) </span>&#123;</div><div class=\"line\">        $.each(result.response, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">i, field</span>) </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">var</span> value = field.comments;</div><div class=\"line\">            $(<span class=\"string\">\".duoshuo-count\"</span>).text(value);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<ul>\n<li>获得的值会显示在匹配的区域中</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"disqus-count\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"Disqus\"><a href=\"#Disqus\" class=\"headerlink\" title=\"Disqus\"></a>Disqus</h3><h4 id=\"加载相关-JS\"><a href=\"#加载相关-JS\" class=\"headerlink\" title=\"加载相关 JS\"></a>加载相关 JS</h4><ul>\n<li>域名中填入自己的 Disqus <code>shortname</code>，获取方式参考 <a href=\"https://help.disqus.com/customer/en/portal/articles/466208-what-s-a-shortname-\" target=\"_blank\" rel=\"external\">官方文档</a></li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">id</span>=<span class=\"string\">\"dsq-count-scr\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//&lt;shortname&gt;.disqus.com/count.js\"</span> <span class=\"attr\">async</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- e.g. --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">id</span>=<span class=\"string\">\"dsq-count-scr\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//moxfive.disqus.com/count.js\"</span> <span class=\"attr\">async</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"显示评论数\"><a href=\"#显示评论数\" class=\"headerlink\" title=\"显示评论数\"></a>显示评论数</h4><ul>\n<li>这里介绍两种借助特定 Class 显示评论数的方法</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- 通过 `data-disqus-identifier` --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"disqus-comment-count\"</span> <span class=\"attr\">data-disqus-identifier</span>=<span class=\"string\">\"about/index.html\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- 通过 `data-disqus-url` --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"disqus-comment-count\"</span> <span class=\"attr\">data-disqus-url</span>=<span class=\"string\">\"http://MOxFIVE.xyz/about/index.html\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li><code>identifier</code> 和 <code>url</code> 的值如果不清楚，可以自行设置，方法参考 <a href=\"https://help.disqus.com/customer/portal/articles/472098\" target=\"_blank\" rel=\"external\">官方文档</a></li>\n<li>获取的评论数不正确，很可能是因为远程数据没更新，等等就好。</li>\n</ul>\n</blockquote>\n<h4 id=\"提取纯数字\"><a href=\"#提取纯数字\" class=\"headerlink\" title=\"提取纯数字\"></a>提取纯数字</h4><ul>\n<li>上面方法显示的评论数是类似 <code>1 Comment</code> 这样的格式，这里可以把它转为纯数字格式 <code>1</code></li>\n<li>使用 jQuery 绑定事件，当评论数信息显示时去掉非数字字符即可</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> $disqusCount = $(<span class=\"string\">\".disqus-comment-count\"</span>);</div><div class=\"line\">$disqusCount.bind(<span class=\"string\">\"DOMNodeInserted\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> num = $(<span class=\"keyword\">this</span>).text().replace(<span class=\"regexp\">/[^0-9]/ig</span>,<span class=\"string\">\"\"</span>);</div><div class=\"line\">  $(<span class=\"keyword\">this</span>).text(num)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h3 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h3><ol>\n<li>多说官方文档: <a href=\"http://dev.duoshuo.com/docs/50615732a834c63c56004257\" target=\"_blank\" rel=\"external\">获取文章评论、转发数</a></li>\n<li>多说官方文档: <a href=\"http://dev.duoshuo.com/threads/5016427f77cf5fa30500000e\" target=\"_blank\" rel=\"external\">代码显示【文章评论数】方法</a></li>\n<li>Disqus Help: <a href=\"https://help.disqus.com/customer/portal/articles/565624-adding-comment-c\" target=\"_blank\" rel=\"external\">Adding comment count links to your home page</a></li>\n</ol>\n","excerpt":"<p><h2 id=\"intro\">前言</h2>不少网站使用的是多说等第三方评论系统，有时候需要在特定位置显示对应文章的评论数，下面的方法可以快速获取多说和 Disqus 的文章评论数，所得为纯数字，方便排版布局。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/life.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"多说\"><a href=\"#多说\" class=\"headerlink\" title=\"多说\"></a>多说</h3><p>多说提供了获取文章评论数的接口，需要做的只是填好相关参数，然后再从返回的 JSON 数据中提取出评论数即可</p>\n<h4 id=\"请求参数\"><a href=\"#请求参数\" class=\"headerlink\" title=\"请求参数\"></a>请求参数</h4><ul>\n<li><code>short_name</code>: 站点注册的多说二级域名，比如注册了 <a href=\"http://helloworld.duoshuo.com/\">http://helloworld.duoshuo.com/</a>, 则对应二级域名为 helloworld;</li>\n<li><code>threads</code>: 文章的 <code>thread-key</code>, 与评论框中 data-thread-key 一致。</li>\n</ul>\n<h4 id=\"返回数据示例\"><a href=\"#返回数据示例\" class=\"headerlink\" title=\"返回数据示例\"></a>返回数据示例</h4><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">    <span class=\"attr\">\"response\"</span>: &#123;</div><div class=\"line\">        <span class=\"attr\">\"about/index.html\"</span>: &#123;</div><div class=\"line\">            <span class=\"attr\">\"thread_id\"</span>: <span class=\"string\">\"6205475504969401090\"</span>,</div><div class=\"line\">            <span class=\"attr\">\"channel_key\"</span>: <span class=\"literal\">null</span>,</div><div class=\"line\">            <span class=\"attr\">\"thread_key\"</span>: <span class=\"string\">\"about/index.html\"</span>,</div><div class=\"line\">            <span class=\"attr\">\"reposts\"</span>: <span class=\"number\">0</span>,</div><div class=\"line\">            <span class=\"attr\">\"views\"</span>: <span class=\"number\">0</span>,</div><div class=\"line\">            <span class=\"attr\">\"likes\"</span>: <span class=\"number\">8</span>,</div><div class=\"line\">            <span class=\"attr\">\"dislikes\"</span>: <span class=\"number\">0</span>,</div><div class=\"line\">            <span class=\"attr\">\"comments\"</span>: <span class=\"number\">187</span></div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">\"options\"</span>: &#123;</div><div class=\"line\">        <span class=\"attr\">\"comments_zero\"</span>: <span class=\"string\">\"暂无评论\"</span>,</div><div class=\"line\">        <span class=\"attr\">\"comments_one\"</span>: <span class=\"string\">\"1条评论\"</span>,</div><div class=\"line\">        <span class=\"attr\">\"comments_multiple\"</span>: <span class=\"string\">\"&#123;num&#125;条评论\"</span></div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"attr\">\"code\"</span>: <span class=\"number\">0</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"数据提取\"><a href=\"#数据提取\" class=\"headerlink\" title=\"数据提取\"></a>数据提取</h4><ul>\n<li>需要的只是评论数 <code>comments</code>，这里使用 jQuery 的 <code>getJSON</code> 比较方便</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> shortName = <span class=\"string\">\"moxfive\"</span>;</div><div class=\"line\">    <span class=\"keyword\">var</span> threads = <span class=\"string\">\"about/index.html\"</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">var</span> jsonUrl = <span class=\"string\">\"http://api.duoshuo.com/threads/counts.jsonp?short_name=\"</span> + shortName + <span class=\"string\">\"&amp;threads=\"</span> + threads +  <span class=\"string\">\"&amp;callback=?\"</span>;</div><div class=\"line\">    $.getJSON(jsonUrl, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">result</span>) </span>&#123;</div><div class=\"line\">        $.each(result.response, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">i, field</span>) </span>&#123;</div><div class=\"line\">            <span class=\"keyword\">var</span> value = field.comments;</div><div class=\"line\">            $(<span class=\"string\">\".duoshuo-count\"</span>).text(value);</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<ul>\n<li>获得的值会显示在匹配的区域中</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"disqus-count\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"Disqus\"><a href=\"#Disqus\" class=\"headerlink\" title=\"Disqus\"></a>Disqus</h3><h4 id=\"加载相关-JS\"><a href=\"#加载相关-JS\" class=\"headerlink\" title=\"加载相关 JS\"></a>加载相关 JS</h4><ul>\n<li>域名中填入自己的 Disqus <code>shortname</code>，获取方式参考 <a href=\"https://help.disqus.com/customer/en/portal/articles/466208-what-s-a-shortname-\">官方文档</a></li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">id</span>=<span class=\"string\">\"dsq-count-scr\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//&lt;shortname&gt;.disqus.com/count.js\"</span> <span class=\"attr\">async</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- e.g. --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">id</span>=<span class=\"string\">\"dsq-count-scr\"</span> <span class=\"attr\">src</span>=<span class=\"string\">\"//moxfive.disqus.com/count.js\"</span> <span class=\"attr\">async</span>&gt;</span><span class=\"undefined\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"显示评论数\"><a href=\"#显示评论数\" class=\"headerlink\" title=\"显示评论数\"></a>显示评论数</h4><ul>\n<li>这里介绍两种借助特定 Class 显示评论数的方法</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- 通过 `data-disqus-identifier` --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"disqus-comment-count\"</span> <span class=\"attr\">data-disqus-identifier</span>=<span class=\"string\">\"about/index.html\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">&lt;!-- 通过 `data-disqus-url` --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"disqus-comment-count\"</span> <span class=\"attr\">data-disqus-url</span>=<span class=\"string\">\"http://MOxFIVE.xyz/about/index.html\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li><code>identifier</code> 和 <code>url</code> 的值如果不清楚，可以自行设置，方法参考 <a href=\"https://help.disqus.com/customer/portal/articles/472098\">官方文档</a></li>\n<li>获取的评论数不正确，很可能是因为远程数据没更新，等等就好。</li>\n</ul>\n</blockquote>\n<h4 id=\"提取纯数字\"><a href=\"#提取纯数字\" class=\"headerlink\" title=\"提取纯数字\"></a>提取纯数字</h4><ul>\n<li>上面方法显示的评论数是类似 <code>1 Comment</code> 这样的格式，这里可以把它转为纯数字格式 <code>1</code></li>\n<li>使用 jQuery 绑定事件，当评论数信息显示时去掉非数字字符即可</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> $disqusCount = $(<span class=\"string\">\".disqus-comment-count\"</span>);</div><div class=\"line\">$disqusCount.bind(<span class=\"string\">\"DOMNodeInserted\"</span>, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">e</span>) </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">var</span> num = $(<span class=\"keyword\">this</span>).text().replace(<span class=\"regexp\">/[^0-9]/ig</span>,<span class=\"string\">\"\"</span>);</div><div class=\"line\">  $(<span class=\"keyword\">this</span>).text(num)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h3 id=\"相关链接\"><a href=\"#相关链接\" class=\"headerlink\" title=\"相关链接\"></a>相关链接</h3><ol>\n<li>多说官方文档: <a href=\"http://dev.duoshuo.com/docs/50615732a834c63c56004257\">获取文章评论、转发数</a></li>\n<li>多说官方文档: <a href=\"http://dev.duoshuo.com/threads/5016427f77cf5fa30500000e\">代码显示【文章评论数】方法</a></li>\n<li>Disqus Help: <a href=\"https://help.disqus.com/customer/portal/articles/565624-adding-comment-c\">Adding comment count links to your home page</a></li>\n</ol>"},{"author":"小莫","date":"2016-06-16T16:00:00.000Z","title":"阿里云服务器磁盘挂载","_content":"起因在于前段时间在阿里云上购买了一台ECS的云服务器，奈何硬盘20G不够用，所以又买了一块硬块。so,问题来了,磁盘挂载哪家强？最终还要靠自己！！\n\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/linux.png)](https://github.com/syoubaku)\n## 一、基本信息\n\n参考自阿里云服务器使用心得。\n\n云服务器环境：CentOS 6.2 64位\n\n客户端环境：Mac OSX\n\n远程连接方式：运行 Terminal，输入命令 ssh username@ip\n\n### 二、硬盘分区及挂载操作步骤\n\n#### 1. 查看未挂载的硬盘\n（名称为/dev/xvdb）\n`fdisk -l`\n输出\n`Disk /dev/xvdb doesn't contain a valid partition table`\n\n#### 2. 创建分区\n\n`fdisk /dev/xvdb`\n\n```\n\n输入n\n\nCommand (m for help):n\n\n输入p\n\nCommand action\ne extended\np primary partition (1-4)\np\n\n输入1\n\nPartition number (1-4): 1\n\n回车\n\nFirst cylinder (1-2610, default 1):\nUsing default value 1\n\n回车\n\nLast cylinder, +cylinders or +size{K,M,G} (1-2610, default 2610):\nUsing default value 2610\n\n输入w\n\nCommand (m for help): w\nThe partition table has been altered!\n```\n\n#### 3. 格式化分区\n\n 执行命令： `mkfs.ext3 /dev/xvdb1`\n\n#### 4. 建立挂载目录\n\n执行命令： `mkdir /data`  注意名字不要和原有磁盘上的重复  不然原有磁盘上的内容会被覆盖\n\n#### 5. 挂载分区\n\n将磁盘挂载到刚建立的`data`目录中   `mount /dev/xvdb1 /data`\n\n#### 6. 设置开机自动挂载\n\n`vi /etc/fstab`\n\n在vi中输入i进入INERT模式，将光标移至文件结尾处并回车，将下面的内容复制/粘贴，然后按Esc键，输入:x保存并退出\n\n```\n/dev/xvdb1              /data                   ext3    defaults        0 0\n```\n\n#### 7. 确认是否挂载成功\n\n重启服务器: `reboot`\n查看硬盘分区: `df`\n\n\n\n反馈信息\n\n```\n/dev/xvdb1            20635700    176196  19411268   1% /data\n```\n\n搞定！Mac 下通过 Terminal 远程操作 Linux 的感觉不错！\n\n### 四、 原文地址\n[aliyun-linux-fdisk](http://www.cnblogs.com/dudu/archive/2012/12/07/aliyun-linux-fdisk.html)\n","source":"_posts/2016-06-17.linux_disk.md","raw":"---\nauthor: 小莫\ndate: 2016-06-17\ntitle: 阿里云服务器磁盘挂载\ntags:\n- linux\ncategory: linux磁盘挂载\npermalink: LinuxDisk\n---\n起因在于前段时间在阿里云上购买了一台ECS的云服务器，奈何硬盘20G不够用，所以又买了一块硬块。so,问题来了,磁盘挂载哪家强？最终还要靠自己！！\n\n<!--more-->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/linux.png)](https://github.com/syoubaku)\n## 一、基本信息\n\n参考自阿里云服务器使用心得。\n\n云服务器环境：CentOS 6.2 64位\n\n客户端环境：Mac OSX\n\n远程连接方式：运行 Terminal，输入命令 ssh username@ip\n\n### 二、硬盘分区及挂载操作步骤\n\n#### 1. 查看未挂载的硬盘\n（名称为/dev/xvdb）\n`fdisk -l`\n输出\n`Disk /dev/xvdb doesn't contain a valid partition table`\n\n#### 2. 创建分区\n\n`fdisk /dev/xvdb`\n\n```\n\n输入n\n\nCommand (m for help):n\n\n输入p\n\nCommand action\ne extended\np primary partition (1-4)\np\n\n输入1\n\nPartition number (1-4): 1\n\n回车\n\nFirst cylinder (1-2610, default 1):\nUsing default value 1\n\n回车\n\nLast cylinder, +cylinders or +size{K,M,G} (1-2610, default 2610):\nUsing default value 2610\n\n输入w\n\nCommand (m for help): w\nThe partition table has been altered!\n```\n\n#### 3. 格式化分区\n\n 执行命令： `mkfs.ext3 /dev/xvdb1`\n\n#### 4. 建立挂载目录\n\n执行命令： `mkdir /data`  注意名字不要和原有磁盘上的重复  不然原有磁盘上的内容会被覆盖\n\n#### 5. 挂载分区\n\n将磁盘挂载到刚建立的`data`目录中   `mount /dev/xvdb1 /data`\n\n#### 6. 设置开机自动挂载\n\n`vi /etc/fstab`\n\n在vi中输入i进入INERT模式，将光标移至文件结尾处并回车，将下面的内容复制/粘贴，然后按Esc键，输入:x保存并退出\n\n```\n/dev/xvdb1              /data                   ext3    defaults        0 0\n```\n\n#### 7. 确认是否挂载成功\n\n重启服务器: `reboot`\n查看硬盘分区: `df`\n\n\n\n反馈信息\n\n```\n/dev/xvdb1            20635700    176196  19411268   1% /data\n```\n\n搞定！Mac 下通过 Terminal 远程操作 Linux 的感觉不错！\n\n### 四、 原文地址\n[aliyun-linux-fdisk](http://www.cnblogs.com/dudu/archive/2012/12/07/aliyun-linux-fdisk.html)\n","slug":"LinuxDisk","published":1,"updated":"2016-12-01T06:50:28.316Z","_id":"civ0ggq8f0033rwvnzzq1ubo3","comments":1,"layout":"post","photos":[],"link":"","content":"<p>起因在于前段时间在阿里云上购买了一台ECS的云服务器，奈何硬盘20G不够用，所以又买了一块硬块。so,问题来了,磁盘挂载哪家强？最终还要靠自己！！</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"点击访问小莫的github\"></a></p>\n<h2 id=\"一、基本信息\"><a href=\"#一、基本信息\" class=\"headerlink\" title=\"一、基本信息\"></a>一、基本信息</h2><p>参考自阿里云服务器使用心得。</p>\n<p>云服务器环境：CentOS 6.2 64位</p>\n<p>客户端环境：Mac OSX</p>\n<p>远程连接方式：运行 Terminal，输入命令 ssh username@ip</p>\n<h3 id=\"二、硬盘分区及挂载操作步骤\"><a href=\"#二、硬盘分区及挂载操作步骤\" class=\"headerlink\" title=\"二、硬盘分区及挂载操作步骤\"></a>二、硬盘分区及挂载操作步骤</h3><h4 id=\"1-查看未挂载的硬盘\"><a href=\"#1-查看未挂载的硬盘\" class=\"headerlink\" title=\"1. 查看未挂载的硬盘\"></a>1. 查看未挂载的硬盘</h4><p>（名称为/dev/xvdb）<br><code>fdisk -l</code><br>输出<br><code>Disk /dev/xvdb doesn&#39;t contain a valid partition table</code></p>\n<h4 id=\"2-创建分区\"><a href=\"#2-创建分区\" class=\"headerlink\" title=\"2. 创建分区\"></a>2. 创建分区</h4><p><code>fdisk /dev/xvdb</code></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">输入n</div><div class=\"line\"></div><div class=\"line\">Command (m for <span class=\"keyword\">help</span>):n</div><div class=\"line\"></div><div class=\"line\">输入p</div><div class=\"line\"></div><div class=\"line\">Command <span class=\"keyword\">action</span></div><div class=\"line\">e <span class=\"keyword\">extended</span></div><div class=\"line\">p primary <span class=\"keyword\">partition</span> (<span class=\"number\">1</span><span class=\"number\">-4</span>)</div><div class=\"line\">p</div><div class=\"line\"></div><div class=\"line\">输入<span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">Partition</span> <span class=\"built_in\">number</span> (<span class=\"number\">1</span><span class=\"number\">-4</span>): <span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\">回车</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">First</span> cylinder (<span class=\"number\">1</span><span class=\"number\">-2610</span>, <span class=\"keyword\">default</span> <span class=\"number\">1</span>):</div><div class=\"line\"><span class=\"keyword\">Using</span> <span class=\"keyword\">default</span> <span class=\"keyword\">value</span> <span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\">回车</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">Last</span> cylinder, +cylinders <span class=\"keyword\">or</span> +<span class=\"keyword\">size</span>&#123;K,M,G&#125; (<span class=\"number\">1</span><span class=\"number\">-2610</span>, <span class=\"keyword\">default</span> <span class=\"number\">2610</span>):</div><div class=\"line\"><span class=\"keyword\">Using</span> <span class=\"keyword\">default</span> <span class=\"keyword\">value</span> <span class=\"number\">2610</span></div><div class=\"line\"></div><div class=\"line\">输入w</div><div class=\"line\"></div><div class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"keyword\">help</span>): w</div><div class=\"line\">The <span class=\"keyword\">partition</span> <span class=\"keyword\">table</span> has been altered!</div></pre></td></tr></table></figure>\n<h4 id=\"3-格式化分区\"><a href=\"#3-格式化分区\" class=\"headerlink\" title=\"3. 格式化分区\"></a>3. 格式化分区</h4><p> 执行命令： <code>mkfs.ext3 /dev/xvdb1</code></p>\n<h4 id=\"4-建立挂载目录\"><a href=\"#4-建立挂载目录\" class=\"headerlink\" title=\"4. 建立挂载目录\"></a>4. 建立挂载目录</h4><p>执行命令： <code>mkdir /data</code>  注意名字不要和原有磁盘上的重复  不然原有磁盘上的内容会被覆盖</p>\n<h4 id=\"5-挂载分区\"><a href=\"#5-挂载分区\" class=\"headerlink\" title=\"5. 挂载分区\"></a>5. 挂载分区</h4><p>将磁盘挂载到刚建立的<code>data</code>目录中   <code>mount /dev/xvdb1 /data</code></p>\n<h4 id=\"6-设置开机自动挂载\"><a href=\"#6-设置开机自动挂载\" class=\"headerlink\" title=\"6. 设置开机自动挂载\"></a>6. 设置开机自动挂载</h4><p><code>vi /etc/fstab</code></p>\n<p>在vi中输入i进入INERT模式，将光标移至文件结尾处并回车，将下面的内容复制/粘贴，然后按Esc键，输入:x保存并退出</p>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">/dev/xvdb1              /<span class=\"class\"><span class=\"keyword\">data</span>                   ext3    defaults        0 0</span></div></pre></td></tr></table></figure>\n<h4 id=\"7-确认是否挂载成功\"><a href=\"#7-确认是否挂载成功\" class=\"headerlink\" title=\"7. 确认是否挂载成功\"></a>7. 确认是否挂载成功</h4><p>重启服务器: <code>reboot</code><br>查看硬盘分区: <code>df</code></p>\n<p>反馈信息</p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">/dev/xvdb1            <span class=\"number\">20635700</span>    <span class=\"number\">176196</span>  <span class=\"number\">19411268</span>   <span class=\"number\">1</span>% /data</div></pre></td></tr></table></figure>\n<p>搞定！Mac 下通过 Terminal 远程操作 Linux 的感觉不错！</p>\n<h3 id=\"四、-原文地址\"><a href=\"#四、-原文地址\" class=\"headerlink\" title=\"四、 原文地址\"></a>四、 原文地址</h3><p><a href=\"http://www.cnblogs.com/dudu/archive/2012/12/07/aliyun-linux-fdisk.html\" target=\"_blank\" rel=\"external\">aliyun-linux-fdisk</a></p>\n","excerpt":"<p>起因在于前段时间在阿里云上购买了一台ECS的云服务器，奈何硬盘20G不够用，所以又买了一块硬块。so,问题来了,磁盘挂载哪家强？最终还要靠自己！！</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"点击访问小莫的github\"></a></p>\n<h2 id=\"一、基本信息\"><a href=\"#一、基本信息\" class=\"headerlink\" title=\"一、基本信息\"></a>一、基本信息</h2><p>参考自阿里云服务器使用心得。</p>\n<p>云服务器环境：CentOS 6.2 64位</p>\n<p>客户端环境：Mac OSX</p>\n<p>远程连接方式：运行 Terminal，输入命令 ssh username@ip</p>\n<h3 id=\"二、硬盘分区及挂载操作步骤\"><a href=\"#二、硬盘分区及挂载操作步骤\" class=\"headerlink\" title=\"二、硬盘分区及挂载操作步骤\"></a>二、硬盘分区及挂载操作步骤</h3><h4 id=\"1-查看未挂载的硬盘\"><a href=\"#1-查看未挂载的硬盘\" class=\"headerlink\" title=\"1. 查看未挂载的硬盘\"></a>1. 查看未挂载的硬盘</h4><p>（名称为/dev/xvdb）<br><code>fdisk -l</code><br>输出<br><code>Disk /dev/xvdb doesn&#39;t contain a valid partition table</code></p>\n<h4 id=\"2-创建分区\"><a href=\"#2-创建分区\" class=\"headerlink\" title=\"2. 创建分区\"></a>2. 创建分区</h4><p><code>fdisk /dev/xvdb</code></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\">输入n</div><div class=\"line\"></div><div class=\"line\">Command (m for <span class=\"keyword\">help</span>):n</div><div class=\"line\"></div><div class=\"line\">输入p</div><div class=\"line\"></div><div class=\"line\">Command <span class=\"keyword\">action</span></div><div class=\"line\">e <span class=\"keyword\">extended</span></div><div class=\"line\">p primary <span class=\"keyword\">partition</span> (<span class=\"number\">1</span><span class=\"number\">-4</span>)</div><div class=\"line\">p</div><div class=\"line\"></div><div class=\"line\">输入<span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">Partition</span> <span class=\"built_in\">number</span> (<span class=\"number\">1</span><span class=\"number\">-4</span>): <span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\">回车</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">First</span> cylinder (<span class=\"number\">1</span><span class=\"number\">-2610</span>, <span class=\"keyword\">default</span> <span class=\"number\">1</span>):</div><div class=\"line\"><span class=\"keyword\">Using</span> <span class=\"keyword\">default</span> <span class=\"keyword\">value</span> <span class=\"number\">1</span></div><div class=\"line\"></div><div class=\"line\">回车</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">Last</span> cylinder, +cylinders <span class=\"keyword\">or</span> +<span class=\"keyword\">size</span>&#123;K,M,G&#125; (<span class=\"number\">1</span><span class=\"number\">-2610</span>, <span class=\"keyword\">default</span> <span class=\"number\">2610</span>):</div><div class=\"line\"><span class=\"keyword\">Using</span> <span class=\"keyword\">default</span> <span class=\"keyword\">value</span> <span class=\"number\">2610</span></div><div class=\"line\"></div><div class=\"line\">输入w</div><div class=\"line\"></div><div class=\"line\">Command (m <span class=\"keyword\">for</span> <span class=\"keyword\">help</span>): w</div><div class=\"line\">The <span class=\"keyword\">partition</span> <span class=\"keyword\">table</span> has been altered!</div></pre></td></tr></table></figure>\n<h4 id=\"3-格式化分区\"><a href=\"#3-格式化分区\" class=\"headerlink\" title=\"3. 格式化分区\"></a>3. 格式化分区</h4><p> 执行命令： <code>mkfs.ext3 /dev/xvdb1</code></p>\n<h4 id=\"4-建立挂载目录\"><a href=\"#4-建立挂载目录\" class=\"headerlink\" title=\"4. 建立挂载目录\"></a>4. 建立挂载目录</h4><p>执行命令： <code>mkdir /data</code>  注意名字不要和原有磁盘上的重复  不然原有磁盘上的内容会被覆盖</p>\n<h4 id=\"5-挂载分区\"><a href=\"#5-挂载分区\" class=\"headerlink\" title=\"5. 挂载分区\"></a>5. 挂载分区</h4><p>将磁盘挂载到刚建立的<code>data</code>目录中   <code>mount /dev/xvdb1 /data</code></p>\n<h4 id=\"6-设置开机自动挂载\"><a href=\"#6-设置开机自动挂载\" class=\"headerlink\" title=\"6. 设置开机自动挂载\"></a>6. 设置开机自动挂载</h4><p><code>vi /etc/fstab</code></p>\n<p>在vi中输入i进入INERT模式，将光标移至文件结尾处并回车，将下面的内容复制/粘贴，然后按Esc键，输入:x保存并退出</p>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">/dev/xvdb1              /<span class=\"class\"><span class=\"keyword\">data</span>                   ext3    defaults        0 0</span></div></pre></td></tr></table></figure>\n<h4 id=\"7-确认是否挂载成功\"><a href=\"#7-确认是否挂载成功\" class=\"headerlink\" title=\"7. 确认是否挂载成功\"></a>7. 确认是否挂载成功</h4><p>重启服务器: <code>reboot</code><br>查看硬盘分区: <code>df</code></p>\n<p>反馈信息</p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">/dev/xvdb1            <span class=\"number\">20635700</span>    <span class=\"number\">176196</span>  <span class=\"number\">19411268</span>   <span class=\"number\">1</span>% /data</div></pre></td></tr></table></figure>\n<p>搞定！Mac 下通过 Terminal 远程操作 Linux 的感觉不错！</p>\n<h3 id=\"四、-原文地址\"><a href=\"#四、-原文地址\" class=\"headerlink\" title=\"四、 原文地址\"></a>四、 原文地址</h3><p><a href=\"http://www.cnblogs.com/dudu/archive/2012/12/07/aliyun-linux-fdisk.html\">aliyun-linux-fdisk</a></p>"},{"title":"几个国内专用的公共 DNS","date":"2016-06-17T12:57:08.000Z","_content":"\n　　之前 [有个网站](http://www.bootcdn.cn/) 自己经常上不去，查了挺久才发现是 DNS 的问题，更换为公共 DNS 后访问恢复正常。由此可见，挑选一个合适自己网络的 DNS 还是挺有必要的。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/dns.png)](https://github.com/syoubaku)\n### DNS 简介\nDNS 全称 `Domain Name System`，中文译为 `域名系统`，是因特网的一项服务，其域名服务器的分布式数据库中存储着因特网上域名和 IP 地址相互映射的关系，经解析器解析，使用户能够通过域名来访问互联网。\n\n### 114DNS\n    114.114.114.114\n    114.114.115.115\n**官　网**：http://www.114dns.com/\n**关键词**：权威，高速，稳定，可靠，无劫持，防钓鱼，防病毒\n\n### 阿里公共DNS\n    223.5.5.5\n    223.6.6.6\n**官　网**：http://www.alidns.com/\n**关键词**：快速，稳定，智能\n\n### 腾讯 Public DNS +\n    119.29.29.29\n**官　网**：https://www.dnspod.cn/Products/Public.DNS\n**关键词**：快速，准确，稳定\n\n## 百度公共DNS\n    180.76.76.76\n**官　网**：http://dudns.baidu.com/intro/publicdns/\n**关键词**：云防护，无劫持，更精确\n\n### oneDNS\n    南方首选：112.124.47.27\n    北方首选：114.215.126.16\n**官　网**：http://www.onedns.net/\n**关键词**：安全，快速，恶意网站拦截，广告过滤，上网加速\n\n### CNNIC SDNS\n    1.2.4.8\n    210.2.4.8\n**官　网：**http://public.sdns.cn/\n**关键词：**权威，安全，智能，高速\n\n\n### DNS 选用\n\n#### 在线查询\n- 可以通过 [在线小工具](http://www.webkaka.com/dns/) 测试一下 DNS 的解析速度，结果可以作为参考\n![DNS Tool](https://image.xiaomo.info/dns/dns-tool.png)\n\n#### 本地优选\n- 下载 [魔方DNS助手](http://www.crsky.com/soft/88043.html)，可以方便地检测，选择和修改 DNS\n\n![DNS Helper](https://image.xiaomo.info/dns/dnshelper.png)\n\n> 如果更换 DNS 后网络异常，可以尝试 [刷新本地的DNS缓存](http://jingyan.baidu.com/article/6d704a13fb6e1828db51ca3a.html)\n","source":"_posts/2016-06-17.public_dns.md","raw":"---\ntitle: 几个国内专用的公共 DNS\ndate: 2016-06-17 20:57:08\ncategories: 触类旁通\ntags:\n- 开发工具\npermalink: PublicDns\n---\n\n　　之前 [有个网站](http://www.bootcdn.cn/) 自己经常上不去，查了挺久才发现是 DNS 的问题，更换为公共 DNS 后访问恢复正常。由此可见，挑选一个合适自己网络的 DNS 还是挺有必要的。\n\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/dns.png)](https://github.com/syoubaku)\n### DNS 简介\nDNS 全称 `Domain Name System`，中文译为 `域名系统`，是因特网的一项服务，其域名服务器的分布式数据库中存储着因特网上域名和 IP 地址相互映射的关系，经解析器解析，使用户能够通过域名来访问互联网。\n\n### 114DNS\n    114.114.114.114\n    114.114.115.115\n**官　网**：http://www.114dns.com/\n**关键词**：权威，高速，稳定，可靠，无劫持，防钓鱼，防病毒\n\n### 阿里公共DNS\n    223.5.5.5\n    223.6.6.6\n**官　网**：http://www.alidns.com/\n**关键词**：快速，稳定，智能\n\n### 腾讯 Public DNS +\n    119.29.29.29\n**官　网**：https://www.dnspod.cn/Products/Public.DNS\n**关键词**：快速，准确，稳定\n\n## 百度公共DNS\n    180.76.76.76\n**官　网**：http://dudns.baidu.com/intro/publicdns/\n**关键词**：云防护，无劫持，更精确\n\n### oneDNS\n    南方首选：112.124.47.27\n    北方首选：114.215.126.16\n**官　网**：http://www.onedns.net/\n**关键词**：安全，快速，恶意网站拦截，广告过滤，上网加速\n\n### CNNIC SDNS\n    1.2.4.8\n    210.2.4.8\n**官　网：**http://public.sdns.cn/\n**关键词：**权威，安全，智能，高速\n\n\n### DNS 选用\n\n#### 在线查询\n- 可以通过 [在线小工具](http://www.webkaka.com/dns/) 测试一下 DNS 的解析速度，结果可以作为参考\n![DNS Tool](https://image.xiaomo.info/dns/dns-tool.png)\n\n#### 本地优选\n- 下载 [魔方DNS助手](http://www.crsky.com/soft/88043.html)，可以方便地检测，选择和修改 DNS\n\n![DNS Helper](https://image.xiaomo.info/dns/dnshelper.png)\n\n> 如果更换 DNS 后网络异常，可以尝试 [刷新本地的DNS缓存](http://jingyan.baidu.com/article/6d704a13fb6e1828db51ca3a.html)\n","slug":"PublicDns","published":1,"updated":"2016-12-01T07:37:37.631Z","_id":"civ0ggq8h0035rwvn9tnrg7yn","comments":1,"layout":"post","photos":[],"link":"","content":"<p>　　之前 <a href=\"http://www.bootcdn.cn/\" target=\"_blank\" rel=\"external\">有个网站</a> 自己经常上不去，查了挺久才发现是 DNS 的问题，更换为公共 DNS 后访问恢复正常。由此可见，挑选一个合适自己网络的 DNS 还是挺有必要的。</p>\n<a id=\"more\"></a>\n<p><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/dns.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"DNS-简介\"><a href=\"#DNS-简介\" class=\"headerlink\" title=\"DNS 简介\"></a>DNS 简介</h3><p>DNS 全称 <code>Domain Name System</code>，中文译为 <code>域名系统</code>，是因特网的一项服务，其域名服务器的分布式数据库中存储着因特网上域名和 IP 地址相互映射的关系，经解析器解析，使用户能够通过域名来访问互联网。</p>\n<h3 id=\"114DNS\"><a href=\"#114DNS\" class=\"headerlink\" title=\"114DNS\"></a>114DNS</h3><pre><code>114.114.114.114\n114.114.115.115\n</code></pre><p><strong>官　网</strong>：<a href=\"http://www.114dns.com/\" target=\"_blank\" rel=\"external\">http://www.114dns.com/</a><br><strong>关键词</strong>：权威，高速，稳定，可靠，无劫持，防钓鱼，防病毒</p>\n<h3 id=\"阿里公共DNS\"><a href=\"#阿里公共DNS\" class=\"headerlink\" title=\"阿里公共DNS\"></a>阿里公共DNS</h3><pre><code>223.5.5.5\n223.6.6.6\n</code></pre><p><strong>官　网</strong>：<a href=\"http://www.alidns.com/\" target=\"_blank\" rel=\"external\">http://www.alidns.com/</a><br><strong>关键词</strong>：快速，稳定，智能</p>\n<h3 id=\"腾讯-Public-DNS\"><a href=\"#腾讯-Public-DNS\" class=\"headerlink\" title=\"腾讯 Public DNS +\"></a>腾讯 Public DNS +</h3><pre><code>119.29.29.29\n</code></pre><p><strong>官　网</strong>：<a href=\"https://www.dnspod.cn/Products/Public.DNS\" target=\"_blank\" rel=\"external\">https://www.dnspod.cn/Products/Public.DNS</a><br><strong>关键词</strong>：快速，准确，稳定</p>\n<h2 id=\"百度公共DNS\"><a href=\"#百度公共DNS\" class=\"headerlink\" title=\"百度公共DNS\"></a>百度公共DNS</h2><pre><code>180.76.76.76\n</code></pre><p><strong>官　网</strong>：<a href=\"http://dudns.baidu.com/intro/publicdns/\" target=\"_blank\" rel=\"external\">http://dudns.baidu.com/intro/publicdns/</a><br><strong>关键词</strong>：云防护，无劫持，更精确</p>\n<h3 id=\"oneDNS\"><a href=\"#oneDNS\" class=\"headerlink\" title=\"oneDNS\"></a>oneDNS</h3><pre><code>南方首选：112.124.47.27\n北方首选：114.215.126.16\n</code></pre><p><strong>官　网</strong>：<a href=\"http://www.onedns.net/\" target=\"_blank\" rel=\"external\">http://www.onedns.net/</a><br><strong>关键词</strong>：安全，快速，恶意网站拦截，广告过滤，上网加速</p>\n<h3 id=\"CNNIC-SDNS\"><a href=\"#CNNIC-SDNS\" class=\"headerlink\" title=\"CNNIC SDNS\"></a>CNNIC SDNS</h3><pre><code>1.2.4.8\n210.2.4.8\n</code></pre><p><strong>官　网：</strong><a href=\"http://public.sdns.cn/\" target=\"_blank\" rel=\"external\">http://public.sdns.cn/</a><br><strong>关键词：</strong>权威，安全，智能，高速</p>\n<h3 id=\"DNS-选用\"><a href=\"#DNS-选用\" class=\"headerlink\" title=\"DNS 选用\"></a>DNS 选用</h3><h4 id=\"在线查询\"><a href=\"#在线查询\" class=\"headerlink\" title=\"在线查询\"></a>在线查询</h4><ul>\n<li>可以通过 <a href=\"http://www.webkaka.com/dns/\" target=\"_blank\" rel=\"external\">在线小工具</a> 测试一下 DNS 的解析速度，结果可以作为参考<br><img src=\"https://image.xiaomo.info/dns/dns-tool.png\" alt=\"DNS Tool\"></li>\n</ul>\n<h4 id=\"本地优选\"><a href=\"#本地优选\" class=\"headerlink\" title=\"本地优选\"></a>本地优选</h4><ul>\n<li>下载 <a href=\"http://www.crsky.com/soft/88043.html\" target=\"_blank\" rel=\"external\">魔方DNS助手</a>，可以方便地检测，选择和修改 DNS</li>\n</ul>\n<p><img src=\"https://image.xiaomo.info/dns/dnshelper.png\" alt=\"DNS Helper\"></p>\n<blockquote>\n<p>如果更换 DNS 后网络异常，可以尝试 <a href=\"http://jingyan.baidu.com/article/6d704a13fb6e1828db51ca3a.html\" target=\"_blank\" rel=\"external\">刷新本地的DNS缓存</a></p>\n</blockquote>\n","excerpt":"<p>　　之前 <a href=\"http://www.bootcdn.cn/\">有个网站</a> 自己经常上不去，查了挺久才发现是 DNS 的问题，更换为公共 DNS 后访问恢复正常。由此可见，挑选一个合适自己网络的 DNS 还是挺有必要的。</p>","more":"<p><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/dns.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"DNS-简介\"><a href=\"#DNS-简介\" class=\"headerlink\" title=\"DNS 简介\"></a>DNS 简介</h3><p>DNS 全称 <code>Domain Name System</code>，中文译为 <code>域名系统</code>，是因特网的一项服务，其域名服务器的分布式数据库中存储着因特网上域名和 IP 地址相互映射的关系，经解析器解析，使用户能够通过域名来访问互联网。</p>\n<h3 id=\"114DNS\"><a href=\"#114DNS\" class=\"headerlink\" title=\"114DNS\"></a>114DNS</h3><pre><code>114.114.114.114\n114.114.115.115\n</code></pre><p><strong>官　网</strong>：<a href=\"http://www.114dns.com/\">http://www.114dns.com/</a><br><strong>关键词</strong>：权威，高速，稳定，可靠，无劫持，防钓鱼，防病毒</p>\n<h3 id=\"阿里公共DNS\"><a href=\"#阿里公共DNS\" class=\"headerlink\" title=\"阿里公共DNS\"></a>阿里公共DNS</h3><pre><code>223.5.5.5\n223.6.6.6\n</code></pre><p><strong>官　网</strong>：<a href=\"http://www.alidns.com/\">http://www.alidns.com/</a><br><strong>关键词</strong>：快速，稳定，智能</p>\n<h3 id=\"腾讯-Public-DNS\"><a href=\"#腾讯-Public-DNS\" class=\"headerlink\" title=\"腾讯 Public DNS +\"></a>腾讯 Public DNS +</h3><pre><code>119.29.29.29\n</code></pre><p><strong>官　网</strong>：<a href=\"https://www.dnspod.cn/Products/Public.DNS\">https://www.dnspod.cn/Products/Public.DNS</a><br><strong>关键词</strong>：快速，准确，稳定</p>\n<h2 id=\"百度公共DNS\"><a href=\"#百度公共DNS\" class=\"headerlink\" title=\"百度公共DNS\"></a>百度公共DNS</h2><pre><code>180.76.76.76\n</code></pre><p><strong>官　网</strong>：<a href=\"http://dudns.baidu.com/intro/publicdns/\">http://dudns.baidu.com/intro/publicdns/</a><br><strong>关键词</strong>：云防护，无劫持，更精确</p>\n<h3 id=\"oneDNS\"><a href=\"#oneDNS\" class=\"headerlink\" title=\"oneDNS\"></a>oneDNS</h3><pre><code>南方首选：112.124.47.27\n北方首选：114.215.126.16\n</code></pre><p><strong>官　网</strong>：<a href=\"http://www.onedns.net/\">http://www.onedns.net/</a><br><strong>关键词</strong>：安全，快速，恶意网站拦截，广告过滤，上网加速</p>\n<h3 id=\"CNNIC-SDNS\"><a href=\"#CNNIC-SDNS\" class=\"headerlink\" title=\"CNNIC SDNS\"></a>CNNIC SDNS</h3><pre><code>1.2.4.8\n210.2.4.8\n</code></pre><p><strong>官　网：</strong><a href=\"http://public.sdns.cn/\">http://public.sdns.cn/</a><br><strong>关键词：</strong>权威，安全，智能，高速</p>\n<h3 id=\"DNS-选用\"><a href=\"#DNS-选用\" class=\"headerlink\" title=\"DNS 选用\"></a>DNS 选用</h3><h4 id=\"在线查询\"><a href=\"#在线查询\" class=\"headerlink\" title=\"在线查询\"></a>在线查询</h4><ul>\n<li>可以通过 <a href=\"http://www.webkaka.com/dns/\">在线小工具</a> 测试一下 DNS 的解析速度，结果可以作为参考<br><img src=\"https://image.xiaomo.info/dns/dns-tool.png\" alt=\"DNS Tool\"></li>\n</ul>\n<h4 id=\"本地优选\"><a href=\"#本地优选\" class=\"headerlink\" title=\"本地优选\"></a>本地优选</h4><ul>\n<li>下载 <a href=\"http://www.crsky.com/soft/88043.html\">魔方DNS助手</a>，可以方便地检测，选择和修改 DNS</li>\n</ul>\n<p><img src=\"https://image.xiaomo.info/dns/dnshelper.png\" alt=\"DNS Helper\"></p>\n<blockquote>\n<p>如果更换 DNS 后网络异常，可以尝试 <a href=\"http://jingyan.baidu.com/article/6d704a13fb6e1828db51ca3a.html\">刷新本地的DNS缓存</a></p>\n</blockquote>"},{"title":"react学习笔记之环境搭建","date":"2016-06-21T08:57:08.000Z","_content":"不知道为什么，就是突然想学一学react。先进的思想，前沿的技术，漂亮的组件。它的魔力就在于能让我一眼就爱上它！源码: [react-detail](https://github.com/nodejs-study/node-koa/tree/master/web/client)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/react.png)](https://github.com/syoubaku)\n### 一、核心依赖\n\n#### 1. [react](https://npm.taobao.org/package/react)\n#### 2. [react-dom](https://npm.taobao.org/package/react-dom)\n#### 3. [react-redux](https://npm.taobao.org/package/react-redux)\n#### 4. [react-router](https://npm.taobao.org/package/react-router)\n#### 5. [redux](https://npm.taobao.org/package/redux)\n#### 6. [react-router-redux](https://npm.taobao.org/package/react-router-redux)\n#### 7. [redux-thunk](https://npm.taobao.org/package/redux-thunk)\n#### 8. [isomorphic-fetch](https://npm.taobao.org/package/isomorphic-fetch)\n#### 9. [antd](https://npm.taobao.org/package/antd)\n#### 10.[bootstrap](https://npm.taobao.org/package/bootstrap)\n\n## 二、babel相关\n### 1. 命令编译器\n\n[babel-cli](https://npm.taobao.org/package/babel-cli)\n\n使用 `babel script.js`   一般全局安装 `npm install -g babel-cli`\n\n####abel-core](https://npm.taobao.org/package/babel-core)\n\n#### 3. 解析器\n[babel-preset-es2015](https://npm.taobao.org/package/babel-preset-es2015) 和[babel-preset-react](https://npm.taobao.org/package/babel-react)\n\n使用 在项目根目录新建文件`.babelrc`加上以下代码，可以用babel将es2015和react转成浏览器能够识别的代码\n\n```\n  {\n    \"presets\": [\"es2015\",\"react\"]\n  }\n```\n\n#### 4. es6的stage0转码器\n\n[babel-preset-stage-0](https://npm.taobao.org/package/babel-preset-stage-0)\n\n使用 在项目根目录`.babelrc`加上以下代码，可以转码最新的api\n\n```\n{\n  \"presets\": [\"stage-0\"]\n}\n```\n\n#### 5. 转码器\n\n [babel-loader](https://npm.taobao.org/package/babel-loader)\n\n`npm install babel-loader babel-core babel-preset-es2015 babel-preset-react --save-dev`\n\n#### 6 babel插件\n[babel-runtime](https://npm.taobao.org/package/babel-runtime) [babel-plugin-transform-runtime](https://npm.taobao.org/package/babel-plugin-transform-runtime)\n\n使用 在项目根目录`.babelrc`加上以下代码，可以转码最新的api\n\n```\n{\n  plugins: [\"transform-runtime\"]\n}\n```\n\n#### 7. es6转码垫片\n[babel-polyfill](https://npm.taobao.org/package/babel-polyfill)\n\n使用： 在入口文件引入 `import 'babel/polyfill';`\n作用：\nbabel-polyfill Babel默认只转换新的JavaScript句法（syntax），而不转换新的API，比如`Iterator`、`Generator`、`Set`、`Maps`、`Proxy`、`Reflect`、`Symbol`、`Promise`等全局对象，以及一些定义在全局对象上的方法（比如Object.assign）都不会转码。举例来说，ES6在Array对象上新增了Array.from方法。Babel就不会转码这个方法。如果想让这个方法运行，必须使用babel-polyfill，为当前环境提供一个垫片。然后，在脚本头部，加入如下一行代码。`import 'babel-polyfill' `;Babel默认不转码的API非常多，详细清单可以查看babel-plugin-transform-runtime模块的definitions.js文件。\n\n#### 8. react代码优化插件\n\n[babel-preset-react-optimize](https://github.com/thejameskyle/babel-react-optimize)\n\n1.下载  `npm install --save-dev babel-preset-react-optimize`\n\n2.使用 .babelrc\n\n```\n{\n  \"presets\": [\"es2015\", \"react\"],\n  \"env\": {\n    \"production\": {\n      \"presets\": [\"es2015\", \"react\", \"react-optimize\"]\n    }\n  }\n}\n```\n\n3.具体表现\n转换常量元素  [transform-react-constant-elements](https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-constant-elements)\n转换内联元素  [transform-react-inline-elements](https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-inline-elements)\n移除属性类型  [transform-react-remove-prop-types](https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types)\n将类转成方法  [transform-react-pure-class-to-function](https://github.com/thejameskyle/babel-react-optimize/tree/master/packages/babel-plugin-transform-react-pure-class-to-function)\n\n#### 9. babel注册机\n\n[babel-register](https://github.com/aleclarson/babel-register)\n\n使用 `import 'babel-register'`\n\n作用： 能够将模块化引入的es和react代码交给babel进行转换\n\n### 三、webpack\n#### 1. 依赖\n\n- webpack\n- webpack-dev-server\n- webpack-dev-middleware\n- webpack-hot-middleware\n- extract-text-webpack-plugin\n- html-webpack-plugin\n- copy-webpack-plugin\n\n#### 2. 配置\n\n### 四、loaders\n\n#### 1. html\n- raw-loader\n#### 2. css\n- node-sass\n- style-loader\n- css-loader\n- less-loader\n- sass-loader\n- postcss-loader\n#### 3. 图片、字体\n- file-loader\n- url-loader\n- imorts-loader\n#### 4. json\n- json-loader\n\n### 五、其他\n- normalize\n- cssnano\n- history\n- ip\n- yargs\n- cheerio\n- better-npm-run\n- fs-extra\n- redbox-react\n- autoprefixer\n- nodemon\n\n### 六、后台相关\n\n- debug\n- koa\n- koa-connect-history-api-fallback\n- koa-convert\n- koa-proxy\n- koa-static\n- mongoose\n- moment\n","source":"_posts/2016-06-20.react_environment.md","raw":"---\ntitle: react学习笔记之环境搭建\ndate: 2016-06-21 16:57:08\ncategories: 前端框架\ntags:\n- reactjs\n- javascript\n- es6\npermalink: ReactEnvironment\n---\n不知道为什么，就是突然想学一学react。先进的思想，前沿的技术，漂亮的组件。它的魔力就在于能让我一眼就爱上它！源码: [react-detail](https://github.com/nodejs-study/node-koa/tree/master/web/client)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/react.png)](https://github.com/syoubaku)\n### 一、核心依赖\n\n#### 1. [react](https://npm.taobao.org/package/react)\n#### 2. [react-dom](https://npm.taobao.org/package/react-dom)\n#### 3. [react-redux](https://npm.taobao.org/package/react-redux)\n#### 4. [react-router](https://npm.taobao.org/package/react-router)\n#### 5. [redux](https://npm.taobao.org/package/redux)\n#### 6. [react-router-redux](https://npm.taobao.org/package/react-router-redux)\n#### 7. [redux-thunk](https://npm.taobao.org/package/redux-thunk)\n#### 8. [isomorphic-fetch](https://npm.taobao.org/package/isomorphic-fetch)\n#### 9. [antd](https://npm.taobao.org/package/antd)\n#### 10.[bootstrap](https://npm.taobao.org/package/bootstrap)\n\n## 二、babel相关\n### 1. 命令编译器\n\n[babel-cli](https://npm.taobao.org/package/babel-cli)\n\n使用 `babel script.js`   一般全局安装 `npm install -g babel-cli`\n\n####abel-core](https://npm.taobao.org/package/babel-core)\n\n#### 3. 解析器\n[babel-preset-es2015](https://npm.taobao.org/package/babel-preset-es2015) 和[babel-preset-react](https://npm.taobao.org/package/babel-react)\n\n使用 在项目根目录新建文件`.babelrc`加上以下代码，可以用babel将es2015和react转成浏览器能够识别的代码\n\n```\n  {\n    \"presets\": [\"es2015\",\"react\"]\n  }\n```\n\n#### 4. es6的stage0转码器\n\n[babel-preset-stage-0](https://npm.taobao.org/package/babel-preset-stage-0)\n\n使用 在项目根目录`.babelrc`加上以下代码，可以转码最新的api\n\n```\n{\n  \"presets\": [\"stage-0\"]\n}\n```\n\n#### 5. 转码器\n\n [babel-loader](https://npm.taobao.org/package/babel-loader)\n\n`npm install babel-loader babel-core babel-preset-es2015 babel-preset-react --save-dev`\n\n#### 6 babel插件\n[babel-runtime](https://npm.taobao.org/package/babel-runtime) [babel-plugin-transform-runtime](https://npm.taobao.org/package/babel-plugin-transform-runtime)\n\n使用 在项目根目录`.babelrc`加上以下代码，可以转码最新的api\n\n```\n{\n  plugins: [\"transform-runtime\"]\n}\n```\n\n#### 7. es6转码垫片\n[babel-polyfill](https://npm.taobao.org/package/babel-polyfill)\n\n使用： 在入口文件引入 `import 'babel/polyfill';`\n作用：\nbabel-polyfill Babel默认只转换新的JavaScript句法（syntax），而不转换新的API，比如`Iterator`、`Generator`、`Set`、`Maps`、`Proxy`、`Reflect`、`Symbol`、`Promise`等全局对象，以及一些定义在全局对象上的方法（比如Object.assign）都不会转码。举例来说，ES6在Array对象上新增了Array.from方法。Babel就不会转码这个方法。如果想让这个方法运行，必须使用babel-polyfill，为当前环境提供一个垫片。然后，在脚本头部，加入如下一行代码。`import 'babel-polyfill' `;Babel默认不转码的API非常多，详细清单可以查看babel-plugin-transform-runtime模块的definitions.js文件。\n\n#### 8. react代码优化插件\n\n[babel-preset-react-optimize](https://github.com/thejameskyle/babel-react-optimize)\n\n1.下载  `npm install --save-dev babel-preset-react-optimize`\n\n2.使用 .babelrc\n\n```\n{\n  \"presets\": [\"es2015\", \"react\"],\n  \"env\": {\n    \"production\": {\n      \"presets\": [\"es2015\", \"react\", \"react-optimize\"]\n    }\n  }\n}\n```\n\n3.具体表现\n转换常量元素  [transform-react-constant-elements](https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-constant-elements)\n转换内联元素  [transform-react-inline-elements](https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-inline-elements)\n移除属性类型  [transform-react-remove-prop-types](https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types)\n将类转成方法  [transform-react-pure-class-to-function](https://github.com/thejameskyle/babel-react-optimize/tree/master/packages/babel-plugin-transform-react-pure-class-to-function)\n\n#### 9. babel注册机\n\n[babel-register](https://github.com/aleclarson/babel-register)\n\n使用 `import 'babel-register'`\n\n作用： 能够将模块化引入的es和react代码交给babel进行转换\n\n### 三、webpack\n#### 1. 依赖\n\n- webpack\n- webpack-dev-server\n- webpack-dev-middleware\n- webpack-hot-middleware\n- extract-text-webpack-plugin\n- html-webpack-plugin\n- copy-webpack-plugin\n\n#### 2. 配置\n\n### 四、loaders\n\n#### 1. html\n- raw-loader\n#### 2. css\n- node-sass\n- style-loader\n- css-loader\n- less-loader\n- sass-loader\n- postcss-loader\n#### 3. 图片、字体\n- file-loader\n- url-loader\n- imorts-loader\n#### 4. json\n- json-loader\n\n### 五、其他\n- normalize\n- cssnano\n- history\n- ip\n- yargs\n- cheerio\n- better-npm-run\n- fs-extra\n- redbox-react\n- autoprefixer\n- nodemon\n\n### 六、后台相关\n\n- debug\n- koa\n- koa-connect-history-api-fallback\n- koa-convert\n- koa-proxy\n- koa-static\n- mongoose\n- moment\n","slug":"ReactEnvironment","published":1,"updated":"2016-12-01T06:50:28.209Z","_id":"civ0ggq8p003arwvnp942alsk","comments":1,"layout":"post","photos":[],"link":"","content":"<p>不知道为什么，就是突然想学一学react。先进的思想，前沿的技术，漂亮的组件。它的魔力就在于能让我一眼就爱上它！源码: <a href=\"https://github.com/nodejs-study/node-koa/tree/master/web/client\" target=\"_blank\" rel=\"external\">react-detail</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/react.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、核心依赖\"><a href=\"#一、核心依赖\" class=\"headerlink\" title=\"一、核心依赖\"></a>一、核心依赖</h3><h4 id=\"1-react\"><a href=\"#1-react\" class=\"headerlink\" title=\"1. react\"></a>1. <a href=\"https://npm.taobao.org/package/react\" target=\"_blank\" rel=\"external\">react</a></h4><h4 id=\"2-react-dom\"><a href=\"#2-react-dom\" class=\"headerlink\" title=\"2. react-dom\"></a>2. <a href=\"https://npm.taobao.org/package/react-dom\" target=\"_blank\" rel=\"external\">react-dom</a></h4><h4 id=\"3-react-redux\"><a href=\"#3-react-redux\" class=\"headerlink\" title=\"3. react-redux\"></a>3. <a href=\"https://npm.taobao.org/package/react-redux\" target=\"_blank\" rel=\"external\">react-redux</a></h4><h4 id=\"4-react-router\"><a href=\"#4-react-router\" class=\"headerlink\" title=\"4. react-router\"></a>4. <a href=\"https://npm.taobao.org/package/react-router\" target=\"_blank\" rel=\"external\">react-router</a></h4><h4 id=\"5-redux\"><a href=\"#5-redux\" class=\"headerlink\" title=\"5. redux\"></a>5. <a href=\"https://npm.taobao.org/package/redux\" target=\"_blank\" rel=\"external\">redux</a></h4><h4 id=\"6-react-router-redux\"><a href=\"#6-react-router-redux\" class=\"headerlink\" title=\"6. react-router-redux\"></a>6. <a href=\"https://npm.taobao.org/package/react-router-redux\" target=\"_blank\" rel=\"external\">react-router-redux</a></h4><h4 id=\"7-redux-thunk\"><a href=\"#7-redux-thunk\" class=\"headerlink\" title=\"7. redux-thunk\"></a>7. <a href=\"https://npm.taobao.org/package/redux-thunk\" target=\"_blank\" rel=\"external\">redux-thunk</a></h4><h4 id=\"8-isomorphic-fetch\"><a href=\"#8-isomorphic-fetch\" class=\"headerlink\" title=\"8. isomorphic-fetch\"></a>8. <a href=\"https://npm.taobao.org/package/isomorphic-fetch\" target=\"_blank\" rel=\"external\">isomorphic-fetch</a></h4><h4 id=\"9-antd\"><a href=\"#9-antd\" class=\"headerlink\" title=\"9. antd\"></a>9. <a href=\"https://npm.taobao.org/package/antd\" target=\"_blank\" rel=\"external\">antd</a></h4><h4 id=\"10-bootstrap\"><a href=\"#10-bootstrap\" class=\"headerlink\" title=\"10.bootstrap\"></a>10.<a href=\"https://npm.taobao.org/package/bootstrap\" target=\"_blank\" rel=\"external\">bootstrap</a></h4><h2 id=\"二、babel相关\"><a href=\"#二、babel相关\" class=\"headerlink\" title=\"二、babel相关\"></a>二、babel相关</h2><h3 id=\"1-命令编译器\"><a href=\"#1-命令编译器\" class=\"headerlink\" title=\"1. 命令编译器\"></a>1. 命令编译器</h3><p><a href=\"https://npm.taobao.org/package/babel-cli\" target=\"_blank\" rel=\"external\">babel-cli</a></p>\n<p>使用 <code>babel script.js</code>   一般全局安装 <code>npm install -g babel-cli</code></p>\n<p>####abel-core](<a href=\"https://npm.taobao.org/package/babel-core\" target=\"_blank\" rel=\"external\">https://npm.taobao.org/package/babel-core</a>)</p>\n<h4 id=\"3-解析器\"><a href=\"#3-解析器\" class=\"headerlink\" title=\"3. 解析器\"></a>3. 解析器</h4><p><a href=\"https://npm.taobao.org/package/babel-preset-es2015\" target=\"_blank\" rel=\"external\">babel-preset-es2015</a> 和<a href=\"https://npm.taobao.org/package/babel-react\" target=\"_blank\" rel=\"external\">babel-preset-react</a></p>\n<p>使用 在项目根目录新建文件<code>.babelrc</code>加上以下代码，可以用babel将es2015和react转成浏览器能够识别的代码</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>,<span class=\"string\">\"react\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-es6的stage0转码器\"><a href=\"#4-es6的stage0转码器\" class=\"headerlink\" title=\"4. es6的stage0转码器\"></a>4. es6的stage0转码器</h4><p><a href=\"https://npm.taobao.org/package/babel-preset-stage-0\" target=\"_blank\" rel=\"external\">babel-preset-stage-0</a></p>\n<p>使用 在项目根目录<code>.babelrc</code>加上以下代码，可以转码最新的api</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"stage-0\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"5-转码器\"><a href=\"#5-转码器\" class=\"headerlink\" title=\"5. 转码器\"></a>5. 转码器</h4><p> <a href=\"https://npm.taobao.org/package/babel-loader\" target=\"_blank\" rel=\"external\">babel-loader</a></p>\n<p><code>npm install babel-loader babel-core babel-preset-es2015 babel-preset-react --save-dev</code></p>\n<h4 id=\"6-babel插件\"><a href=\"#6-babel插件\" class=\"headerlink\" title=\"6 babel插件\"></a>6 babel插件</h4><p><a href=\"https://npm.taobao.org/package/babel-runtime\" target=\"_blank\" rel=\"external\">babel-runtime</a> <a href=\"https://npm.taobao.org/package/babel-plugin-transform-runtime\" target=\"_blank\" rel=\"external\">babel-plugin-transform-runtime</a></p>\n<p>使用 在项目根目录<code>.babelrc</code>加上以下代码，可以转码最新的api</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attribute\">plugins</span>: [<span class=\"string\">\"transform-runtime\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"7-es6转码垫片\"><a href=\"#7-es6转码垫片\" class=\"headerlink\" title=\"7. es6转码垫片\"></a>7. es6转码垫片</h4><p><a href=\"https://npm.taobao.org/package/babel-polyfill\" target=\"_blank\" rel=\"external\">babel-polyfill</a></p>\n<p>使用： 在入口文件引入 <code>import &#39;babel/polyfill&#39;;</code><br>作用：<br>babel-polyfill Babel默认只转换新的JavaScript句法（syntax），而不转换新的API，比如<code>Iterator</code>、<code>Generator</code>、<code>Set</code>、<code>Maps</code>、<code>Proxy</code>、<code>Reflect</code>、<code>Symbol</code>、<code>Promise</code>等全局对象，以及一些定义在全局对象上的方法（比如Object.assign）都不会转码。举例来说，ES6在Array对象上新增了Array.from方法。Babel就不会转码这个方法。如果想让这个方法运行，必须使用babel-polyfill，为当前环境提供一个垫片。然后，在脚本头部，加入如下一行代码。<code>import &#39;babel-polyfill&#39;</code>;Babel默认不转码的API非常多，详细清单可以查看babel-plugin-transform-runtime模块的definitions.js文件。</p>\n<h4 id=\"8-react代码优化插件\"><a href=\"#8-react代码优化插件\" class=\"headerlink\" title=\"8. react代码优化插件\"></a>8. react代码优化插件</h4><p><a href=\"https://github.com/thejameskyle/babel-react-optimize\" target=\"_blank\" rel=\"external\">babel-preset-react-optimize</a></p>\n<p>1.下载  <code>npm install --save-dev babel-preset-react-optimize</code></p>\n<p>2.使用 .babelrc</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>, <span class=\"string\">\"react\"</span>],</div><div class=\"line\">  <span class=\"attr\">\"env\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"production\"</span>: &#123;</div><div class=\"line\">      <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>, <span class=\"string\">\"react\"</span>, <span class=\"string\">\"react-optimize\"</span>]</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>3.具体表现<br>转换常量元素  <a href=\"https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-constant-elements\" target=\"_blank\" rel=\"external\">transform-react-constant-elements</a><br>转换内联元素  <a href=\"https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-inline-elements\" target=\"_blank\" rel=\"external\">transform-react-inline-elements</a><br>移除属性类型  <a href=\"https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types\" target=\"_blank\" rel=\"external\">transform-react-remove-prop-types</a><br>将类转成方法  <a href=\"https://github.com/thejameskyle/babel-react-optimize/tree/master/packages/babel-plugin-transform-react-pure-class-to-function\" target=\"_blank\" rel=\"external\">transform-react-pure-class-to-function</a></p>\n<h4 id=\"9-babel注册机\"><a href=\"#9-babel注册机\" class=\"headerlink\" title=\"9. babel注册机\"></a>9. babel注册机</h4><p><a href=\"https://github.com/aleclarson/babel-register\" target=\"_blank\" rel=\"external\">babel-register</a></p>\n<p>使用 <code>import &#39;babel-register&#39;</code></p>\n<p>作用： 能够将模块化引入的es和react代码交给babel进行转换</p>\n<h3 id=\"三、webpack\"><a href=\"#三、webpack\" class=\"headerlink\" title=\"三、webpack\"></a>三、webpack</h3><h4 id=\"1-依赖\"><a href=\"#1-依赖\" class=\"headerlink\" title=\"1. 依赖\"></a>1. 依赖</h4><ul>\n<li>webpack</li>\n<li>webpack-dev-server</li>\n<li>webpack-dev-middleware</li>\n<li>webpack-hot-middleware</li>\n<li>extract-text-webpack-plugin</li>\n<li>html-webpack-plugin</li>\n<li>copy-webpack-plugin</li>\n</ul>\n<h4 id=\"2-配置\"><a href=\"#2-配置\" class=\"headerlink\" title=\"2. 配置\"></a>2. 配置</h4><h3 id=\"四、loaders\"><a href=\"#四、loaders\" class=\"headerlink\" title=\"四、loaders\"></a>四、loaders</h3><h4 id=\"1-html\"><a href=\"#1-html\" class=\"headerlink\" title=\"1. html\"></a>1. html</h4><ul>\n<li>raw-loader<h4 id=\"2-css\"><a href=\"#2-css\" class=\"headerlink\" title=\"2. css\"></a>2. css</h4></li>\n<li>node-sass</li>\n<li>style-loader</li>\n<li>css-loader</li>\n<li>less-loader</li>\n<li>sass-loader</li>\n<li>postcss-loader<h4 id=\"3-图片、字体\"><a href=\"#3-图片、字体\" class=\"headerlink\" title=\"3. 图片、字体\"></a>3. 图片、字体</h4></li>\n<li>file-loader</li>\n<li>url-loader</li>\n<li>imorts-loader<h4 id=\"4-json\"><a href=\"#4-json\" class=\"headerlink\" title=\"4. json\"></a>4. json</h4></li>\n<li>json-loader</li>\n</ul>\n<h3 id=\"五、其他\"><a href=\"#五、其他\" class=\"headerlink\" title=\"五、其他\"></a>五、其他</h3><ul>\n<li>normalize</li>\n<li>cssnano</li>\n<li>history</li>\n<li>ip</li>\n<li>yargs</li>\n<li>cheerio</li>\n<li>better-npm-run</li>\n<li>fs-extra</li>\n<li>redbox-react</li>\n<li>autoprefixer</li>\n<li>nodemon</li>\n</ul>\n<h3 id=\"六、后台相关\"><a href=\"#六、后台相关\" class=\"headerlink\" title=\"六、后台相关\"></a>六、后台相关</h3><ul>\n<li>debug</li>\n<li>koa</li>\n<li>koa-connect-history-api-fallback</li>\n<li>koa-convert</li>\n<li>koa-proxy</li>\n<li>koa-static</li>\n<li>mongoose</li>\n<li>moment</li>\n</ul>\n","excerpt":"<p>不知道为什么，就是突然想学一学react。先进的思想，前沿的技术，漂亮的组件。它的魔力就在于能让我一眼就爱上它！源码: <a href=\"https://github.com/nodejs-study/node-koa/tree/master/web/client\">react-detail</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/react.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、核心依赖\"><a href=\"#一、核心依赖\" class=\"headerlink\" title=\"一、核心依赖\"></a>一、核心依赖</h3><h4 id=\"1-react\"><a href=\"#1-react\" class=\"headerlink\" title=\"1. react\"></a>1. <a href=\"https://npm.taobao.org/package/react\">react</a></h4><h4 id=\"2-react-dom\"><a href=\"#2-react-dom\" class=\"headerlink\" title=\"2. react-dom\"></a>2. <a href=\"https://npm.taobao.org/package/react-dom\">react-dom</a></h4><h4 id=\"3-react-redux\"><a href=\"#3-react-redux\" class=\"headerlink\" title=\"3. react-redux\"></a>3. <a href=\"https://npm.taobao.org/package/react-redux\">react-redux</a></h4><h4 id=\"4-react-router\"><a href=\"#4-react-router\" class=\"headerlink\" title=\"4. react-router\"></a>4. <a href=\"https://npm.taobao.org/package/react-router\">react-router</a></h4><h4 id=\"5-redux\"><a href=\"#5-redux\" class=\"headerlink\" title=\"5. redux\"></a>5. <a href=\"https://npm.taobao.org/package/redux\">redux</a></h4><h4 id=\"6-react-router-redux\"><a href=\"#6-react-router-redux\" class=\"headerlink\" title=\"6. react-router-redux\"></a>6. <a href=\"https://npm.taobao.org/package/react-router-redux\">react-router-redux</a></h4><h4 id=\"7-redux-thunk\"><a href=\"#7-redux-thunk\" class=\"headerlink\" title=\"7. redux-thunk\"></a>7. <a href=\"https://npm.taobao.org/package/redux-thunk\">redux-thunk</a></h4><h4 id=\"8-isomorphic-fetch\"><a href=\"#8-isomorphic-fetch\" class=\"headerlink\" title=\"8. isomorphic-fetch\"></a>8. <a href=\"https://npm.taobao.org/package/isomorphic-fetch\">isomorphic-fetch</a></h4><h4 id=\"9-antd\"><a href=\"#9-antd\" class=\"headerlink\" title=\"9. antd\"></a>9. <a href=\"https://npm.taobao.org/package/antd\">antd</a></h4><h4 id=\"10-bootstrap\"><a href=\"#10-bootstrap\" class=\"headerlink\" title=\"10.bootstrap\"></a>10.<a href=\"https://npm.taobao.org/package/bootstrap\">bootstrap</a></h4><h2 id=\"二、babel相关\"><a href=\"#二、babel相关\" class=\"headerlink\" title=\"二、babel相关\"></a>二、babel相关</h2><h3 id=\"1-命令编译器\"><a href=\"#1-命令编译器\" class=\"headerlink\" title=\"1. 命令编译器\"></a>1. 命令编译器</h3><p><a href=\"https://npm.taobao.org/package/babel-cli\">babel-cli</a></p>\n<p>使用 <code>babel script.js</code>   一般全局安装 <code>npm install -g babel-cli</code></p>\n<p>####abel-core](<a href=\"https://npm.taobao.org/package/babel-core\">https://npm.taobao.org/package/babel-core</a>)</p>\n<h4 id=\"3-解析器\"><a href=\"#3-解析器\" class=\"headerlink\" title=\"3. 解析器\"></a>3. 解析器</h4><p><a href=\"https://npm.taobao.org/package/babel-preset-es2015\">babel-preset-es2015</a> 和<a href=\"https://npm.taobao.org/package/babel-react\">babel-preset-react</a></p>\n<p>使用 在项目根目录新建文件<code>.babelrc</code>加上以下代码，可以用babel将es2015和react转成浏览器能够识别的代码</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>,<span class=\"string\">\"react\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-es6的stage0转码器\"><a href=\"#4-es6的stage0转码器\" class=\"headerlink\" title=\"4. es6的stage0转码器\"></a>4. es6的stage0转码器</h4><p><a href=\"https://npm.taobao.org/package/babel-preset-stage-0\">babel-preset-stage-0</a></p>\n<p>使用 在项目根目录<code>.babelrc</code>加上以下代码，可以转码最新的api</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"stage-0\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"5-转码器\"><a href=\"#5-转码器\" class=\"headerlink\" title=\"5. 转码器\"></a>5. 转码器</h4><p> <a href=\"https://npm.taobao.org/package/babel-loader\">babel-loader</a></p>\n<p><code>npm install babel-loader babel-core babel-preset-es2015 babel-preset-react --save-dev</code></p>\n<h4 id=\"6-babel插件\"><a href=\"#6-babel插件\" class=\"headerlink\" title=\"6 babel插件\"></a>6 babel插件</h4><p><a href=\"https://npm.taobao.org/package/babel-runtime\">babel-runtime</a> <a href=\"https://npm.taobao.org/package/babel-plugin-transform-runtime\">babel-plugin-transform-runtime</a></p>\n<p>使用 在项目根目录<code>.babelrc</code>加上以下代码，可以转码最新的api</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attribute\">plugins</span>: [<span class=\"string\">\"transform-runtime\"</span>]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"7-es6转码垫片\"><a href=\"#7-es6转码垫片\" class=\"headerlink\" title=\"7. es6转码垫片\"></a>7. es6转码垫片</h4><p><a href=\"https://npm.taobao.org/package/babel-polyfill\">babel-polyfill</a></p>\n<p>使用： 在入口文件引入 <code>import &#39;babel/polyfill&#39;;</code><br>作用：<br>babel-polyfill Babel默认只转换新的JavaScript句法（syntax），而不转换新的API，比如<code>Iterator</code>、<code>Generator</code>、<code>Set</code>、<code>Maps</code>、<code>Proxy</code>、<code>Reflect</code>、<code>Symbol</code>、<code>Promise</code>等全局对象，以及一些定义在全局对象上的方法（比如Object.assign）都不会转码。举例来说，ES6在Array对象上新增了Array.from方法。Babel就不会转码这个方法。如果想让这个方法运行，必须使用babel-polyfill，为当前环境提供一个垫片。然后，在脚本头部，加入如下一行代码。<code>import &#39;babel-polyfill&#39;</code>;Babel默认不转码的API非常多，详细清单可以查看babel-plugin-transform-runtime模块的definitions.js文件。</p>\n<h4 id=\"8-react代码优化插件\"><a href=\"#8-react代码优化插件\" class=\"headerlink\" title=\"8. react代码优化插件\"></a>8. react代码优化插件</h4><p><a href=\"https://github.com/thejameskyle/babel-react-optimize\">babel-preset-react-optimize</a></p>\n<p>1.下载  <code>npm install --save-dev babel-preset-react-optimize</code></p>\n<p>2.使用 .babelrc</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>, <span class=\"string\">\"react\"</span>],</div><div class=\"line\">  <span class=\"attr\">\"env\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"production\"</span>: &#123;</div><div class=\"line\">      <span class=\"attr\">\"presets\"</span>: [<span class=\"string\">\"es2015\"</span>, <span class=\"string\">\"react\"</span>, <span class=\"string\">\"react-optimize\"</span>]</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>3.具体表现<br>转换常量元素  <a href=\"https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-constant-elements\">transform-react-constant-elements</a><br>转换内联元素  <a href=\"https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-react-inline-elements\">transform-react-inline-elements</a><br>移除属性类型  <a href=\"https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types\">transform-react-remove-prop-types</a><br>将类转成方法  <a href=\"https://github.com/thejameskyle/babel-react-optimize/tree/master/packages/babel-plugin-transform-react-pure-class-to-function\">transform-react-pure-class-to-function</a></p>\n<h4 id=\"9-babel注册机\"><a href=\"#9-babel注册机\" class=\"headerlink\" title=\"9. babel注册机\"></a>9. babel注册机</h4><p><a href=\"https://github.com/aleclarson/babel-register\">babel-register</a></p>\n<p>使用 <code>import &#39;babel-register&#39;</code></p>\n<p>作用： 能够将模块化引入的es和react代码交给babel进行转换</p>\n<h3 id=\"三、webpack\"><a href=\"#三、webpack\" class=\"headerlink\" title=\"三、webpack\"></a>三、webpack</h3><h4 id=\"1-依赖\"><a href=\"#1-依赖\" class=\"headerlink\" title=\"1. 依赖\"></a>1. 依赖</h4><ul>\n<li>webpack</li>\n<li>webpack-dev-server</li>\n<li>webpack-dev-middleware</li>\n<li>webpack-hot-middleware</li>\n<li>extract-text-webpack-plugin</li>\n<li>html-webpack-plugin</li>\n<li>copy-webpack-plugin</li>\n</ul>\n<h4 id=\"2-配置\"><a href=\"#2-配置\" class=\"headerlink\" title=\"2. 配置\"></a>2. 配置</h4><h3 id=\"四、loaders\"><a href=\"#四、loaders\" class=\"headerlink\" title=\"四、loaders\"></a>四、loaders</h3><h4 id=\"1-html\"><a href=\"#1-html\" class=\"headerlink\" title=\"1. html\"></a>1. html</h4><ul>\n<li>raw-loader<h4 id=\"2-css\"><a href=\"#2-css\" class=\"headerlink\" title=\"2. css\"></a>2. css</h4></li>\n<li>node-sass</li>\n<li>style-loader</li>\n<li>css-loader</li>\n<li>less-loader</li>\n<li>sass-loader</li>\n<li>postcss-loader<h4 id=\"3-图片、字体\"><a href=\"#3-图片、字体\" class=\"headerlink\" title=\"3. 图片、字体\"></a>3. 图片、字体</h4></li>\n<li>file-loader</li>\n<li>url-loader</li>\n<li>imorts-loader<h4 id=\"4-json\"><a href=\"#4-json\" class=\"headerlink\" title=\"4. json\"></a>4. json</h4></li>\n<li>json-loader</li>\n</ul>\n<h3 id=\"五、其他\"><a href=\"#五、其他\" class=\"headerlink\" title=\"五、其他\"></a>五、其他</h3><ul>\n<li>normalize</li>\n<li>cssnano</li>\n<li>history</li>\n<li>ip</li>\n<li>yargs</li>\n<li>cheerio</li>\n<li>better-npm-run</li>\n<li>fs-extra</li>\n<li>redbox-react</li>\n<li>autoprefixer</li>\n<li>nodemon</li>\n</ul>\n<h3 id=\"六、后台相关\"><a href=\"#六、后台相关\" class=\"headerlink\" title=\"六、后台相关\"></a>六、后台相关</h3><ul>\n<li>debug</li>\n<li>koa</li>\n<li>koa-connect-history-api-fallback</li>\n<li>koa-convert</li>\n<li>koa-proxy</li>\n<li>koa-static</li>\n<li>mongoose</li>\n<li>moment</li>\n</ul>"},{"author":"小莫","date":"2016-06-21T16:00:00.000Z","title":"angular2学习笔记之基础环境搭建","_content":"俗话说万事开头难，对于一个项目的开发，准备工作其实是一件很很头大的事。尤其是像angular2这种前沿基础，搭建环境这一步就让很多人望而却步。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、angular2基础依赖\n\n#### 1.angular模块\n\n- @angular/common\n- @angular/compiler\n- @angular/core\n- @angular/http\n- @angular/platform-browser\n- @angular/platform-browser-dynamic\n- @angular/router\n- @angular/deprecated\n\n#### 2. 其他依赖\n\n- core-js\n- es6-shim\n- reflect-metadata\n- systemjs\n- ts-helpers\n- tslint\n- typescript\n- typings\n- zone.js\n- concurrently\n- live-server\n- lodash\n- moment\n- uuid\n- base64id\n- optimist\n- uuid\n- [rxjs](#) 非常重要\n\n#### 3. typings依赖\n\ndt源\n- angular-protractor\n- core-js\n- hammerjs\n- jasmine\n- node\n- selenium-webdriver\n- source-map\n- uglify-js\n- webpack\n\n\nnpm源\n- lodash\n\n\ngithub源\n暂无\n\n#### 4. [typings.json](https://github.com/syoubaku/angular2-demo/blob/master/typings.json)\n```\n{\n  \"globalDependencies\": {\n    \"angular-protractor\": \"registry:dt/angular-protractor#1.5.0+20160425143459\",\n    \"core-js\": \"registry:dt/core-js#0.0.0+20160317120654\",\n    \"hammerjs\": \"registry:dt/hammerjs#2.0.4+20160417130828\",\n    \"jasmine\": \"registry:dt/jasmine#2.2.0+20160505161446\",\n    \"node\": \"registry:dt/node#6.0.0+20160514165920\",\n    \"selenium-webdriver\": \"registry:dt/selenium-webdriver#2.44.0+20160317120654\",\n    \"source-map\": \"registry:dt/source-map#0.0.0+20160317120654\",\n    \"uglify-js\": \"registry:dt/uglify-js#2.6.1+20160316155526\",\n    \"webpack\": \"registry:dt/webpack#1.12.9+20160321060707\"\n  },\n  \"dependencies\": {\n    \"lodash\": \"registry:npm/lodash#4.0.0+20160416211519\"\n  }\n}\n```\n\n#### 4. [webpack的配置](https://github.com/syoubaku/angular2-demo/blob/master/webpack.config.js)\n\n```\nvar webpack               = require('webpack'),\n    ReloadPlugin          = require('webpack-reload-plugin'),\n    path                  = require('path'),\n    HtmlWebpackPlugin     = require('html-webpack-plugin'),\n    WebpackNotifierPlugin = require('webpack-notifier'),\n    ExtractTextPlugin     = require('extract-text-webpack-plugin');\n\n/**\n * Support for extra commandline arguments\n */\nvar argv = require('optimist').argv;\n\n/**\n * Useful variables\n */\nvar cwd = process.cwd();\nvar DEBUG = !argv.release;\nvar isDevServer = process.argv.join('').indexOf('webpack-dev-server') > -1;\nvar version = require(path.resolve(cwd,'package.json')).version;\nvar reloadHost = 'localhost';\nvar npmRoot = __dirname + '/node_modules';\nvar appDir = __dirname + '/src';\n\nvar entry = ['app.ts'];\n\nif (isDevServer) {\n  entry.unshift('webpack-dev-server/client?http://'+reloadHost+':8080');\n}\n\nfunction makeConfig(options) {\n  return {\n    cache: true,\n    debug: true,\n    verbose: true,\n    displayErrorDetails: true,\n    context: appDir,\n\n    entry: {\n      vendor: 'vendor.ts',\n      bundle: entry\n    },\n\n    stats: {\n      colors: true,\n      reasons: DEBUG\n    },\n\n    devtool: 'source-map',\n\n    recordsPath: path.resolve('.webpack.json'),\n\n    devServer: {\n      inline: true,\n      colors: true,\n      header:{\n        \"Access-Control-Allow-Origin\":\"*\"\n      },\n      contentBase: path.resolve(cwd, 'dist'),\n      publicPath: '/'\n    },\n\n    output: {\n      path: path.resolve(cwd, 'dist'),\n      filename: '[name].js',\n      publicPath: '/',\n      chunkFilename: '[id].bundle.js',\n\n      // Hot Module Replacement settings:\n      hotUpdateMainFilename: 'updates/[hash].update.json',\n      hotUpdateChunkFilename: 'updates/[hash].[id].update.js'\n    },\n\n    plugins: [\n      new webpack.IgnorePlugin(/spec\\.js$/),\n      new webpack.optimize.CommonsChunkPlugin('common.js'),\n      new ExtractTextPlugin('styles.css'),\n      new webpack.DefinePlugin({\n        VERSION: JSON.stringify(version),\n        ENV: JSON.stringify(options.env)\n      }),\n      new HtmlWebpackPlugin({\n        template: path.join(appDir, 'index.html')\n      }),\n      new ReloadPlugin( isDevServer ? 'localhost' : ''),\n      new WebpackNotifierPlugin({\n        title: 'ng-book',\n        contentImage: path.join(appDir, 'images', 'favicon.ico')\n      })\n    ],\n    resolveLoader: {\n      root: path.join(__dirname, 'node_modules'),\n      modulesDirectories: ['node_modules'],\n      fallback: path.join(__dirname, 'node_modules')\n    },\n    resolve: {\n      root: [path.resolve(cwd)],\n      modulesDirectories: [\n        'node_modules', 'src', 'src/ts', '.'\n      ],\n      extensions: ['', '.ts', '.js', '.json', '.css','.scss'],\n      alias: {\n        'src': 'src',\n        'scripts': npmRoot\n      }\n    },\n    module: {\n      preLoaders: [\n        { test: /\\.ts$/, loader: 'tslint' }\n      ],\n\n      loaders: [\n        { test: /\\.(png|jpg|gif|ico)$/,   loader: 'file-loader?limit=50000&name=[path][name].[ext]' },\n        { test: /\\.json$/, loader: 'json' },\n        { test: /^.*\\.css$/, loader: ExtractTextPlugin.extract('style-loader', 'css-loader?sourceMap')},\n        { test: /\\.scss$/, loaders: [\n                                     'raw-loader',\n                                     'style-loader',\n                                     ExtractTextPlugin.extract('style-loader', 'css-loader?sourceMap'),\n                                     'sass-loader' +\n                                     '?outputStyle=expanded&' +\n                                     'root='+appDir+'&' +\n                                     '&includePaths[]'+npmRoot + '&' +\n                                     '&includePaths[]'+appDir\n                                    ]},\n        { test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'url-loader' },\n        { test: /\\.html$/,    loader: 'raw' },\n        { test: /^index\\.html$/, loader: 'file-loader?name=[path][name].[ext]' },\n        { test: /\\.ts$/, loader: 'ts', exclude: [ /test/, /node_modules/]},\n        { test: /\\.woff(2)?(\\?v=\\d+\\.\\d+\\.\\d+)?$/,    loader: 'file-loader?mimetype=application/font-woff&name=[path][name].[ext]' },\n        { test: /\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'file-loader?mimetype=application/x-font-ttf&name=[path][name].[ext]' },\n        { test: /\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?\\??$/,      loader: 'file-loader?mimetype=application/vnd.ms-fontobject&name=[path][name].[ext]' },\n        { test: /\\.otf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'file-loader?mimetype=application/font-otf&name=[path][name].[ext]' },\n        { test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'url-loader'   }\n      ],\n      noParse: [\n        /\\.min\\.js/,\n        /vendor\\/.*?\\.(js|css)$/\n      ]\n    },\n    tslint: {\n        emitErrors: false,\n        failOnHint: false\n    }\n  }\n}\n\nvar config = makeConfig(argv);\n\nmodule.exports = config;\n\n```\n\n\n#### 5. ts转码\n\n[tsconfig.json](https://github.com/syoubaku/angular2-demo/blob/master/tsconfig.json)\n\n```\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"declaration\": false,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"noLib\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true\n  },\n  \"filesGlob\": [\n    \"./**/*.ts\",\n    \"./test/**/*.ts\",\n    \"!./node_modules/**/*.ts\",\n    \"!./tmp/*.ts\"\n  ],\n  \"compileOnSave\": true,\n  \"buildOnSave\": true,\n  \"atom\": { \"rewriteTsconfig\": false },\n  \"exclude\": [\n    \"typings/main.d.ts\",\n    \"typings/main\",\n    \"node_modules\",\n    \"tmp\"\n  ]\n}\n\n```\n\n\n### 6.基础依赖引入\n\n[vendor.ts](https://github.com/syoubaku/angular2-demo/blob/master/vendor.ts)\n\n```\n// Polyfills\nimport 'core-js/es6';\nimport 'core-js/es6';\nimport 'core-js/es7/reflect';\n\nimport 'zone.js/dist/zone';\nimport 'zone.js/dist/long-stack-trace-zone';\n\n// Angular 2\nimport '@angular/platform-browser-dynamic';\nimport '@angular/common';\nimport '@angular/core';\nimport '@angular/router';\nimport '@angular/http';\n\n// RxJS\nimport 'rxjs';\n\n```\n","source":"_posts/2016-06-22.angular2_study_note_environment.md","raw":"---\nauthor: 小莫\ndate: 2016-06-22\ntitle: angular2学习笔记之基础环境搭建\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2StudyNoteEnvironment\n---\n俗话说万事开头难，对于一个项目的开发，准备工作其实是一件很很头大的事。尤其是像angular2这种前沿基础，搭建环境这一步就让很多人望而却步。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、angular2基础依赖\n\n#### 1.angular模块\n\n- @angular/common\n- @angular/compiler\n- @angular/core\n- @angular/http\n- @angular/platform-browser\n- @angular/platform-browser-dynamic\n- @angular/router\n- @angular/deprecated\n\n#### 2. 其他依赖\n\n- core-js\n- es6-shim\n- reflect-metadata\n- systemjs\n- ts-helpers\n- tslint\n- typescript\n- typings\n- zone.js\n- concurrently\n- live-server\n- lodash\n- moment\n- uuid\n- base64id\n- optimist\n- uuid\n- [rxjs](#) 非常重要\n\n#### 3. typings依赖\n\ndt源\n- angular-protractor\n- core-js\n- hammerjs\n- jasmine\n- node\n- selenium-webdriver\n- source-map\n- uglify-js\n- webpack\n\n\nnpm源\n- lodash\n\n\ngithub源\n暂无\n\n#### 4. [typings.json](https://github.com/syoubaku/angular2-demo/blob/master/typings.json)\n```\n{\n  \"globalDependencies\": {\n    \"angular-protractor\": \"registry:dt/angular-protractor#1.5.0+20160425143459\",\n    \"core-js\": \"registry:dt/core-js#0.0.0+20160317120654\",\n    \"hammerjs\": \"registry:dt/hammerjs#2.0.4+20160417130828\",\n    \"jasmine\": \"registry:dt/jasmine#2.2.0+20160505161446\",\n    \"node\": \"registry:dt/node#6.0.0+20160514165920\",\n    \"selenium-webdriver\": \"registry:dt/selenium-webdriver#2.44.0+20160317120654\",\n    \"source-map\": \"registry:dt/source-map#0.0.0+20160317120654\",\n    \"uglify-js\": \"registry:dt/uglify-js#2.6.1+20160316155526\",\n    \"webpack\": \"registry:dt/webpack#1.12.9+20160321060707\"\n  },\n  \"dependencies\": {\n    \"lodash\": \"registry:npm/lodash#4.0.0+20160416211519\"\n  }\n}\n```\n\n#### 4. [webpack的配置](https://github.com/syoubaku/angular2-demo/blob/master/webpack.config.js)\n\n```\nvar webpack               = require('webpack'),\n    ReloadPlugin          = require('webpack-reload-plugin'),\n    path                  = require('path'),\n    HtmlWebpackPlugin     = require('html-webpack-plugin'),\n    WebpackNotifierPlugin = require('webpack-notifier'),\n    ExtractTextPlugin     = require('extract-text-webpack-plugin');\n\n/**\n * Support for extra commandline arguments\n */\nvar argv = require('optimist').argv;\n\n/**\n * Useful variables\n */\nvar cwd = process.cwd();\nvar DEBUG = !argv.release;\nvar isDevServer = process.argv.join('').indexOf('webpack-dev-server') > -1;\nvar version = require(path.resolve(cwd,'package.json')).version;\nvar reloadHost = 'localhost';\nvar npmRoot = __dirname + '/node_modules';\nvar appDir = __dirname + '/src';\n\nvar entry = ['app.ts'];\n\nif (isDevServer) {\n  entry.unshift('webpack-dev-server/client?http://'+reloadHost+':8080');\n}\n\nfunction makeConfig(options) {\n  return {\n    cache: true,\n    debug: true,\n    verbose: true,\n    displayErrorDetails: true,\n    context: appDir,\n\n    entry: {\n      vendor: 'vendor.ts',\n      bundle: entry\n    },\n\n    stats: {\n      colors: true,\n      reasons: DEBUG\n    },\n\n    devtool: 'source-map',\n\n    recordsPath: path.resolve('.webpack.json'),\n\n    devServer: {\n      inline: true,\n      colors: true,\n      header:{\n        \"Access-Control-Allow-Origin\":\"*\"\n      },\n      contentBase: path.resolve(cwd, 'dist'),\n      publicPath: '/'\n    },\n\n    output: {\n      path: path.resolve(cwd, 'dist'),\n      filename: '[name].js',\n      publicPath: '/',\n      chunkFilename: '[id].bundle.js',\n\n      // Hot Module Replacement settings:\n      hotUpdateMainFilename: 'updates/[hash].update.json',\n      hotUpdateChunkFilename: 'updates/[hash].[id].update.js'\n    },\n\n    plugins: [\n      new webpack.IgnorePlugin(/spec\\.js$/),\n      new webpack.optimize.CommonsChunkPlugin('common.js'),\n      new ExtractTextPlugin('styles.css'),\n      new webpack.DefinePlugin({\n        VERSION: JSON.stringify(version),\n        ENV: JSON.stringify(options.env)\n      }),\n      new HtmlWebpackPlugin({\n        template: path.join(appDir, 'index.html')\n      }),\n      new ReloadPlugin( isDevServer ? 'localhost' : ''),\n      new WebpackNotifierPlugin({\n        title: 'ng-book',\n        contentImage: path.join(appDir, 'images', 'favicon.ico')\n      })\n    ],\n    resolveLoader: {\n      root: path.join(__dirname, 'node_modules'),\n      modulesDirectories: ['node_modules'],\n      fallback: path.join(__dirname, 'node_modules')\n    },\n    resolve: {\n      root: [path.resolve(cwd)],\n      modulesDirectories: [\n        'node_modules', 'src', 'src/ts', '.'\n      ],\n      extensions: ['', '.ts', '.js', '.json', '.css','.scss'],\n      alias: {\n        'src': 'src',\n        'scripts': npmRoot\n      }\n    },\n    module: {\n      preLoaders: [\n        { test: /\\.ts$/, loader: 'tslint' }\n      ],\n\n      loaders: [\n        { test: /\\.(png|jpg|gif|ico)$/,   loader: 'file-loader?limit=50000&name=[path][name].[ext]' },\n        { test: /\\.json$/, loader: 'json' },\n        { test: /^.*\\.css$/, loader: ExtractTextPlugin.extract('style-loader', 'css-loader?sourceMap')},\n        { test: /\\.scss$/, loaders: [\n                                     'raw-loader',\n                                     'style-loader',\n                                     ExtractTextPlugin.extract('style-loader', 'css-loader?sourceMap'),\n                                     'sass-loader' +\n                                     '?outputStyle=expanded&' +\n                                     'root='+appDir+'&' +\n                                     '&includePaths[]'+npmRoot + '&' +\n                                     '&includePaths[]'+appDir\n                                    ]},\n        { test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'url-loader' },\n        { test: /\\.html$/,    loader: 'raw' },\n        { test: /^index\\.html$/, loader: 'file-loader?name=[path][name].[ext]' },\n        { test: /\\.ts$/, loader: 'ts', exclude: [ /test/, /node_modules/]},\n        { test: /\\.woff(2)?(\\?v=\\d+\\.\\d+\\.\\d+)?$/,    loader: 'file-loader?mimetype=application/font-woff&name=[path][name].[ext]' },\n        { test: /\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'file-loader?mimetype=application/x-font-ttf&name=[path][name].[ext]' },\n        { test: /\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?\\??$/,      loader: 'file-loader?mimetype=application/vnd.ms-fontobject&name=[path][name].[ext]' },\n        { test: /\\.otf(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'file-loader?mimetype=application/font-otf&name=[path][name].[ext]' },\n        { test: /\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/,         loader: 'url-loader'   }\n      ],\n      noParse: [\n        /\\.min\\.js/,\n        /vendor\\/.*?\\.(js|css)$/\n      ]\n    },\n    tslint: {\n        emitErrors: false,\n        failOnHint: false\n    }\n  }\n}\n\nvar config = makeConfig(argv);\n\nmodule.exports = config;\n\n```\n\n\n#### 5. ts转码\n\n[tsconfig.json](https://github.com/syoubaku/angular2-demo/blob/master/tsconfig.json)\n\n```\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"declaration\": false,\n    \"noImplicitAny\": false,\n    \"removeComments\": true,\n    \"noLib\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true\n  },\n  \"filesGlob\": [\n    \"./**/*.ts\",\n    \"./test/**/*.ts\",\n    \"!./node_modules/**/*.ts\",\n    \"!./tmp/*.ts\"\n  ],\n  \"compileOnSave\": true,\n  \"buildOnSave\": true,\n  \"atom\": { \"rewriteTsconfig\": false },\n  \"exclude\": [\n    \"typings/main.d.ts\",\n    \"typings/main\",\n    \"node_modules\",\n    \"tmp\"\n  ]\n}\n\n```\n\n\n### 6.基础依赖引入\n\n[vendor.ts](https://github.com/syoubaku/angular2-demo/blob/master/vendor.ts)\n\n```\n// Polyfills\nimport 'core-js/es6';\nimport 'core-js/es6';\nimport 'core-js/es7/reflect';\n\nimport 'zone.js/dist/zone';\nimport 'zone.js/dist/long-stack-trace-zone';\n\n// Angular 2\nimport '@angular/platform-browser-dynamic';\nimport '@angular/common';\nimport '@angular/core';\nimport '@angular/router';\nimport '@angular/http';\n\n// RxJS\nimport 'rxjs';\n\n```\n","slug":"Angular2StudyNoteEnvironment","published":1,"updated":"2016-12-01T06:50:25.874Z","_id":"civ0ggq8q003crwvn4yh47o27","comments":1,"layout":"post","photos":[],"link":"","content":"<p>俗话说万事开头难，对于一个项目的开发，准备工作其实是一件很很头大的事。尤其是像angular2这种前沿基础，搭建环境这一步就让很多人望而却步。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、angular2基础依赖\"><a href=\"#一、angular2基础依赖\" class=\"headerlink\" title=\"一、angular2基础依赖\"></a>一、angular2基础依赖</h3><h4 id=\"1-angular模块\"><a href=\"#1-angular模块\" class=\"headerlink\" title=\"1.angular模块\"></a>1.angular模块</h4><ul>\n<li>@angular/common</li>\n<li>@angular/compiler</li>\n<li>@angular/core</li>\n<li>@angular/http</li>\n<li>@angular/platform-browser</li>\n<li>@angular/platform-browser-dynamic</li>\n<li>@angular/router</li>\n<li>@angular/deprecated</li>\n</ul>\n<h4 id=\"2-其他依赖\"><a href=\"#2-其他依赖\" class=\"headerlink\" title=\"2. 其他依赖\"></a>2. 其他依赖</h4><ul>\n<li>core-js</li>\n<li>es6-shim</li>\n<li>reflect-metadata</li>\n<li>systemjs</li>\n<li>ts-helpers</li>\n<li>tslint</li>\n<li>typescript</li>\n<li>typings</li>\n<li>zone.js</li>\n<li>concurrently</li>\n<li>live-server</li>\n<li>lodash</li>\n<li>moment</li>\n<li>uuid</li>\n<li>base64id</li>\n<li>optimist</li>\n<li>uuid</li>\n<li><a href=\"#\">rxjs</a> 非常重要</li>\n</ul>\n<h4 id=\"3-typings依赖\"><a href=\"#3-typings依赖\" class=\"headerlink\" title=\"3. typings依赖\"></a>3. typings依赖</h4><p>dt源</p>\n<ul>\n<li>angular-protractor</li>\n<li>core-js</li>\n<li>hammerjs</li>\n<li>jasmine</li>\n<li>node</li>\n<li>selenium-webdriver</li>\n<li>source-map</li>\n<li>uglify-js</li>\n<li>webpack</li>\n</ul>\n<p>npm源</p>\n<ul>\n<li>lodash</li>\n</ul>\n<p>github源<br>暂无</p>\n<h4 id=\"4-typings-json\"><a href=\"#4-typings-json\" class=\"headerlink\" title=\"4. typings.json\"></a>4. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/typings.json\" target=\"_blank\" rel=\"external\">typings.json</a></h4><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"globalDependencies\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"angular-protractor\"</span>: <span class=\"string\">\"registry:dt/angular-protractor#1.5.0+20160425143459\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"core-js\"</span>: <span class=\"string\">\"registry:dt/core-js#0.0.0+20160317120654\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"hammerjs\"</span>: <span class=\"string\">\"registry:dt/hammerjs#2.0.4+20160417130828\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"jasmine\"</span>: <span class=\"string\">\"registry:dt/jasmine#2.2.0+20160505161446\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"node\"</span>: <span class=\"string\">\"registry:dt/node#6.0.0+20160514165920\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"selenium-webdriver\"</span>: <span class=\"string\">\"registry:dt/selenium-webdriver#2.44.0+20160317120654\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"source-map\"</span>: <span class=\"string\">\"registry:dt/source-map#0.0.0+20160317120654\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"uglify-js\"</span>: <span class=\"string\">\"registry:dt/uglify-js#2.6.1+20160316155526\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"webpack\"</span>: <span class=\"string\">\"registry:dt/webpack#1.12.9+20160321060707\"</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"attr\">\"dependencies\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"lodash\"</span>: <span class=\"string\">\"registry:npm/lodash#4.0.0+20160416211519\"</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-webpack的配置\"><a href=\"#4-webpack的配置\" class=\"headerlink\" title=\"4. webpack的配置\"></a>4. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/webpack.config.js\" target=\"_blank\" rel=\"external\">webpack的配置</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div></pre></td><td class=\"code\"><pre><div class=\"line\">var webpack               = require(<span class=\"string\">'webpack'</span>),</div><div class=\"line\">    ReloadPlugin          = require(<span class=\"string\">'webpack-reload-plugin'</span>),</div><div class=\"line\">    path                  = require(<span class=\"string\">'path'</span>),</div><div class=\"line\">    HtmlWebpackPlugin     = require(<span class=\"string\">'html-webpack-plugin'</span>),</div><div class=\"line\">    WebpackNotifierPlugin = require(<span class=\"string\">'webpack-notifier'</span>),</div><div class=\"line\">    ExtractTextPlugin     = require(<span class=\"string\">'extract-text-webpack-plugin'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * Support for extra commandline arguments</div><div class=\"line\"> */</div><div class=\"line\">var argv = require(<span class=\"string\">'optimist'</span>).argv;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * Useful variables</div><div class=\"line\"> */</div><div class=\"line\">var cwd = process.cwd();</div><div class=\"line\">var DEBUG = !argv.release;</div><div class=\"line\">var isDevServer = process.argv.join(<span class=\"string\">''</span>).indexOf(<span class=\"string\">'webpack-dev-server'</span>) &gt; <span class=\"number\">-1</span>;</div><div class=\"line\">var version = require(path.resolve(cwd,<span class=\"string\">'package.json'</span>)).version;</div><div class=\"line\">var reloadHost = <span class=\"string\">'localhost'</span>;</div><div class=\"line\">var npmRoot = __dirname + <span class=\"string\">'/node_modules'</span>;</div><div class=\"line\">var appDir = __dirname + <span class=\"string\">'/src'</span>;</div><div class=\"line\"></div><div class=\"line\">var entry = [<span class=\"string\">'app.ts'</span>];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> (isDevServer) &#123;</div><div class=\"line\">  entry.unshift(<span class=\"string\">'webpack-dev-server/client?http://'</span>+reloadHost+<span class=\"string\">':8080'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">function makeConfig(options) &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> &#123;</div><div class=\"line\"><span class=\"symbol\">    cache:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    debug:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    verbose:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    displayErrorDetails:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    context:</span> appDir,</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    entry: &#123;</div><div class=\"line\"><span class=\"symbol\">      vendor:</span> <span class=\"string\">'vendor.ts'</span>,</div><div class=\"line\"><span class=\"symbol\">      bundle:</span> entry</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    stats: &#123;</div><div class=\"line\"><span class=\"symbol\">      colors:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">      reasons:</span> DEBUG</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    devtool: <span class=\"string\">'source-map'</span>,</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    recordsPath: path.resolve(<span class=\"string\">'.webpack.json'</span>),</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    devServer: &#123;</div><div class=\"line\"><span class=\"symbol\">      inline:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">      colors:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">      header:</span>&#123;</div><div class=\"line\">        <span class=\"string\">\"Access-Control-Allow-Origin\"</span>:<span class=\"string\">\"*\"</span></div><div class=\"line\">      &#125;,</div><div class=\"line\"><span class=\"symbol\">      contentBase:</span> path.resolve(cwd, <span class=\"string\">'dist'</span>),</div><div class=\"line\"><span class=\"symbol\">      publicPath:</span> <span class=\"string\">'/'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    output: &#123;</div><div class=\"line\"><span class=\"symbol\">      path:</span> path.resolve(cwd, <span class=\"string\">'dist'</span>),</div><div class=\"line\"><span class=\"symbol\">      filename:</span> <span class=\"string\">'[name].js'</span>,</div><div class=\"line\"><span class=\"symbol\">      publicPath:</span> <span class=\"string\">'/'</span>,</div><div class=\"line\"><span class=\"symbol\">      chunkFilename:</span> <span class=\"string\">'[id].bundle.js'</span>,</div><div class=\"line\"></div><div class=\"line\">      <span class=\"comment\">// Hot Module Replacement settings:</span></div><div class=\"line\"><span class=\"symbol\">      hotUpdateMainFilename:</span> <span class=\"string\">'updates/[hash].update.json'</span>,</div><div class=\"line\"><span class=\"symbol\">      hotUpdateChunkFilename:</span> <span class=\"string\">'updates/[hash].[id].update.js'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">    plugins: [</div><div class=\"line\">      <span class=\"keyword\">new</span> webpack.IgnorePlugin(<span class=\"regexp\">/spec\\.js$/</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(<span class=\"string\">'common.js'</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> ExtractTextPlugin(<span class=\"string\">'styles.css'</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> webpack.DefinePlugin(&#123;</div><div class=\"line\"><span class=\"symbol\">        VERSION:</span> JSON.stringify(version),</div><div class=\"line\"><span class=\"symbol\">        ENV:</span> JSON.stringify(options.env)</div><div class=\"line\">      &#125;),</div><div class=\"line\">      <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</div><div class=\"line\"><span class=\"symbol\">        template:</span> path.join(appDir, <span class=\"string\">'index.html'</span>)</div><div class=\"line\">      &#125;),</div><div class=\"line\">      <span class=\"keyword\">new</span> ReloadPlugin( isDevServer ? 'localhost' : <span class=\"string\">''</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> WebpackNotifierPlugin(&#123;</div><div class=\"line\"><span class=\"symbol\">        title:</span> <span class=\"string\">'ng-book'</span>,</div><div class=\"line\"><span class=\"symbol\">        contentImage:</span> path.join(appDir, <span class=\"string\">'images'</span>, <span class=\"string\">'favicon.ico'</span>)</div><div class=\"line\">      &#125;)</div><div class=\"line\">    ],</div><div class=\"line\"><span class=\"symbol\">    resolveLoader:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      root:</span> path.join(__dirname, <span class=\"string\">'node_modules'</span>),</div><div class=\"line\"><span class=\"symbol\">      modulesDirectories:</span> [<span class=\"string\">'node_modules'</span>],</div><div class=\"line\"><span class=\"symbol\">      fallback:</span> path.join(__dirname, <span class=\"string\">'node_modules'</span>)</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\">    resolve:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      root:</span> [path.resolve(cwd)],</div><div class=\"line\"><span class=\"symbol\">      modulesDirectories:</span> [</div><div class=\"line\">        <span class=\"string\">'node_modules'</span>, <span class=\"string\">'src'</span>, <span class=\"string\">'src/ts'</span>, <span class=\"string\">'.'</span></div><div class=\"line\">      ],</div><div class=\"line\"><span class=\"symbol\">      extensions:</span> [<span class=\"string\">''</span>, <span class=\"string\">'.ts'</span>, <span class=\"string\">'.js'</span>, <span class=\"string\">'.json'</span>, <span class=\"string\">'.css'</span>,<span class=\"string\">'.scss'</span>],</div><div class=\"line\"><span class=\"symbol\">      alias:</span> &#123;</div><div class=\"line\">        <span class=\"string\">'src'</span>: <span class=\"string\">'src'</span>,</div><div class=\"line\">        <span class=\"string\">'scripts'</span>: npmRoot</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\">    module:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      preLoaders:</span> [</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.ts$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'tslint'</span> &#125;</div><div class=\"line\">      ],</div><div class=\"line\"><span class=\"symbol\"></span></div><div class=\"line\">      loaders: [</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.(png|jpg|gif|ico)$/</span>,   <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?limit=50000&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.json$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'json'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/^.*\\.css$/</span>, <span class=\"string\">loader:</span> ExtractTextPlugin.extract(<span class=\"string\">'style-loader'</span>, <span class=\"string\">'css-loader?sourceMap'</span>)&#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.scss$/</span>, <span class=\"string\">loaders:</span> [</div><div class=\"line\">                                     <span class=\"string\">'raw-loader'</span>,</div><div class=\"line\">                                     <span class=\"string\">'style-loader'</span>,</div><div class=\"line\">                                     ExtractTextPlugin.extract(<span class=\"string\">'style-loader'</span>, <span class=\"string\">'css-loader?sourceMap'</span>),</div><div class=\"line\">                                     <span class=\"string\">'sass-loader'</span> +</div><div class=\"line\">                                     <span class=\"string\">'?outputStyle=expanded&amp;'</span> +</div><div class=\"line\">                                     <span class=\"string\">'root='</span>+appDir+<span class=\"string\">'&amp;'</span> +</div><div class=\"line\">                                     <span class=\"string\">'&amp;includePaths[]'</span>+npmRoot + <span class=\"string\">'&amp;'</span> +</div><div class=\"line\">                                     <span class=\"string\">'&amp;includePaths[]'</span>+appDir</div><div class=\"line\">                                    ]&#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'url-loader'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.html$/</span>,    <span class=\"string\">loader:</span> <span class=\"string\">'raw'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/^index\\.html$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.ts$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'ts'</span>, <span class=\"string\">exclude:</span> [ <span class=\"regexp\">/test/</span>, <span class=\"regexp\">/node_modules/</span>]&#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.woff(2)?(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,    <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/font-woff&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/x-font-ttf&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?\\??$/</span>,      <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/vnd.ms-fontobject&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.otf(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/font-otf&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'url-loader'</span>   &#125;</div><div class=\"line\">      ],</div><div class=\"line\"><span class=\"symbol\">      noParse:</span> [</div><div class=\"line\">        <span class=\"regexp\">/\\.min\\.js/</span>,</div><div class=\"line\">        <span class=\"regexp\">/vendor\\/</span>.*?\\.(js|css)$/</div><div class=\"line\">      ]</div><div class=\"line\">    &#125;,</div><div class=\"line\">    tslint: &#123;</div><div class=\"line\"><span class=\"symbol\">        emitErrors:</span> <span class=\"literal\">false</span>,</div><div class=\"line\"><span class=\"symbol\">        failOnHint:</span> <span class=\"literal\">false</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var config = makeConfig(argv);</div><div class=\"line\"></div><div class=\"line\">module.exports = config;</div></pre></td></tr></table></figure>\n<h4 id=\"5-ts转码\"><a href=\"#5-ts转码\" class=\"headerlink\" title=\"5. ts转码\"></a>5. ts转码</h4><p><a href=\"https://github.com/syoubaku/angular2-demo/blob/master/tsconfig.json\" target=\"_blank\" rel=\"external\">tsconfig.json</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"compilerOptions\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"target\"</span>: <span class=\"string\">\"es5\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"module\"</span>: <span class=\"string\">\"commonjs\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"declaration\"</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">\"noImplicitAny\"</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">\"removeComments\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">    <span class=\"attr\">\"noLib\"</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">\"emitDecoratorMetadata\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">    <span class=\"attr\">\"experimentalDecorators\"</span>: <span class=\"literal\">true</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"attr\">\"filesGlob\"</span>: [</div><div class=\"line\">    <span class=\"string\">\"./**/*.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"./test/**/*.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"!./node_modules/**/*.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"!./tmp/*.ts\"</span></div><div class=\"line\">  ],</div><div class=\"line\">  <span class=\"attr\">\"compileOnSave\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">  <span class=\"attr\">\"buildOnSave\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">  <span class=\"attr\">\"atom\"</span>: &#123; <span class=\"attr\">\"rewriteTsconfig\"</span>: <span class=\"literal\">false</span> &#125;,</div><div class=\"line\">  <span class=\"attr\">\"exclude\"</span>: [</div><div class=\"line\">    <span class=\"string\">\"typings/main.d.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"typings/main\"</span>,</div><div class=\"line\">    <span class=\"string\">\"node_modules\"</span>,</div><div class=\"line\">    <span class=\"string\">\"tmp\"</span></div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"6-基础依赖引入\"><a href=\"#6-基础依赖引入\" class=\"headerlink\" title=\"6.基础依赖引入\"></a>6.基础依赖引入</h3><p><a href=\"https://github.com/syoubaku/angular2-demo/blob/master/vendor.ts\" target=\"_blank\" rel=\"external\">vendor.ts</a></p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// Polyfills</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'core-js/es6';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'core-js/es6';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'core-js/es7/reflect';</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'zone.js/dist/zone';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'zone.js/dist/long-stack-trace-zone';</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Angular 2</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/platform-browser-dynamic';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/common';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/core';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/router';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/http';</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// RxJS</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'rxjs';</span></div></pre></td></tr></table></figure>\n","excerpt":"<p>俗话说万事开头难，对于一个项目的开发，准备工作其实是一件很很头大的事。尤其是像angular2这种前沿基础，搭建环境这一步就让很多人望而却步。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、angular2基础依赖\"><a href=\"#一、angular2基础依赖\" class=\"headerlink\" title=\"一、angular2基础依赖\"></a>一、angular2基础依赖</h3><h4 id=\"1-angular模块\"><a href=\"#1-angular模块\" class=\"headerlink\" title=\"1.angular模块\"></a>1.angular模块</h4><ul>\n<li>@angular/common</li>\n<li>@angular/compiler</li>\n<li>@angular/core</li>\n<li>@angular/http</li>\n<li>@angular/platform-browser</li>\n<li>@angular/platform-browser-dynamic</li>\n<li>@angular/router</li>\n<li>@angular/deprecated</li>\n</ul>\n<h4 id=\"2-其他依赖\"><a href=\"#2-其他依赖\" class=\"headerlink\" title=\"2. 其他依赖\"></a>2. 其他依赖</h4><ul>\n<li>core-js</li>\n<li>es6-shim</li>\n<li>reflect-metadata</li>\n<li>systemjs</li>\n<li>ts-helpers</li>\n<li>tslint</li>\n<li>typescript</li>\n<li>typings</li>\n<li>zone.js</li>\n<li>concurrently</li>\n<li>live-server</li>\n<li>lodash</li>\n<li>moment</li>\n<li>uuid</li>\n<li>base64id</li>\n<li>optimist</li>\n<li>uuid</li>\n<li><a href=\"#\">rxjs</a> 非常重要</li>\n</ul>\n<h4 id=\"3-typings依赖\"><a href=\"#3-typings依赖\" class=\"headerlink\" title=\"3. typings依赖\"></a>3. typings依赖</h4><p>dt源</p>\n<ul>\n<li>angular-protractor</li>\n<li>core-js</li>\n<li>hammerjs</li>\n<li>jasmine</li>\n<li>node</li>\n<li>selenium-webdriver</li>\n<li>source-map</li>\n<li>uglify-js</li>\n<li>webpack</li>\n</ul>\n<p>npm源</p>\n<ul>\n<li>lodash</li>\n</ul>\n<p>github源<br>暂无</p>\n<h4 id=\"4-typings-json\"><a href=\"#4-typings-json\" class=\"headerlink\" title=\"4. typings.json\"></a>4. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/typings.json\">typings.json</a></h4><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"globalDependencies\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"angular-protractor\"</span>: <span class=\"string\">\"registry:dt/angular-protractor#1.5.0+20160425143459\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"core-js\"</span>: <span class=\"string\">\"registry:dt/core-js#0.0.0+20160317120654\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"hammerjs\"</span>: <span class=\"string\">\"registry:dt/hammerjs#2.0.4+20160417130828\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"jasmine\"</span>: <span class=\"string\">\"registry:dt/jasmine#2.2.0+20160505161446\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"node\"</span>: <span class=\"string\">\"registry:dt/node#6.0.0+20160514165920\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"selenium-webdriver\"</span>: <span class=\"string\">\"registry:dt/selenium-webdriver#2.44.0+20160317120654\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"source-map\"</span>: <span class=\"string\">\"registry:dt/source-map#0.0.0+20160317120654\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"uglify-js\"</span>: <span class=\"string\">\"registry:dt/uglify-js#2.6.1+20160316155526\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"webpack\"</span>: <span class=\"string\">\"registry:dt/webpack#1.12.9+20160321060707\"</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"attr\">\"dependencies\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"lodash\"</span>: <span class=\"string\">\"registry:npm/lodash#4.0.0+20160416211519\"</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-webpack的配置\"><a href=\"#4-webpack的配置\" class=\"headerlink\" title=\"4. webpack的配置\"></a>4. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/webpack.config.js\">webpack的配置</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div><div class=\"line\">136</div><div class=\"line\">137</div><div class=\"line\">138</div><div class=\"line\">139</div><div class=\"line\">140</div><div class=\"line\">141</div><div class=\"line\">142</div><div class=\"line\">143</div><div class=\"line\">144</div><div class=\"line\">145</div><div class=\"line\">146</div><div class=\"line\">147</div><div class=\"line\">148</div><div class=\"line\">149</div></pre></td><td class=\"code\"><pre><div class=\"line\">var webpack               = require(<span class=\"string\">'webpack'</span>),</div><div class=\"line\">    ReloadPlugin          = require(<span class=\"string\">'webpack-reload-plugin'</span>),</div><div class=\"line\">    path                  = require(<span class=\"string\">'path'</span>),</div><div class=\"line\">    HtmlWebpackPlugin     = require(<span class=\"string\">'html-webpack-plugin'</span>),</div><div class=\"line\">    WebpackNotifierPlugin = require(<span class=\"string\">'webpack-notifier'</span>),</div><div class=\"line\">    ExtractTextPlugin     = require(<span class=\"string\">'extract-text-webpack-plugin'</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * Support for extra commandline arguments</div><div class=\"line\"> */</span></div><div class=\"line\">var argv = require(<span class=\"string\">'optimist'</span>).argv;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * Useful variables</div><div class=\"line\"> */</span></div><div class=\"line\">var cwd = process.cwd();</div><div class=\"line\">var DEBUG = !argv.release;</div><div class=\"line\">var isDevServer = process.argv.join(<span class=\"string\">''</span>).indexOf(<span class=\"string\">'webpack-dev-server'</span>) &gt; <span class=\"number\">-1</span>;</div><div class=\"line\">var version = require(path.resolve(cwd,<span class=\"string\">'package.json'</span>)).version;</div><div class=\"line\">var reloadHost = <span class=\"string\">'localhost'</span>;</div><div class=\"line\">var npmRoot = __dirname + <span class=\"string\">'/node_modules'</span>;</div><div class=\"line\">var appDir = __dirname + <span class=\"string\">'/src'</span>;</div><div class=\"line\"></div><div class=\"line\">var entry = [<span class=\"string\">'app.ts'</span>];</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> (isDevServer) &#123;</div><div class=\"line\">  entry.unshift(<span class=\"string\">'webpack-dev-server/client?http://'</span>+reloadHost+<span class=\"string\">':8080'</span>);</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">function makeConfig(options) &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> &#123;</div><div class=\"line\"><span class=\"symbol\">    cache:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    debug:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    verbose:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    displayErrorDetails:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">    context:</span> appDir,</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    entry:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      vendor:</span> <span class=\"string\">'vendor.ts'</span>,</div><div class=\"line\"><span class=\"symbol\">      bundle:</span> entry</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    stats:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      colors:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">      reasons:</span> DEBUG</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    devtool:</span> <span class=\"string\">'source-map'</span>,</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    recordsPath:</span> path.resolve(<span class=\"string\">'.webpack.json'</span>),</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    devServer:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      inline:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">      colors:</span> <span class=\"literal\">true</span>,</div><div class=\"line\"><span class=\"symbol\">      header:</span>&#123;</div><div class=\"line\">        <span class=\"string\">\"Access-Control-Allow-Origin\"</span>:<span class=\"string\">\"*\"</span></div><div class=\"line\">      &#125;,</div><div class=\"line\"><span class=\"symbol\">      contentBase:</span> path.resolve(cwd, <span class=\"string\">'dist'</span>),</div><div class=\"line\"><span class=\"symbol\">      publicPath:</span> <span class=\"string\">'/'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    output:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      path:</span> path.resolve(cwd, <span class=\"string\">'dist'</span>),</div><div class=\"line\"><span class=\"symbol\">      filename:</span> <span class=\"string\">'[name].js'</span>,</div><div class=\"line\"><span class=\"symbol\">      publicPath:</span> <span class=\"string\">'/'</span>,</div><div class=\"line\"><span class=\"symbol\">      chunkFilename:</span> <span class=\"string\">'[id].bundle.js'</span>,</div><div class=\"line\"></div><div class=\"line\">      <span class=\"comment\">// Hot Module Replacement settings:</span></div><div class=\"line\"><span class=\"symbol\">      hotUpdateMainFilename:</span> <span class=\"string\">'updates/[hash].update.json'</span>,</div><div class=\"line\"><span class=\"symbol\">      hotUpdateChunkFilename:</span> <span class=\"string\">'updates/[hash].[id].update.js'</span></div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">    plugins:</span> [</div><div class=\"line\">      <span class=\"keyword\">new</span> webpack.IgnorePlugin(<span class=\"regexp\">/spec\\.js$/</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> webpack.optimize.CommonsChunkPlugin(<span class=\"string\">'common.js'</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> ExtractTextPlugin(<span class=\"string\">'styles.css'</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> webpack.DefinePlugin(&#123;</div><div class=\"line\"><span class=\"symbol\">        VERSION:</span> JSON.stringify(version),</div><div class=\"line\"><span class=\"symbol\">        ENV:</span> JSON.stringify(options.env)</div><div class=\"line\">      &#125;),</div><div class=\"line\">      <span class=\"keyword\">new</span> HtmlWebpackPlugin(&#123;</div><div class=\"line\"><span class=\"symbol\">        template:</span> path.join(appDir, <span class=\"string\">'index.html'</span>)</div><div class=\"line\">      &#125;),</div><div class=\"line\">      <span class=\"keyword\">new</span> ReloadPlugin( isDevServer ? 'localhost' : <span class=\"string\">''</span>),</div><div class=\"line\">      <span class=\"keyword\">new</span> WebpackNotifierPlugin(&#123;</div><div class=\"line\"><span class=\"symbol\">        title:</span> <span class=\"string\">'ng-book'</span>,</div><div class=\"line\"><span class=\"symbol\">        contentImage:</span> path.join(appDir, <span class=\"string\">'images'</span>, <span class=\"string\">'favicon.ico'</span>)</div><div class=\"line\">      &#125;)</div><div class=\"line\">    ],</div><div class=\"line\"><span class=\"symbol\">    resolveLoader:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      root:</span> path.join(__dirname, <span class=\"string\">'node_modules'</span>),</div><div class=\"line\"><span class=\"symbol\">      modulesDirectories:</span> [<span class=\"string\">'node_modules'</span>],</div><div class=\"line\"><span class=\"symbol\">      fallback:</span> path.join(__dirname, <span class=\"string\">'node_modules'</span>)</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\">    resolve:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      root:</span> [path.resolve(cwd)],</div><div class=\"line\"><span class=\"symbol\">      modulesDirectories:</span> [</div><div class=\"line\">        <span class=\"string\">'node_modules'</span>, <span class=\"string\">'src'</span>, <span class=\"string\">'src/ts'</span>, <span class=\"string\">'.'</span></div><div class=\"line\">      ],</div><div class=\"line\"><span class=\"symbol\">      extensions:</span> [<span class=\"string\">''</span>, <span class=\"string\">'.ts'</span>, <span class=\"string\">'.js'</span>, <span class=\"string\">'.json'</span>, <span class=\"string\">'.css'</span>,<span class=\"string\">'.scss'</span>],</div><div class=\"line\"><span class=\"symbol\">      alias:</span> &#123;</div><div class=\"line\">        <span class=\"string\">'src'</span>: <span class=\"string\">'src'</span>,</div><div class=\"line\">        <span class=\"string\">'scripts'</span>: npmRoot</div><div class=\"line\">      &#125;</div><div class=\"line\">    &#125;,</div><div class=\"line\"><span class=\"symbol\">    module:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      preLoaders:</span> [</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.ts$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'tslint'</span> &#125;</div><div class=\"line\">      ],</div><div class=\"line\"><span class=\"symbol\"></div><div class=\"line\">      loaders:</span> [</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.(png|jpg|gif|ico)$/</span>,   <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?limit=50000&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.json$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'json'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/^.*\\.css$/</span>, <span class=\"string\">loader:</span> ExtractTextPlugin.extract(<span class=\"string\">'style-loader'</span>, <span class=\"string\">'css-loader?sourceMap'</span>)&#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.scss$/</span>, <span class=\"string\">loaders:</span> [</div><div class=\"line\">                                     <span class=\"string\">'raw-loader'</span>,</div><div class=\"line\">                                     <span class=\"string\">'style-loader'</span>,</div><div class=\"line\">                                     ExtractTextPlugin.extract(<span class=\"string\">'style-loader'</span>, <span class=\"string\">'css-loader?sourceMap'</span>),</div><div class=\"line\">                                     <span class=\"string\">'sass-loader'</span> +</div><div class=\"line\">                                     <span class=\"string\">'?outputStyle=expanded&amp;'</span> +</div><div class=\"line\">                                     <span class=\"string\">'root='</span>+appDir+<span class=\"string\">'&amp;'</span> +</div><div class=\"line\">                                     <span class=\"string\">'&amp;includePaths[]'</span>+npmRoot + <span class=\"string\">'&amp;'</span> +</div><div class=\"line\">                                     <span class=\"string\">'&amp;includePaths[]'</span>+appDir</div><div class=\"line\">                                    ]&#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'url-loader'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.html$/</span>,    <span class=\"string\">loader:</span> <span class=\"string\">'raw'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/^index\\.html$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.ts$/</span>, <span class=\"string\">loader:</span> <span class=\"string\">'ts'</span>, <span class=\"string\">exclude:</span> [ <span class=\"regexp\">/test/</span>, <span class=\"regexp\">/node_modules/</span>]&#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.woff(2)?(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,    <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/font-woff&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.ttf(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/x-font-ttf&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.eot(\\?v=\\d+\\.\\d+\\.\\d+)?\\??$/</span>,      <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/vnd.ms-fontobject&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.otf(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'file-loader?mimetype=application/font-otf&amp;name=[path][name].[ext]'</span> &#125;,</div><div class=\"line\">        &#123; <span class=\"string\">test:</span> <span class=\"regexp\">/\\.svg(\\?v=\\d+\\.\\d+\\.\\d+)?$/</span>,         <span class=\"string\">loader:</span> <span class=\"string\">'url-loader'</span>   &#125;</div><div class=\"line\">      ],</div><div class=\"line\"><span class=\"symbol\">      noParse:</span> [</div><div class=\"line\">        <span class=\"regexp\">/\\.min\\.js/</span>,</div><div class=\"line\">        <span class=\"regexp\">/vendor\\/</span>.*?\\.(js|css)$/</div><div class=\"line\">      ]</div><div class=\"line\">    &#125;,</div><div class=\"line\">    tslint: &#123;</div><div class=\"line\"><span class=\"symbol\">        emitErrors:</span> <span class=\"literal\">false</span>,</div><div class=\"line\"><span class=\"symbol\">        failOnHint:</span> <span class=\"literal\">false</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">var config = makeConfig(argv);</div><div class=\"line\"></div><div class=\"line\">module.exports = config;</div></pre></td></tr></table></figure>\n<h4 id=\"5-ts转码\"><a href=\"#5-ts转码\" class=\"headerlink\" title=\"5. ts转码\"></a>5. ts转码</h4><p><a href=\"https://github.com/syoubaku/angular2-demo/blob/master/tsconfig.json\">tsconfig.json</a></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div></pre></td><td class=\"code\"><pre><div class=\"line\">&#123;</div><div class=\"line\">  <span class=\"attr\">\"compilerOptions\"</span>: &#123;</div><div class=\"line\">    <span class=\"attr\">\"target\"</span>: <span class=\"string\">\"es5\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"module\"</span>: <span class=\"string\">\"commonjs\"</span>,</div><div class=\"line\">    <span class=\"attr\">\"declaration\"</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">\"noImplicitAny\"</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">\"removeComments\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">    <span class=\"attr\">\"noLib\"</span>: <span class=\"literal\">false</span>,</div><div class=\"line\">    <span class=\"attr\">\"emitDecoratorMetadata\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">    <span class=\"attr\">\"experimentalDecorators\"</span>: <span class=\"literal\">true</span></div><div class=\"line\">  &#125;,</div><div class=\"line\">  <span class=\"attr\">\"filesGlob\"</span>: [</div><div class=\"line\">    <span class=\"string\">\"./**/*.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"./test/**/*.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"!./node_modules/**/*.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"!./tmp/*.ts\"</span></div><div class=\"line\">  ],</div><div class=\"line\">  <span class=\"attr\">\"compileOnSave\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">  <span class=\"attr\">\"buildOnSave\"</span>: <span class=\"literal\">true</span>,</div><div class=\"line\">  <span class=\"attr\">\"atom\"</span>: &#123; <span class=\"attr\">\"rewriteTsconfig\"</span>: <span class=\"literal\">false</span> &#125;,</div><div class=\"line\">  <span class=\"attr\">\"exclude\"</span>: [</div><div class=\"line\">    <span class=\"string\">\"typings/main.d.ts\"</span>,</div><div class=\"line\">    <span class=\"string\">\"typings/main\"</span>,</div><div class=\"line\">    <span class=\"string\">\"node_modules\"</span>,</div><div class=\"line\">    <span class=\"string\">\"tmp\"</span></div><div class=\"line\">  ]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"6-基础依赖引入\"><a href=\"#6-基础依赖引入\" class=\"headerlink\" title=\"6.基础依赖引入\"></a>6.基础依赖引入</h3><p><a href=\"https://github.com/syoubaku/angular2-demo/blob/master/vendor.ts\">vendor.ts</a></p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// Polyfills</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'core-js/es6';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'core-js/es6';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'core-js/es7/reflect';</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'zone.js/dist/zone';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'zone.js/dist/long-stack-trace-zone';</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// Angular 2</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/platform-browser-dynamic';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/common';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/core';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/router';</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> '@angular/http';</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// RxJS</span></div><div class=\"line\"><span class=\"meta\"><span class=\"meta-keyword\">import</span> 'rxjs';</span></div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-22T16:00:00.000Z","title":"angular2学习笔记之基本组件和ngFor","_content":"angular2的思想非常先进，摒弃了angular1那种复杂的构建模式，采用了组件化开方的方，那我们一起来看一看，一个基础的组件是什么样子的呢。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、简介\n\n#### 1. 目录结构\n\n![](https://image.xiaomo.info/angular/jiegou.png)\n\n- `.ts`   组件代码\n- `.scss`   样式\n- `.png`   效果图\n- `.html`   模板文件\n\n### 2. 效果图\n\n![](https://image.xiaomo.info/banner/Basic.png)\n\n### 二、代码实例\n\n[https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic)\n\n### 三、 详细解读\n\n####  1. [Basic.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.ts)\n一个基本的组件就长个样子，并没有那么神秘\n\n```\nimport {Component} from '@angular/core';\nimport {UserModel} from './../../model/UserModel';\n\n// 创建模拟数据\nlet xiaomo:UserModel = new UserModel( 'xiaomo');\nlet xiaoming:UserModel = new UserModel('xiaoming');\n\n@Component({\n\tselector: 'basic',\n\tstyles:[require('./Basic.scss')], //内联样式,注意使用row-loader\n\ttemplate: require('./Basic.html')\n})\n\nexport class BasicComponent {\n\n\tusers:Object;\n\t// 在构造函数中赋值\n\tconstructor() {\n\t\t\tthis.users= [ xiaomo,xiaoming];\n\t};\n}\n\n```\n\n#### 2. [UserModel.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/model/UserModel.ts)\n这里使用了uuid来创建一个随机的id作为唯一标识符\n使用 `public` 可以不用再 `this.name = name`\n```\nimport { uuid } from './../util/uuid';\n\nexport class UserModel{\n\tid :string;\n\tconstructor(public name:string){\n\t\t\tthis.id = uuid();\n\t}\n}\n\n```\n\n#### 3. [Basic.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.html)\n使用ngFor 循环,index可以取到索引值(从0开始)\n\n```\n<div>\n    <ul *ngFor=\"let item of users; let i = index\">\n        <li>{{i+1}} Hello {{item.name}}</li>\n    </ul>\n</div>\n```\n","source":"_posts/2016-06-23.angular2_study_note_component.md","raw":"---\nauthor: 小莫\ndate: 2016-06-23\ntitle: angular2学习笔记之基本组件和ngFor\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2StudyNoteComponent\n---\nangular2的思想非常先进，摒弃了angular1那种复杂的构建模式，采用了组件化开方的方，那我们一起来看一看，一个基础的组件是什么样子的呢。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、简介\n\n#### 1. 目录结构\n\n![](https://image.xiaomo.info/angular/jiegou.png)\n\n- `.ts`   组件代码\n- `.scss`   样式\n- `.png`   效果图\n- `.html`   模板文件\n\n### 2. 效果图\n\n![](https://image.xiaomo.info/banner/Basic.png)\n\n### 二、代码实例\n\n[https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic)\n\n### 三、 详细解读\n\n####  1. [Basic.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.ts)\n一个基本的组件就长个样子，并没有那么神秘\n\n```\nimport {Component} from '@angular/core';\nimport {UserModel} from './../../model/UserModel';\n\n// 创建模拟数据\nlet xiaomo:UserModel = new UserModel( 'xiaomo');\nlet xiaoming:UserModel = new UserModel('xiaoming');\n\n@Component({\n\tselector: 'basic',\n\tstyles:[require('./Basic.scss')], //内联样式,注意使用row-loader\n\ttemplate: require('./Basic.html')\n})\n\nexport class BasicComponent {\n\n\tusers:Object;\n\t// 在构造函数中赋值\n\tconstructor() {\n\t\t\tthis.users= [ xiaomo,xiaoming];\n\t};\n}\n\n```\n\n#### 2. [UserModel.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/model/UserModel.ts)\n这里使用了uuid来创建一个随机的id作为唯一标识符\n使用 `public` 可以不用再 `this.name = name`\n```\nimport { uuid } from './../util/uuid';\n\nexport class UserModel{\n\tid :string;\n\tconstructor(public name:string){\n\t\t\tthis.id = uuid();\n\t}\n}\n\n```\n\n#### 3. [Basic.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.html)\n使用ngFor 循环,index可以取到索引值(从0开始)\n\n```\n<div>\n    <ul *ngFor=\"let item of users; let i = index\">\n        <li>{{i+1}} Hello {{item.name}}</li>\n    </ul>\n</div>\n```\n","slug":"Angular2StudyNoteComponent","published":1,"updated":"2016-12-01T07:41:41.067Z","_id":"civ0ggq92003grwvnseofah3c","comments":1,"layout":"post","photos":[],"link":"","content":"<p>angular2的思想非常先进，摒弃了angular1那种复杂的构建模式，采用了组件化开方的方，那我们一起来看一看，一个基础的组件是什么样子的呢。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、简介\"><a href=\"#一、简介\" class=\"headerlink\" title=\"一、简介\"></a>一、简介</h3><h4 id=\"1-目录结构\"><a href=\"#1-目录结构\" class=\"headerlink\" title=\"1. 目录结构\"></a>1. 目录结构</h4><p><img src=\"https://image.xiaomo.info/angular/jiegou.png\" alt=\"\"></p>\n<ul>\n<li><code>.ts</code>   组件代码</li>\n<li><code>.scss</code>   样式</li>\n<li><code>.png</code>   效果图</li>\n<li><code>.html</code>   模板文件</li>\n</ul>\n<h3 id=\"2-效果图\"><a href=\"#2-效果图\" class=\"headerlink\" title=\"2. 效果图\"></a>2. 效果图</h3><p><img src=\"https://image.xiaomo.info/banner/Basic.png\" alt=\"\"></p>\n<h3 id=\"二、代码实例\"><a href=\"#二、代码实例\" class=\"headerlink\" title=\"二、代码实例\"></a>二、代码实例</h3><p><a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic\" target=\"_blank\" rel=\"external\">https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic</a></p>\n<h3 id=\"三、-详细解读\"><a href=\"#三、-详细解读\" class=\"headerlink\" title=\"三、 详细解读\"></a>三、 详细解读</h3><h4 id=\"1-Basic-ts\"><a href=\"#1-Basic-ts\" class=\"headerlink\" title=\"1. Basic.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.ts\" target=\"_blank\" rel=\"external\">Basic.ts</a></h4><p>一个基本的组件就长个样子，并没有那么神秘</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;UserModel&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../../model/UserModel'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 创建模拟数据</span></div><div class=\"line\"><span class=\"keyword\">let</span> xiaomo:UserModel = <span class=\"keyword\">new</span> UserModel( <span class=\"string\">'xiaomo'</span>);</div><div class=\"line\"><span class=\"keyword\">let</span> xiaoming:UserModel = <span class=\"keyword\">new</span> UserModel(<span class=\"string\">'xiaoming'</span>);</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">'basic'</span>,</div><div class=\"line\">    <span class=\"attr\">styles</span>:[<span class=\"built_in\">require</span>(<span class=\"string\">'./Basic.scss'</span>)], <span class=\"comment\">//内联样式,注意使用row-loader</span></div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'./Basic.html'</span>)</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BasicComponent</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    users:<span class=\"built_in\">Object</span>;</div><div class=\"line\">    <span class=\"comment\">// 在构造函数中赋值</span></div><div class=\"line\">    <span class=\"keyword\">constructor</span>() &#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.users= [ xiaomo,xiaoming];</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-UserModel-ts\"><a href=\"#2-UserModel-ts\" class=\"headerlink\" title=\"2. UserModel.ts\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/model/UserModel.ts\" target=\"_blank\" rel=\"external\">UserModel.ts</a></h4><p>这里使用了uuid来创建一个随机的id作为唯一标识符<br>使用 <code>public</code> 可以不用再 <code>this.name = name</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; uuid &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../util/uuid'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserModel</span></span>&#123;</div><div class=\"line\">    id :string;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>(public name:string)&#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.id = uuid();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"3-Basic-html\"><a href=\"#3-Basic-html\" class=\"headerlink\" title=\"3. Basic.html\"></a>3. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.html\" target=\"_blank\" rel=\"external\">Basic.html</a></h4><p>使用ngFor 循环,index可以取到索引值(从0开始)</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of users; let i = index\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"template-variable\">&#123;&#123;i+1&#125;&#125;</span><span class=\"xml\"> Hello </span><span class=\"template-variable\">&#123;&#123;item.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n","excerpt":"<p>angular2的思想非常先进，摒弃了angular1那种复杂的构建模式，采用了组件化开方的方，那我们一起来看一看，一个基础的组件是什么样子的呢。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、简介\"><a href=\"#一、简介\" class=\"headerlink\" title=\"一、简介\"></a>一、简介</h3><h4 id=\"1-目录结构\"><a href=\"#1-目录结构\" class=\"headerlink\" title=\"1. 目录结构\"></a>1. 目录结构</h4><p><img src=\"https://image.xiaomo.info/angular/jiegou.png\" alt=\"\"></p>\n<ul>\n<li><code>.ts</code>   组件代码</li>\n<li><code>.scss</code>   样式</li>\n<li><code>.png</code>   效果图</li>\n<li><code>.html</code>   模板文件</li>\n</ul>\n<h3 id=\"2-效果图\"><a href=\"#2-效果图\" class=\"headerlink\" title=\"2. 效果图\"></a>2. 效果图</h3><p><img src=\"https://image.xiaomo.info/banner/Basic.png\" alt=\"\"></p>\n<h3 id=\"二、代码实例\"><a href=\"#二、代码实例\" class=\"headerlink\" title=\"二、代码实例\"></a>二、代码实例</h3><p><a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic\">https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/basic</a></p>\n<h3 id=\"三、-详细解读\"><a href=\"#三、-详细解读\" class=\"headerlink\" title=\"三、 详细解读\"></a>三、 详细解读</h3><h4 id=\"1-Basic-ts\"><a href=\"#1-Basic-ts\" class=\"headerlink\" title=\"1. Basic.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.ts\">Basic.ts</a></h4><p>一个基本的组件就长个样子，并没有那么神秘</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;UserModel&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../../model/UserModel'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 创建模拟数据</span></div><div class=\"line\"><span class=\"keyword\">let</span> xiaomo:UserModel = <span class=\"keyword\">new</span> UserModel( <span class=\"string\">'xiaomo'</span>);</div><div class=\"line\"><span class=\"keyword\">let</span> xiaoming:UserModel = <span class=\"keyword\">new</span> UserModel(<span class=\"string\">'xiaoming'</span>);</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">'basic'</span>,</div><div class=\"line\">    <span class=\"attr\">styles</span>:[<span class=\"built_in\">require</span>(<span class=\"string\">'./Basic.scss'</span>)], <span class=\"comment\">//内联样式,注意使用row-loader</span></div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'./Basic.html'</span>)</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BasicComponent</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    users:<span class=\"built_in\">Object</span>;</div><div class=\"line\">    <span class=\"comment\">// 在构造函数中赋值</span></div><div class=\"line\">    <span class=\"keyword\">constructor</span>() &#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.users= [ xiaomo,xiaoming];</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-UserModel-ts\"><a href=\"#2-UserModel-ts\" class=\"headerlink\" title=\"2. UserModel.ts\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/model/UserModel.ts\">UserModel.ts</a></h4><p>这里使用了uuid来创建一个随机的id作为唯一标识符<br>使用 <code>public</code> 可以不用再 <code>this.name = name</code><br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; uuid &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../util/uuid'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserModel</span></span>&#123;</div><div class=\"line\">    id :string;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>(public name:string)&#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.id = uuid();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure></p>\n<h4 id=\"3-Basic-html\"><a href=\"#3-Basic-html\" class=\"headerlink\" title=\"3. Basic.html\"></a>3. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/basic/Basic.html\">Basic.html</a></h4><p>使用ngFor 循环,index可以取到索引值(从0开始)</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ul</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of users; let i = index\"</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;i+1&#125;&#125;</span><span class=\"xml\"> Hello </span><span class=\"template-variable\">&#123;&#123;item.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-23T16:00:00.000Z","title":"angular2学习笔记之事件和多组件","_content":"组件免不了和用户交互，而交互中使用最频繁的莫过于点击事件的交互。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、 点击事件\n![](https://image.xiaomo.info/banner/ClickEvent.gif)\n\n[代码解读](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/clickEvent)\n\n#### 1. [ClickEvent.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.ts)\n\n```\nimport {Component} from '@angular/core';\nimport {BasicComponent} from './../basic/Basic';\n\n@Component({\n    selector:'click-event',\n    styles:[require('./ClickEvent.scss')],\n    template: require('./ClickEvent.html'),\n    directives:[BasicComponent] //需要引用的组件\n})\n\nexport class ClickEventComponent{\n    showMsg():void{\n        console.log('己经触发点击事件');\n        alert('己经触发点击事件');\n    }\n}\n\n```\n\n#### 2. [ClickEvent.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.html)\nbasic 就是引用的另一个组件,这个组件源自于上一篇博客[基本组件](https://blog.xiaomo.info/2016/06/22/angular2_study_note_component/)\n```\n<div>\n    <basic></basic>\n    <button class=\"btn btn-success\" (click)=\"showMsg()\">点击事件</button>\n</div>\n```\n\n### 二、键盘按下事件\n\n![](https://image.xiaomo.info/banner/ClickEvent.gif)\n\n#### 1. [KeyupEvent.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.ts)\n初始化一个`values`为空字符串，然后当用户按下键盘的时候把值拼给`values`，并且以`|`隔开\n\n```\nimport { Component } from '@angular/core';\n\n@Component({\n    selector:'keyup-event',\n    template: require('./KeyupEvent.html'),\n    styles:[require('./KeyupEvent.scss')]\n})\n\nexport class KeyupEventComponent {\n    values:string = '';\n    onKey(value:any):void {\n        this.values += value + ' | ';\n    }\n}\n\n```\n\n\n#### 2. [KeyupEvent.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.html)\n当键盘按下的时候调用`onKey`方法\n\n```\n<div>\n    <input #box (keyup)=\"onKey(box.value)\" title=\"\">\n    <p>{{values}}</p>\n</div>\n```\n\n### 三、 enter事件和失焦事件\n![](https://image.xiaomo.info/banner/ClickEvent.gif)\n#### 1. [EnterBlurEvent.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.ts)\n定义一个`heroes`数组并给几个初始值，添加英雄方法可以增加一个新的英雄到`heroes`中\n\n```\nimport { Component } from '@angular/core';\n\n@Component({\n    selector:'enter-blur-event',\n    template: require('./EnterBlurEvent.html'),\n    styles:[require('./EnterBlurEvent.scss')]\n})\n\nexport class EnterBlurEventComponent {\n    heroes = ['Windstorm', 'Bombasto', 'Magneta', 'Tornado'];\n    addHero(newHero: string) {\n        if (newHero) {\n            this.heroes.push(newHero);\n        }\n    }\n}\n```\n\n\n#### 2. [EnterBlurEvent.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.html)\n当用户按`enter`或者`Add`或者`blur`失去焦点且不为空的时候调用`newHero`方法，然后循环输出`heroes`\n\n```\n<input #newHero\n       (keyup.enter)=\"addHero(newHero.value)\"\n       (blur)=\"addHero(newHero.value); newHero.value='' \">\n\n<button (click)=addHero(newHero.value) class=\"btn btn-success\">Add</button>\n\n<ul><li *ngFor=\"let hero of heroes\">{{hero}}</li></ul>\n```\n","source":"_posts/2016-06-24.angular2_study_note_click_event.md","raw":"---\nauthor: 小莫\ndate: 2016-06-24\ntitle: angular2学习笔记之事件和多组件\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2StudyNoteEvent\n---\n组件免不了和用户交互，而交互中使用最频繁的莫过于点击事件的交互。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、 点击事件\n![](https://image.xiaomo.info/banner/ClickEvent.gif)\n\n[代码解读](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/clickEvent)\n\n#### 1. [ClickEvent.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.ts)\n\n```\nimport {Component} from '@angular/core';\nimport {BasicComponent} from './../basic/Basic';\n\n@Component({\n    selector:'click-event',\n    styles:[require('./ClickEvent.scss')],\n    template: require('./ClickEvent.html'),\n    directives:[BasicComponent] //需要引用的组件\n})\n\nexport class ClickEventComponent{\n    showMsg():void{\n        console.log('己经触发点击事件');\n        alert('己经触发点击事件');\n    }\n}\n\n```\n\n#### 2. [ClickEvent.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.html)\nbasic 就是引用的另一个组件,这个组件源自于上一篇博客[基本组件](https://blog.xiaomo.info/2016/06/22/angular2_study_note_component/)\n```\n<div>\n    <basic></basic>\n    <button class=\"btn btn-success\" (click)=\"showMsg()\">点击事件</button>\n</div>\n```\n\n### 二、键盘按下事件\n\n![](https://image.xiaomo.info/banner/ClickEvent.gif)\n\n#### 1. [KeyupEvent.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.ts)\n初始化一个`values`为空字符串，然后当用户按下键盘的时候把值拼给`values`，并且以`|`隔开\n\n```\nimport { Component } from '@angular/core';\n\n@Component({\n    selector:'keyup-event',\n    template: require('./KeyupEvent.html'),\n    styles:[require('./KeyupEvent.scss')]\n})\n\nexport class KeyupEventComponent {\n    values:string = '';\n    onKey(value:any):void {\n        this.values += value + ' | ';\n    }\n}\n\n```\n\n\n#### 2. [KeyupEvent.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.html)\n当键盘按下的时候调用`onKey`方法\n\n```\n<div>\n    <input #box (keyup)=\"onKey(box.value)\" title=\"\">\n    <p>{{values}}</p>\n</div>\n```\n\n### 三、 enter事件和失焦事件\n![](https://image.xiaomo.info/banner/ClickEvent.gif)\n#### 1. [EnterBlurEvent.ts](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.ts)\n定义一个`heroes`数组并给几个初始值，添加英雄方法可以增加一个新的英雄到`heroes`中\n\n```\nimport { Component } from '@angular/core';\n\n@Component({\n    selector:'enter-blur-event',\n    template: require('./EnterBlurEvent.html'),\n    styles:[require('./EnterBlurEvent.scss')]\n})\n\nexport class EnterBlurEventComponent {\n    heroes = ['Windstorm', 'Bombasto', 'Magneta', 'Tornado'];\n    addHero(newHero: string) {\n        if (newHero) {\n            this.heroes.push(newHero);\n        }\n    }\n}\n```\n\n\n#### 2. [EnterBlurEvent.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.html)\n当用户按`enter`或者`Add`或者`blur`失去焦点且不为空的时候调用`newHero`方法，然后循环输出`heroes`\n\n```\n<input #newHero\n       (keyup.enter)=\"addHero(newHero.value)\"\n       (blur)=\"addHero(newHero.value); newHero.value='' \">\n\n<button (click)=addHero(newHero.value) class=\"btn btn-success\">Add</button>\n\n<ul><li *ngFor=\"let hero of heroes\">{{hero}}</li></ul>\n```\n","slug":"Angular2StudyNoteEvent","published":1,"updated":"2016-12-01T06:50:29.869Z","_id":"civ0ggq94003krwvnwxuaubs8","comments":1,"layout":"post","photos":[],"link":"","content":"<p>组件免不了和用户交互，而交互中使用最频繁的莫过于点击事件的交互。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-点击事件\"><a href=\"#一、-点击事件\" class=\"headerlink\" title=\"一、 点击事件\"></a>一、 点击事件</h3><p><img src=\"https://image.xiaomo.info/banner/ClickEvent.gif\" alt=\"\"></p>\n<p><a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/clickEvent\" target=\"_blank\" rel=\"external\">代码解读</a></p>\n<h4 id=\"1-ClickEvent-ts\"><a href=\"#1-ClickEvent-ts\" class=\"headerlink\" title=\"1. ClickEvent.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.ts\" target=\"_blank\" rel=\"external\">ClickEvent.ts</a></h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;BasicComponent&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../basic/Basic'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    <span class=\"attr\">selector</span>:<span class=\"string\">'click-event'</span>,</div><div class=\"line\">    <span class=\"attr\">styles</span>:[<span class=\"built_in\">require</span>(<span class=\"string\">'./ClickEvent.scss'</span>)],</div><div class=\"line\">    <span class=\"attr\">template</span>: <span class=\"built_in\">require</span>(<span class=\"string\">'./ClickEvent.html'</span>),</div><div class=\"line\">    <span class=\"attr\">directives</span>:[BasicComponent] <span class=\"comment\">//需要引用的组件</span></div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ClickEventComponent</span></span>&#123;</div><div class=\"line\">    showMsg():<span class=\"keyword\">void</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'己经触发点击事件'</span>);</div><div class=\"line\">        alert(<span class=\"string\">'己经触发点击事件'</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-ClickEvent-html\"><a href=\"#2-ClickEvent-html\" class=\"headerlink\" title=\"2. ClickEvent.html\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.html\" target=\"_blank\" rel=\"external\">ClickEvent.html</a></h4><p>basic 就是引用的另一个组件,这个组件源自于上一篇博客<a href=\"https://blog.xiaomo.info/2016/06/22/angular2_study_note_component/\">基本组件</a><br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">basic</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">basic</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn btn-success\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"showMsg()\"</span>&gt;</span>点击事件<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"二、键盘按下事件\"><a href=\"#二、键盘按下事件\" class=\"headerlink\" title=\"二、键盘按下事件\"></a>二、键盘按下事件</h3><p><img src=\"https://image.xiaomo.info/banner/ClickEvent.gif\" alt=\"\"></p>\n<h4 id=\"1-KeyupEvent-ts\"><a href=\"#1-KeyupEvent-ts\" class=\"headerlink\" title=\"1. KeyupEvent.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.ts\" target=\"_blank\" rel=\"external\">KeyupEvent.ts</a></h4><p>初始化一个<code>values</code>为空字符串，然后当用户按下键盘的时候把值拼给<code>values</code>，并且以<code>|</code>隔开</p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    selector:<span class=\"string\">'keyup-event'</span>,</div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'./KeyupEvent.html'</span>),</div><div class=\"line\">    styles:[<span class=\"built_in\">require</span>(<span class=\"string\">'./KeyupEvent.scss'</span>)]</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KeyupEventComponent</span> &#123;</span></div><div class=\"line\">    values:string = <span class=\"string\">''</span>;</div><div class=\"line\">    onKey(value:any):<span class=\"literal\">void</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.values += value + <span class=\"string\">' | '</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-KeyupEvent-html\"><a href=\"#2-KeyupEvent-html\" class=\"headerlink\" title=\"2. KeyupEvent.html\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.html\" target=\"_blank\" rel=\"external\">KeyupEvent.html</a></h4><p>当键盘按下的时候调用<code>onKey</code>方法</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> #<span class=\"attr\">box</span> (<span class=\"attr\">keyup</span>)=<span class=\"string\">\"onKey(box.value)\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"template-variable\">&#123;&#123;values&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"三、-enter事件和失焦事件\"><a href=\"#三、-enter事件和失焦事件\" class=\"headerlink\" title=\"三、 enter事件和失焦事件\"></a>三、 enter事件和失焦事件</h3><p><img src=\"https://image.xiaomo.info/banner/ClickEvent.gif\" alt=\"\"></p>\n<h4 id=\"1-EnterBlurEvent-ts\"><a href=\"#1-EnterBlurEvent-ts\" class=\"headerlink\" title=\"1. EnterBlurEvent.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.ts\" target=\"_blank\" rel=\"external\">EnterBlurEvent.ts</a></h4><p>定义一个<code>heroes</code>数组并给几个初始值，添加英雄方法可以增加一个新的英雄到<code>heroes</code>中</p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    selector:<span class=\"string\">'enter-blur-event'</span>,</div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'./EnterBlurEvent.html'</span>),</div><div class=\"line\">    styles:[<span class=\"built_in\">require</span>(<span class=\"string\">'./EnterBlurEvent.scss'</span>)]</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">EnterBlurEventComponent</span> &#123;</span></div><div class=\"line\">    heroes = [<span class=\"string\">'Windstorm'</span>, <span class=\"string\">'Bombasto'</span>, <span class=\"string\">'Magneta'</span>, <span class=\"string\">'Tornado'</span>];</div><div class=\"line\">    addHero(newHero: string) &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (newHero) &#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.heroes.push(newHero);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-EnterBlurEvent-html\"><a href=\"#2-EnterBlurEvent-html\" class=\"headerlink\" title=\"2. EnterBlurEvent.html\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.html\" target=\"_blank\" rel=\"external\">EnterBlurEvent.html</a></h4><p>当用户按<code>enter</code>或者<code>Add</code>或者<code>blur</code>失去焦点且不为空的时候调用<code>newHero</code>方法，然后循环输出<code>heroes</code></p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">input</span> #<span class=\"attr\">newHero</span></span></span></div><div class=\"line\">       (<span class=\"attr\">keyup.enter</span>)=<span class=\"string\">\"addHero(newHero.value)\"</span></div><div class=\"line\">       (<span class=\"attr\">blur</span>)=<span class=\"string\">\"addHero(newHero.value); newHero.value='' \"</span>&gt;</div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">addHero(newHero.value)</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn btn-success\"</span>&gt;</span>Add<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">li</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let hero of heroes\"</span>&gt;</span><span class=\"template-variable\">&#123;&#123;hero&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></div></pre></td></tr></table></figure>\n","excerpt":"<p>组件免不了和用户交互，而交互中使用最频繁的莫过于点击事件的交互。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-点击事件\"><a href=\"#一、-点击事件\" class=\"headerlink\" title=\"一、 点击事件\"></a>一、 点击事件</h3><p><img src=\"https://image.xiaomo.info/banner/ClickEvent.gif\" alt=\"\"></p>\n<p><a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/clickEvent\">代码解读</a></p>\n<h4 id=\"1-ClickEvent-ts\"><a href=\"#1-ClickEvent-ts\" class=\"headerlink\" title=\"1. ClickEvent.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.ts\">ClickEvent.ts</a></h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;BasicComponent&#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../basic/Basic'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    <span class=\"attr\">selector</span>:<span class=\"string\">'click-event'</span>,</div><div class=\"line\">    <span class=\"attr\">styles</span>:[<span class=\"built_in\">require</span>(<span class=\"string\">'./ClickEvent.scss'</span>)],</div><div class=\"line\">    <span class=\"attr\">template</span>: <span class=\"built_in\">require</span>(<span class=\"string\">'./ClickEvent.html'</span>),</div><div class=\"line\">    <span class=\"attr\">directives</span>:[BasicComponent] <span class=\"comment\">//需要引用的组件</span></div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ClickEventComponent</span></span>&#123;</div><div class=\"line\">    showMsg():<span class=\"keyword\">void</span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'己经触发点击事件'</span>);</div><div class=\"line\">        alert(<span class=\"string\">'己经触发点击事件'</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-ClickEvent-html\"><a href=\"#2-ClickEvent-html\" class=\"headerlink\" title=\"2. ClickEvent.html\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/clickEvent/ClickEvent.html\">ClickEvent.html</a></h4><p>basic 就是引用的另一个组件,这个组件源自于上一篇博客<a href=\"https://blog.xiaomo.info/2016/06/22/angular2_study_note_component/\">基本组件</a><br><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">basic</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">basic</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn btn-success\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"showMsg()\"</span>&gt;</span>点击事件<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure></p>\n<h3 id=\"二、键盘按下事件\"><a href=\"#二、键盘按下事件\" class=\"headerlink\" title=\"二、键盘按下事件\"></a>二、键盘按下事件</h3><p><img src=\"https://image.xiaomo.info/banner/ClickEvent.gif\" alt=\"\"></p>\n<h4 id=\"1-KeyupEvent-ts\"><a href=\"#1-KeyupEvent-ts\" class=\"headerlink\" title=\"1. KeyupEvent.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.ts\">KeyupEvent.ts</a></h4><p>初始化一个<code>values</code>为空字符串，然后当用户按下键盘的时候把值拼给<code>values</code>，并且以<code>|</code>隔开</p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    selector:<span class=\"string\">'keyup-event'</span>,</div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'./KeyupEvent.html'</span>),</div><div class=\"line\">    styles:[<span class=\"built_in\">require</span>(<span class=\"string\">'./KeyupEvent.scss'</span>)]</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">KeyupEventComponent</span> &#123;</span></div><div class=\"line\">    values:string = <span class=\"string\">''</span>;</div><div class=\"line\">    onKey(value:any):<span class=\"literal\">void</span> &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.values += value + <span class=\"string\">' | '</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-KeyupEvent-html\"><a href=\"#2-KeyupEvent-html\" class=\"headerlink\" title=\"2. KeyupEvent.html\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/keyupEvent/KeyupEvent.html\">KeyupEvent.html</a></h4><p>当键盘按下的时候调用<code>onKey</code>方法</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> #<span class=\"attr\">box</span> (<span class=\"attr\">keyup</span>)=<span class=\"string\">\"onKey(box.value)\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;values&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<h3 id=\"三、-enter事件和失焦事件\"><a href=\"#三、-enter事件和失焦事件\" class=\"headerlink\" title=\"三、 enter事件和失焦事件\"></a>三、 enter事件和失焦事件</h3><p><img src=\"https://image.xiaomo.info/banner/ClickEvent.gif\" alt=\"\"></p>\n<h4 id=\"1-EnterBlurEvent-ts\"><a href=\"#1-EnterBlurEvent-ts\" class=\"headerlink\" title=\"1. EnterBlurEvent.ts\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.ts\">EnterBlurEvent.ts</a></h4><p>定义一个<code>heroes</code>数组并给几个初始值，添加英雄方法可以增加一个新的英雄到<code>heroes</code>中</p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; Component &#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    selector:<span class=\"string\">'enter-blur-event'</span>,</div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'./EnterBlurEvent.html'</span>),</div><div class=\"line\">    styles:[<span class=\"built_in\">require</span>(<span class=\"string\">'./EnterBlurEvent.scss'</span>)]</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">EnterBlurEventComponent</span> &#123;</span></div><div class=\"line\">    heroes = [<span class=\"string\">'Windstorm'</span>, <span class=\"string\">'Bombasto'</span>, <span class=\"string\">'Magneta'</span>, <span class=\"string\">'Tornado'</span>];</div><div class=\"line\">    addHero(newHero: string) &#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (newHero) &#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.heroes.push(newHero);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-EnterBlurEvent-html\"><a href=\"#2-EnterBlurEvent-html\" class=\"headerlink\" title=\"2. EnterBlurEvent.html\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/EnterBlurEvent/EnterBlurEvent.html\">EnterBlurEvent.html</a></h4><p>当用户按<code>enter</code>或者<code>Add</code>或者<code>blur</code>失去焦点且不为空的时候调用<code>newHero</code>方法，然后循环输出<code>heroes</code></p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">input</span> #<span class=\"attr\">newHero</span></div><div class=\"line\">       (<span class=\"attr\">keyup.enter</span>)=<span class=\"string\">\"addHero(newHero.value)\"</span></div><div class=\"line\">       (<span class=\"attr\">blur</span>)=<span class=\"string\">\"addHero(newHero.value); newHero.value='' \"</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> (<span class=\"attr\">click</span>)=<span class=\"string\">addHero(newHero.value)</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn btn-success\"</span>&gt;</span>Add<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">li</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let hero of heroes\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;hero&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-24T16:00:00.000Z","title":"angular2学习笔记之ng2标签","_content":"angular2的内值指令和angular2很类似，所有熟悉angular1的朋友看一眼就会了。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、 效果图\n![](https://image.xiaomo.info/banner/ngTag.png)\n\n### 一、[指令解读](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag)\n\n#### 0. [组件](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag//NgTag.ts)\n主要就是定义了一些数据用于测试\n\n```\nimport {Component} from '@angular/core';\n\n@Component({\n    selector: 'ng-tag',\n    styles: [require('./NgTag.scss')],\n    template: require('NgTag.html')\n})\n\nexport class NgTagComponent {\n    list:any;\n    ngSwitchList:any;\n    ngStyleList:any;\n\n    constructor() {\n        this.list = [{\n                'name': 'xiaomo'\n            },{\n                'name': 'xiaogang'\n\n            },{\n                'name': 'xiaomoxue'\n            }];\n        this.ngSwitchList=[\n            'xiaomo',\n            'xiaoming'\n        ];\n        this.ngStyleList={\n            'color':'blue',\n            'backgroundColor':'green'\n        };\n    };\n}\n\n```\n\n\n#### 1. [ngFor](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n\n\n```\n<ul class=\"list-group\" *ngFor=\"let item of list\">\n  <li class=\"list-group-item\">{{item.name}}</li>\n</ul>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngFor.png)\n\n#### 2. [ngIf](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n我在组件中定义了一个list\n\n```\nthis.list = [{\n        'name': 'xiaomo'\n    },{\n        'name': 'xiaogang'\n\n    },{\n        'name': 'xiaomoxue'\n    }];\n```\n\n我在循环这个数组对象的时候去比对item.name 如果是 `xiaomo`,就 出现 ngIf中的内容\n\n```\n<ul *ngFor=\"let item of list\">\n<li *ngIf=\"item.name=='xiaomo'\" class=\"list-group-item\">哇,我在list列表中找到了 <span class=\"label label-info\">{{item.name}}</span></li>\n</ul>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngIf.png)\n\n#### 3. [ngSwitch](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n我在组件中定义了一个方法，可以设置选中的值给myVal\n\n```\nmyVal:number = 0;\nchangeValue($event):void{\n    console.log($event.target.value);// 输出选中的值设给myVal\n    this.myVal = $event.target.value;\n}\n```\n\n有一组单选按钮，选中是`myVal`会改变，`ngSwitch`会去循环每个`case`,如果找到了就显示那条`case`中的数据，不然显示`default`中的数据\n\n```\n<div>\n    <h2>ngSwitch</h2>\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"1\" (click)=\"changeValue($event)\">1\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"2\" (click)=\"changeValue($event)\">2\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"3\" (click)=\"changeValue($event)\">3\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"4\" (click)=\"changeValue($event)\">4\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"5\" (click)=\"changeValue($event)\">5\n        <hr>\n       <span [ngSwitch]=\"myVal\">\n          <span *ngSwitchCase=\"'1'\">ONE</span>\n          <span *ngSwitchCase=\"'2'\">TWO</span>\n          <span *ngSwitchCase=\"'3'\">THREE</span>\n          <span *ngSwitchCase=\"'4'\">FOUR</span>\n          <span *ngSwitchCase=\"'5'\">FIVE</span>\n          <span *ngSwitchDefault>other</span>\n\t    </span>\n</div>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/NgSwitch.gif)\n\n#### 4. [ngStyle](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n这里的样式的值都是从组件中取出来的，也就意味着它可以动态，不过建议是封装成class，也就是`ngClass`\n\n```\n<div [ngStyle]=\"{'background-color': ngStyleList.backgroundColor,'color':ngStyleList.color}\" [style.font-size]=\"30\">\n      背景 :{{ngStyleList.backgroundColor}} <br/>\n      字体颜色: {{ngStyleList.color}}\n  </div>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngStyle.png)\n\n#### 5. [ngClass](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/ngTag/NgTag.html)\n\n左边是class名[要用<code>''</code>包起来]，右边是一个true|false表达式或者是一个方法\n\n在组件中定义了一个fn() 返回封装好的样式\n\n```\nthis.ngStyleList={\n     'color':'blue',\n     'backgroundColor':'green'\n };\n\n    classes:any={};\n    fn():any {\n        return this.classes =  {\n            'btn-primary':true\n        };\n    }\n```\n\n模板中有两个button，我们给他加上样式。至于加什么样式 我们可以用函数控制\n\n```\n   <button class=\"btn\" [ngClass]=\"{'btn-danger': ngStyleList}\">测试</button>\n   <button class=\"btn\" [ngClass]=\"fn()\">fn</button>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngClass.png)\n","source":"_posts/2016-06-25.angular2_study_note_ng-tag.md","raw":"---\nauthor: 小莫\ndate: 2016-06-25\ntitle: angular2学习笔记之ng2标签\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2StudyNoteNgTag\n---\nangular2的内值指令和angular2很类似，所有熟悉angular1的朋友看一眼就会了。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、 效果图\n![](https://image.xiaomo.info/banner/ngTag.png)\n\n### 一、[指令解读](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag)\n\n#### 0. [组件](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag//NgTag.ts)\n主要就是定义了一些数据用于测试\n\n```\nimport {Component} from '@angular/core';\n\n@Component({\n    selector: 'ng-tag',\n    styles: [require('./NgTag.scss')],\n    template: require('NgTag.html')\n})\n\nexport class NgTagComponent {\n    list:any;\n    ngSwitchList:any;\n    ngStyleList:any;\n\n    constructor() {\n        this.list = [{\n                'name': 'xiaomo'\n            },{\n                'name': 'xiaogang'\n\n            },{\n                'name': 'xiaomoxue'\n            }];\n        this.ngSwitchList=[\n            'xiaomo',\n            'xiaoming'\n        ];\n        this.ngStyleList={\n            'color':'blue',\n            'backgroundColor':'green'\n        };\n    };\n}\n\n```\n\n\n#### 1. [ngFor](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n\n\n```\n<ul class=\"list-group\" *ngFor=\"let item of list\">\n  <li class=\"list-group-item\">{{item.name}}</li>\n</ul>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngFor.png)\n\n#### 2. [ngIf](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n我在组件中定义了一个list\n\n```\nthis.list = [{\n        'name': 'xiaomo'\n    },{\n        'name': 'xiaogang'\n\n    },{\n        'name': 'xiaomoxue'\n    }];\n```\n\n我在循环这个数组对象的时候去比对item.name 如果是 `xiaomo`,就 出现 ngIf中的内容\n\n```\n<ul *ngFor=\"let item of list\">\n<li *ngIf=\"item.name=='xiaomo'\" class=\"list-group-item\">哇,我在list列表中找到了 <span class=\"label label-info\">{{item.name}}</span></li>\n</ul>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngIf.png)\n\n#### 3. [ngSwitch](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n我在组件中定义了一个方法，可以设置选中的值给myVal\n\n```\nmyVal:number = 0;\nchangeValue($event):void{\n    console.log($event.target.value);// 输出选中的值设给myVal\n    this.myVal = $event.target.value;\n}\n```\n\n有一组单选按钮，选中是`myVal`会改变，`ngSwitch`会去循环每个`case`,如果找到了就显示那条`case`中的数据，不然显示`default`中的数据\n\n```\n<div>\n    <h2>ngSwitch</h2>\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"1\" (click)=\"changeValue($event)\">1\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"2\" (click)=\"changeValue($event)\">2\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"3\" (click)=\"changeValue($event)\">3\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"4\" (click)=\"changeValue($event)\">4\n        <input name=\"myVal\" type=\"radio\" title=\"\" value=\"5\" (click)=\"changeValue($event)\">5\n        <hr>\n       <span [ngSwitch]=\"myVal\">\n          <span *ngSwitchCase=\"'1'\">ONE</span>\n          <span *ngSwitchCase=\"'2'\">TWO</span>\n          <span *ngSwitchCase=\"'3'\">THREE</span>\n          <span *ngSwitchCase=\"'4'\">FOUR</span>\n          <span *ngSwitchCase=\"'5'\">FIVE</span>\n          <span *ngSwitchDefault>other</span>\n\t    </span>\n</div>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/NgSwitch.gif)\n\n#### 4. [ngStyle](https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html)\n\n这里的样式的值都是从组件中取出来的，也就意味着它可以动态，不过建议是封装成class，也就是`ngClass`\n\n```\n<div [ngStyle]=\"{'background-color': ngStyleList.backgroundColor,'color':ngStyleList.color}\" [style.font-size]=\"30\">\n      背景 :{{ngStyleList.backgroundColor}} <br/>\n      字体颜色: {{ngStyleList.color}}\n  </div>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngStyle.png)\n\n#### 5. [ngClass](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/ngTag/NgTag.html)\n\n左边是class名[要用<code>''</code>包起来]，右边是一个true|false表达式或者是一个方法\n\n在组件中定义了一个fn() 返回封装好的样式\n\n```\nthis.ngStyleList={\n     'color':'blue',\n     'backgroundColor':'green'\n };\n\n    classes:any={};\n    fn():any {\n        return this.classes =  {\n            'btn-primary':true\n        };\n    }\n```\n\n模板中有两个button，我们给他加上样式。至于加什么样式 我们可以用函数控制\n\n```\n   <button class=\"btn\" [ngClass]=\"{'btn-danger': ngStyleList}\">测试</button>\n   <button class=\"btn\" [ngClass]=\"fn()\">fn</button>\n```\n\n效果图\n![](https://image.xiaomo.info/banner/ngClass.png)\n","slug":"Angular2StudyNoteNgTag","published":1,"updated":"2016-12-01T06:50:28.027Z","_id":"civ0ggq98003nrwvngnef7i4c","comments":1,"layout":"post","photos":[],"link":"","content":"<p>angular2的内值指令和angular2很类似，所有熟悉angular1的朋友看一眼就会了。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-效果图\"><a href=\"#一、-效果图\" class=\"headerlink\" title=\"一、 效果图\"></a>一、 效果图</h3><p><img src=\"https://image.xiaomo.info/banner/ngTag.png\" alt=\"\"></p>\n<h3 id=\"一、指令解读\"><a href=\"#一、指令解读\" class=\"headerlink\" title=\"一、指令解读\"></a>一、<a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag\" target=\"_blank\" rel=\"external\">指令解读</a></h3><h4 id=\"0-组件\"><a href=\"#0-组件\" class=\"headerlink\" title=\"0. 组件\"></a>0. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag//NgTag.ts\" target=\"_blank\" rel=\"external\">组件</a></h4><p>主要就是定义了一些数据用于测试</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; from <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    selector: <span class=\"string\">'ng-tag'</span>,</div><div class=\"line\">    styles: [<span class=\"built_in\">require</span>(<span class=\"string\">'./NgTag.scss'</span>)],</div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'NgTag.html'</span>)</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> NgTagComponent &#123;</div><div class=\"line\">    list:<span class=\"built_in\">any</span>;</div><div class=\"line\">    ngSwitchList:<span class=\"built_in\">any</span>;</div><div class=\"line\">    ngStyleList:<span class=\"built_in\">any</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">constructor</span>() &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.list = [&#123;</div><div class=\"line\">                <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomo'</span></div><div class=\"line\">            &#125;,&#123;</div><div class=\"line\">                <span class=\"string\">'name'</span>: <span class=\"string\">'xiaogang'</span></div><div class=\"line\"></div><div class=\"line\">            &#125;,&#123;</div><div class=\"line\">                <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomoxue'</span></div><div class=\"line\">            &#125;];</div><div class=\"line\">        <span class=\"keyword\">this</span>.ngSwitchList=[</div><div class=\"line\">            <span class=\"string\">'xiaomo'</span>,</div><div class=\"line\">            <span class=\"string\">'xiaoming'</span></div><div class=\"line\">        ];</div><div class=\"line\">        <span class=\"keyword\">this</span>.ngStyleList=&#123;</div><div class=\"line\">            <span class=\"string\">'color'</span>:<span class=\"string\">'blue'</span>,</div><div class=\"line\">            <span class=\"string\">'backgroundColor'</span>:<span class=\"string\">'green'</span></div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"1-ngFor\"><a href=\"#1-ngFor\" class=\"headerlink\" title=\"1. ngFor\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\" target=\"_blank\" rel=\"external\">ngFor</a></h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group\"</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of list\"</span>&gt;</span></span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span><span class=\"template-variable\">&#123;&#123;item.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngFor.png\" alt=\"\"></p>\n<h4 id=\"2-ngIf\"><a href=\"#2-ngIf\" class=\"headerlink\" title=\"2. ngIf\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\" target=\"_blank\" rel=\"external\">ngIf</a></h4><p>我在组件中定义了一个list</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">this.list = [&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomo'</span></div><div class=\"line\">    &#125;,&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'xiaogang'</span></div><div class=\"line\"></div><div class=\"line\">    &#125;,&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomoxue'</span></div><div class=\"line\">    &#125;];</div></pre></td></tr></table></figure>\n<p>我在循环这个数组对象的时候去比对item.name 如果是 <code>xiaomo</code>,就 出现 ngIf中的内容</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of list\"</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> *<span class=\"attr\">ngIf</span>=<span class=\"string\">\"item.name=='xiaomo'\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>哇,我在list列表中找到了 <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"label label-info\"</span>&gt;</span><span class=\"template-variable\">&#123;&#123;item.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngIf.png\" alt=\"\"></p>\n<h4 id=\"3-ngSwitch\"><a href=\"#3-ngSwitch\" class=\"headerlink\" title=\"3. ngSwitch\"></a>3. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\" target=\"_blank\" rel=\"external\">ngSwitch</a></h4><p>我在组件中定义了一个方法，可以设置选中的值给myVal</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">myVal:number = <span class=\"number\">0</span>;</div><div class=\"line\">changeValue($<span class=\"keyword\">event</span>):<span class=\"keyword\">void</span>&#123;</div><div class=\"line\">    console.log($<span class=\"keyword\">event</span>.target.<span class=\"keyword\">value</span>);<span class=\"comment\">// 输出选中的值设给myVal</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.myVal = $<span class=\"keyword\">event</span>.target.<span class=\"keyword\">value</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>有一组单选按钮，选中是<code>myVal</code>会改变，<code>ngSwitch</code>会去循环每个<code>case</code>,如果找到了就显示那条<code>case</code>中的数据，不然显示<code>default</code>中的数据</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>ngSwitch<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"1\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>1</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"2\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>2</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"3\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>3</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"4\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>4</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"5\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>5</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></div><div class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">span</span> [<span class=\"attr\">ngSwitch</span>]=<span class=\"string\">\"myVal\"</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'1'\"</span>&gt;</span>ONE<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'2'\"</span>&gt;</span>TWO<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'3'\"</span>&gt;</span>THREE<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'4'\"</span>&gt;</span>FOUR<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'5'\"</span>&gt;</span>FIVE<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchDefault</span>&gt;</span>other<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/NgSwitch.gif\" alt=\"\"></p>\n<h4 id=\"4-ngStyle\"><a href=\"#4-ngStyle\" class=\"headerlink\" title=\"4. ngStyle\"></a>4. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\" target=\"_blank\" rel=\"external\">ngStyle</a></h4><p>这里的样式的值都是从组件中取出来的，也就意味着它可以动态，不过建议是封装成class，也就是<code>ngClass</code></p>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> [<span class=\"attr\">ngStyle</span>]=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;'background-color': ngStyleList.backgroundColor,'color':ngStyleList.color&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span> [<span class=\"attr\">style.font-size</span>]=<span class=\"string\">\"30\"</span>&gt;</span></span></div><div class=\"line\">      背景 :<span class=\"template-variable\">&#123;&#123;ngStyleList.backgroundColor&#125;</span><span class=\"xml\">&#125; <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></div><div class=\"line\">      字体颜色: <span class=\"template-variable\">&#123;&#123;ngStyleList.color&#125;</span><span class=\"xml\">&#125;</span></div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngStyle.png\" alt=\"\"></p>\n<h4 id=\"5-ngClass\"><a href=\"#5-ngClass\" class=\"headerlink\" title=\"5. ngClass\"></a>5. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/ngTag/NgTag.html\" target=\"_blank\" rel=\"external\">ngClass</a></h4><p>左边是class名[要用<code>‘’</code>包起来]，右边是一个true|false表达式或者是一个方法</p>\n<p>在组件中定义了一个fn() 返回封装好的样式</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">this</span>.ngStyleList=&#123;</div><div class=\"line\">     <span class=\"string\">'color'</span>:<span class=\"string\">'blue'</span>,</div><div class=\"line\">     <span class=\"string\">'backgroundColor'</span>:<span class=\"string\">'green'</span></div><div class=\"line\"> &#125;;</div><div class=\"line\"></div><div class=\"line\">    classes:any=&#123;&#125;;</div><div class=\"line\">    fn():any &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.classes =  &#123;</div><div class=\"line\">            <span class=\"string\">'btn-primary'</span>:<span class=\"literal\">true</span></div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<p>模板中有两个button，我们给他加上样式。至于加什么样式 我们可以用函数控制</p>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn\"</span> [<span class=\"attr\">ngClass</span>]=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;'btn-danger': ngStyleList&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span>测试<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn\"</span> [<span class=\"attr\">ngClass</span>]=<span class=\"string\">\"fn()\"</span>&gt;</span>fn<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngClass.png\" alt=\"\"></p>\n","excerpt":"<p>angular2的内值指令和angular2很类似，所有熟悉angular1的朋友看一眼就会了。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-效果图\"><a href=\"#一、-效果图\" class=\"headerlink\" title=\"一、 效果图\"></a>一、 效果图</h3><p><img src=\"https://image.xiaomo.info/banner/ngTag.png\" alt=\"\"></p>\n<h3 id=\"一、指令解读\"><a href=\"#一、指令解读\" class=\"headerlink\" title=\"一、指令解读\"></a>一、<a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag\">指令解读</a></h3><h4 id=\"0-组件\"><a href=\"#0-组件\" class=\"headerlink\" title=\"0. 组件\"></a>0. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag//NgTag.ts\">组件</a></h4><p>主要就是定义了一些数据用于测试</p>\n<figure class=\"highlight typescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component&#125; from <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    selector: <span class=\"string\">'ng-tag'</span>,</div><div class=\"line\">    styles: [<span class=\"built_in\">require</span>(<span class=\"string\">'./NgTag.scss'</span>)],</div><div class=\"line\">    template: <span class=\"built_in\">require</span>(<span class=\"string\">'NgTag.html'</span>)</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">class</span> NgTagComponent &#123;</div><div class=\"line\">    list:<span class=\"built_in\">any</span>;</div><div class=\"line\">    ngSwitchList:<span class=\"built_in\">any</span>;</div><div class=\"line\">    ngStyleList:<span class=\"built_in\">any</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">constructor</span>() &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.list = [&#123;</div><div class=\"line\">                <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomo'</span></div><div class=\"line\">            &#125;,&#123;</div><div class=\"line\">                <span class=\"string\">'name'</span>: <span class=\"string\">'xiaogang'</span></div><div class=\"line\"></div><div class=\"line\">            &#125;,&#123;</div><div class=\"line\">                <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomoxue'</span></div><div class=\"line\">            &#125;];</div><div class=\"line\">        <span class=\"keyword\">this</span>.ngSwitchList=[</div><div class=\"line\">            <span class=\"string\">'xiaomo'</span>,</div><div class=\"line\">            <span class=\"string\">'xiaoming'</span></div><div class=\"line\">        ];</div><div class=\"line\">        <span class=\"keyword\">this</span>.ngStyleList=&#123;</div><div class=\"line\">            <span class=\"string\">'color'</span>:<span class=\"string\">'blue'</span>,</div><div class=\"line\">            <span class=\"string\">'backgroundColor'</span>:<span class=\"string\">'green'</span></div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"1-ngFor\"><a href=\"#1-ngFor\" class=\"headerlink\" title=\"1. ngFor\"></a>1. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\">ngFor</a></h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group\"</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of list\"</span>&gt;</span></div><div class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;item.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngFor.png\" alt=\"\"></p>\n<h4 id=\"2-ngIf\"><a href=\"#2-ngIf\" class=\"headerlink\" title=\"2. ngIf\"></a>2. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\">ngIf</a></h4><p>我在组件中定义了一个list</p>\n<figure class=\"highlight xquery\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">this.list = [&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomo'</span></div><div class=\"line\">    &#125;,&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'xiaogang'</span></div><div class=\"line\"></div><div class=\"line\">    &#125;,&#123;</div><div class=\"line\">        <span class=\"string\">'name'</span>: <span class=\"string\">'xiaomoxue'</span></div><div class=\"line\">    &#125;];</div></pre></td></tr></table></figure>\n<p>我在循环这个数组对象的时候去比对item.name 如果是 <code>xiaomo</code>,就 出现 ngIf中的内容</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of list\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> *<span class=\"attr\">ngIf</span>=<span class=\"string\">\"item.name=='xiaomo'\"</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list-group-item\"</span>&gt;</span>哇,我在list列表中找到了 <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"label label-info\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;item.name&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngIf.png\" alt=\"\"></p>\n<h4 id=\"3-ngSwitch\"><a href=\"#3-ngSwitch\" class=\"headerlink\" title=\"3. ngSwitch\"></a>3. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\">ngSwitch</a></h4><p>我在组件中定义了一个方法，可以设置选中的值给myVal</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">myVal:number = <span class=\"number\">0</span>;</div><div class=\"line\">changeValue($<span class=\"keyword\">event</span>):<span class=\"keyword\">void</span>&#123;</div><div class=\"line\">    console.log($<span class=\"keyword\">event</span>.target.<span class=\"keyword\">value</span>);<span class=\"comment\">// 输出选中的值设给myVal</span></div><div class=\"line\">    <span class=\"keyword\">this</span>.myVal = $<span class=\"keyword\">event</span>.target.<span class=\"keyword\">value</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>有一组单选按钮，选中是<code>myVal</code>会改变，<code>ngSwitch</code>会去循环每个<code>case</code>,如果找到了就显示那条<code>case</code>中的数据，不然显示<code>default</code>中的数据</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>ngSwitch<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"1\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>1</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"2\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>2</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"3\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>3</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"4\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>4</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">\"myVal\"</span> <span class=\"attr\">type</span>=<span class=\"string\">\"radio\"</span> <span class=\"attr\">title</span>=<span class=\"string\">\"\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"5\"</span> (<span class=\"attr\">click</span>)=<span class=\"string\">\"changeValue($event)\"</span>&gt;</span>5</div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></div><div class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">span</span> [<span class=\"attr\">ngSwitch</span>]=<span class=\"string\">\"myVal\"</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'1'\"</span>&gt;</span>ONE<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'2'\"</span>&gt;</span>TWO<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'3'\"</span>&gt;</span>THREE<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'4'\"</span>&gt;</span>FOUR<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchCase</span>=<span class=\"string\">\"'5'\"</span>&gt;</span>FIVE<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">          <span class=\"tag\">&lt;<span class=\"name\">span</span> *<span class=\"attr\">ngSwitchDefault</span>&gt;</span>other<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/NgSwitch.gif\" alt=\"\"></p>\n<h4 id=\"4-ngStyle\"><a href=\"#4-ngStyle\" class=\"headerlink\" title=\"4. ngStyle\"></a>4. <a href=\"https://github.com/syoubaku/angular2-demo/tree/master/src/ts/component/ngTag/NgTag.html\">ngStyle</a></h4><p>这里的样式的值都是从组件中取出来的，也就意味着它可以动态，不过建议是封装成class，也就是<code>ngClass</code></p>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> [<span class=\"attr\">ngStyle</span>]=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;'background-color': ngStyleList.backgroundColor,'color':ngStyleList.color&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span> [<span class=\"attr\">style.font-size</span>]=<span class=\"string\">\"30\"</span>&gt;</span></div><div class=\"line\">      背景 :</span><span class=\"template-variable\">&#123;&#123;ngStyleList.backgroundColor&#125;</span><span class=\"xml\">&#125; <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></div><div class=\"line\">      字体颜色: </span><span class=\"template-variable\">&#123;&#123;ngStyleList.color&#125;</span><span class=\"xml\">&#125;</div><div class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngStyle.png\" alt=\"\"></p>\n<h4 id=\"5-ngClass\"><a href=\"#5-ngClass\" class=\"headerlink\" title=\"5. ngClass\"></a>5. <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/ngTag/NgTag.html\">ngClass</a></h4><p>左边是class名[要用<code>‘’</code>包起来]，右边是一个true|false表达式或者是一个方法</p>\n<p>在组件中定义了一个fn() 返回封装好的样式</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">this</span>.ngStyleList=&#123;</div><div class=\"line\">     <span class=\"string\">'color'</span>:<span class=\"string\">'blue'</span>,</div><div class=\"line\">     <span class=\"string\">'backgroundColor'</span>:<span class=\"string\">'green'</span></div><div class=\"line\"> &#125;;</div><div class=\"line\"></div><div class=\"line\">    classes:any=&#123;&#125;;</div><div class=\"line\">    fn():any &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.classes =  &#123;</div><div class=\"line\">            <span class=\"string\">'btn-primary'</span>:<span class=\"literal\">true</span></div><div class=\"line\">        &#125;;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<p>模板中有两个button，我们给他加上样式。至于加什么样式 我们可以用函数控制</p>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn\"</span> [<span class=\"attr\">ngClass</span>]=<span class=\"string\">\"</span></span></span><span class=\"template-variable\">&#123;'btn-danger': ngStyleList&#125;</span><span class=\"xml\"><span class=\"tag\"><span class=\"string\">\"</span>&gt;</span>测试<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">class</span>=<span class=\"string\">\"btn\"</span> [<span class=\"attr\">ngClass</span>]=<span class=\"string\">\"fn()\"</span>&gt;</span>fn<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<p>效果图<br><img src=\"https://image.xiaomo.info/banner/ngClass.png\" alt=\"\"></p>"},{"author":"小莫","date":"2016-06-25T16:00:00.000Z","title":"angular2学习笔记之小技巧","_content":"在angular2的开发中经常会遇到各种各样的问题，我们可以采用一些小技巧来解决这些问题。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n\n### 前言\n\n#### 1. 组件\n\n```\n   @Component({\n   selector: 'reddit-article',\n   inputs: ['article'],\n   template:require('reddit-article.html');\n   })\n\n  class ArticleComponent {\n   article: Article;\n\n   voteUp(): boolean {\n   this.article.voteUp();\n   return false;\n   }\n\n   voteDown(): boolean {\n   this.article.voteDown();\n   return false;\n   }\n ```\n\n#### 2. 模型\n\n类似javabean，可以把api封装在模型中\n\n```\n  class Article {\n   title: string;\n   link: string;\n   votes: number;\n\n  constructor(title: string, link: string, votes?: number) {\n   this.title = title;\n   this.link = link;\n   this.votes = votes || 0;\n   }\n\n   voteUp(): void {\n   this.votes += 1;\n   }\n\n   voteDown(): void {\n   this.votes -= 1;\n   }\n\n   sortedArticles(): Article[] {\n    return this.articles.sort((a: Article, b: Article) => b.votes - a.votes);\n    }\n\n```\n\n\n使用排序\n\n```\n<div class=\"ui grid posts\">\n <reddit-article\n *ngFor=\"let article of sortedArticles()\"\n [article]=\"article\">\n </reddit-article>\n </div\n```\n\n#### 3.模板\n\n```\n  <div class=\"four wide column center aligned votes\">\n   <div class=\"ui statistic\">\n   <div class=\"value\">\n   {{ article.votes }}\n   </div>\n  writing your First Angular 2 Web Application\n   <div class=\"label\">\n   Points\n   </div>\n   </div>\n   </div>\n   <div class=\"twelve wide column\">\n   <a class=\"ui large header\" href=\"{{ article.link }}\">\n   {{ article.title }}\n   </a>\n\n   <ul class=\"ui big horizontal list voters\">\n   <li class=\"item\">\n   <a href (click)=\"voteUp()\">\n   <i class=\"arrow up icon\"></i>\n   upvote\n   </a>\n  </li>\n   <li class=\"item\">\n   <a href (click)=\"voteDown()\">\n   <i class=\"arrow down icon\"></i>\n   downvote\n   </a>\n   </li>\n   </ul>\n   </div>\n ```\n\n#### 4. 服务\n\n```\nimport {Injectable} from '@angular/core';\nimport { Http }from '@angular/http';\nimport * as api from './../api/Api';\nimport {Observable} from 'rxjs/Rx';\n\n@Injectable()\nexport class UserService {\n    constructor(public http:Http) {\n        this.http = http;\n    }\n\n    findAll():Observable<any> {\n        return this.http.get(api.findAll).map((res:any)=> {\n            return res.json();\n        });\n    }\n}\n\n```\n\n#### 5. 管道\n\n```\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'trim' })\nexport class TrimPipe implements PipeTransform {\n  transform(value, args) {\n    return value.trim();\n  }\n}\n\n```\n\n\n### 一、 防止页面刷新\n\n如果想阻止页面刷新,在方法的返回值为false。\n\n```\n  voteUp(): boolean {\n    this.article.votes += 1;\n    return false;\n  }\n\n  voteDown(): boolean {\n    this.article.votes -= 1;\n    return false;\n  }\n```\n\n### 二、 不让ng进行解析\n\n`ngNonBindable`\n\n告诉angular 在这个页面上我们不绑定或者不编译的特殊部分。比如我们要展示代码源码的时候不希望它进行编译\n\n```\n\t<div>\n\t <span class=\"bordered\">{{ content }}</span>\n\t <span class=\"pre\" ngNonBindable>\n\t &larr; This is what {{ content }} rendered\n\t </span>\n\t</div>\n```\n### 三、 预处理\n在没有编译之前进行处理\n\n```\n\t@Component({\n   selector: 'hello',\n  host: {\n\t class: 'row'\n\t }\n```\n\n具体表现为 `<hello class=\"row\">`\n\n\n### 四. 组件传参\n\n#### 1. 组件\n\n```\n@Component({\n selector: 'reddit-article',\n inputs: ['article'],\n })\n class ArticleComponent {\n article: Article;\n```\n\n#### 2. 使用\n\n```\n <reddit-article [article]=\"article1\"></reddit-article>\n```\n\n我们可以在Component中得到\n\n### 五. 输出(自定义事件)\n\n在class中 定义一个 `@Output`(EventEmitter)然后在构造函数中实例化\n在class中 定义一个 `@Intput` 输入\n\n```\n\t@Component({\n\t selector: 'single-component',\n   inputs:['titles']\n\t outputs: ['putRingOnIt'],\n\t template: `\n\t <button (click)=\"liked()\">Like it?</button>\n\t `\n\t })\n\t // 自定义一个事件\n\t class SingleComponent {\n\t putRingOnIt: EventEmitter<string>;\n\n\t constructor() {\n\t this.putRingOnIt = new EventEmitter();\n\t }\n\n\t liked(): void {\n\t this.putRingOnIt.emit(\"oh oh oh\");\n\t }\n\t }\n```\n\n[] 输入 inputs  参数\n() 输出 outputs 事件\n\n### 六、 打印日志\n\n可以使用 `${value}`来替换参数\n\n```\naddArticle(title: HTMLInputElement, link: HTMLInputElement): void {\n console.log(`Adding article title: ${title.value} and link: ${link.value}`\\\n );\n  }\n```\n\n### 七、双向绑定\n\n#### 1. 模型到视图\n[]  例如 [style.color]\n\n#### 2. 视图到模型\n()  例如 (click)\n#### 3. 双向绑定\n[()] 例如 [(ngModel)]\n","source":"_posts/2016-06-26.angular2_study_note_other.md","raw":"---\nauthor: 小莫\ndate: 2016-06-26\ntitle: angular2学习笔记之小技巧\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2StudyNoteOther\n---\n在angular2的开发中经常会遇到各种各样的问题，我们可以采用一些小技巧来解决这些问题。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n\n### 前言\n\n#### 1. 组件\n\n```\n   @Component({\n   selector: 'reddit-article',\n   inputs: ['article'],\n   template:require('reddit-article.html');\n   })\n\n  class ArticleComponent {\n   article: Article;\n\n   voteUp(): boolean {\n   this.article.voteUp();\n   return false;\n   }\n\n   voteDown(): boolean {\n   this.article.voteDown();\n   return false;\n   }\n ```\n\n#### 2. 模型\n\n类似javabean，可以把api封装在模型中\n\n```\n  class Article {\n   title: string;\n   link: string;\n   votes: number;\n\n  constructor(title: string, link: string, votes?: number) {\n   this.title = title;\n   this.link = link;\n   this.votes = votes || 0;\n   }\n\n   voteUp(): void {\n   this.votes += 1;\n   }\n\n   voteDown(): void {\n   this.votes -= 1;\n   }\n\n   sortedArticles(): Article[] {\n    return this.articles.sort((a: Article, b: Article) => b.votes - a.votes);\n    }\n\n```\n\n\n使用排序\n\n```\n<div class=\"ui grid posts\">\n <reddit-article\n *ngFor=\"let article of sortedArticles()\"\n [article]=\"article\">\n </reddit-article>\n </div\n```\n\n#### 3.模板\n\n```\n  <div class=\"four wide column center aligned votes\">\n   <div class=\"ui statistic\">\n   <div class=\"value\">\n   {{ article.votes }}\n   </div>\n  writing your First Angular 2 Web Application\n   <div class=\"label\">\n   Points\n   </div>\n   </div>\n   </div>\n   <div class=\"twelve wide column\">\n   <a class=\"ui large header\" href=\"{{ article.link }}\">\n   {{ article.title }}\n   </a>\n\n   <ul class=\"ui big horizontal list voters\">\n   <li class=\"item\">\n   <a href (click)=\"voteUp()\">\n   <i class=\"arrow up icon\"></i>\n   upvote\n   </a>\n  </li>\n   <li class=\"item\">\n   <a href (click)=\"voteDown()\">\n   <i class=\"arrow down icon\"></i>\n   downvote\n   </a>\n   </li>\n   </ul>\n   </div>\n ```\n\n#### 4. 服务\n\n```\nimport {Injectable} from '@angular/core';\nimport { Http }from '@angular/http';\nimport * as api from './../api/Api';\nimport {Observable} from 'rxjs/Rx';\n\n@Injectable()\nexport class UserService {\n    constructor(public http:Http) {\n        this.http = http;\n    }\n\n    findAll():Observable<any> {\n        return this.http.get(api.findAll).map((res:any)=> {\n            return res.json();\n        });\n    }\n}\n\n```\n\n#### 5. 管道\n\n```\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'trim' })\nexport class TrimPipe implements PipeTransform {\n  transform(value, args) {\n    return value.trim();\n  }\n}\n\n```\n\n\n### 一、 防止页面刷新\n\n如果想阻止页面刷新,在方法的返回值为false。\n\n```\n  voteUp(): boolean {\n    this.article.votes += 1;\n    return false;\n  }\n\n  voteDown(): boolean {\n    this.article.votes -= 1;\n    return false;\n  }\n```\n\n### 二、 不让ng进行解析\n\n`ngNonBindable`\n\n告诉angular 在这个页面上我们不绑定或者不编译的特殊部分。比如我们要展示代码源码的时候不希望它进行编译\n\n```\n\t<div>\n\t <span class=\"bordered\">{{ content }}</span>\n\t <span class=\"pre\" ngNonBindable>\n\t &larr; This is what {{ content }} rendered\n\t </span>\n\t</div>\n```\n### 三、 预处理\n在没有编译之前进行处理\n\n```\n\t@Component({\n   selector: 'hello',\n  host: {\n\t class: 'row'\n\t }\n```\n\n具体表现为 `<hello class=\"row\">`\n\n\n### 四. 组件传参\n\n#### 1. 组件\n\n```\n@Component({\n selector: 'reddit-article',\n inputs: ['article'],\n })\n class ArticleComponent {\n article: Article;\n```\n\n#### 2. 使用\n\n```\n <reddit-article [article]=\"article1\"></reddit-article>\n```\n\n我们可以在Component中得到\n\n### 五. 输出(自定义事件)\n\n在class中 定义一个 `@Output`(EventEmitter)然后在构造函数中实例化\n在class中 定义一个 `@Intput` 输入\n\n```\n\t@Component({\n\t selector: 'single-component',\n   inputs:['titles']\n\t outputs: ['putRingOnIt'],\n\t template: `\n\t <button (click)=\"liked()\">Like it?</button>\n\t `\n\t })\n\t // 自定义一个事件\n\t class SingleComponent {\n\t putRingOnIt: EventEmitter<string>;\n\n\t constructor() {\n\t this.putRingOnIt = new EventEmitter();\n\t }\n\n\t liked(): void {\n\t this.putRingOnIt.emit(\"oh oh oh\");\n\t }\n\t }\n```\n\n[] 输入 inputs  参数\n() 输出 outputs 事件\n\n### 六、 打印日志\n\n可以使用 `${value}`来替换参数\n\n```\naddArticle(title: HTMLInputElement, link: HTMLInputElement): void {\n console.log(`Adding article title: ${title.value} and link: ${link.value}`\\\n );\n  }\n```\n\n### 七、双向绑定\n\n#### 1. 模型到视图\n[]  例如 [style.color]\n\n#### 2. 视图到模型\n()  例如 (click)\n#### 3. 双向绑定\n[()] 例如 [(ngModel)]\n","slug":"Angular2StudyNoteOther","published":1,"updated":"2016-12-01T06:50:28.791Z","_id":"civ0ggq9b003qrwvnzpt149ep","comments":1,"layout":"post","photos":[],"link":"","content":"<p>在angular2的开发中经常会遇到各种各样的问题，我们可以采用一些小技巧来解决这些问题。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><h4 id=\"1-组件\"><a href=\"#1-组件\" class=\"headerlink\" title=\"1. 组件\"></a>1. 组件</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"meta\">@Component(&#123;</span></div><div class=\"line\"> selector: <span class=\"meta-string\">'reddit-article'</span>,</div><div class=\"line\"> inputs: [<span class=\"meta-string\">'article'</span>],</div><div class=\"line\"> template:require(<span class=\"meta-string\">'reddit-article.html'</span>);</div><div class=\"line\"> &#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ArticleComponent</span> </span>&#123;</div><div class=\"line\"> article: Article;</div><div class=\"line\"></div><div class=\"line\"> voteUp(): boolean &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.article.voteUp();</div><div class=\"line\"> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> voteDown(): boolean &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.article.voteDown();</div><div class=\"line\"> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-模型\"><a href=\"#2-模型\" class=\"headerlink\" title=\"2. 模型\"></a>2. 模型</h4><p>类似javabean，可以把api封装在模型中</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Article</span> </span>&#123;</div><div class=\"line\"> title: string;</div><div class=\"line\"> link: string;</div><div class=\"line\"> votes: number;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">constructor</span>(title: string, link: string, votes?: number) &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.title = title;</div><div class=\"line\"> <span class=\"keyword\">this</span>.link = link;</div><div class=\"line\"> <span class=\"keyword\">this</span>.votes = votes || <span class=\"number\">0</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> voteUp(): void &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.votes += <span class=\"number\">1</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> voteDown(): void &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.votes -= <span class=\"number\">1</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> sortedArticles(): Article[] &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.articles.sort((a: Article, b: Article) =&gt; b.votes - a.votes);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure>\n<p>使用排序</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"ui grid posts\"</span>&gt;</div><div class=\"line\"> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">reddit-article</span></span></span></div><div class=\"line\"> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let article of sortedArticles()\"</span></div><div class=\"line\"> [<span class=\"attr\">article</span>]=<span class=\"string\">\"article\"</span>&gt;</div><div class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">reddit-article</span>&gt;</span></div><div class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">div</span></span></div></pre></td></tr></table></figure>\n<h4 id=\"3-模板\"><a href=\"#3-模板\" class=\"headerlink\" title=\"3.模板\"></a>3.模板</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"four wide column center aligned votes\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"ui statistic\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"value\"</span>&gt;</div><div class=\"line\"> &#123;&#123; <span class=\"selector-tag\">article</span><span class=\"selector-class\">.votes</span> &#125;&#125;</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\">writing your First Angular <span class=\"number\">2</span> Web Application</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"label\"</span>&gt;</div><div class=\"line\"> Points</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"twelve wide column\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">a</span> class=<span class=\"string\">\"ui large header\"</span> href=<span class=\"string\">\"&#123;&#123; article.link &#125;&#125;\"</span>&gt;</div><div class=\"line\"> &#123;&#123; <span class=\"selector-tag\">article</span><span class=\"selector-class\">.title</span> &#125;&#125;</div><div class=\"line\"> &lt;/a&gt;</div><div class=\"line\"></div><div class=\"line\"> &lt;<span class=\"selector-tag\">ul</span> class=<span class=\"string\">\"ui big horizontal list voters\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">li</span> class=<span class=\"string\">\"item\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">a</span> href (click)=<span class=\"string\">\"voteUp()\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">i</span> class=<span class=\"string\">\"arrow up icon\"</span>&gt;&lt;/i&gt;</div><div class=\"line\"> upvote</div><div class=\"line\"> &lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">li</span> class=<span class=\"string\">\"item\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">a</span> href (click)=<span class=\"string\">\"voteDown()\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">i</span> class=<span class=\"string\">\"arrow down icon\"</span>&gt;&lt;/i&gt;</div><div class=\"line\"> downvote</div><div class=\"line\"> &lt;/a&gt;</div><div class=\"line\"> &lt;/li&gt;</div><div class=\"line\"> &lt;/ul&gt;</div><div class=\"line\"> &lt;/div&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"4-服务\"><a href=\"#4-服务\" class=\"headerlink\" title=\"4. 服务\"></a>4. 服务</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; Http &#125;<span class=\"keyword\">from</span> <span class=\"string\">'@angular/http'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> api <span class=\"keyword\">from</span> <span class=\"string\">'./../api/Api'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;Observable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'rxjs/Rx'</span>;</div><div class=\"line\"></div><div class=\"line\">@Injectable()</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserService</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>(public http:Http) &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.http = http;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    findAll():Observable&lt;any&gt; &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.http.get(api.findAll).map(<span class=\"function\">(<span class=\"params\">res:any</span>)=&gt;</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> res.json();</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"5-管道\"><a href=\"#5-管道\" class=\"headerlink\" title=\"5. 管道\"></a>5. 管道</h4><figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; Pipe, PipeTransform &#125; from <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@Pipe</span>(&#123; name: <span class=\"string\">'trim'</span> &#125;)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrimPipe</span> <span class=\"keyword\">implements</span> <span class=\"title\">PipeTransform</span> </span>&#123;</div><div class=\"line\">  transform(value, args) &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> value.trim();</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"一、-防止页面刷新\"><a href=\"#一、-防止页面刷新\" class=\"headerlink\" title=\"一、 防止页面刷新\"></a>一、 防止页面刷新</h3><p>如果想阻止页面刷新,在方法的返回值为false。</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">voteUp(): boolean &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.article.votes += <span class=\"number\">1</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">voteDown(): boolean &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.article.votes -= <span class=\"number\">1</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、-不让ng进行解析\"><a href=\"#二、-不让ng进行解析\" class=\"headerlink\" title=\"二、 不让ng进行解析\"></a>二、 不让ng进行解析</h3><p><code>ngNonBindable</code></p>\n<p>告诉angular 在这个页面上我们不绑定或者不编译的特殊部分。比如我们要展示代码源码的时候不希望它进行编译</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></div><div class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bordered\"</span>&gt;</span><span class=\"template-variable\">&#123;&#123; content &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></div><div class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pre\"</span> <span class=\"attr\">ngNonBindable</span>&gt;</span></div><div class=\"line\"> &amp;larr; This is what <span class=\"template-variable\">&#123;&#123; content &#125;&#125;</span><span class=\"xml\"> rendered</span></div><div class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"三、-预处理\"><a href=\"#三、-预处理\" class=\"headerlink\" title=\"三、 预处理\"></a>三、 预处理</h3><p>在没有编译之前进行处理</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@Component</span>(&#123;</div><div class=\"line\">  <span class=\"attribute\">selector</span>: <span class=\"string\">'hello'</span>,</div><div class=\"line\"> <span class=\"attribute\">host</span>: &#123;</div><div class=\"line\"> <span class=\"attribute\">class</span>: <span class=\"string\">'row'</span></div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>具体表现为 <code>&lt;hello class=&quot;row&quot;&gt;</code></p>\n<h3 id=\"四-组件传参\"><a href=\"#四-组件传参\" class=\"headerlink\" title=\"四. 组件传参\"></a>四. 组件传参</h3><h4 id=\"1-组件-1\"><a href=\"#1-组件-1\" class=\"headerlink\" title=\"1. 组件\"></a>1. 组件</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@Component(&#123;</span></div><div class=\"line\"> selector: <span class=\"meta-string\">'reddit-article'</span>,</div><div class=\"line\"> inputs: [<span class=\"meta-string\">'article'</span>],</div><div class=\"line\"> &#125;)</div><div class=\"line\"> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ArticleComponent</span> </span>&#123;</div><div class=\"line\"> article: Article;</div></pre></td></tr></table></figure>\n<h4 id=\"2-使用\"><a href=\"#2-使用\" class=\"headerlink\" title=\"2. 使用\"></a>2. 使用</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">reddit-article</span> [<span class=\"attr\">article</span>]=<span class=\"string\">\"article1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">reddit-article</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>我们可以在Component中得到</p>\n<h3 id=\"五-输出-自定义事件\"><a href=\"#五-输出-自定义事件\" class=\"headerlink\" title=\"五. 输出(自定义事件)\"></a>五. 输出(自定义事件)</h3><p>在class中 定义一个 <code>@Output</code>(EventEmitter)然后在构造函数中实例化<br>在class中 定义一个 <code>@Intput</code> 输入</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@Component(&#123;</span></div><div class=\"line\"> selector: <span class=\"meta-string\">'single-component'</span>,</div><div class=\"line\">  inputs:[<span class=\"meta-string\">'titles'</span>]</div><div class=\"line\"> outputs: [<span class=\"meta-string\">'putRingOnIt'</span>],</div><div class=\"line\"> template: `</div><div class=\"line\"> &lt;button (click)=<span class=\"string\">\"liked()\"</span>&gt;Like it?&lt;/button&gt;</div><div class=\"line\"> `</div><div class=\"line\"> &#125;)</div><div class=\"line\"> <span class=\"comment\">// 自定义一个事件</span></div><div class=\"line\"> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SingleComponent</span> </span>&#123;</div><div class=\"line\"> putRingOnIt: EventEmitter&lt;string&gt;;</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">constructor</span>() &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.putRingOnIt = new EventEmitter();</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> liked(): void &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.putRingOnIt.emit(<span class=\"string\">\"oh oh oh\"</span>);</div><div class=\"line\"> &#125;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>[] 输入 inputs  参数<br>() 输出 outputs 事件</p>\n<h3 id=\"六、-打印日志\"><a href=\"#六、-打印日志\" class=\"headerlink\" title=\"六、 打印日志\"></a>六、 打印日志</h3><p>可以使用 <code>${value}</code>来替换参数</p>\n<figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">addArticle(<span class=\"built_in\">title</span>: HTMLInputElement, link: HTMLInputElement): void &#123;</div><div class=\"line\"> console.<span class=\"built_in\">log</span>(`Adding article <span class=\"built_in\">title</span>: $&#123;<span class=\"built_in\">title</span>.value&#125; <span class=\"keyword\">and</span> link: $&#123;link.value&#125;`\\</div><div class=\"line\"> );</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"七、双向绑定\"><a href=\"#七、双向绑定\" class=\"headerlink\" title=\"七、双向绑定\"></a>七、双向绑定</h3><h4 id=\"1-模型到视图\"><a href=\"#1-模型到视图\" class=\"headerlink\" title=\"1. 模型到视图\"></a>1. 模型到视图</h4><p>[]  例如 [style.color]</p>\n<h4 id=\"2-视图到模型\"><a href=\"#2-视图到模型\" class=\"headerlink\" title=\"2. 视图到模型\"></a>2. 视图到模型</h4><p>()  例如 (click)</p>\n<h4 id=\"3-双向绑定\"><a href=\"#3-双向绑定\" class=\"headerlink\" title=\"3. 双向绑定\"></a>3. 双向绑定</h4><p>[()] 例如 [(ngModel)]</p>\n","excerpt":"<p>在angular2的开发中经常会遇到各种各样的问题，我们可以采用一些小技巧来解决这些问题。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><h4 id=\"1-组件\"><a href=\"#1-组件\" class=\"headerlink\" title=\"1. 组件\"></a>1. 组件</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"> <span class=\"meta\">@Component(&#123;</div><div class=\"line\"> selector: <span class=\"meta-string\">'reddit-article'</span>,</div><div class=\"line\"> inputs: [<span class=\"meta-string\">'article'</span>],</div><div class=\"line\"> template:require(<span class=\"meta-string\">'reddit-article.html'</span>)</span>;</div><div class=\"line\"> &#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ArticleComponent</span> </span>&#123;</div><div class=\"line\"> article: Article;</div><div class=\"line\"></div><div class=\"line\"> voteUp(): boolean &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.article.voteUp();</div><div class=\"line\"> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> voteDown(): boolean &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.article.voteDown();</div><div class=\"line\"> <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-模型\"><a href=\"#2-模型\" class=\"headerlink\" title=\"2. 模型\"></a>2. 模型</h4><p>类似javabean，可以把api封装在模型中</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Article</span> </span>&#123;</div><div class=\"line\"> title: string;</div><div class=\"line\"> link: string;</div><div class=\"line\"> votes: number;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">constructor</span>(title: string, link: string, votes?: number) &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.title = title;</div><div class=\"line\"> <span class=\"keyword\">this</span>.link = link;</div><div class=\"line\"> <span class=\"keyword\">this</span>.votes = votes || <span class=\"number\">0</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> voteUp(): void &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.votes += <span class=\"number\">1</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> voteDown(): void &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.votes -= <span class=\"number\">1</span>;</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> sortedArticles(): Article[] &#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.articles.sort((a: Article, b: Article) =&gt; b.votes - a.votes);</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure>\n<p>使用排序</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;div <span class=\"class\"><span class=\"keyword\">class</span></span>=<span class=\"string\">\"ui grid posts\"</span>&gt;</div><div class=\"line\"> <span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">reddit-article</span></div><div class=\"line\"> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let article of sortedArticles()\"</span></div><div class=\"line\"> [<span class=\"attr\">article</span>]=<span class=\"string\">\"article\"</span>&gt;</span></div><div class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">reddit-article</span>&gt;</span></div><div class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">div</span></span></span></div></pre></td></tr></table></figure>\n<h4 id=\"3-模板\"><a href=\"#3-模板\" class=\"headerlink\" title=\"3.模板\"></a>3.模板</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"four wide column center aligned votes\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"ui statistic\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"value\"</span>&gt;</div><div class=\"line\"> &#123;&#123; <span class=\"selector-tag\">article</span><span class=\"selector-class\">.votes</span> &#125;&#125;</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\">writing your First Angular <span class=\"number\">2</span> Web Application</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"label\"</span>&gt;</div><div class=\"line\"> Points</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\"> &lt;/div&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">div</span> class=<span class=\"string\">\"twelve wide column\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">a</span> class=<span class=\"string\">\"ui large header\"</span> href=<span class=\"string\">\"&#123;&#123; article.link &#125;&#125;\"</span>&gt;</div><div class=\"line\"> &#123;&#123; <span class=\"selector-tag\">article</span><span class=\"selector-class\">.title</span> &#125;&#125;</div><div class=\"line\"> &lt;/a&gt;</div><div class=\"line\"></div><div class=\"line\"> &lt;<span class=\"selector-tag\">ul</span> class=<span class=\"string\">\"ui big horizontal list voters\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">li</span> class=<span class=\"string\">\"item\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">a</span> href (click)=<span class=\"string\">\"voteUp()\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">i</span> class=<span class=\"string\">\"arrow up icon\"</span>&gt;&lt;/i&gt;</div><div class=\"line\"> upvote</div><div class=\"line\"> &lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">li</span> class=<span class=\"string\">\"item\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">a</span> href (click)=<span class=\"string\">\"voteDown()\"</span>&gt;</div><div class=\"line\"> &lt;<span class=\"selector-tag\">i</span> class=<span class=\"string\">\"arrow down icon\"</span>&gt;&lt;/i&gt;</div><div class=\"line\"> downvote</div><div class=\"line\"> &lt;/a&gt;</div><div class=\"line\"> &lt;/li&gt;</div><div class=\"line\"> &lt;/ul&gt;</div><div class=\"line\"> &lt;/div&gt;</div></pre></td></tr></table></figure>\n<h4 id=\"4-服务\"><a href=\"#4-服务\" class=\"headerlink\" title=\"4. 服务\"></a>4. 服务</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; Http &#125;<span class=\"keyword\">from</span> <span class=\"string\">'@angular/http'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> api <span class=\"keyword\">from</span> <span class=\"string\">'./../api/Api'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;Observable&#125; <span class=\"keyword\">from</span> <span class=\"string\">'rxjs/Rx'</span>;</div><div class=\"line\"></div><div class=\"line\">@Injectable()</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserService</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">constructor</span>(public http:Http) &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.http = http;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    findAll():Observable&lt;any&gt; &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.http.get(api.findAll).map(<span class=\"function\">(<span class=\"params\">res:any</span>)=&gt;</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> res.json();</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"5-管道\"><a href=\"#5-管道\" class=\"headerlink\" title=\"5. 管道\"></a>5. 管道</h4><figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123; Pipe, PipeTransform &#125; from <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@Pipe</span>(&#123; name: <span class=\"string\">'trim'</span> &#125;)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TrimPipe</span> <span class=\"keyword\">implements</span> <span class=\"title\">PipeTransform</span> </span>&#123;</div><div class=\"line\">  transform(value, args) &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> value.trim();</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"一、-防止页面刷新\"><a href=\"#一、-防止页面刷新\" class=\"headerlink\" title=\"一、 防止页面刷新\"></a>一、 防止页面刷新</h3><p>如果想阻止页面刷新,在方法的返回值为false。</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">voteUp(): boolean &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.article.votes += <span class=\"number\">1</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\">voteDown(): boolean &#123;</div><div class=\"line\">  <span class=\"keyword\">this</span>.article.votes -= <span class=\"number\">1</span>;</div><div class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、-不让ng进行解析\"><a href=\"#二、-不让ng进行解析\" class=\"headerlink\" title=\"二、 不让ng进行解析\"></a>二、 不让ng进行解析</h3><p><code>ngNonBindable</code></p>\n<p>告诉angular 在这个页面上我们不绑定或者不编译的特殊部分。比如我们要展示代码源码的时候不希望它进行编译</p>\n<figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></div><div class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"bordered\"</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123; content &#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">\"pre\"</span> <span class=\"attr\">ngNonBindable</span>&gt;</span></div><div class=\"line\"> &amp;larr; This is what </span><span class=\"template-variable\">&#123;&#123; content &#125;&#125;</span><span class=\"xml\"> rendered</div><div class=\"line\"> <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<h3 id=\"三、-预处理\"><a href=\"#三、-预处理\" class=\"headerlink\" title=\"三、 预处理\"></a>三、 预处理</h3><p>在没有编译之前进行处理</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@Component</span>(&#123;</div><div class=\"line\">  <span class=\"attribute\">selector</span>: <span class=\"string\">'hello'</span>,</div><div class=\"line\"> <span class=\"attribute\">host</span>: &#123;</div><div class=\"line\"> <span class=\"attribute\">class</span>: <span class=\"string\">'row'</span></div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>具体表现为 <code>&lt;hello class=&quot;row&quot;&gt;</code></p>\n<h3 id=\"四-组件传参\"><a href=\"#四-组件传参\" class=\"headerlink\" title=\"四. 组件传参\"></a>四. 组件传参</h3><h4 id=\"1-组件-1\"><a href=\"#1-组件-1\" class=\"headerlink\" title=\"1. 组件\"></a>1. 组件</h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@Component(&#123;</div><div class=\"line\"> selector: <span class=\"meta-string\">'reddit-article'</span>,</div><div class=\"line\"> inputs: [<span class=\"meta-string\">'article'</span>],</div><div class=\"line\"> &#125;)</span></div><div class=\"line\"> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">ArticleComponent</span> </span>&#123;</div><div class=\"line\"> article: Article;</div></pre></td></tr></table></figure>\n<h4 id=\"2-使用\"><a href=\"#2-使用\" class=\"headerlink\" title=\"2. 使用\"></a>2. 使用</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">reddit-article</span> [<span class=\"attr\">article</span>]=<span class=\"string\">\"article1\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">reddit-article</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>我们可以在Component中得到</p>\n<h3 id=\"五-输出-自定义事件\"><a href=\"#五-输出-自定义事件\" class=\"headerlink\" title=\"五. 输出(自定义事件)\"></a>五. 输出(自定义事件)</h3><p>在class中 定义一个 <code>@Output</code>(EventEmitter)然后在构造函数中实例化<br>在class中 定义一个 <code>@Intput</code> 输入</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@Component(&#123;</div><div class=\"line\"> selector: <span class=\"meta-string\">'single-component'</span>,</div><div class=\"line\">  inputs:[<span class=\"meta-string\">'titles'</span>]</div><div class=\"line\"> outputs: [<span class=\"meta-string\">'putRingOnIt'</span>],</div><div class=\"line\"> template: `</div><div class=\"line\"> &lt;button (click)</span>=<span class=\"string\">\"liked()\"</span>&gt;Like it?&lt;/button&gt;</div><div class=\"line\"> `</div><div class=\"line\"> &#125;)</div><div class=\"line\"> <span class=\"comment\">// 自定义一个事件</span></div><div class=\"line\"> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SingleComponent</span> </span>&#123;</div><div class=\"line\"> putRingOnIt: EventEmitter&lt;string&gt;;</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">constructor</span>() &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.putRingOnIt = new EventEmitter();</div><div class=\"line\"> &#125;</div><div class=\"line\"></div><div class=\"line\"> liked(): void &#123;</div><div class=\"line\"> <span class=\"keyword\">this</span>.putRingOnIt.emit(<span class=\"string\">\"oh oh oh\"</span>);</div><div class=\"line\"> &#125;</div><div class=\"line\"> &#125;</div></pre></td></tr></table></figure>\n<p>[] 输入 inputs  参数<br>() 输出 outputs 事件</p>\n<h3 id=\"六、-打印日志\"><a href=\"#六、-打印日志\" class=\"headerlink\" title=\"六、 打印日志\"></a>六、 打印日志</h3><p>可以使用 <code>${value}</code>来替换参数</p>\n<figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">addArticle(<span class=\"built_in\">title</span>: HTMLInputElement, link: HTMLInputElement): void &#123;</div><div class=\"line\"> console.<span class=\"built_in\">log</span>(`Adding article <span class=\"built_in\">title</span>: $&#123;<span class=\"built_in\">title</span>.value&#125; <span class=\"keyword\">and</span> link: $&#123;link.value&#125;`\\</div><div class=\"line\"> );</div><div class=\"line\">  &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"七、双向绑定\"><a href=\"#七、双向绑定\" class=\"headerlink\" title=\"七、双向绑定\"></a>七、双向绑定</h3><h4 id=\"1-模型到视图\"><a href=\"#1-模型到视图\" class=\"headerlink\" title=\"1. 模型到视图\"></a>1. 模型到视图</h4><p>[]  例如 [style.color]</p>\n<h4 id=\"2-视图到模型\"><a href=\"#2-视图到模型\" class=\"headerlink\" title=\"2. 视图到模型\"></a>2. 视图到模型</h4><p>()  例如 (click)</p>\n<h4 id=\"3-双向绑定\"><a href=\"#3-双向绑定\" class=\"headerlink\" title=\"3. 双向绑定\"></a>3. 双向绑定</h4><p>[()] 例如 [(ngModel)]</p>"},{"author":"小莫","date":"2016-06-26T16:00:00.000Z","title":"angular2学习笔记之服务和http","_content":"现在应用开发多为spa的前后分离,前后端通讯则使用http的接口通过json进行交互。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、 效果图\n\n#### 1. 展现出来的效果\n![](https://image.xiaomo.info/banner/httpService.png)\n\n#### 2. mysql的数据\n![](https://image.xiaomo.info/angular/mysql.png)\n\n### 二、代码实例\n\n#### 1. 服务 [service](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/service/UserService.ts)\n\n```\nimport {Injectable} from '@angular/core';\nimport { Http }from '@angular/http';\nimport * as api from './../api/Api';\nimport {Observable} from 'rxjs/Rx';\n\n@Injectable()\nexport class UserService {\n    data:any;\n\n    constructor(public http:Http) {\n        this.http = http;\n    }\n\n    findAll():Observable<any> {\n        return this.http.get(api.findAll).map((res:any)=> {\n            return res.json();\n        });\n    }\n}\n```\n\n#### 2.组件 [HttpService](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.ts)\n\n```\nimport {Component,OnInit} from '@angular/core';\nimport { UserService } from './../../service/UserService';\n\n\n@Component({\n    selector: 'http-service',\n    styles:[require('./HttpService.scss')],\n    template: require('./HttpService.html'),\n    providers: [UserService]\n})\n\nexport class HttpServiceComponent implements OnInit {\n\n    admins:Object;\n    data:Object;\n\n    constructor(public userService:UserService) {\n        this.userService = userService;\n    }\n\n\n    ngOnInit():void{\n        this.userService.findAll().subscribe((data:any) => {\n            this.admins = data.adminUsers.content;\n            console.log('in component : ',this.admins);\n        });\n        console.log(' HttpServiceComponent ngOnInit :', 'enter');\n    }\n\n}\n\n```\n\n#### 3. 模板 [HttpService.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.html)\n\n```\n<ul *ngFor=\"let item of admins;let i = index\">\n    <li>{{i+1}}.{{item.userName}}</li>\n</ul>\n```\n","source":"_posts/2016-06-27.angular2_study_service_http.md","raw":"---\nauthor: 小莫\ndate: 2016-06-27\ntitle: angular2学习笔记之服务和http\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2StudyServiceHttp\n---\n现在应用开发多为spa的前后分离,前后端通讯则使用http的接口通过json进行交互。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、 效果图\n\n#### 1. 展现出来的效果\n![](https://image.xiaomo.info/banner/httpService.png)\n\n#### 2. mysql的数据\n![](https://image.xiaomo.info/angular/mysql.png)\n\n### 二、代码实例\n\n#### 1. 服务 [service](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/service/UserService.ts)\n\n```\nimport {Injectable} from '@angular/core';\nimport { Http }from '@angular/http';\nimport * as api from './../api/Api';\nimport {Observable} from 'rxjs/Rx';\n\n@Injectable()\nexport class UserService {\n    data:any;\n\n    constructor(public http:Http) {\n        this.http = http;\n    }\n\n    findAll():Observable<any> {\n        return this.http.get(api.findAll).map((res:any)=> {\n            return res.json();\n        });\n    }\n}\n```\n\n#### 2.组件 [HttpService](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.ts)\n\n```\nimport {Component,OnInit} from '@angular/core';\nimport { UserService } from './../../service/UserService';\n\n\n@Component({\n    selector: 'http-service',\n    styles:[require('./HttpService.scss')],\n    template: require('./HttpService.html'),\n    providers: [UserService]\n})\n\nexport class HttpServiceComponent implements OnInit {\n\n    admins:Object;\n    data:Object;\n\n    constructor(public userService:UserService) {\n        this.userService = userService;\n    }\n\n\n    ngOnInit():void{\n        this.userService.findAll().subscribe((data:any) => {\n            this.admins = data.adminUsers.content;\n            console.log('in component : ',this.admins);\n        });\n        console.log(' HttpServiceComponent ngOnInit :', 'enter');\n    }\n\n}\n\n```\n\n#### 3. 模板 [HttpService.html](https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.html)\n\n```\n<ul *ngFor=\"let item of admins;let i = index\">\n    <li>{{i+1}}.{{item.userName}}</li>\n</ul>\n```\n","slug":"Angular2StudyServiceHttp","published":1,"updated":"2016-12-01T07:42:36.406Z","_id":"civ0ggq9c003trwvnr64kp1j4","comments":1,"layout":"post","photos":[],"link":"","content":"<p>现在应用开发多为spa的前后分离,前后端通讯则使用http的接口通过json进行交互。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-效果图\"><a href=\"#一、-效果图\" class=\"headerlink\" title=\"一、 效果图\"></a>一、 效果图</h3><h4 id=\"1-展现出来的效果\"><a href=\"#1-展现出来的效果\" class=\"headerlink\" title=\"1. 展现出来的效果\"></a>1. 展现出来的效果</h4><p><img src=\"https://image.xiaomo.info/banner/httpService.png\" alt=\"\"></p>\n<h4 id=\"2-mysql的数据\"><a href=\"#2-mysql的数据\" class=\"headerlink\" title=\"2. mysql的数据\"></a>2. mysql的数据</h4><p><img src=\"https://image.xiaomo.info/angular/mysql.png\" alt=\"\"></p>\n<h3 id=\"二、代码实例\"><a href=\"#二、代码实例\" class=\"headerlink\" title=\"二、代码实例\"></a>二、代码实例</h3><h4 id=\"1-服务-service\"><a href=\"#1-服务-service\" class=\"headerlink\" title=\"1. 服务 service\"></a>1. 服务 <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/service/UserService.ts\" target=\"_blank\" rel=\"external\">service</a></h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; from <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; Http &#125;from <span class=\"string\">'@angular/http'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> api from <span class=\"string\">'./../api/Api'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;Observable&#125; from <span class=\"string\">'rxjs/Rx'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@Injectable()</span></div><div class=\"line\">export <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserService</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">data</span>:any;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"keyword\">public</span> http:Http) &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.http = http;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    findAll():Observable&lt;any&gt; &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.http.<span class=\"keyword\">get</span>(api.findAll).map((res:any)=&gt; &#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> res.json();</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-组件-HttpService\"><a href=\"#2-组件-HttpService\" class=\"headerlink\" title=\"2.组件 HttpService\"></a>2.组件 <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.ts\" target=\"_blank\" rel=\"external\">HttpService</a></h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component,OnInit&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; UserService &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../../service/UserService'</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">'http-service'</span>,</div><div class=\"line\">    <span class=\"attr\">styles</span>:[<span class=\"built_in\">require</span>(<span class=\"string\">'./HttpService.scss'</span>)],</div><div class=\"line\">    <span class=\"attr\">template</span>: <span class=\"built_in\">require</span>(<span class=\"string\">'./HttpService.html'</span>),</div><div class=\"line\">    <span class=\"attr\">providers</span>: [UserService]</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpServiceComponent</span> <span class=\"title\">implements</span> <span class=\"title\">OnInit</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    admins:<span class=\"built_in\">Object</span>;</div><div class=\"line\">    data:<span class=\"built_in\">Object</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">constructor</span>(public userService:UserService) &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.userService = userService;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    ngOnInit():<span class=\"keyword\">void</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.userService.findAll().subscribe(<span class=\"function\">(<span class=\"params\">data:any</span>) =&gt;</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.admins = data.adminUsers.content;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'in component : '</span>,<span class=\"keyword\">this</span>.admins);</div><div class=\"line\">        &#125;);</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">' HttpServiceComponent ngOnInit :'</span>, <span class=\"string\">'enter'</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-模板-HttpService-html\"><a href=\"#3-模板-HttpService-html\" class=\"headerlink\" title=\"3. 模板 HttpService.html\"></a>3. 模板 <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.html\" target=\"_blank\" rel=\"external\">HttpService.html</a></h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of admins;let i = index\"</span>&gt;</span></span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span><span class=\"template-variable\">&#123;&#123;i+1&#125;&#125;</span><span class=\"xml\">.</span><span class=\"template-variable\">&#123;&#123;item.userName&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></div></pre></td></tr></table></figure>\n","excerpt":"<p>现在应用开发多为spa的前后分离,前后端通讯则使用http的接口通过json进行交互。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-效果图\"><a href=\"#一、-效果图\" class=\"headerlink\" title=\"一、 效果图\"></a>一、 效果图</h3><h4 id=\"1-展现出来的效果\"><a href=\"#1-展现出来的效果\" class=\"headerlink\" title=\"1. 展现出来的效果\"></a>1. 展现出来的效果</h4><p><img src=\"https://image.xiaomo.info/banner/httpService.png\" alt=\"\"></p>\n<h4 id=\"2-mysql的数据\"><a href=\"#2-mysql的数据\" class=\"headerlink\" title=\"2. mysql的数据\"></a>2. mysql的数据</h4><p><img src=\"https://image.xiaomo.info/angular/mysql.png\" alt=\"\"></p>\n<h3 id=\"二、代码实例\"><a href=\"#二、代码实例\" class=\"headerlink\" title=\"二、代码实例\"></a>二、代码实例</h3><h4 id=\"1-服务-service\"><a href=\"#1-服务-service\" class=\"headerlink\" title=\"1. 服务 service\"></a>1. 服务 <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/service/UserService.ts\">service</a></h4><figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Injectable&#125; from <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; Http &#125;from <span class=\"string\">'@angular/http'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> api from <span class=\"string\">'./../api/Api'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123;Observable&#125; from <span class=\"string\">'rxjs/Rx'</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@Injectable()</span></div><div class=\"line\">export <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UserService</span> </span>&#123;</div><div class=\"line\">    <span class=\"keyword\">data</span>:any;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">constructor</span>(<span class=\"keyword\">public</span> http:Http) &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.http = http;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    findAll():Observable&lt;any&gt; &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.http.<span class=\"keyword\">get</span>(api.findAll).map((res:any)=&gt; &#123;</div><div class=\"line\">            <span class=\"keyword\">return</span> res.json();</div><div class=\"line\">        &#125;);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-组件-HttpService\"><a href=\"#2-组件-HttpService\" class=\"headerlink\" title=\"2.组件 HttpService\"></a>2.组件 <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.ts\">HttpService</a></h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;Component,OnInit&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; UserService &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./../../service/UserService'</span>;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">@Component(&#123;</div><div class=\"line\">    <span class=\"attr\">selector</span>: <span class=\"string\">'http-service'</span>,</div><div class=\"line\">    <span class=\"attr\">styles</span>:[<span class=\"built_in\">require</span>(<span class=\"string\">'./HttpService.scss'</span>)],</div><div class=\"line\">    <span class=\"attr\">template</span>: <span class=\"built_in\">require</span>(<span class=\"string\">'./HttpService.html'</span>),</div><div class=\"line\">    <span class=\"attr\">providers</span>: [UserService]</div><div class=\"line\">&#125;)</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HttpServiceComponent</span> <span class=\"title\">implements</span> <span class=\"title\">OnInit</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    admins:<span class=\"built_in\">Object</span>;</div><div class=\"line\">    data:<span class=\"built_in\">Object</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">constructor</span>(public userService:UserService) &#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.userService = userService;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    ngOnInit():<span class=\"keyword\">void</span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.userService.findAll().subscribe(<span class=\"function\">(<span class=\"params\">data:any</span>) =&gt;</span> &#123;</div><div class=\"line\">            <span class=\"keyword\">this</span>.admins = data.adminUsers.content;</div><div class=\"line\">            <span class=\"built_in\">console</span>.log(<span class=\"string\">'in component : '</span>,<span class=\"keyword\">this</span>.admins);</div><div class=\"line\">        &#125;);</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">' HttpServiceComponent ngOnInit :'</span>, <span class=\"string\">'enter'</span>);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-模板-HttpService-html\"><a href=\"#3-模板-HttpService-html\" class=\"headerlink\" title=\"3. 模板 HttpService.html\"></a>3. 模板 <a href=\"https://github.com/syoubaku/angular2-demo/blob/master/src/ts/component/httpService/HttpService.html\">HttpService.html</a></h4><figure class=\"highlight django\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> *<span class=\"attr\">ngFor</span>=<span class=\"string\">\"let item of admins;let i = index\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"template-variable\">&#123;&#123;i+1&#125;&#125;</span><span class=\"xml\">.</span><span class=\"template-variable\">&#123;&#123;item.userName&#125;&#125;</span><span class=\"xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-29T16:00:00.000Z","title":"angular2学习笔记之动画效果","_content":"动画是现代 Web 应用设计中一个很重要的方面。我们希望用户界面能在不同的状态之间更平滑的转场。如果需要，还可以用适当的动画来吸引注意力。 设计良好的动画不但会让 UI 更有趣，还会让它更容易使用。Angular 的动画系统赋予了制作各种动画效果的能力，以构建出与原生 CSS 动画性能相同的动画。 我们也获得了额外的让动画逻辑与其它应用代码紧紧集成在一起的能力，这让动画可以被更容易的触发与控制。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、在两个状态间转场\n#### 1. 构建一个动画\n它会让一个元素用模型驱动的方式在两个状态之间转场。动画会被定义在 `@Component` 元数据中。在添加动画之前，先引入一些与动画有关的函数\n\n```\nimport {\n  Component,\n  Input,\n  trigger,\n  state,\n  style,\n  transition,\n  animate\n} from '@angular/core';\n//通过这些，可以在组件元数据中定义一个名叫 heroState 的 动画触发器 。它在两个状态 active 和 inactive 之间进行转场。 当英雄处于激活状态时，它会把该元素显示得稍微大一点、亮一点。\nimport { Heroes } from './hero.service';\n@Component({\n  moduleId: module.id,\n  selector: 'hero-list-basic',\n  template: `\n    <ul>\n      <li *ngFor=\"let hero of heroes\"\n          @heroState=\"hero.state\"\n          (click)=\"hero.toggleState()\">\n        {{hero.name}}\n      </li>\n    </ul>\n  `,\n  styleUrls: ['hero-list.component.css'],\n  animations: [\n    trigger('heroState', [\n      state('inactive', style({\n        backgroundColor: '#eee',\n        transform: 'scale(1)'\n      })),\n      state('active',   style({\n        backgroundColor: '#cfd8dc',\n        transform: 'scale(1.1)'\n      })),\n      transition('inactive => active', animate('100ms ease-in')),\n      transition('active => inactive', animate('100ms ease-out'))\n    ])\n  ]\n})\nexport class HeroListBasicComponent {\n  @Input() heroes: Heroes;\n}\n//我们刚刚定义了一个动画，但它还没有被用到任何地方。要想使用它，可以在模板中用 @triggerName 语法来把它附加到一个或多个元素上。\n```\n","source":"_posts/2016-06-30.angular2_study_animate.md","raw":"---\nauthor: 小莫\ndate: 2016-06-30\ntitle: angular2学习笔记之动画效果\ntags:\n- webpack\n- javascript\n- angular2\n- sass\n- typescript\ncategory: angular2\npermalink: Angular2studyAnimate\n---\n动画是现代 Web 应用设计中一个很重要的方面。我们希望用户界面能在不同的状态之间更平滑的转场。如果需要，还可以用适当的动画来吸引注意力。 设计良好的动画不但会让 UI 更有趣，还会让它更容易使用。Angular 的动画系统赋予了制作各种动画效果的能力，以构建出与原生 CSS 动画性能相同的动画。 我们也获得了额外的让动画逻辑与其它应用代码紧紧集成在一起的能力，这让动画可以被更容易的触发与控制。[angular2-demo](https://github.com/syoubaku/angular2-demo)\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、在两个状态间转场\n#### 1. 构建一个动画\n它会让一个元素用模型驱动的方式在两个状态之间转场。动画会被定义在 `@Component` 元数据中。在添加动画之前，先引入一些与动画有关的函数\n\n```\nimport {\n  Component,\n  Input,\n  trigger,\n  state,\n  style,\n  transition,\n  animate\n} from '@angular/core';\n//通过这些，可以在组件元数据中定义一个名叫 heroState 的 动画触发器 。它在两个状态 active 和 inactive 之间进行转场。 当英雄处于激活状态时，它会把该元素显示得稍微大一点、亮一点。\nimport { Heroes } from './hero.service';\n@Component({\n  moduleId: module.id,\n  selector: 'hero-list-basic',\n  template: `\n    <ul>\n      <li *ngFor=\"let hero of heroes\"\n          @heroState=\"hero.state\"\n          (click)=\"hero.toggleState()\">\n        {{hero.name}}\n      </li>\n    </ul>\n  `,\n  styleUrls: ['hero-list.component.css'],\n  animations: [\n    trigger('heroState', [\n      state('inactive', style({\n        backgroundColor: '#eee',\n        transform: 'scale(1)'\n      })),\n      state('active',   style({\n        backgroundColor: '#cfd8dc',\n        transform: 'scale(1.1)'\n      })),\n      transition('inactive => active', animate('100ms ease-in')),\n      transition('active => inactive', animate('100ms ease-out'))\n    ])\n  ]\n})\nexport class HeroListBasicComponent {\n  @Input() heroes: Heroes;\n}\n//我们刚刚定义了一个动画，但它还没有被用到任何地方。要想使用它，可以在模板中用 @triggerName 语法来把它附加到一个或多个元素上。\n```\n","slug":"Angular2studyAnimate","published":1,"updated":"2016-12-01T06:50:28.744Z","_id":"civ0ggq9m0041rwvnykl3zdef","comments":1,"layout":"post","photos":[],"link":"","content":"<p>动画是现代 Web 应用设计中一个很重要的方面。我们希望用户界面能在不同的状态之间更平滑的转场。如果需要，还可以用适当的动画来吸引注意力。 设计良好的动画不但会让 UI 更有趣，还会让它更容易使用。Angular 的动画系统赋予了制作各种动画效果的能力，以构建出与原生 CSS 动画性能相同的动画。 我们也获得了额外的让动画逻辑与其它应用代码紧紧集成在一起的能力，这让动画可以被更容易的触发与控制。<a href=\"https://github.com/syoubaku/angular2-demo\" target=\"_blank\" rel=\"external\">angular2-demo</a><br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、在两个状态间转场\"><a href=\"#一、在两个状态间转场\" class=\"headerlink\" title=\"一、在两个状态间转场\"></a>一、在两个状态间转场</h3><h4 id=\"1-构建一个动画\"><a href=\"#1-构建一个动画\" class=\"headerlink\" title=\"1. 构建一个动画\"></a>1. 构建一个动画</h4><p>它会让一个元素用模型驱动的方式在两个状态之间转场。动画会被定义在 <code>@Component</code> 元数据中。在添加动画之前，先引入一些与动画有关的函数</p>\n<figure class=\"highlight moonscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;</div><div class=\"line\">  Component,</div><div class=\"line\">  Input,</div><div class=\"line\">  trigger,</div><div class=\"line\">  state,</div><div class=\"line\">  style,</div><div class=\"line\">  transition,</div><div class=\"line\">  animate</div><div class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\">//通过这些，可以在组件元数据中定义一个名叫 heroState 的 动画触发器 。它在两个状态 active 和 inactive 之间进行转场。 当英雄处于激活状态时，它会把该元素显示得稍微大一点、亮一点。</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; Heroes &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</div><div class=\"line\">@Component(&#123;</div><div class=\"line\">  <span class=\"name\">moduleId</span>: <span class=\"built_in\">module</span>.id,</div><div class=\"line\">  <span class=\"name\">selector</span>: <span class=\"string\">'hero-list-basic'</span>,</div><div class=\"line\">  <span class=\"name\">template</span>: `</div><div class=\"line\">    &lt;ul&gt;</div><div class=\"line\">      &lt;li *ngFor=<span class=\"string\">\"let hero of heroes\"</span></div><div class=\"line\">          @heroState=<span class=\"string\">\"hero.state\"</span></div><div class=\"line\">          (click)=<span class=\"string\">\"hero.toggleState()\"</span>&gt;</div><div class=\"line\">        &#123;&#123;hero.name&#125;&#125;</div><div class=\"line\">      &lt;/li&gt;</div><div class=\"line\">    &lt;/ul&gt;</div><div class=\"line\">  `,</div><div class=\"line\">  <span class=\"name\">styleUrls</span>: [<span class=\"string\">'hero-list.component.css'</span>],</div><div class=\"line\">  <span class=\"name\">animations</span>: [</div><div class=\"line\">    trigger(<span class=\"string\">'heroState'</span>, [</div><div class=\"line\">      state(<span class=\"string\">'inactive'</span>, style(&#123;</div><div class=\"line\">        <span class=\"name\">backgroundColor</span>: <span class=\"string\">'#eee'</span>,</div><div class=\"line\">        <span class=\"name\">transform</span>: <span class=\"string\">'scale(1)'</span></div><div class=\"line\">      &#125;)),</div><div class=\"line\">      state(<span class=\"string\">'active'</span>,   style(&#123;</div><div class=\"line\">        <span class=\"name\">backgroundColor</span>: <span class=\"string\">'#cfd8dc'</span>,</div><div class=\"line\">        <span class=\"name\">transform</span>: <span class=\"string\">'scale(1.1)'</span></div><div class=\"line\">      &#125;)),</div><div class=\"line\">      transition(<span class=\"string\">'inactive =&gt; active'</span>, animate(<span class=\"string\">'100ms ease-in'</span>)),</div><div class=\"line\">      transition(<span class=\"string\">'active =&gt; inactive'</span>, animate(<span class=\"string\">'100ms ease-out'</span>))</div><div class=\"line\">    ])</div><div class=\"line\">  ]</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HeroListBasicComponent</span> &#123;</span></div><div class=\"line\">  @Input() <span class=\"name\">heroes</span>: Heroes;</div><div class=\"line\">&#125;</div><div class=\"line\">//我们刚刚定义了一个动画，但它还没有被用到任何地方。要想使用它，可以在模板中用 @triggerName 语法来把它附加到一个或多个元素上。</div></pre></td></tr></table></figure>\n","excerpt":"<p>动画是现代 Web 应用设计中一个很重要的方面。我们希望用户界面能在不同的状态之间更平滑的转场。如果需要，还可以用适当的动画来吸引注意力。 设计良好的动画不但会让 UI 更有趣，还会让它更容易使用。Angular 的动画系统赋予了制作各种动画效果的能力，以构建出与原生 CSS 动画性能相同的动画。 我们也获得了额外的让动画逻辑与其它应用代码紧紧集成在一起的能力，这让动画可以被更容易的触发与控制。<a href=\"https://github.com/syoubaku/angular2-demo\">angular2-demo</a><br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、在两个状态间转场\"><a href=\"#一、在两个状态间转场\" class=\"headerlink\" title=\"一、在两个状态间转场\"></a>一、在两个状态间转场</h3><h4 id=\"1-构建一个动画\"><a href=\"#1-构建一个动画\" class=\"headerlink\" title=\"1. 构建一个动画\"></a>1. 构建一个动画</h4><p>它会让一个元素用模型驱动的方式在两个状态之间转场。动画会被定义在 <code>@Component</code> 元数据中。在添加动画之前，先引入一些与动画有关的函数</p>\n<figure class=\"highlight moonscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;</div><div class=\"line\">  Component,</div><div class=\"line\">  Input,</div><div class=\"line\">  trigger,</div><div class=\"line\">  state,</div><div class=\"line\">  style,</div><div class=\"line\">  transition,</div><div class=\"line\">  animate</div><div class=\"line\">&#125; <span class=\"keyword\">from</span> <span class=\"string\">'@angular/core'</span>;</div><div class=\"line\">//通过这些，可以在组件元数据中定义一个名叫 heroState 的 动画触发器 。它在两个状态 active 和 inactive 之间进行转场。 当英雄处于激活状态时，它会把该元素显示得稍微大一点、亮一点。</div><div class=\"line\"><span class=\"keyword\">import</span> &#123; Heroes &#125; <span class=\"keyword\">from</span> <span class=\"string\">'./hero.service'</span>;</div><div class=\"line\">@Component(&#123;</div><div class=\"line\">  <span class=\"name\">moduleId</span>: <span class=\"built_in\">module</span>.id,</div><div class=\"line\">  <span class=\"name\">selector</span>: <span class=\"string\">'hero-list-basic'</span>,</div><div class=\"line\">  <span class=\"name\">template</span>: `</div><div class=\"line\">    &lt;ul&gt;</div><div class=\"line\">      &lt;li *ngFor=<span class=\"string\">\"let hero of heroes\"</span></div><div class=\"line\">          @heroState=<span class=\"string\">\"hero.state\"</span></div><div class=\"line\">          (click)=<span class=\"string\">\"hero.toggleState()\"</span>&gt;</div><div class=\"line\">        &#123;&#123;hero.name&#125;&#125;</div><div class=\"line\">      &lt;/li&gt;</div><div class=\"line\">    &lt;/ul&gt;</div><div class=\"line\">  `,</div><div class=\"line\">  <span class=\"name\">styleUrls</span>: [<span class=\"string\">'hero-list.component.css'</span>],</div><div class=\"line\">  <span class=\"name\">animations</span>: [</div><div class=\"line\">    trigger(<span class=\"string\">'heroState'</span>, [</div><div class=\"line\">      state(<span class=\"string\">'inactive'</span>, style(&#123;</div><div class=\"line\">        <span class=\"name\">backgroundColor</span>: <span class=\"string\">'#eee'</span>,</div><div class=\"line\">        <span class=\"name\">transform</span>: <span class=\"string\">'scale(1)'</span></div><div class=\"line\">      &#125;)),</div><div class=\"line\">      state(<span class=\"string\">'active'</span>,   style(&#123;</div><div class=\"line\">        <span class=\"name\">backgroundColor</span>: <span class=\"string\">'#cfd8dc'</span>,</div><div class=\"line\">        <span class=\"name\">transform</span>: <span class=\"string\">'scale(1.1)'</span></div><div class=\"line\">      &#125;)),</div><div class=\"line\">      transition(<span class=\"string\">'inactive =&gt; active'</span>, animate(<span class=\"string\">'100ms ease-in'</span>)),</div><div class=\"line\">      transition(<span class=\"string\">'active =&gt; inactive'</span>, animate(<span class=\"string\">'100ms ease-out'</span>))</div><div class=\"line\">    ])</div><div class=\"line\">  ]</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"keyword\">export</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">HeroListBasicComponent</span> &#123;</span></div><div class=\"line\">  @Input() <span class=\"name\">heroes</span>: Heroes;</div><div class=\"line\">&#125;</div><div class=\"line\">//我们刚刚定义了一个动画，但它还没有被用到任何地方。要想使用它，可以在模板中用 @triggerName 语法来把它附加到一个或多个元素上。</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-06-30T16:00:00.000Z","title":"5年学习计划","_content":"2015年，软件开发界发生了很多变化。有很多流行的新语言发布了，也有很多重要的框架和工具发布了新版本。下面有一个我们觉得最重要的简短清单，同时也有我们觉得值得你在2016年花时间精力去学习的新事物的一些建议。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/2016.png)](https://github.com/syoubaku)\n\n### 一、开发工具\n\n#### 1. atom\n\nAtom 代码编辑器支持 Windows、Mac、Linux 三大桌面平台，完全免费，并且已经在 GitHub 上开放了全部的源代码。在经过一段长时间的迭代开发和不断改进后，Atom 终于从早期的测试版达到了 1.0 正式版了！相比之前的版本，在性能和稳定性方面都有着显著的改善。\n\n#### 2. idea\nIDEA 全称IntelliJ IDEA，是java语言开发的集成环境，IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查、 创新的GUI设计等方面的功能可以说是超常的。IDEA是JetBrains公司的产品，这家公司总部位于捷克共和国的首都布拉格，开发人员以严谨著称的东欧程序员为主。\n\n#### 3. eclipse\n虽然用上了IDEA之后再也不想回到eclipse。虽然它恶心，但是它毕竟伴随了很多程序员大部分时间，给点最起码的尊重。\n\n#### 4. lodash\nlodash一开始是Underscore.js库的一个fork，因为和其他(Underscore.js的)贡献者意见相左。John-David Dalton的最初目标，是提供更多“一致的跨浏览器行为……，并改善性能”。之后，该项目在现有成功的基础之上取得了更大的成果。最近lodash也发布了3.5版，成为了npm包仓库中依赖最多的库。它正在摆脱屌丝身份，成为开发者的常规的选择之一。\n#### 5. fetch\n对于 AJAX，现在一般都是使用各种框架实现，其本质是 XMLHttpRequest。使用过原生XMLHttpRequest的人都知道，这种方法实现起来不太方便。现在，我们有了新的选择：Fetch API。\n#### 6. Electron\nElectron 框架的前身是 Atom Shell，可以让你写使用 JavaScript，HTML 和 CSS 构建跨平台的桌面应用程序。它是基于io.js 和 Chromium 开源项目，并用于在 Atom 编辑器中。Electron 是开源的，由 GitHub 维护，有一个活跃的社区。最重要的是，Electron 应用服务构建和运行在 Mac，Windows 和 Linux。\n\n### 二、javascript框架\n\n#### 1. angular2\n\n##### 跨平台开发\n学习如何基于 Angular 构建应用程序，并复用代码和技能来构建适用于所有平台的应用。比如： Web 应用、移动 Web 应用、原生移动应用和原生桌面应用等。\n##### 速度与性能\n通过 Web Worker 和服务端渲染，达到在如今 ( 以及未来）的 Web 平台上所能达到的最高速度。\nAngular 让你有效掌控可伸缩性。基于 RxJS 、 Immutable.js 和其它推送模型，能适应海量数据需求。\n##### 美妙的工具\n使用简单的声明式模板，快速实现各种特性。使用自定义组件和大量现有组件，扩展模板语言。在几乎所有的 IDE 中获得针对 Angular 的即时帮助和反馈。所有这一切，都是为了帮助你编写漂亮的应用，而不是绞尽脑汁的让代码“能用”。\n#### 2. react+redux\nReact+Redux非常精炼，良好运用将发挥出极强劲的生产力。但最大的挑战来自于函数式编程（FP）范式。在工程化过程中，架构（顶层）设计将是一个巨大的挑战。要不然做出来的东西可能是一团乱麻。说到底，传统框架与react+redux就是OO与FP编程范式的对决。\n#### 3. jquery\nJQuery是继prototype之后又一个优秀的Javascript库。它是轻量级的js库 ，它兼容CSS3，还兼容各种浏览器（IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+），jQuery2.0及后续版本将不再支持IE6/7/8浏览器。\n\n### 三、node相关技术\n\n#### 1. npm\nNPM（node package manager），通常称为node包管理器。顾名思义，它的主要功能就是管理node包，包括：安装、卸载、更新、查看、搜索、发布等。\n#### 2. koa2\nkoa 是由 Express 原班人马打造的，致力于成为一个更小、更富有表现力、更健壮的 Web 框架。使用 koa 编写 web 应用，通过组合不同的 generator，可以免除重复繁琐的回调函数嵌套，并极大地提升错误处理的效率。koa 不在内核方法中绑定任何中间件，它仅仅提供了一个轻量优雅的函数库，使得编写 Web 应用变得得心应手。\n#### 3. rxjs\n是一组库使用可观察到的集合和阵列、演员风格组成，组成异步和基于事件的程序。\n#### 4. zonejs\n在ng2的开发过程中，Angular团队为我们带来了一个新的库 – zone.js。zone.js的设计灵感来源于Dart语言，它描述JavaScript执行过程的上下文，可以在异步任务之间进行持久性传递，它类似于Java中的TLS（thread-local storage: 线程本地存储）技术，zone.js则是将TLS引入到JavaScript语言中的实现框架。\n### 四、设计模式\n#### 1. [javascript设计模式](https://blog.xiaomo.info/2016/07/02/javascript_design_pattern/)\n#### 2. java设计模式\n\n### 五、编程语言\n#### 1. javascript\nJavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。\n#### 2. ecmscript6\nES6是继ES5之后的一次主要改进，语言规范由ES5.1时代的245页扩充至600页。ES6增添了许多必要的特性，例如：模块和类，以及一些实用特性，例如Maps、Sets、Promises、生成器（Generators）等。尽管ES6做了大量的更新，但是它依旧完全向后兼容以前的版本，标准化委员会决定避免由不兼容版本语言导致的“web体验破碎”。结果是，所有老代码都可以正常运行，整个过渡也显得更为平滑，但随之而来的问题是，开发者们抱怨了多年的老问题依然存在。\n#### 3. typesript\ntypescript是JavaScript的超集。TypeScript是JavaScript类型的超集，它可以编译成纯JavaScript。TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。\n#### 4. java\njava是继c/c++使用最广泛的开发语言，写java真的是越写越觉得舒服。java生态环境十分良好，有大量优秀的开源框架以供选择。\n##### 1. spring\nSpring 是一个开源框架，是为了解决企业应用程序开发复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许您选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。 \n##### 2. struts2\nStruts2框架是一个轻量级的MVC流程框架，轻量级是指程序的代码不是很多，运行时占用的资源不是很多，MVC流程框架就是说它是支持分层开发，控制数据的流程，从哪里来，到那里去，怎么来，怎么去的这样一个框架\n##### 3. hibernate\nhibernate是轻量级JavaEE应用的一个持久层框架。它的作用在于管理Java实体类到数据库表之间的映射关系，并且提供数据查询和获取数据的方法，可以大幅度的缩短使用JDBC处理数据持久化的时间。\n##### 4. mybatis\n一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO），同时还提供一个利用这个框架开发的 JPetStore实例\n##### 5. springMVC\nSpring MVC框架是有一个MVC框架，通过实现Model-View-Controller模式来很好地将数据、业务与展现进行分离。从这样一个角度来说，Spring MVC和Struts、Struts2非常类似。Spring MVC的设计是围绕DispatcherServlet展开的，DispatcherServlet负责将请求派发到特定的handler\n##### 6. Play Framework\n有别于其他臃肿的企业级 Java 框架，简洁的 Play 框架提供另外一种选择，它关注于开发者的效率和 RESTful 风格的架构。Play 是 敏捷软件开发的完美伴侣。\n\n\n### 六、数据存储\n#### 1. mysql\nMySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。\n#### 2. mongodb\nMongoDB 是一个基于分布式文件存储的数据库。由 C++ 语言编写。旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。\n#### 3. redis\nRedis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。\n#### 4. cookie\nCookie，有时也用其复数形式Cookies，指某些网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）\n#### 5. access token\nWindows操作系统安全性的一个概念。一个访问令牌包含了此登陆会话的安全信息。当用户登陆时，系统创建一个访问令牌，然后以该用户身份运行的的所有进程都拥有该令牌的一个拷贝。该令牌唯一表示该用户、用户的组和用户的特权。系统使用令牌控制用户可以访问哪些安全对象，并控制用户执行相关系统操作的能力。有两种令牌：主令牌和模拟的令牌。主令牌是与进程相关的；模拟的令牌是与模拟令牌的线程相关的。\n\n### 七、html5+css3\n#### 1. html5\nHTML5是HTML最新的修订版本，2014年10月由万维网联盟（W3C）完成标准制定。\nHTML5的设计目的是为了在移动设备上支持多媒体。\nHTML5 简单易学。\n#### 2. canvas\nTML5 <canvas> 标签用于绘制图像（通过脚本，通常是 JavaScript）。不过，<canvas> 元素本身并没有绘制能力（它仅仅是图形的容器） - 您必须使用脚本来完成实际的绘图任务。getContext() 方法可返回一个对象，该对象提供了用于在画布上绘图的方法和属性。\n#### 3. css3\nCSS3是CSS技术的一个升级版本，是由Adobe、Systems、Apple、Google、HP、IBM、Microsoft、Mozilla、Opera、Sun Microsystems 等许多WEB界的巨头联合组织的一个名为 “CSS Working Group” 的组织共同协商策划的。虽然目前很多细节还在讨论之中，但它还是不断地朝前发展着。2010年在HTML5成为IT界人士关注的焦点的同时，它也开始慢慢地普及开来。\n#### 4. sass\nSASS是一种CSS的开发工具，提供了许多便利的写法，大大节省了设计者的时间，使得CSS的开发，变得简单和可维护。\n#### 5. 白鹭引擎\n白鹭引擎是一个开源的、跨平台的手机游戏开发引擎,你可以快速地创建HTML5类型的移动游戏,也可以将游戏项目编译输出成为目标移动平台的原生游戏应用。\n\n### 八、算法和数据结构\n#### 1. 线型查找\n在一列给定的值中进行搜索，从一端开始逐一检查每个元素，直到找到所需元素的过程。线性查找又称为顺序查找·如果查找池是某种类型的一个表，比如一个数组，简单的查找方法是从表头开始，一次将每一个值与目标元素进行比较，最后，或者查找到目标，或者达到表尾，而目标不存在于组中，这个方法称为线性查找。\n#### 2. 二分查找\n二分查找又称折半查找，优点是比较次数少，查找速度快，平均性能好；其缺点是要求待查表为有序表，且插入删除困难。因此，折半查找方法适用于不经常变动而查找频繁的有序列表。首先，假设表中元素是按升序排列，将表中间位置记录的关键字与查找关键字比较，如果两者相等，则查找成功；否则利用中间位置记录将表分成前、后两个子表，如果中间位置记录的关键字大于查找关键字，则进一步查找前一子表，否则进一步查找后一子表。重复以上过程，直到找到满足条件的记录，使查找成功，或直到子表不存在为止，此时查找不成功。\n#### 3. 冒泡排序\n冒泡排序（Bubble Sort），是一种计算机科学领域的较简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。\n#### 4. 选择排序\n选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理是每一次从待排序的数据元素中选出最小（或最大）的一个元素，存放在序列的起始位置，直到全部待排序的数据元素排完。 选择排序是不稳定的排序方法（比如序列[5， 5， 3]第一次就将第一个[5]与[3]交换，导致第一个5挪动到第二个5后面）。\n#### 5. 插入排序\n插入排序的基本思想是：每步将一个待排序的纪录，按其关键码值的大小插入前面已经排序的文件中适当位置上，直到全部插入完为止。\n#### 6. 字符串反转\n\n```\nvar str = '123';\nvar newStr = str.split(\"\").reverse().join(\"\");\nalert(newStr);\n```\n\n#### 7. 搜索算法\n搜索算法是利用计算机的高性能来有目的的穷举一个问题解空间的部分或所有的可能情况，从而求出问题的解的一种方法。搜索算法实际上是根据初始条件和扩展规则构造一棵“解答树”并寻找符合目标状态的节点的过程。\n#### 8. 贪心算法\n贪心算法（又称贪婪算法）是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，不从整体最优上加以考虑，他所做出的是在某种意义上的局部最优解。贪心算法不是对所有问题都能得到整体最优解，关键是贪心策略的选择，选择的贪心策略必须具备无后效性，即某个状态以前的过程不会影响以后的状态，只与当前状态有关。\n#### 9. tween算法\nFlash做动画时会用到Tween类，利用它可以做很多动画效果，例如缓动、弹簧等等。\n#### 10. javascript算法库\n - [numbers.js](https://github.com/sjkaliski/numbers.js/)\n - [Numeric Javascript ](http://www.numericjs.com/)\n - [Tangle](http://worrydream.com/Tangle/)\n - [accounting.js](http://josscrowcroft.github.io/accounting.js/)\n### 九、测试框架\n#### 1. mocha\nmocha 是一个简单、灵活有趣的 JavaScript 测试框架，用于 Node.js 和浏览器上的 JavaScript 应用测试。Mocha 是具有丰富特性的 JavaScript 测试框架，可以运行在 Node.js 和浏览器中，使得异步测试更简单更有趣。Mocha 可以持续运行测试，支持灵活又准确的报告，当映射到未捕获异常时转到正确的测试示例。\n#### 2. karma\nKarma是Testacular的新名字，在2012年google开源了Testacular，2013年Testacular改名为Karma。Karma是一个让人感到非常神秘的名字，表示佛教中的缘分，因果报应，比Cassandra这种名字更让人猜不透！Karma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流Web浏览器，也可集成到CI（Continuous integration）工具，也可和其他代码编辑器一起使用。这个测试工具的一个强大特性就是，它可以监控(Watch)文件的变化，然后自行执行，通过console.log显示测试结果。\n#### 3. jasmine\nJasmine （茉莉）是一款 JavaScript BDD（行为驱动开发）测试框架，它不依赖于其他任何 JavaScript 组件。它有干净清晰的语法，让您可以很简单的写出测试代码。对基于 JavaScript 的开发来说，它是一款不错的测试框架选择。\n#### 4. chai\nChai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。\n#### 5.Qunit\n该框架诞生之初是为了jquery的单元测试，后来独立出来不再依赖于jquery本身，但是其身上还是脱离不开jquery的影子\n#### 6. should.js:\nTJ的另外一个开源贡献\n#### 7. expect.js\nBDD风格的另外一个断言库，基于should.js,是mini版的BDD库\n#### 8. assert\nnode自带核心模块: 可以在node中使用的断言模块\n\n### 十、[重构](http://www.raychase.net/138)\n#### 1. 命名\n 模块划分和命名空间\n#### 2. 加载\njs的动态加载\n#### 3. 测试\nJavascript的测试\n#### 4. 编码\n Javascript编码规则\n#### 5. 闭包\n 利用原型/闭包开发组件\n#### 6. 继承\n 利用继承来做事\n#### 7. 重用\n 重用老代码\n#### 8. 检测\n JSDoc和JSLint\n#### 9.  框架\n自定义JavaScript产品框架\n#### 10.  强化\n强化对象封装和模块封装\n","source":"_posts/2016-07-01.year_2016_study_plan.md","raw":"---\nauthor: 小莫\ndate: 2016-07-01\ntitle: 5年学习计划\ntags:\n- 技术\ncategory: 生活\npermalink: 2016StudyPlan\n---\n2015年，软件开发界发生了很多变化。有很多流行的新语言发布了，也有很多重要的框架和工具发布了新版本。下面有一个我们觉得最重要的简短清单，同时也有我们觉得值得你在2016年花时间精力去学习的新事物的一些建议。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/2016.png)](https://github.com/syoubaku)\n\n### 一、开发工具\n\n#### 1. atom\n\nAtom 代码编辑器支持 Windows、Mac、Linux 三大桌面平台，完全免费，并且已经在 GitHub 上开放了全部的源代码。在经过一段长时间的迭代开发和不断改进后，Atom 终于从早期的测试版达到了 1.0 正式版了！相比之前的版本，在性能和稳定性方面都有着显著的改善。\n\n#### 2. idea\nIDEA 全称IntelliJ IDEA，是java语言开发的集成环境，IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查、 创新的GUI设计等方面的功能可以说是超常的。IDEA是JetBrains公司的产品，这家公司总部位于捷克共和国的首都布拉格，开发人员以严谨著称的东欧程序员为主。\n\n#### 3. eclipse\n虽然用上了IDEA之后再也不想回到eclipse。虽然它恶心，但是它毕竟伴随了很多程序员大部分时间，给点最起码的尊重。\n\n#### 4. lodash\nlodash一开始是Underscore.js库的一个fork，因为和其他(Underscore.js的)贡献者意见相左。John-David Dalton的最初目标，是提供更多“一致的跨浏览器行为……，并改善性能”。之后，该项目在现有成功的基础之上取得了更大的成果。最近lodash也发布了3.5版，成为了npm包仓库中依赖最多的库。它正在摆脱屌丝身份，成为开发者的常规的选择之一。\n#### 5. fetch\n对于 AJAX，现在一般都是使用各种框架实现，其本质是 XMLHttpRequest。使用过原生XMLHttpRequest的人都知道，这种方法实现起来不太方便。现在，我们有了新的选择：Fetch API。\n#### 6. Electron\nElectron 框架的前身是 Atom Shell，可以让你写使用 JavaScript，HTML 和 CSS 构建跨平台的桌面应用程序。它是基于io.js 和 Chromium 开源项目，并用于在 Atom 编辑器中。Electron 是开源的，由 GitHub 维护，有一个活跃的社区。最重要的是，Electron 应用服务构建和运行在 Mac，Windows 和 Linux。\n\n### 二、javascript框架\n\n#### 1. angular2\n\n##### 跨平台开发\n学习如何基于 Angular 构建应用程序，并复用代码和技能来构建适用于所有平台的应用。比如： Web 应用、移动 Web 应用、原生移动应用和原生桌面应用等。\n##### 速度与性能\n通过 Web Worker 和服务端渲染，达到在如今 ( 以及未来）的 Web 平台上所能达到的最高速度。\nAngular 让你有效掌控可伸缩性。基于 RxJS 、 Immutable.js 和其它推送模型，能适应海量数据需求。\n##### 美妙的工具\n使用简单的声明式模板，快速实现各种特性。使用自定义组件和大量现有组件，扩展模板语言。在几乎所有的 IDE 中获得针对 Angular 的即时帮助和反馈。所有这一切，都是为了帮助你编写漂亮的应用，而不是绞尽脑汁的让代码“能用”。\n#### 2. react+redux\nReact+Redux非常精炼，良好运用将发挥出极强劲的生产力。但最大的挑战来自于函数式编程（FP）范式。在工程化过程中，架构（顶层）设计将是一个巨大的挑战。要不然做出来的东西可能是一团乱麻。说到底，传统框架与react+redux就是OO与FP编程范式的对决。\n#### 3. jquery\nJQuery是继prototype之后又一个优秀的Javascript库。它是轻量级的js库 ，它兼容CSS3，还兼容各种浏览器（IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+），jQuery2.0及后续版本将不再支持IE6/7/8浏览器。\n\n### 三、node相关技术\n\n#### 1. npm\nNPM（node package manager），通常称为node包管理器。顾名思义，它的主要功能就是管理node包，包括：安装、卸载、更新、查看、搜索、发布等。\n#### 2. koa2\nkoa 是由 Express 原班人马打造的，致力于成为一个更小、更富有表现力、更健壮的 Web 框架。使用 koa 编写 web 应用，通过组合不同的 generator，可以免除重复繁琐的回调函数嵌套，并极大地提升错误处理的效率。koa 不在内核方法中绑定任何中间件，它仅仅提供了一个轻量优雅的函数库，使得编写 Web 应用变得得心应手。\n#### 3. rxjs\n是一组库使用可观察到的集合和阵列、演员风格组成，组成异步和基于事件的程序。\n#### 4. zonejs\n在ng2的开发过程中，Angular团队为我们带来了一个新的库 – zone.js。zone.js的设计灵感来源于Dart语言，它描述JavaScript执行过程的上下文，可以在异步任务之间进行持久性传递，它类似于Java中的TLS（thread-local storage: 线程本地存储）技术，zone.js则是将TLS引入到JavaScript语言中的实现框架。\n### 四、设计模式\n#### 1. [javascript设计模式](https://blog.xiaomo.info/2016/07/02/javascript_design_pattern/)\n#### 2. java设计模式\n\n### 五、编程语言\n#### 1. javascript\nJavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。\n#### 2. ecmscript6\nES6是继ES5之后的一次主要改进，语言规范由ES5.1时代的245页扩充至600页。ES6增添了许多必要的特性，例如：模块和类，以及一些实用特性，例如Maps、Sets、Promises、生成器（Generators）等。尽管ES6做了大量的更新，但是它依旧完全向后兼容以前的版本，标准化委员会决定避免由不兼容版本语言导致的“web体验破碎”。结果是，所有老代码都可以正常运行，整个过渡也显得更为平滑，但随之而来的问题是，开发者们抱怨了多年的老问题依然存在。\n#### 3. typesript\ntypescript是JavaScript的超集。TypeScript是JavaScript类型的超集，它可以编译成纯JavaScript。TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。\n#### 4. java\njava是继c/c++使用最广泛的开发语言，写java真的是越写越觉得舒服。java生态环境十分良好，有大量优秀的开源框架以供选择。\n##### 1. spring\nSpring 是一个开源框架，是为了解决企业应用程序开发复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许您选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。 \n##### 2. struts2\nStruts2框架是一个轻量级的MVC流程框架，轻量级是指程序的代码不是很多，运行时占用的资源不是很多，MVC流程框架就是说它是支持分层开发，控制数据的流程，从哪里来，到那里去，怎么来，怎么去的这样一个框架\n##### 3. hibernate\nhibernate是轻量级JavaEE应用的一个持久层框架。它的作用在于管理Java实体类到数据库表之间的映射关系，并且提供数据查询和获取数据的方法，可以大幅度的缩短使用JDBC处理数据持久化的时间。\n##### 4. mybatis\n一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO），同时还提供一个利用这个框架开发的 JPetStore实例\n##### 5. springMVC\nSpring MVC框架是有一个MVC框架，通过实现Model-View-Controller模式来很好地将数据、业务与展现进行分离。从这样一个角度来说，Spring MVC和Struts、Struts2非常类似。Spring MVC的设计是围绕DispatcherServlet展开的，DispatcherServlet负责将请求派发到特定的handler\n##### 6. Play Framework\n有别于其他臃肿的企业级 Java 框架，简洁的 Play 框架提供另外一种选择，它关注于开发者的效率和 RESTful 风格的架构。Play 是 敏捷软件开发的完美伴侣。\n\n\n### 六、数据存储\n#### 1. mysql\nMySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。\n#### 2. mongodb\nMongoDB 是一个基于分布式文件存储的数据库。由 C++ 语言编写。旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。\n#### 3. redis\nRedis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。\n#### 4. cookie\nCookie，有时也用其复数形式Cookies，指某些网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）\n#### 5. access token\nWindows操作系统安全性的一个概念。一个访问令牌包含了此登陆会话的安全信息。当用户登陆时，系统创建一个访问令牌，然后以该用户身份运行的的所有进程都拥有该令牌的一个拷贝。该令牌唯一表示该用户、用户的组和用户的特权。系统使用令牌控制用户可以访问哪些安全对象，并控制用户执行相关系统操作的能力。有两种令牌：主令牌和模拟的令牌。主令牌是与进程相关的；模拟的令牌是与模拟令牌的线程相关的。\n\n### 七、html5+css3\n#### 1. html5\nHTML5是HTML最新的修订版本，2014年10月由万维网联盟（W3C）完成标准制定。\nHTML5的设计目的是为了在移动设备上支持多媒体。\nHTML5 简单易学。\n#### 2. canvas\nTML5 <canvas> 标签用于绘制图像（通过脚本，通常是 JavaScript）。不过，<canvas> 元素本身并没有绘制能力（它仅仅是图形的容器） - 您必须使用脚本来完成实际的绘图任务。getContext() 方法可返回一个对象，该对象提供了用于在画布上绘图的方法和属性。\n#### 3. css3\nCSS3是CSS技术的一个升级版本，是由Adobe、Systems、Apple、Google、HP、IBM、Microsoft、Mozilla、Opera、Sun Microsystems 等许多WEB界的巨头联合组织的一个名为 “CSS Working Group” 的组织共同协商策划的。虽然目前很多细节还在讨论之中，但它还是不断地朝前发展着。2010年在HTML5成为IT界人士关注的焦点的同时，它也开始慢慢地普及开来。\n#### 4. sass\nSASS是一种CSS的开发工具，提供了许多便利的写法，大大节省了设计者的时间，使得CSS的开发，变得简单和可维护。\n#### 5. 白鹭引擎\n白鹭引擎是一个开源的、跨平台的手机游戏开发引擎,你可以快速地创建HTML5类型的移动游戏,也可以将游戏项目编译输出成为目标移动平台的原生游戏应用。\n\n### 八、算法和数据结构\n#### 1. 线型查找\n在一列给定的值中进行搜索，从一端开始逐一检查每个元素，直到找到所需元素的过程。线性查找又称为顺序查找·如果查找池是某种类型的一个表，比如一个数组，简单的查找方法是从表头开始，一次将每一个值与目标元素进行比较，最后，或者查找到目标，或者达到表尾，而目标不存在于组中，这个方法称为线性查找。\n#### 2. 二分查找\n二分查找又称折半查找，优点是比较次数少，查找速度快，平均性能好；其缺点是要求待查表为有序表，且插入删除困难。因此，折半查找方法适用于不经常变动而查找频繁的有序列表。首先，假设表中元素是按升序排列，将表中间位置记录的关键字与查找关键字比较，如果两者相等，则查找成功；否则利用中间位置记录将表分成前、后两个子表，如果中间位置记录的关键字大于查找关键字，则进一步查找前一子表，否则进一步查找后一子表。重复以上过程，直到找到满足条件的记录，使查找成功，或直到子表不存在为止，此时查找不成功。\n#### 3. 冒泡排序\n冒泡排序（Bubble Sort），是一种计算机科学领域的较简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。\n#### 4. 选择排序\n选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理是每一次从待排序的数据元素中选出最小（或最大）的一个元素，存放在序列的起始位置，直到全部待排序的数据元素排完。 选择排序是不稳定的排序方法（比如序列[5， 5， 3]第一次就将第一个[5]与[3]交换，导致第一个5挪动到第二个5后面）。\n#### 5. 插入排序\n插入排序的基本思想是：每步将一个待排序的纪录，按其关键码值的大小插入前面已经排序的文件中适当位置上，直到全部插入完为止。\n#### 6. 字符串反转\n\n```\nvar str = '123';\nvar newStr = str.split(\"\").reverse().join(\"\");\nalert(newStr);\n```\n\n#### 7. 搜索算法\n搜索算法是利用计算机的高性能来有目的的穷举一个问题解空间的部分或所有的可能情况，从而求出问题的解的一种方法。搜索算法实际上是根据初始条件和扩展规则构造一棵“解答树”并寻找符合目标状态的节点的过程。\n#### 8. 贪心算法\n贪心算法（又称贪婪算法）是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，不从整体最优上加以考虑，他所做出的是在某种意义上的局部最优解。贪心算法不是对所有问题都能得到整体最优解，关键是贪心策略的选择，选择的贪心策略必须具备无后效性，即某个状态以前的过程不会影响以后的状态，只与当前状态有关。\n#### 9. tween算法\nFlash做动画时会用到Tween类，利用它可以做很多动画效果，例如缓动、弹簧等等。\n#### 10. javascript算法库\n - [numbers.js](https://github.com/sjkaliski/numbers.js/)\n - [Numeric Javascript ](http://www.numericjs.com/)\n - [Tangle](http://worrydream.com/Tangle/)\n - [accounting.js](http://josscrowcroft.github.io/accounting.js/)\n### 九、测试框架\n#### 1. mocha\nmocha 是一个简单、灵活有趣的 JavaScript 测试框架，用于 Node.js 和浏览器上的 JavaScript 应用测试。Mocha 是具有丰富特性的 JavaScript 测试框架，可以运行在 Node.js 和浏览器中，使得异步测试更简单更有趣。Mocha 可以持续运行测试，支持灵活又准确的报告，当映射到未捕获异常时转到正确的测试示例。\n#### 2. karma\nKarma是Testacular的新名字，在2012年google开源了Testacular，2013年Testacular改名为Karma。Karma是一个让人感到非常神秘的名字，表示佛教中的缘分，因果报应，比Cassandra这种名字更让人猜不透！Karma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流Web浏览器，也可集成到CI（Continuous integration）工具，也可和其他代码编辑器一起使用。这个测试工具的一个强大特性就是，它可以监控(Watch)文件的变化，然后自行执行，通过console.log显示测试结果。\n#### 3. jasmine\nJasmine （茉莉）是一款 JavaScript BDD（行为驱动开发）测试框架，它不依赖于其他任何 JavaScript 组件。它有干净清晰的语法，让您可以很简单的写出测试代码。对基于 JavaScript 的开发来说，它是一款不错的测试框架选择。\n#### 4. chai\nChai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。\n#### 5.Qunit\n该框架诞生之初是为了jquery的单元测试，后来独立出来不再依赖于jquery本身，但是其身上还是脱离不开jquery的影子\n#### 6. should.js:\nTJ的另外一个开源贡献\n#### 7. expect.js\nBDD风格的另外一个断言库，基于should.js,是mini版的BDD库\n#### 8. assert\nnode自带核心模块: 可以在node中使用的断言模块\n\n### 十、[重构](http://www.raychase.net/138)\n#### 1. 命名\n 模块划分和命名空间\n#### 2. 加载\njs的动态加载\n#### 3. 测试\nJavascript的测试\n#### 4. 编码\n Javascript编码规则\n#### 5. 闭包\n 利用原型/闭包开发组件\n#### 6. 继承\n 利用继承来做事\n#### 7. 重用\n 重用老代码\n#### 8. 检测\n JSDoc和JSLint\n#### 9.  框架\n自定义JavaScript产品框架\n#### 10.  强化\n强化对象封装和模块封装\n","slug":"2016StudyPlan","published":1,"updated":"2016-12-01T06:50:28.603Z","_id":"civ0ggq9n0043rwvnxc616cbd","comments":1,"layout":"post","photos":[],"link":"","content":"<p>2015年，软件开发界发生了很多变化。有很多流行的新语言发布了，也有很多重要的框架和工具发布了新版本。下面有一个我们觉得最重要的简短清单，同时也有我们觉得值得你在2016年花时间精力去学习的新事物的一些建议。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/2016.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、开发工具\"><a href=\"#一、开发工具\" class=\"headerlink\" title=\"一、开发工具\"></a>一、开发工具</h3><h4 id=\"1-atom\"><a href=\"#1-atom\" class=\"headerlink\" title=\"1. atom\"></a>1. atom</h4><p>Atom 代码编辑器支持 Windows、Mac、Linux 三大桌面平台，完全免费，并且已经在 GitHub 上开放了全部的源代码。在经过一段长时间的迭代开发和不断改进后，Atom 终于从早期的测试版达到了 1.0 正式版了！相比之前的版本，在性能和稳定性方面都有着显著的改善。</p>\n<h4 id=\"2-idea\"><a href=\"#2-idea\" class=\"headerlink\" title=\"2. idea\"></a>2. idea</h4><p>IDEA 全称IntelliJ IDEA，是java语言开发的集成环境，IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查、 创新的GUI设计等方面的功能可以说是超常的。IDEA是JetBrains公司的产品，这家公司总部位于捷克共和国的首都布拉格，开发人员以严谨著称的东欧程序员为主。</p>\n<h4 id=\"3-eclipse\"><a href=\"#3-eclipse\" class=\"headerlink\" title=\"3. eclipse\"></a>3. eclipse</h4><p>虽然用上了IDEA之后再也不想回到eclipse。虽然它恶心，但是它毕竟伴随了很多程序员大部分时间，给点最起码的尊重。</p>\n<h4 id=\"4-lodash\"><a href=\"#4-lodash\" class=\"headerlink\" title=\"4. lodash\"></a>4. lodash</h4><p>lodash一开始是Underscore.js库的一个fork，因为和其他(Underscore.js的)贡献者意见相左。John-David Dalton的最初目标，是提供更多“一致的跨浏览器行为……，并改善性能”。之后，该项目在现有成功的基础之上取得了更大的成果。最近lodash也发布了3.5版，成为了npm包仓库中依赖最多的库。它正在摆脱屌丝身份，成为开发者的常规的选择之一。</p>\n<h4 id=\"5-fetch\"><a href=\"#5-fetch\" class=\"headerlink\" title=\"5. fetch\"></a>5. fetch</h4><p>对于 AJAX，现在一般都是使用各种框架实现，其本质是 XMLHttpRequest。使用过原生XMLHttpRequest的人都知道，这种方法实现起来不太方便。现在，我们有了新的选择：Fetch API。</p>\n<h4 id=\"6-Electron\"><a href=\"#6-Electron\" class=\"headerlink\" title=\"6. Electron\"></a>6. Electron</h4><p>Electron 框架的前身是 Atom Shell，可以让你写使用 JavaScript，HTML 和 CSS 构建跨平台的桌面应用程序。它是基于io.js 和 Chromium 开源项目，并用于在 Atom 编辑器中。Electron 是开源的，由 GitHub 维护，有一个活跃的社区。最重要的是，Electron 应用服务构建和运行在 Mac，Windows 和 Linux。</p>\n<h3 id=\"二、javascript框架\"><a href=\"#二、javascript框架\" class=\"headerlink\" title=\"二、javascript框架\"></a>二、javascript框架</h3><h4 id=\"1-angular2\"><a href=\"#1-angular2\" class=\"headerlink\" title=\"1. angular2\"></a>1. angular2</h4><h5 id=\"跨平台开发\"><a href=\"#跨平台开发\" class=\"headerlink\" title=\"跨平台开发\"></a>跨平台开发</h5><p>学习如何基于 Angular 构建应用程序，并复用代码和技能来构建适用于所有平台的应用。比如： Web 应用、移动 Web 应用、原生移动应用和原生桌面应用等。</p>\n<h5 id=\"速度与性能\"><a href=\"#速度与性能\" class=\"headerlink\" title=\"速度与性能\"></a>速度与性能</h5><p>通过 Web Worker 和服务端渲染，达到在如今 ( 以及未来）的 Web 平台上所能达到的最高速度。<br>Angular 让你有效掌控可伸缩性。基于 RxJS 、 Immutable.js 和其它推送模型，能适应海量数据需求。</p>\n<h5 id=\"美妙的工具\"><a href=\"#美妙的工具\" class=\"headerlink\" title=\"美妙的工具\"></a>美妙的工具</h5><p>使用简单的声明式模板，快速实现各种特性。使用自定义组件和大量现有组件，扩展模板语言。在几乎所有的 IDE 中获得针对 Angular 的即时帮助和反馈。所有这一切，都是为了帮助你编写漂亮的应用，而不是绞尽脑汁的让代码“能用”。</p>\n<h4 id=\"2-react-redux\"><a href=\"#2-react-redux\" class=\"headerlink\" title=\"2. react+redux\"></a>2. react+redux</h4><p>React+Redux非常精炼，良好运用将发挥出极强劲的生产力。但最大的挑战来自于函数式编程（FP）范式。在工程化过程中，架构（顶层）设计将是一个巨大的挑战。要不然做出来的东西可能是一团乱麻。说到底，传统框架与react+redux就是OO与FP编程范式的对决。</p>\n<h4 id=\"3-jquery\"><a href=\"#3-jquery\" class=\"headerlink\" title=\"3. jquery\"></a>3. jquery</h4><p>JQuery是继prototype之后又一个优秀的Javascript库。它是轻量级的js库 ，它兼容CSS3，还兼容各种浏览器（IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+），jQuery2.0及后续版本将不再支持IE6/7/8浏览器。</p>\n<h3 id=\"三、node相关技术\"><a href=\"#三、node相关技术\" class=\"headerlink\" title=\"三、node相关技术\"></a>三、node相关技术</h3><h4 id=\"1-npm\"><a href=\"#1-npm\" class=\"headerlink\" title=\"1. npm\"></a>1. npm</h4><p>NPM（node package manager），通常称为node包管理器。顾名思义，它的主要功能就是管理node包，包括：安装、卸载、更新、查看、搜索、发布等。</p>\n<h4 id=\"2-koa2\"><a href=\"#2-koa2\" class=\"headerlink\" title=\"2. koa2\"></a>2. koa2</h4><p>koa 是由 Express 原班人马打造的，致力于成为一个更小、更富有表现力、更健壮的 Web 框架。使用 koa 编写 web 应用，通过组合不同的 generator，可以免除重复繁琐的回调函数嵌套，并极大地提升错误处理的效率。koa 不在内核方法中绑定任何中间件，它仅仅提供了一个轻量优雅的函数库，使得编写 Web 应用变得得心应手。</p>\n<h4 id=\"3-rxjs\"><a href=\"#3-rxjs\" class=\"headerlink\" title=\"3. rxjs\"></a>3. rxjs</h4><p>是一组库使用可观察到的集合和阵列、演员风格组成，组成异步和基于事件的程序。</p>\n<h4 id=\"4-zonejs\"><a href=\"#4-zonejs\" class=\"headerlink\" title=\"4. zonejs\"></a>4. zonejs</h4><p>在ng2的开发过程中，Angular团队为我们带来了一个新的库 – zone.js。zone.js的设计灵感来源于Dart语言，它描述JavaScript执行过程的上下文，可以在异步任务之间进行持久性传递，它类似于Java中的TLS（thread-local storage: 线程本地存储）技术，zone.js则是将TLS引入到JavaScript语言中的实现框架。</p>\n<h3 id=\"四、设计模式\"><a href=\"#四、设计模式\" class=\"headerlink\" title=\"四、设计模式\"></a>四、设计模式</h3><h4 id=\"1-javascript设计模式\"><a href=\"#1-javascript设计模式\" class=\"headerlink\" title=\"1. javascript设计模式\"></a>1. <a href=\"https://blog.xiaomo.info/2016/07/02/javascript_design_pattern/\">javascript设计模式</a></h4><h4 id=\"2-java设计模式\"><a href=\"#2-java设计模式\" class=\"headerlink\" title=\"2. java设计模式\"></a>2. java设计模式</h4><h3 id=\"五、编程语言\"><a href=\"#五、编程语言\" class=\"headerlink\" title=\"五、编程语言\"></a>五、编程语言</h3><h4 id=\"1-javascript\"><a href=\"#1-javascript\" class=\"headerlink\" title=\"1. javascript\"></a>1. javascript</h4><p>JavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。</p>\n<h4 id=\"2-ecmscript6\"><a href=\"#2-ecmscript6\" class=\"headerlink\" title=\"2. ecmscript6\"></a>2. ecmscript6</h4><p>ES6是继ES5之后的一次主要改进，语言规范由ES5.1时代的245页扩充至600页。ES6增添了许多必要的特性，例如：模块和类，以及一些实用特性，例如Maps、Sets、Promises、生成器（Generators）等。尽管ES6做了大量的更新，但是它依旧完全向后兼容以前的版本，标准化委员会决定避免由不兼容版本语言导致的“web体验破碎”。结果是，所有老代码都可以正常运行，整个过渡也显得更为平滑，但随之而来的问题是，开发者们抱怨了多年的老问题依然存在。</p>\n<h4 id=\"3-typesript\"><a href=\"#3-typesript\" class=\"headerlink\" title=\"3. typesript\"></a>3. typesript</h4><p>typescript是JavaScript的超集。TypeScript是JavaScript类型的超集，它可以编译成纯JavaScript。TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。</p>\n<h4 id=\"4-java\"><a href=\"#4-java\" class=\"headerlink\" title=\"4. java\"></a>4. java</h4><p>java是继c/c++使用最广泛的开发语言，写java真的是越写越觉得舒服。java生态环境十分良好，有大量优秀的开源框架以供选择。</p>\n<h5 id=\"1-spring\"><a href=\"#1-spring\" class=\"headerlink\" title=\"1. spring\"></a>1. spring</h5><p>Spring 是一个开源框架，是为了解决企业应用程序开发复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许您选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。 </p>\n<h5 id=\"2-struts2\"><a href=\"#2-struts2\" class=\"headerlink\" title=\"2. struts2\"></a>2. struts2</h5><p>Struts2框架是一个轻量级的MVC流程框架，轻量级是指程序的代码不是很多，运行时占用的资源不是很多，MVC流程框架就是说它是支持分层开发，控制数据的流程，从哪里来，到那里去，怎么来，怎么去的这样一个框架</p>\n<h5 id=\"3-hibernate\"><a href=\"#3-hibernate\" class=\"headerlink\" title=\"3. hibernate\"></a>3. hibernate</h5><p>hibernate是轻量级JavaEE应用的一个持久层框架。它的作用在于管理Java实体类到数据库表之间的映射关系，并且提供数据查询和获取数据的方法，可以大幅度的缩短使用JDBC处理数据持久化的时间。</p>\n<h5 id=\"4-mybatis\"><a href=\"#4-mybatis\" class=\"headerlink\" title=\"4. mybatis\"></a>4. mybatis</h5><p>一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO），同时还提供一个利用这个框架开发的 JPetStore实例</p>\n<h5 id=\"5-springMVC\"><a href=\"#5-springMVC\" class=\"headerlink\" title=\"5. springMVC\"></a>5. springMVC</h5><p>Spring MVC框架是有一个MVC框架，通过实现Model-View-Controller模式来很好地将数据、业务与展现进行分离。从这样一个角度来说，Spring MVC和Struts、Struts2非常类似。Spring MVC的设计是围绕DispatcherServlet展开的，DispatcherServlet负责将请求派发到特定的handler</p>\n<h5 id=\"6-Play-Framework\"><a href=\"#6-Play-Framework\" class=\"headerlink\" title=\"6. Play Framework\"></a>6. Play Framework</h5><p>有别于其他臃肿的企业级 Java 框架，简洁的 Play 框架提供另外一种选择，它关注于开发者的效率和 RESTful 风格的架构。Play 是 敏捷软件开发的完美伴侣。</p>\n<h3 id=\"六、数据存储\"><a href=\"#六、数据存储\" class=\"headerlink\" title=\"六、数据存储\"></a>六、数据存储</h3><h4 id=\"1-mysql\"><a href=\"#1-mysql\" class=\"headerlink\" title=\"1. mysql\"></a>1. mysql</h4><p>MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。</p>\n<h4 id=\"2-mongodb\"><a href=\"#2-mongodb\" class=\"headerlink\" title=\"2. mongodb\"></a>2. mongodb</h4><p>MongoDB 是一个基于分布式文件存储的数据库。由 C++ 语言编写。旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。</p>\n<h4 id=\"3-redis\"><a href=\"#3-redis\" class=\"headerlink\" title=\"3. redis\"></a>3. redis</h4><p>Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。</p>\n<h4 id=\"4-cookie\"><a href=\"#4-cookie\" class=\"headerlink\" title=\"4. cookie\"></a>4. cookie</h4><p>Cookie，有时也用其复数形式Cookies，指某些网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）</p>\n<h4 id=\"5-access-token\"><a href=\"#5-access-token\" class=\"headerlink\" title=\"5. access token\"></a>5. access token</h4><p>Windows操作系统安全性的一个概念。一个访问令牌包含了此登陆会话的安全信息。当用户登陆时，系统创建一个访问令牌，然后以该用户身份运行的的所有进程都拥有该令牌的一个拷贝。该令牌唯一表示该用户、用户的组和用户的特权。系统使用令牌控制用户可以访问哪些安全对象，并控制用户执行相关系统操作的能力。有两种令牌：主令牌和模拟的令牌。主令牌是与进程相关的；模拟的令牌是与模拟令牌的线程相关的。</p>\n<h3 id=\"七、html5-css3\"><a href=\"#七、html5-css3\" class=\"headerlink\" title=\"七、html5+css3\"></a>七、html5+css3</h3><h4 id=\"1-html5\"><a href=\"#1-html5\" class=\"headerlink\" title=\"1. html5\"></a>1. html5</h4><p>HTML5是HTML最新的修订版本，2014年10月由万维网联盟（W3C）完成标准制定。<br>HTML5的设计目的是为了在移动设备上支持多媒体。<br>HTML5 简单易学。</p>\n<h4 id=\"2-canvas\"><a href=\"#2-canvas\" class=\"headerlink\" title=\"2. canvas\"></a>2. canvas</h4><p>TML5 <canvas> 标签用于绘制图像（通过脚本，通常是 JavaScript）。不过，<canvas> 元素本身并没有绘制能力（它仅仅是图形的容器） - 您必须使用脚本来完成实际的绘图任务。getContext() 方法可返回一个对象，该对象提供了用于在画布上绘图的方法和属性。</canvas></canvas></p>\n<h4 id=\"3-css3\"><a href=\"#3-css3\" class=\"headerlink\" title=\"3. css3\"></a>3. css3</h4><p>CSS3是CSS技术的一个升级版本，是由Adobe、Systems、Apple、Google、HP、IBM、Microsoft、Mozilla、Opera、Sun Microsystems 等许多WEB界的巨头联合组织的一个名为 “CSS Working Group” 的组织共同协商策划的。虽然目前很多细节还在讨论之中，但它还是不断地朝前发展着。2010年在HTML5成为IT界人士关注的焦点的同时，它也开始慢慢地普及开来。</p>\n<h4 id=\"4-sass\"><a href=\"#4-sass\" class=\"headerlink\" title=\"4. sass\"></a>4. sass</h4><p>SASS是一种CSS的开发工具，提供了许多便利的写法，大大节省了设计者的时间，使得CSS的开发，变得简单和可维护。</p>\n<h4 id=\"5-白鹭引擎\"><a href=\"#5-白鹭引擎\" class=\"headerlink\" title=\"5. 白鹭引擎\"></a>5. 白鹭引擎</h4><p>白鹭引擎是一个开源的、跨平台的手机游戏开发引擎,你可以快速地创建HTML5类型的移动游戏,也可以将游戏项目编译输出成为目标移动平台的原生游戏应用。</p>\n<h3 id=\"八、算法和数据结构\"><a href=\"#八、算法和数据结构\" class=\"headerlink\" title=\"八、算法和数据结构\"></a>八、算法和数据结构</h3><h4 id=\"1-线型查找\"><a href=\"#1-线型查找\" class=\"headerlink\" title=\"1. 线型查找\"></a>1. 线型查找</h4><p>在一列给定的值中进行搜索，从一端开始逐一检查每个元素，直到找到所需元素的过程。线性查找又称为顺序查找·如果查找池是某种类型的一个表，比如一个数组，简单的查找方法是从表头开始，一次将每一个值与目标元素进行比较，最后，或者查找到目标，或者达到表尾，而目标不存在于组中，这个方法称为线性查找。</p>\n<h4 id=\"2-二分查找\"><a href=\"#2-二分查找\" class=\"headerlink\" title=\"2. 二分查找\"></a>2. 二分查找</h4><p>二分查找又称折半查找，优点是比较次数少，查找速度快，平均性能好；其缺点是要求待查表为有序表，且插入删除困难。因此，折半查找方法适用于不经常变动而查找频繁的有序列表。首先，假设表中元素是按升序排列，将表中间位置记录的关键字与查找关键字比较，如果两者相等，则查找成功；否则利用中间位置记录将表分成前、后两个子表，如果中间位置记录的关键字大于查找关键字，则进一步查找前一子表，否则进一步查找后一子表。重复以上过程，直到找到满足条件的记录，使查找成功，或直到子表不存在为止，此时查找不成功。</p>\n<h4 id=\"3-冒泡排序\"><a href=\"#3-冒泡排序\" class=\"headerlink\" title=\"3. 冒泡排序\"></a>3. 冒泡排序</h4><p>冒泡排序（Bubble Sort），是一种计算机科学领域的较简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。</p>\n<h4 id=\"4-选择排序\"><a href=\"#4-选择排序\" class=\"headerlink\" title=\"4. 选择排序\"></a>4. 选择排序</h4><p>选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理是每一次从待排序的数据元素中选出最小（或最大）的一个元素，存放在序列的起始位置，直到全部待排序的数据元素排完。 选择排序是不稳定的排序方法（比如序列[5， 5， 3]第一次就将第一个[5]与[3]交换，导致第一个5挪动到第二个5后面）。</p>\n<h4 id=\"5-插入排序\"><a href=\"#5-插入排序\" class=\"headerlink\" title=\"5. 插入排序\"></a>5. 插入排序</h4><p>插入排序的基本思想是：每步将一个待排序的纪录，按其关键码值的大小插入前面已经排序的文件中适当位置上，直到全部插入完为止。</p>\n<h4 id=\"6-字符串反转\"><a href=\"#6-字符串反转\" class=\"headerlink\" title=\"6. 字符串反转\"></a>6. 字符串反转</h4><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">var <span class=\"built_in\">str</span> = <span class=\"string\">'123'</span>;</div><div class=\"line\">var newStr = <span class=\"built_in\">str</span>.<span class=\"built_in\">split</span>(<span class=\"string\">\"\"</span>).<span class=\"built_in\">reverse</span>().<span class=\"built_in\">join</span>(<span class=\"string\">\"\"</span>);</div><div class=\"line\">alert(newStr);</div></pre></td></tr></table></figure>\n<h4 id=\"7-搜索算法\"><a href=\"#7-搜索算法\" class=\"headerlink\" title=\"7. 搜索算法\"></a>7. 搜索算法</h4><p>搜索算法是利用计算机的高性能来有目的的穷举一个问题解空间的部分或所有的可能情况，从而求出问题的解的一种方法。搜索算法实际上是根据初始条件和扩展规则构造一棵“解答树”并寻找符合目标状态的节点的过程。</p>\n<h4 id=\"8-贪心算法\"><a href=\"#8-贪心算法\" class=\"headerlink\" title=\"8. 贪心算法\"></a>8. 贪心算法</h4><p>贪心算法（又称贪婪算法）是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，不从整体最优上加以考虑，他所做出的是在某种意义上的局部最优解。贪心算法不是对所有问题都能得到整体最优解，关键是贪心策略的选择，选择的贪心策略必须具备无后效性，即某个状态以前的过程不会影响以后的状态，只与当前状态有关。</p>\n<h4 id=\"9-tween算法\"><a href=\"#9-tween算法\" class=\"headerlink\" title=\"9. tween算法\"></a>9. tween算法</h4><p>Flash做动画时会用到Tween类，利用它可以做很多动画效果，例如缓动、弹簧等等。</p>\n<h4 id=\"10-javascript算法库\"><a href=\"#10-javascript算法库\" class=\"headerlink\" title=\"10. javascript算法库\"></a>10. javascript算法库</h4><ul>\n<li><a href=\"https://github.com/sjkaliski/numbers.js/\" target=\"_blank\" rel=\"external\">numbers.js</a></li>\n<li><a href=\"http://www.numericjs.com/\" target=\"_blank\" rel=\"external\">Numeric Javascript </a></li>\n<li><a href=\"http://worrydream.com/Tangle/\" target=\"_blank\" rel=\"external\">Tangle</a></li>\n<li><a href=\"http://josscrowcroft.github.io/accounting.js/\" target=\"_blank\" rel=\"external\">accounting.js</a><h3 id=\"九、测试框架\"><a href=\"#九、测试框架\" class=\"headerlink\" title=\"九、测试框架\"></a>九、测试框架</h3><h4 id=\"1-mocha\"><a href=\"#1-mocha\" class=\"headerlink\" title=\"1. mocha\"></a>1. mocha</h4>mocha 是一个简单、灵活有趣的 JavaScript 测试框架，用于 Node.js 和浏览器上的 JavaScript 应用测试。Mocha 是具有丰富特性的 JavaScript 测试框架，可以运行在 Node.js 和浏览器中，使得异步测试更简单更有趣。Mocha 可以持续运行测试，支持灵活又准确的报告，当映射到未捕获异常时转到正确的测试示例。<h4 id=\"2-karma\"><a href=\"#2-karma\" class=\"headerlink\" title=\"2. karma\"></a>2. karma</h4>Karma是Testacular的新名字，在2012年google开源了Testacular，2013年Testacular改名为Karma。Karma是一个让人感到非常神秘的名字，表示佛教中的缘分，因果报应，比Cassandra这种名字更让人猜不透！Karma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流Web浏览器，也可集成到CI（Continuous integration）工具，也可和其他代码编辑器一起使用。这个测试工具的一个强大特性就是，它可以监控(Watch)文件的变化，然后自行执行，通过console.log显示测试结果。<h4 id=\"3-jasmine\"><a href=\"#3-jasmine\" class=\"headerlink\" title=\"3. jasmine\"></a>3. jasmine</h4>Jasmine （茉莉）是一款 JavaScript BDD（行为驱动开发）测试框架，它不依赖于其他任何 JavaScript 组件。它有干净清晰的语法，让您可以很简单的写出测试代码。对基于 JavaScript 的开发来说，它是一款不错的测试框架选择。<h4 id=\"4-chai\"><a href=\"#4-chai\" class=\"headerlink\" title=\"4. chai\"></a>4. chai</h4>Chai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。<h4 id=\"5-Qunit\"><a href=\"#5-Qunit\" class=\"headerlink\" title=\"5.Qunit\"></a>5.Qunit</h4>该框架诞生之初是为了jquery的单元测试，后来独立出来不再依赖于jquery本身，但是其身上还是脱离不开jquery的影子<h4 id=\"6-should-js\"><a href=\"#6-should-js\" class=\"headerlink\" title=\"6. should.js:\"></a>6. should.js:</h4>TJ的另外一个开源贡献<h4 id=\"7-expect-js\"><a href=\"#7-expect-js\" class=\"headerlink\" title=\"7. expect.js\"></a>7. expect.js</h4>BDD风格的另外一个断言库，基于should.js,是mini版的BDD库<h4 id=\"8-assert\"><a href=\"#8-assert\" class=\"headerlink\" title=\"8. assert\"></a>8. assert</h4>node自带核心模块: 可以在node中使用的断言模块</li>\n</ul>\n<h3 id=\"十、重构\"><a href=\"#十、重构\" class=\"headerlink\" title=\"十、重构\"></a>十、<a href=\"http://www.raychase.net/138\" target=\"_blank\" rel=\"external\">重构</a></h3><h4 id=\"1-命名\"><a href=\"#1-命名\" class=\"headerlink\" title=\"1. 命名\"></a>1. 命名</h4><p> 模块划分和命名空间</p>\n<h4 id=\"2-加载\"><a href=\"#2-加载\" class=\"headerlink\" title=\"2. 加载\"></a>2. 加载</h4><p>js的动态加载</p>\n<h4 id=\"3-测试\"><a href=\"#3-测试\" class=\"headerlink\" title=\"3. 测试\"></a>3. 测试</h4><p>Javascript的测试</p>\n<h4 id=\"4-编码\"><a href=\"#4-编码\" class=\"headerlink\" title=\"4. 编码\"></a>4. 编码</h4><p> Javascript编码规则</p>\n<h4 id=\"5-闭包\"><a href=\"#5-闭包\" class=\"headerlink\" title=\"5. 闭包\"></a>5. 闭包</h4><p> 利用原型/闭包开发组件</p>\n<h4 id=\"6-继承\"><a href=\"#6-继承\" class=\"headerlink\" title=\"6. 继承\"></a>6. 继承</h4><p> 利用继承来做事</p>\n<h4 id=\"7-重用\"><a href=\"#7-重用\" class=\"headerlink\" title=\"7. 重用\"></a>7. 重用</h4><p> 重用老代码</p>\n<h4 id=\"8-检测\"><a href=\"#8-检测\" class=\"headerlink\" title=\"8. 检测\"></a>8. 检测</h4><p> JSDoc和JSLint</p>\n<h4 id=\"9-框架\"><a href=\"#9-框架\" class=\"headerlink\" title=\"9.  框架\"></a>9.  框架</h4><p>自定义JavaScript产品框架</p>\n<h4 id=\"10-强化\"><a href=\"#10-强化\" class=\"headerlink\" title=\"10.  强化\"></a>10.  强化</h4><p>强化对象封装和模块封装</p>\n","excerpt":"<p>2015年，软件开发界发生了很多变化。有很多流行的新语言发布了，也有很多重要的框架和工具发布了新版本。下面有一个我们觉得最重要的简短清单，同时也有我们觉得值得你在2016年花时间精力去学习的新事物的一些建议。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/2016.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、开发工具\"><a href=\"#一、开发工具\" class=\"headerlink\" title=\"一、开发工具\"></a>一、开发工具</h3><h4 id=\"1-atom\"><a href=\"#1-atom\" class=\"headerlink\" title=\"1. atom\"></a>1. atom</h4><p>Atom 代码编辑器支持 Windows、Mac、Linux 三大桌面平台，完全免费，并且已经在 GitHub 上开放了全部的源代码。在经过一段长时间的迭代开发和不断改进后，Atom 终于从早期的测试版达到了 1.0 正式版了！相比之前的版本，在性能和稳定性方面都有着显著的改善。</p>\n<h4 id=\"2-idea\"><a href=\"#2-idea\" class=\"headerlink\" title=\"2. idea\"></a>2. idea</h4><p>IDEA 全称IntelliJ IDEA，是java语言开发的集成环境，IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查、 创新的GUI设计等方面的功能可以说是超常的。IDEA是JetBrains公司的产品，这家公司总部位于捷克共和国的首都布拉格，开发人员以严谨著称的东欧程序员为主。</p>\n<h4 id=\"3-eclipse\"><a href=\"#3-eclipse\" class=\"headerlink\" title=\"3. eclipse\"></a>3. eclipse</h4><p>虽然用上了IDEA之后再也不想回到eclipse。虽然它恶心，但是它毕竟伴随了很多程序员大部分时间，给点最起码的尊重。</p>\n<h4 id=\"4-lodash\"><a href=\"#4-lodash\" class=\"headerlink\" title=\"4. lodash\"></a>4. lodash</h4><p>lodash一开始是Underscore.js库的一个fork，因为和其他(Underscore.js的)贡献者意见相左。John-David Dalton的最初目标，是提供更多“一致的跨浏览器行为……，并改善性能”。之后，该项目在现有成功的基础之上取得了更大的成果。最近lodash也发布了3.5版，成为了npm包仓库中依赖最多的库。它正在摆脱屌丝身份，成为开发者的常规的选择之一。</p>\n<h4 id=\"5-fetch\"><a href=\"#5-fetch\" class=\"headerlink\" title=\"5. fetch\"></a>5. fetch</h4><p>对于 AJAX，现在一般都是使用各种框架实现，其本质是 XMLHttpRequest。使用过原生XMLHttpRequest的人都知道，这种方法实现起来不太方便。现在，我们有了新的选择：Fetch API。</p>\n<h4 id=\"6-Electron\"><a href=\"#6-Electron\" class=\"headerlink\" title=\"6. Electron\"></a>6. Electron</h4><p>Electron 框架的前身是 Atom Shell，可以让你写使用 JavaScript，HTML 和 CSS 构建跨平台的桌面应用程序。它是基于io.js 和 Chromium 开源项目，并用于在 Atom 编辑器中。Electron 是开源的，由 GitHub 维护，有一个活跃的社区。最重要的是，Electron 应用服务构建和运行在 Mac，Windows 和 Linux。</p>\n<h3 id=\"二、javascript框架\"><a href=\"#二、javascript框架\" class=\"headerlink\" title=\"二、javascript框架\"></a>二、javascript框架</h3><h4 id=\"1-angular2\"><a href=\"#1-angular2\" class=\"headerlink\" title=\"1. angular2\"></a>1. angular2</h4><h5 id=\"跨平台开发\"><a href=\"#跨平台开发\" class=\"headerlink\" title=\"跨平台开发\"></a>跨平台开发</h5><p>学习如何基于 Angular 构建应用程序，并复用代码和技能来构建适用于所有平台的应用。比如： Web 应用、移动 Web 应用、原生移动应用和原生桌面应用等。</p>\n<h5 id=\"速度与性能\"><a href=\"#速度与性能\" class=\"headerlink\" title=\"速度与性能\"></a>速度与性能</h5><p>通过 Web Worker 和服务端渲染，达到在如今 ( 以及未来）的 Web 平台上所能达到的最高速度。<br>Angular 让你有效掌控可伸缩性。基于 RxJS 、 Immutable.js 和其它推送模型，能适应海量数据需求。</p>\n<h5 id=\"美妙的工具\"><a href=\"#美妙的工具\" class=\"headerlink\" title=\"美妙的工具\"></a>美妙的工具</h5><p>使用简单的声明式模板，快速实现各种特性。使用自定义组件和大量现有组件，扩展模板语言。在几乎所有的 IDE 中获得针对 Angular 的即时帮助和反馈。所有这一切，都是为了帮助你编写漂亮的应用，而不是绞尽脑汁的让代码“能用”。</p>\n<h4 id=\"2-react-redux\"><a href=\"#2-react-redux\" class=\"headerlink\" title=\"2. react+redux\"></a>2. react+redux</h4><p>React+Redux非常精炼，良好运用将发挥出极强劲的生产力。但最大的挑战来自于函数式编程（FP）范式。在工程化过程中，架构（顶层）设计将是一个巨大的挑战。要不然做出来的东西可能是一团乱麻。说到底，传统框架与react+redux就是OO与FP编程范式的对决。</p>\n<h4 id=\"3-jquery\"><a href=\"#3-jquery\" class=\"headerlink\" title=\"3. jquery\"></a>3. jquery</h4><p>JQuery是继prototype之后又一个优秀的Javascript库。它是轻量级的js库 ，它兼容CSS3，还兼容各种浏览器（IE 6.0+, FF 1.5+, Safari 2.0+, Opera 9.0+），jQuery2.0及后续版本将不再支持IE6/7/8浏览器。</p>\n<h3 id=\"三、node相关技术\"><a href=\"#三、node相关技术\" class=\"headerlink\" title=\"三、node相关技术\"></a>三、node相关技术</h3><h4 id=\"1-npm\"><a href=\"#1-npm\" class=\"headerlink\" title=\"1. npm\"></a>1. npm</h4><p>NPM（node package manager），通常称为node包管理器。顾名思义，它的主要功能就是管理node包，包括：安装、卸载、更新、查看、搜索、发布等。</p>\n<h4 id=\"2-koa2\"><a href=\"#2-koa2\" class=\"headerlink\" title=\"2. koa2\"></a>2. koa2</h4><p>koa 是由 Express 原班人马打造的，致力于成为一个更小、更富有表现力、更健壮的 Web 框架。使用 koa 编写 web 应用，通过组合不同的 generator，可以免除重复繁琐的回调函数嵌套，并极大地提升错误处理的效率。koa 不在内核方法中绑定任何中间件，它仅仅提供了一个轻量优雅的函数库，使得编写 Web 应用变得得心应手。</p>\n<h4 id=\"3-rxjs\"><a href=\"#3-rxjs\" class=\"headerlink\" title=\"3. rxjs\"></a>3. rxjs</h4><p>是一组库使用可观察到的集合和阵列、演员风格组成，组成异步和基于事件的程序。</p>\n<h4 id=\"4-zonejs\"><a href=\"#4-zonejs\" class=\"headerlink\" title=\"4. zonejs\"></a>4. zonejs</h4><p>在ng2的开发过程中，Angular团队为我们带来了一个新的库 – zone.js。zone.js的设计灵感来源于Dart语言，它描述JavaScript执行过程的上下文，可以在异步任务之间进行持久性传递，它类似于Java中的TLS（thread-local storage: 线程本地存储）技术，zone.js则是将TLS引入到JavaScript语言中的实现框架。</p>\n<h3 id=\"四、设计模式\"><a href=\"#四、设计模式\" class=\"headerlink\" title=\"四、设计模式\"></a>四、设计模式</h3><h4 id=\"1-javascript设计模式\"><a href=\"#1-javascript设计模式\" class=\"headerlink\" title=\"1. javascript设计模式\"></a>1. <a href=\"https://blog.xiaomo.info/2016/07/02/javascript_design_pattern/\">javascript设计模式</a></h4><h4 id=\"2-java设计模式\"><a href=\"#2-java设计模式\" class=\"headerlink\" title=\"2. java设计模式\"></a>2. java设计模式</h4><h3 id=\"五、编程语言\"><a href=\"#五、编程语言\" class=\"headerlink\" title=\"五、编程语言\"></a>五、编程语言</h3><h4 id=\"1-javascript\"><a href=\"#1-javascript\" class=\"headerlink\" title=\"1. javascript\"></a>1. javascript</h4><p>JavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。</p>\n<h4 id=\"2-ecmscript6\"><a href=\"#2-ecmscript6\" class=\"headerlink\" title=\"2. ecmscript6\"></a>2. ecmscript6</h4><p>ES6是继ES5之后的一次主要改进，语言规范由ES5.1时代的245页扩充至600页。ES6增添了许多必要的特性，例如：模块和类，以及一些实用特性，例如Maps、Sets、Promises、生成器（Generators）等。尽管ES6做了大量的更新，但是它依旧完全向后兼容以前的版本，标准化委员会决定避免由不兼容版本语言导致的“web体验破碎”。结果是，所有老代码都可以正常运行，整个过渡也显得更为平滑，但随之而来的问题是，开发者们抱怨了多年的老问题依然存在。</p>\n<h4 id=\"3-typesript\"><a href=\"#3-typesript\" class=\"headerlink\" title=\"3. typesript\"></a>3. typesript</h4><p>typescript是JavaScript的超集。TypeScript是JavaScript类型的超集，它可以编译成纯JavaScript。TypeScript可以在任何浏览器、任何计算机和任何操作系统上运行，并且是开源的。</p>\n<h4 id=\"4-java\"><a href=\"#4-java\" class=\"headerlink\" title=\"4. java\"></a>4. java</h4><p>java是继c/c++使用最广泛的开发语言，写java真的是越写越觉得舒服。java生态环境十分良好，有大量优秀的开源框架以供选择。</p>\n<h5 id=\"1-spring\"><a href=\"#1-spring\" class=\"headerlink\" title=\"1. spring\"></a>1. spring</h5><p>Spring 是一个开源框架，是为了解决企业应用程序开发复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许您选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。 </p>\n<h5 id=\"2-struts2\"><a href=\"#2-struts2\" class=\"headerlink\" title=\"2. struts2\"></a>2. struts2</h5><p>Struts2框架是一个轻量级的MVC流程框架，轻量级是指程序的代码不是很多，运行时占用的资源不是很多，MVC流程框架就是说它是支持分层开发，控制数据的流程，从哪里来，到那里去，怎么来，怎么去的这样一个框架</p>\n<h5 id=\"3-hibernate\"><a href=\"#3-hibernate\" class=\"headerlink\" title=\"3. hibernate\"></a>3. hibernate</h5><p>hibernate是轻量级JavaEE应用的一个持久层框架。它的作用在于管理Java实体类到数据库表之间的映射关系，并且提供数据查询和获取数据的方法，可以大幅度的缩短使用JDBC处理数据持久化的时间。</p>\n<h5 id=\"4-mybatis\"><a href=\"#4-mybatis\" class=\"headerlink\" title=\"4. mybatis\"></a>4. mybatis</h5><p>一个基于Java的持久层框架。iBATIS提供的持久层框架包括SQL Maps和Data Access Objects（DAO），同时还提供一个利用这个框架开发的 JPetStore实例</p>\n<h5 id=\"5-springMVC\"><a href=\"#5-springMVC\" class=\"headerlink\" title=\"5. springMVC\"></a>5. springMVC</h5><p>Spring MVC框架是有一个MVC框架，通过实现Model-View-Controller模式来很好地将数据、业务与展现进行分离。从这样一个角度来说，Spring MVC和Struts、Struts2非常类似。Spring MVC的设计是围绕DispatcherServlet展开的，DispatcherServlet负责将请求派发到特定的handler</p>\n<h5 id=\"6-Play-Framework\"><a href=\"#6-Play-Framework\" class=\"headerlink\" title=\"6. Play Framework\"></a>6. Play Framework</h5><p>有别于其他臃肿的企业级 Java 框架，简洁的 Play 框架提供另外一种选择，它关注于开发者的效率和 RESTful 风格的架构。Play 是 敏捷软件开发的完美伴侣。</p>\n<h3 id=\"六、数据存储\"><a href=\"#六、数据存储\" class=\"headerlink\" title=\"六、数据存储\"></a>六、数据存储</h3><h4 id=\"1-mysql\"><a href=\"#1-mysql\" class=\"headerlink\" title=\"1. mysql\"></a>1. mysql</h4><p>MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于 Oracle 旗下公司。MySQL 最流行的关系型数据库管理系统，在 WEB 应用方面MySQL是最好的 RDBMS (Relational Database Management System，关系数据库管理系统) 应用软件之一。</p>\n<h4 id=\"2-mongodb\"><a href=\"#2-mongodb\" class=\"headerlink\" title=\"2. mongodb\"></a>2. mongodb</h4><p>MongoDB 是一个基于分布式文件存储的数据库。由 C++ 语言编写。旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。</p>\n<h4 id=\"3-redis\"><a href=\"#3-redis\" class=\"headerlink\" title=\"3. redis\"></a>3. redis</h4><p>Redis是一个开源的使用ANSI C语言编写、支持网络、可基于内存亦可持久化的日志型、Key-Value数据库，并提供多种语言的API。</p>\n<h4 id=\"4-cookie\"><a href=\"#4-cookie\" class=\"headerlink\" title=\"4. cookie\"></a>4. cookie</h4><p>Cookie，有时也用其复数形式Cookies，指某些网站为了辨别用户身份、进行session跟踪而储存在用户本地终端上的数据（通常经过加密）</p>\n<h4 id=\"5-access-token\"><a href=\"#5-access-token\" class=\"headerlink\" title=\"5. access token\"></a>5. access token</h4><p>Windows操作系统安全性的一个概念。一个访问令牌包含了此登陆会话的安全信息。当用户登陆时，系统创建一个访问令牌，然后以该用户身份运行的的所有进程都拥有该令牌的一个拷贝。该令牌唯一表示该用户、用户的组和用户的特权。系统使用令牌控制用户可以访问哪些安全对象，并控制用户执行相关系统操作的能力。有两种令牌：主令牌和模拟的令牌。主令牌是与进程相关的；模拟的令牌是与模拟令牌的线程相关的。</p>\n<h3 id=\"七、html5-css3\"><a href=\"#七、html5-css3\" class=\"headerlink\" title=\"七、html5+css3\"></a>七、html5+css3</h3><h4 id=\"1-html5\"><a href=\"#1-html5\" class=\"headerlink\" title=\"1. html5\"></a>1. html5</h4><p>HTML5是HTML最新的修订版本，2014年10月由万维网联盟（W3C）完成标准制定。<br>HTML5的设计目的是为了在移动设备上支持多媒体。<br>HTML5 简单易学。</p>\n<h4 id=\"2-canvas\"><a href=\"#2-canvas\" class=\"headerlink\" title=\"2. canvas\"></a>2. canvas</h4><p>TML5 <canvas> 标签用于绘制图像（通过脚本，通常是 JavaScript）。不过，<canvas> 元素本身并没有绘制能力（它仅仅是图形的容器） - 您必须使用脚本来完成实际的绘图任务。getContext() 方法可返回一个对象，该对象提供了用于在画布上绘图的方法和属性。</p>\n<h4 id=\"3-css3\"><a href=\"#3-css3\" class=\"headerlink\" title=\"3. css3\"></a>3. css3</h4><p>CSS3是CSS技术的一个升级版本，是由Adobe、Systems、Apple、Google、HP、IBM、Microsoft、Mozilla、Opera、Sun Microsystems 等许多WEB界的巨头联合组织的一个名为 “CSS Working Group” 的组织共同协商策划的。虽然目前很多细节还在讨论之中，但它还是不断地朝前发展着。2010年在HTML5成为IT界人士关注的焦点的同时，它也开始慢慢地普及开来。</p>\n<h4 id=\"4-sass\"><a href=\"#4-sass\" class=\"headerlink\" title=\"4. sass\"></a>4. sass</h4><p>SASS是一种CSS的开发工具，提供了许多便利的写法，大大节省了设计者的时间，使得CSS的开发，变得简单和可维护。</p>\n<h4 id=\"5-白鹭引擎\"><a href=\"#5-白鹭引擎\" class=\"headerlink\" title=\"5. 白鹭引擎\"></a>5. 白鹭引擎</h4><p>白鹭引擎是一个开源的、跨平台的手机游戏开发引擎,你可以快速地创建HTML5类型的移动游戏,也可以将游戏项目编译输出成为目标移动平台的原生游戏应用。</p>\n<h3 id=\"八、算法和数据结构\"><a href=\"#八、算法和数据结构\" class=\"headerlink\" title=\"八、算法和数据结构\"></a>八、算法和数据结构</h3><h4 id=\"1-线型查找\"><a href=\"#1-线型查找\" class=\"headerlink\" title=\"1. 线型查找\"></a>1. 线型查找</h4><p>在一列给定的值中进行搜索，从一端开始逐一检查每个元素，直到找到所需元素的过程。线性查找又称为顺序查找·如果查找池是某种类型的一个表，比如一个数组，简单的查找方法是从表头开始，一次将每一个值与目标元素进行比较，最后，或者查找到目标，或者达到表尾，而目标不存在于组中，这个方法称为线性查找。</p>\n<h4 id=\"2-二分查找\"><a href=\"#2-二分查找\" class=\"headerlink\" title=\"2. 二分查找\"></a>2. 二分查找</h4><p>二分查找又称折半查找，优点是比较次数少，查找速度快，平均性能好；其缺点是要求待查表为有序表，且插入删除困难。因此，折半查找方法适用于不经常变动而查找频繁的有序列表。首先，假设表中元素是按升序排列，将表中间位置记录的关键字与查找关键字比较，如果两者相等，则查找成功；否则利用中间位置记录将表分成前、后两个子表，如果中间位置记录的关键字大于查找关键字，则进一步查找前一子表，否则进一步查找后一子表。重复以上过程，直到找到满足条件的记录，使查找成功，或直到子表不存在为止，此时查找不成功。</p>\n<h4 id=\"3-冒泡排序\"><a href=\"#3-冒泡排序\" class=\"headerlink\" title=\"3. 冒泡排序\"></a>3. 冒泡排序</h4><p>冒泡排序（Bubble Sort），是一种计算机科学领域的较简单的排序算法。它重复地走访过要排序的数列，一次比较两个元素，如果他们的顺序错误就把他们交换过来。走访数列的工作是重复地进行直到没有再需要交换，也就是说该数列已经排序完成。</p>\n<h4 id=\"4-选择排序\"><a href=\"#4-选择排序\" class=\"headerlink\" title=\"4. 选择排序\"></a>4. 选择排序</h4><p>选择排序（Selection sort）是一种简单直观的排序算法。它的工作原理是每一次从待排序的数据元素中选出最小（或最大）的一个元素，存放在序列的起始位置，直到全部待排序的数据元素排完。 选择排序是不稳定的排序方法（比如序列[5， 5， 3]第一次就将第一个[5]与[3]交换，导致第一个5挪动到第二个5后面）。</p>\n<h4 id=\"5-插入排序\"><a href=\"#5-插入排序\" class=\"headerlink\" title=\"5. 插入排序\"></a>5. 插入排序</h4><p>插入排序的基本思想是：每步将一个待排序的纪录，按其关键码值的大小插入前面已经排序的文件中适当位置上，直到全部插入完为止。</p>\n<h4 id=\"6-字符串反转\"><a href=\"#6-字符串反转\" class=\"headerlink\" title=\"6. 字符串反转\"></a>6. 字符串反转</h4><figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">var <span class=\"built_in\">str</span> = <span class=\"string\">'123'</span>;</div><div class=\"line\">var newStr = <span class=\"built_in\">str</span>.<span class=\"built_in\">split</span>(<span class=\"string\">\"\"</span>).<span class=\"built_in\">reverse</span>().<span class=\"built_in\">join</span>(<span class=\"string\">\"\"</span>);</div><div class=\"line\">alert(newStr);</div></pre></td></tr></table></figure>\n<h4 id=\"7-搜索算法\"><a href=\"#7-搜索算法\" class=\"headerlink\" title=\"7. 搜索算法\"></a>7. 搜索算法</h4><p>搜索算法是利用计算机的高性能来有目的的穷举一个问题解空间的部分或所有的可能情况，从而求出问题的解的一种方法。搜索算法实际上是根据初始条件和扩展规则构造一棵“解答树”并寻找符合目标状态的节点的过程。</p>\n<h4 id=\"8-贪心算法\"><a href=\"#8-贪心算法\" class=\"headerlink\" title=\"8. 贪心算法\"></a>8. 贪心算法</h4><p>贪心算法（又称贪婪算法）是指，在对问题求解时，总是做出在当前看来是最好的选择。也就是说，不从整体最优上加以考虑，他所做出的是在某种意义上的局部最优解。贪心算法不是对所有问题都能得到整体最优解，关键是贪心策略的选择，选择的贪心策略必须具备无后效性，即某个状态以前的过程不会影响以后的状态，只与当前状态有关。</p>\n<h4 id=\"9-tween算法\"><a href=\"#9-tween算法\" class=\"headerlink\" title=\"9. tween算法\"></a>9. tween算法</h4><p>Flash做动画时会用到Tween类，利用它可以做很多动画效果，例如缓动、弹簧等等。</p>\n<h4 id=\"10-javascript算法库\"><a href=\"#10-javascript算法库\" class=\"headerlink\" title=\"10. javascript算法库\"></a>10. javascript算法库</h4><ul>\n<li><a href=\"https://github.com/sjkaliski/numbers.js/\">numbers.js</a></li>\n<li><a href=\"http://www.numericjs.com/\">Numeric Javascript </a></li>\n<li><a href=\"http://worrydream.com/Tangle/\">Tangle</a></li>\n<li><a href=\"http://josscrowcroft.github.io/accounting.js/\">accounting.js</a><h3 id=\"九、测试框架\"><a href=\"#九、测试框架\" class=\"headerlink\" title=\"九、测试框架\"></a>九、测试框架</h3><h4 id=\"1-mocha\"><a href=\"#1-mocha\" class=\"headerlink\" title=\"1. mocha\"></a>1. mocha</h4>mocha 是一个简单、灵活有趣的 JavaScript 测试框架，用于 Node.js 和浏览器上的 JavaScript 应用测试。Mocha 是具有丰富特性的 JavaScript 测试框架，可以运行在 Node.js 和浏览器中，使得异步测试更简单更有趣。Mocha 可以持续运行测试，支持灵活又准确的报告，当映射到未捕获异常时转到正确的测试示例。<h4 id=\"2-karma\"><a href=\"#2-karma\" class=\"headerlink\" title=\"2. karma\"></a>2. karma</h4>Karma是Testacular的新名字，在2012年google开源了Testacular，2013年Testacular改名为Karma。Karma是一个让人感到非常神秘的名字，表示佛教中的缘分，因果报应，比Cassandra这种名字更让人猜不透！Karma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流Web浏览器，也可集成到CI（Continuous integration）工具，也可和其他代码编辑器一起使用。这个测试工具的一个强大特性就是，它可以监控(Watch)文件的变化，然后自行执行，通过console.log显示测试结果。<h4 id=\"3-jasmine\"><a href=\"#3-jasmine\" class=\"headerlink\" title=\"3. jasmine\"></a>3. jasmine</h4>Jasmine （茉莉）是一款 JavaScript BDD（行为驱动开发）测试框架，它不依赖于其他任何 JavaScript 组件。它有干净清晰的语法，让您可以很简单的写出测试代码。对基于 JavaScript 的开发来说，它是一款不错的测试框架选择。<h4 id=\"4-chai\"><a href=\"#4-chai\" class=\"headerlink\" title=\"4. chai\"></a>4. chai</h4>Chai 是一个针对 Node.js 和浏览器的行为驱动测试和测试驱动测试的诊断库，可与任何 JavaScript 测试框架集成。<h4 id=\"5-Qunit\"><a href=\"#5-Qunit\" class=\"headerlink\" title=\"5.Qunit\"></a>5.Qunit</h4>该框架诞生之初是为了jquery的单元测试，后来独立出来不再依赖于jquery本身，但是其身上还是脱离不开jquery的影子<h4 id=\"6-should-js\"><a href=\"#6-should-js\" class=\"headerlink\" title=\"6. should.js:\"></a>6. should.js:</h4>TJ的另外一个开源贡献<h4 id=\"7-expect-js\"><a href=\"#7-expect-js\" class=\"headerlink\" title=\"7. expect.js\"></a>7. expect.js</h4>BDD风格的另外一个断言库，基于should.js,是mini版的BDD库<h4 id=\"8-assert\"><a href=\"#8-assert\" class=\"headerlink\" title=\"8. assert\"></a>8. assert</h4>node自带核心模块: 可以在node中使用的断言模块</li>\n</ul>\n<h3 id=\"十、重构\"><a href=\"#十、重构\" class=\"headerlink\" title=\"十、重构\"></a>十、<a href=\"http://www.raychase.net/138\">重构</a></h3><h4 id=\"1-命名\"><a href=\"#1-命名\" class=\"headerlink\" title=\"1. 命名\"></a>1. 命名</h4><p> 模块划分和命名空间</p>\n<h4 id=\"2-加载\"><a href=\"#2-加载\" class=\"headerlink\" title=\"2. 加载\"></a>2. 加载</h4><p>js的动态加载</p>\n<h4 id=\"3-测试\"><a href=\"#3-测试\" class=\"headerlink\" title=\"3. 测试\"></a>3. 测试</h4><p>Javascript的测试</p>\n<h4 id=\"4-编码\"><a href=\"#4-编码\" class=\"headerlink\" title=\"4. 编码\"></a>4. 编码</h4><p> Javascript编码规则</p>\n<h4 id=\"5-闭包\"><a href=\"#5-闭包\" class=\"headerlink\" title=\"5. 闭包\"></a>5. 闭包</h4><p> 利用原型/闭包开发组件</p>\n<h4 id=\"6-继承\"><a href=\"#6-继承\" class=\"headerlink\" title=\"6. 继承\"></a>6. 继承</h4><p> 利用继承来做事</p>\n<h4 id=\"7-重用\"><a href=\"#7-重用\" class=\"headerlink\" title=\"7. 重用\"></a>7. 重用</h4><p> 重用老代码</p>\n<h4 id=\"8-检测\"><a href=\"#8-检测\" class=\"headerlink\" title=\"8. 检测\"></a>8. 检测</h4><p> JSDoc和JSLint</p>\n<h4 id=\"9-框架\"><a href=\"#9-框架\" class=\"headerlink\" title=\"9.  框架\"></a>9.  框架</h4><p>自定义JavaScript产品框架</p>\n<h4 id=\"10-强化\"><a href=\"#10-强化\" class=\"headerlink\" title=\"10.  强化\"></a>10.  强化</h4><p>强化对象封装和模块封装</p>"},{"author":"小莫","date":"2016-07-01T16:00:00.000Z","title":"javascript设计模式","_content":"设计模式是一套反复使用的、思想成熟、经过分类和无数实战总结出来的。使用设计模式是为了让代码可重用、可扩展、可解藕、更容易让人理解并且有保证代码的可靠性。设计模式能够真正工程化，设计模式是软件工程的基石脉络，如同大厦的结构一样。只有夯实基础结构，才能盖好健壮的大楼。 也是我们迈向高级开发人员必经的一步。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/javascript.png)](https://github.com/syoubaku)\n\n### 一、设计原则\n\n#### 1. 开闭原则\n对扩展开发，对修改关闭。\n#### 2.  里氏替换原则\n子类继承父类，但单独调用完全可以运行。\n#### 3. 依赖倒转原则\n引用一个对象，如果这个对象有低层类型，直接引用低层。\n#### 4. 接口隔离原则\n每一个接口应该是一种角色。\n#### 5. 合成/聚合复用原则\n新的对象应使用一些己有的对象，使之成为新对象的一部分。\n#### 6. 迪米特原则\n一个对象在对其他对象尽可能少的了解。\n\n### 二、 设计模式\n#### 1. 原型模式\n概念：和javascript的prototype不同\nprototype是指原型实例(new)指向创建对象的种类，并且通过拷贝这些原型创建新的对象。如克隆\n\n作用：\n原型对象本身就是有效的利用了每个构造器创建的对象\n\n注意事项：\n注意深拷贝和浅拷贝，以免出现引用问题。\n\n代码实战和总结：\n\n```\n//声明一个对象\n  var myObj = {\n    str:'myStr',\n    num:1,\n    myArr:[1,2,3],\n    myObj:{\n      innerObj:{\n        test:25\n      },\n      innerStr:'innerStr'\n    }\n  }\n\n//拷贝对象的方法（浅拷贝）会影响原型\n  function clone (obj){\n    var ret = {};\n      for(var k in obj){\n        ret[k]= obj[k];\n      }\n      return ret;\n  }\n\n  //深拷贝  使用Object.create\n  function result(){}\n  result.prototype = Object.create(myObj);\n  var _result = new result();\n\n  //执行\n  var result = clone(myObj);\n  result.myObj.innerStr = 'outStr';\n  console.log(result);\n\n\n```\n\nObject.create(prototype,optionalDescriptorObjects)\n\n\n#### 2. 策略模式\n概念：\n策略模式定义了算法家族，\b分别封装起来，让它们之间可以相互替换，此模式让算法的变化不会影响到使用算法的客户。（目标一致，顺序不同，例如：田忌赛马）\n\n作用：\n所有的这些算法都是做相同的事情，只是实现不同。\n以相同的方法调用所有的方法，减少了各种算法在和使用算法类之间的耦合。\n单独定义了算法类，也方便单元测试。\n\n注意事项：\n不仅可以封装算法，也可以封装几乎任何类型的规则，是要在分析过程中需要在不同时间应用不同的规则， 可以考虑使用策略模式\n\n\n代码实战和总结\n\n```\n  //普通的验证\n  var $input = $('input').val();\n  var val = {\n    isEmpty:function(argument){\n      // code\n    }\n    isTel:function(argument){\n      // code\n    }\n  }\n  var ise = val.isEmpty($input);\n  var isTel = val.isTel($input)\n  if(ise && isTel){\n    alert('ok');\n  }\n\n// 挂载到$fn.val上   典型的策略模式验证\n  $input({\n    isEmpty:false,\n    isTel:True\n    })\n\n```\n\n#### 3. 组合模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结：\n#### 4. 外观模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 5. 迭代器模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n\n#### 6. 命令模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 7. 代理模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 8. 适配器模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 9. 责任链模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 10. 工厂模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 11. 单例模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 12. 观察者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 13. 中介者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 14. 装饰者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 15. 建造者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 16. 构造函数模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n","source":"_posts/2016-07-02.javascript_design_pattern.md","raw":"---\nauthor: 小莫\ndate: 2016-07-02\ntitle: javascript设计模式\ntags:\n- javascript\ncategory: javascript\npermalink: JavascriptDesignPattern\n---\n设计模式是一套反复使用的、思想成熟、经过分类和无数实战总结出来的。使用设计模式是为了让代码可重用、可扩展、可解藕、更容易让人理解并且有保证代码的可靠性。设计模式能够真正工程化，设计模式是软件工程的基石脉络，如同大厦的结构一样。只有夯实基础结构，才能盖好健壮的大楼。 也是我们迈向高级开发人员必经的一步。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/javascript.png)](https://github.com/syoubaku)\n\n### 一、设计原则\n\n#### 1. 开闭原则\n对扩展开发，对修改关闭。\n#### 2.  里氏替换原则\n子类继承父类，但单独调用完全可以运行。\n#### 3. 依赖倒转原则\n引用一个对象，如果这个对象有低层类型，直接引用低层。\n#### 4. 接口隔离原则\n每一个接口应该是一种角色。\n#### 5. 合成/聚合复用原则\n新的对象应使用一些己有的对象，使之成为新对象的一部分。\n#### 6. 迪米特原则\n一个对象在对其他对象尽可能少的了解。\n\n### 二、 设计模式\n#### 1. 原型模式\n概念：和javascript的prototype不同\nprototype是指原型实例(new)指向创建对象的种类，并且通过拷贝这些原型创建新的对象。如克隆\n\n作用：\n原型对象本身就是有效的利用了每个构造器创建的对象\n\n注意事项：\n注意深拷贝和浅拷贝，以免出现引用问题。\n\n代码实战和总结：\n\n```\n//声明一个对象\n  var myObj = {\n    str:'myStr',\n    num:1,\n    myArr:[1,2,3],\n    myObj:{\n      innerObj:{\n        test:25\n      },\n      innerStr:'innerStr'\n    }\n  }\n\n//拷贝对象的方法（浅拷贝）会影响原型\n  function clone (obj){\n    var ret = {};\n      for(var k in obj){\n        ret[k]= obj[k];\n      }\n      return ret;\n  }\n\n  //深拷贝  使用Object.create\n  function result(){}\n  result.prototype = Object.create(myObj);\n  var _result = new result();\n\n  //执行\n  var result = clone(myObj);\n  result.myObj.innerStr = 'outStr';\n  console.log(result);\n\n\n```\n\nObject.create(prototype,optionalDescriptorObjects)\n\n\n#### 2. 策略模式\n概念：\n策略模式定义了算法家族，\b分别封装起来，让它们之间可以相互替换，此模式让算法的变化不会影响到使用算法的客户。（目标一致，顺序不同，例如：田忌赛马）\n\n作用：\n所有的这些算法都是做相同的事情，只是实现不同。\n以相同的方法调用所有的方法，减少了各种算法在和使用算法类之间的耦合。\n单独定义了算法类，也方便单元测试。\n\n注意事项：\n不仅可以封装算法，也可以封装几乎任何类型的规则，是要在分析过程中需要在不同时间应用不同的规则， 可以考虑使用策略模式\n\n\n代码实战和总结\n\n```\n  //普通的验证\n  var $input = $('input').val();\n  var val = {\n    isEmpty:function(argument){\n      // code\n    }\n    isTel:function(argument){\n      // code\n    }\n  }\n  var ise = val.isEmpty($input);\n  var isTel = val.isTel($input)\n  if(ise && isTel){\n    alert('ok');\n  }\n\n// 挂载到$fn.val上   典型的策略模式验证\n  $input({\n    isEmpty:false,\n    isTel:True\n    })\n\n```\n\n#### 3. 组合模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结：\n#### 4. 外观模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 5. 迭代器模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n\n#### 6. 命令模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 7. 代理模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 8. 适配器模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 9. 责任链模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 10. 工厂模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 11. 单例模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 12. 观察者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 13. 中介者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 14. 装饰者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 15. 建造者模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n\n#### 16. 构造函数模式\n概念：\n\n作用：\n\n注意事项：\n\n代码实战和总结\n","slug":"JavascriptDesignPattern","published":1,"updated":"2016-12-01T06:50:30.516Z","_id":"civ0ggq9p0047rwvnwpi6zs73","comments":1,"layout":"post","photos":[],"link":"","content":"<p>设计模式是一套反复使用的、思想成熟、经过分类和无数实战总结出来的。使用设计模式是为了让代码可重用、可扩展、可解藕、更容易让人理解并且有保证代码的可靠性。设计模式能够真正工程化，设计模式是软件工程的基石脉络，如同大厦的结构一样。只有夯实基础结构，才能盖好健壮的大楼。 也是我们迈向高级开发人员必经的一步。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/javascript.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、设计原则\"><a href=\"#一、设计原则\" class=\"headerlink\" title=\"一、设计原则\"></a>一、设计原则</h3><h4 id=\"1-开闭原则\"><a href=\"#1-开闭原则\" class=\"headerlink\" title=\"1. 开闭原则\"></a>1. 开闭原则</h4><p>对扩展开发，对修改关闭。</p>\n<h4 id=\"2-里氏替换原则\"><a href=\"#2-里氏替换原则\" class=\"headerlink\" title=\"2.  里氏替换原则\"></a>2.  里氏替换原则</h4><p>子类继承父类，但单独调用完全可以运行。</p>\n<h4 id=\"3-依赖倒转原则\"><a href=\"#3-依赖倒转原则\" class=\"headerlink\" title=\"3. 依赖倒转原则\"></a>3. 依赖倒转原则</h4><p>引用一个对象，如果这个对象有低层类型，直接引用低层。</p>\n<h4 id=\"4-接口隔离原则\"><a href=\"#4-接口隔离原则\" class=\"headerlink\" title=\"4. 接口隔离原则\"></a>4. 接口隔离原则</h4><p>每一个接口应该是一种角色。</p>\n<h4 id=\"5-合成-聚合复用原则\"><a href=\"#5-合成-聚合复用原则\" class=\"headerlink\" title=\"5. 合成/聚合复用原则\"></a>5. 合成/聚合复用原则</h4><p>新的对象应使用一些己有的对象，使之成为新对象的一部分。</p>\n<h4 id=\"6-迪米特原则\"><a href=\"#6-迪米特原则\" class=\"headerlink\" title=\"6. 迪米特原则\"></a>6. 迪米特原则</h4><p>一个对象在对其他对象尽可能少的了解。</p>\n<h3 id=\"二、-设计模式\"><a href=\"#二、-设计模式\" class=\"headerlink\" title=\"二、 设计模式\"></a>二、 设计模式</h3><h4 id=\"1-原型模式\"><a href=\"#1-原型模式\" class=\"headerlink\" title=\"1. 原型模式\"></a>1. 原型模式</h4><p>概念：和javascript的prototype不同<br>prototype是指原型实例(new)指向创建对象的种类，并且通过拷贝这些原型创建新的对象。如克隆</p>\n<p>作用：<br>原型对象本身就是有效的利用了每个构造器创建的对象</p>\n<p>注意事项：<br>注意深拷贝和浅拷贝，以免出现引用问题。</p>\n<p>代码实战和总结：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//声明一个对象</span></div><div class=\"line\">  <span class=\"keyword\">var</span> myObj = &#123;</div><div class=\"line\">    <span class=\"attr\">str</span>:<span class=\"string\">'myStr'</span>,</div><div class=\"line\">    <span class=\"attr\">num</span>:<span class=\"number\">1</span>,</div><div class=\"line\">    <span class=\"attr\">myArr</span>:[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>],</div><div class=\"line\">    <span class=\"attr\">myObj</span>:&#123;</div><div class=\"line\">      <span class=\"attr\">innerObj</span>:&#123;</div><div class=\"line\">        <span class=\"attr\">test</span>:<span class=\"number\">25</span></div><div class=\"line\">      &#125;,</div><div class=\"line\">      <span class=\"attr\">innerStr</span>:<span class=\"string\">'innerStr'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//拷贝对象的方法（浅拷贝）会影响原型</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clone</span> (<span class=\"params\">obj</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> ret = &#123;&#125;;</div><div class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> obj)&#123;</div><div class=\"line\">        ret[k]= obj[k];</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"keyword\">return</span> ret;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">//深拷贝  使用Object.create</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">result</span>(<span class=\"params\"></span>)</span>&#123;&#125;</div><div class=\"line\">  result.prototype = <span class=\"built_in\">Object</span>.create(myObj);</div><div class=\"line\">  <span class=\"keyword\">var</span> _result = <span class=\"keyword\">new</span> result();</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">//执行</span></div><div class=\"line\">  <span class=\"keyword\">var</span> result = clone(myObj);</div><div class=\"line\">  result.myObj.innerStr = <span class=\"string\">'outStr'</span>;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(result);</div></pre></td></tr></table></figure>\n<p>Object.create(prototype,optionalDescriptorObjects)</p>\n<h4 id=\"2-策略模式\"><a href=\"#2-策略模式\" class=\"headerlink\" title=\"2. 策略模式\"></a>2. 策略模式</h4><p>概念：<br>策略模式定义了算法家族，\b分别封装起来，让它们之间可以相互替换，此模式让算法的变化不会影响到使用算法的客户。（目标一致，顺序不同，例如：田忌赛马）</p>\n<p>作用：<br>所有的这些算法都是做相同的事情，只是实现不同。<br>以相同的方法调用所有的方法，减少了各种算法在和使用算法类之间的耦合。<br>单独定义了算法类，也方便单元测试。</p>\n<p>注意事项：<br>不仅可以封装算法，也可以封装几乎任何类型的规则，是要在分析过程中需要在不同时间应用不同的规则， 可以考虑使用策略模式</p>\n<p>代码实战和总结</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"comment\">//普通的验证</span></div><div class=\"line\">  <span class=\"keyword\">var</span> $input = $(<span class=\"string\">'input'</span>).val();</div><div class=\"line\">  <span class=\"keyword\">var</span> val = &#123;</div><div class=\"line\">    isEmpty:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(argument)</span></span>&#123;</div><div class=\"line\">      <span class=\"comment\">// code</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    isTel:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(argument)</span></span>&#123;</div><div class=\"line\">      <span class=\"comment\">// code</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> ise = val.isEmpty($input);</div><div class=\"line\">  <span class=\"keyword\">var</span> isTel = val.isTel($input)</div><div class=\"line\">  <span class=\"keyword\">if</span>(ise &amp;&amp; isTel)&#123;</div><div class=\"line\">    alert(<span class=\"string\">'ok'</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 挂载到$fn.val上   典型的策略模式验证</span></div><div class=\"line\">  $input(&#123;</div><div class=\"line\">    isEmpty:<span class=\"keyword\">false</span>,</div><div class=\"line\">    isTel:<span class=\"keyword\">True</span></div><div class=\"line\">    &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"3-组合模式\"><a href=\"#3-组合模式\" class=\"headerlink\" title=\"3. 组合模式\"></a>3. 组合模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结：</p>\n<h4 id=\"4-外观模式\"><a href=\"#4-外观模式\" class=\"headerlink\" title=\"4. 外观模式\"></a>4. 外观模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"5-迭代器模式\"><a href=\"#5-迭代器模式\" class=\"headerlink\" title=\"5. 迭代器模式\"></a>5. 迭代器模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"6-命令模式\"><a href=\"#6-命令模式\" class=\"headerlink\" title=\"6. 命令模式\"></a>6. 命令模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"7-代理模式\"><a href=\"#7-代理模式\" class=\"headerlink\" title=\"7. 代理模式\"></a>7. 代理模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"8-适配器模式\"><a href=\"#8-适配器模式\" class=\"headerlink\" title=\"8. 适配器模式\"></a>8. 适配器模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"9-责任链模式\"><a href=\"#9-责任链模式\" class=\"headerlink\" title=\"9. 责任链模式\"></a>9. 责任链模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"10-工厂模式\"><a href=\"#10-工厂模式\" class=\"headerlink\" title=\"10. 工厂模式\"></a>10. 工厂模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"11-单例模式\"><a href=\"#11-单例模式\" class=\"headerlink\" title=\"11. 单例模式\"></a>11. 单例模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"12-观察者模式\"><a href=\"#12-观察者模式\" class=\"headerlink\" title=\"12. 观察者模式\"></a>12. 观察者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"13-中介者模式\"><a href=\"#13-中介者模式\" class=\"headerlink\" title=\"13. 中介者模式\"></a>13. 中介者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"14-装饰者模式\"><a href=\"#14-装饰者模式\" class=\"headerlink\" title=\"14. 装饰者模式\"></a>14. 装饰者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"15-建造者模式\"><a href=\"#15-建造者模式\" class=\"headerlink\" title=\"15. 建造者模式\"></a>15. 建造者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"16-构造函数模式\"><a href=\"#16-构造函数模式\" class=\"headerlink\" title=\"16. 构造函数模式\"></a>16. 构造函数模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n","excerpt":"<p>设计模式是一套反复使用的、思想成熟、经过分类和无数实战总结出来的。使用设计模式是为了让代码可重用、可扩展、可解藕、更容易让人理解并且有保证代码的可靠性。设计模式能够真正工程化，设计模式是软件工程的基石脉络，如同大厦的结构一样。只有夯实基础结构，才能盖好健壮的大楼。 也是我们迈向高级开发人员必经的一步。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/javascript.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、设计原则\"><a href=\"#一、设计原则\" class=\"headerlink\" title=\"一、设计原则\"></a>一、设计原则</h3><h4 id=\"1-开闭原则\"><a href=\"#1-开闭原则\" class=\"headerlink\" title=\"1. 开闭原则\"></a>1. 开闭原则</h4><p>对扩展开发，对修改关闭。</p>\n<h4 id=\"2-里氏替换原则\"><a href=\"#2-里氏替换原则\" class=\"headerlink\" title=\"2.  里氏替换原则\"></a>2.  里氏替换原则</h4><p>子类继承父类，但单独调用完全可以运行。</p>\n<h4 id=\"3-依赖倒转原则\"><a href=\"#3-依赖倒转原则\" class=\"headerlink\" title=\"3. 依赖倒转原则\"></a>3. 依赖倒转原则</h4><p>引用一个对象，如果这个对象有低层类型，直接引用低层。</p>\n<h4 id=\"4-接口隔离原则\"><a href=\"#4-接口隔离原则\" class=\"headerlink\" title=\"4. 接口隔离原则\"></a>4. 接口隔离原则</h4><p>每一个接口应该是一种角色。</p>\n<h4 id=\"5-合成-聚合复用原则\"><a href=\"#5-合成-聚合复用原则\" class=\"headerlink\" title=\"5. 合成/聚合复用原则\"></a>5. 合成/聚合复用原则</h4><p>新的对象应使用一些己有的对象，使之成为新对象的一部分。</p>\n<h4 id=\"6-迪米特原则\"><a href=\"#6-迪米特原则\" class=\"headerlink\" title=\"6. 迪米特原则\"></a>6. 迪米特原则</h4><p>一个对象在对其他对象尽可能少的了解。</p>\n<h3 id=\"二、-设计模式\"><a href=\"#二、-设计模式\" class=\"headerlink\" title=\"二、 设计模式\"></a>二、 设计模式</h3><h4 id=\"1-原型模式\"><a href=\"#1-原型模式\" class=\"headerlink\" title=\"1. 原型模式\"></a>1. 原型模式</h4><p>概念：和javascript的prototype不同<br>prototype是指原型实例(new)指向创建对象的种类，并且通过拷贝这些原型创建新的对象。如克隆</p>\n<p>作用：<br>原型对象本身就是有效的利用了每个构造器创建的对象</p>\n<p>注意事项：<br>注意深拷贝和浅拷贝，以免出现引用问题。</p>\n<p>代码实战和总结：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//声明一个对象</span></div><div class=\"line\">  <span class=\"keyword\">var</span> myObj = &#123;</div><div class=\"line\">    <span class=\"attr\">str</span>:<span class=\"string\">'myStr'</span>,</div><div class=\"line\">    <span class=\"attr\">num</span>:<span class=\"number\">1</span>,</div><div class=\"line\">    <span class=\"attr\">myArr</span>:[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>],</div><div class=\"line\">    <span class=\"attr\">myObj</span>:&#123;</div><div class=\"line\">      <span class=\"attr\">innerObj</span>:&#123;</div><div class=\"line\">        <span class=\"attr\">test</span>:<span class=\"number\">25</span></div><div class=\"line\">      &#125;,</div><div class=\"line\">      <span class=\"attr\">innerStr</span>:<span class=\"string\">'innerStr'</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//拷贝对象的方法（浅拷贝）会影响原型</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">clone</span> (<span class=\"params\">obj</span>)</span>&#123;</div><div class=\"line\">    <span class=\"keyword\">var</span> ret = &#123;&#125;;</div><div class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> k <span class=\"keyword\">in</span> obj)&#123;</div><div class=\"line\">        ret[k]= obj[k];</div><div class=\"line\">      &#125;</div><div class=\"line\">      <span class=\"keyword\">return</span> ret;</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">//深拷贝  使用Object.create</span></div><div class=\"line\">  <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">result</span>(<span class=\"params\"></span>)</span>&#123;&#125;</div><div class=\"line\">  result.prototype = <span class=\"built_in\">Object</span>.create(myObj);</div><div class=\"line\">  <span class=\"keyword\">var</span> _result = <span class=\"keyword\">new</span> result();</div><div class=\"line\"></div><div class=\"line\">  <span class=\"comment\">//执行</span></div><div class=\"line\">  <span class=\"keyword\">var</span> result = clone(myObj);</div><div class=\"line\">  result.myObj.innerStr = <span class=\"string\">'outStr'</span>;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(result);</div></pre></td></tr></table></figure>\n<p>Object.create(prototype,optionalDescriptorObjects)</p>\n<h4 id=\"2-策略模式\"><a href=\"#2-策略模式\" class=\"headerlink\" title=\"2. 策略模式\"></a>2. 策略模式</h4><p>概念：<br>策略模式定义了算法家族，\b分别封装起来，让它们之间可以相互替换，此模式让算法的变化不会影响到使用算法的客户。（目标一致，顺序不同，例如：田忌赛马）</p>\n<p>作用：<br>所有的这些算法都是做相同的事情，只是实现不同。<br>以相同的方法调用所有的方法，减少了各种算法在和使用算法类之间的耦合。<br>单独定义了算法类，也方便单元测试。</p>\n<p>注意事项：<br>不仅可以封装算法，也可以封装几乎任何类型的规则，是要在分析过程中需要在不同时间应用不同的规则， 可以考虑使用策略模式</p>\n<p>代码实战和总结</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div></pre></td><td class=\"code\"><pre><div class=\"line\">  <span class=\"comment\">//普通的验证</span></div><div class=\"line\">  <span class=\"keyword\">var</span> $input = $(<span class=\"string\">'input'</span>).val();</div><div class=\"line\">  <span class=\"keyword\">var</span> val = &#123;</div><div class=\"line\">    isEmpty:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(argument)</span></span>&#123;</div><div class=\"line\">      <span class=\"comment\">// code</span></div><div class=\"line\">    &#125;</div><div class=\"line\">    isTel:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(argument)</span></span>&#123;</div><div class=\"line\">      <span class=\"comment\">// code</span></div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;</div><div class=\"line\">  <span class=\"keyword\">var</span> ise = val.isEmpty($input);</div><div class=\"line\">  <span class=\"keyword\">var</span> isTel = val.isTel($input)</div><div class=\"line\">  <span class=\"keyword\">if</span>(ise &amp;&amp; isTel)&#123;</div><div class=\"line\">    alert(<span class=\"string\">'ok'</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">// 挂载到$fn.val上   典型的策略模式验证</span></div><div class=\"line\">  $input(&#123;</div><div class=\"line\">    isEmpty:<span class=\"keyword\">false</span>,</div><div class=\"line\">    isTel:<span class=\"keyword\">True</span></div><div class=\"line\">    &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"3-组合模式\"><a href=\"#3-组合模式\" class=\"headerlink\" title=\"3. 组合模式\"></a>3. 组合模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结：</p>\n<h4 id=\"4-外观模式\"><a href=\"#4-外观模式\" class=\"headerlink\" title=\"4. 外观模式\"></a>4. 外观模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"5-迭代器模式\"><a href=\"#5-迭代器模式\" class=\"headerlink\" title=\"5. 迭代器模式\"></a>5. 迭代器模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"6-命令模式\"><a href=\"#6-命令模式\" class=\"headerlink\" title=\"6. 命令模式\"></a>6. 命令模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"7-代理模式\"><a href=\"#7-代理模式\" class=\"headerlink\" title=\"7. 代理模式\"></a>7. 代理模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"8-适配器模式\"><a href=\"#8-适配器模式\" class=\"headerlink\" title=\"8. 适配器模式\"></a>8. 适配器模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"9-责任链模式\"><a href=\"#9-责任链模式\" class=\"headerlink\" title=\"9. 责任链模式\"></a>9. 责任链模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"10-工厂模式\"><a href=\"#10-工厂模式\" class=\"headerlink\" title=\"10. 工厂模式\"></a>10. 工厂模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"11-单例模式\"><a href=\"#11-单例模式\" class=\"headerlink\" title=\"11. 单例模式\"></a>11. 单例模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"12-观察者模式\"><a href=\"#12-观察者模式\" class=\"headerlink\" title=\"12. 观察者模式\"></a>12. 观察者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"13-中介者模式\"><a href=\"#13-中介者模式\" class=\"headerlink\" title=\"13. 中介者模式\"></a>13. 中介者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"14-装饰者模式\"><a href=\"#14-装饰者模式\" class=\"headerlink\" title=\"14. 装饰者模式\"></a>14. 装饰者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"15-建造者模式\"><a href=\"#15-建造者模式\" class=\"headerlink\" title=\"15. 建造者模式\"></a>15. 建造者模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>\n<h4 id=\"16-构造函数模式\"><a href=\"#16-构造函数模式\" class=\"headerlink\" title=\"16. 构造函数模式\"></a>16. 构造函数模式</h4><p>概念：</p>\n<p>作用：</p>\n<p>注意事项：</p>\n<p>代码实战和总结</p>"},{"author":"小莫","date":"2016-07-11T16:00:00.000Z","title":"rxjs全接触","_content":"RxJS是用于通过使用观察序列构成异步和基于事件的程序库。它提供了一个核心类型——[Observable](http://reactivex.io/rxjs/manual/overview.html#observable)（Observer, Schedulers, Subjects）和数组＃其他（map, filter, reduce, every, etc），以允许处理异步事件集合。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、rxjs内容\nReactiveX结合观察者模式与迭代器模式和函数式编程与收藏，以填补管理事件序列的理想方法的需要。\n\n在RxJS其中解决异步事件管理的基本概念是：\n#### 1. Observable\n可观察对象，代表未来值或事件的可调用集合的想法.\nobserver是一个由回调函数组成的对象，键名分别为`next`、`error` 和 `complete`，以此接受Observable推送的不同类型的通知。\n\n```\n  var observer = {\n    next: x => console.log('Observer got a next value: ' + x),\n    error: err => console.error('Observer got an error: ' + err),\n    complete: () => console.log('Observer got a complete notification'),\n  };\n```\n\n调用Observer逻辑，只需在subscribe（订阅）Observable后将Observer传入：`observable.subscribe(observer);`\n#### 2. Observer\n观察者，也被称为称为消费者，是回调的集合，它知道如何监听由观测交付价值\n#### 3. Subscription\nSubscription是一个代表可以终止资源的对象，表示一个Observable的执行过程。Subscription有一个重要的方法：unsubscribe。这个方法不需要传入参数，调用后便会终止相应的资源。\n#### 4. Operators\n操作者，是一种纯函数，能够使用函数式编程风格处理集合，具体操作有map, filter, concat, flatMap,等\n#### 5. Subject\n在RxJS中，Subject是一类特殊的Observable，它可以向多个Observer多路推送数值。普通的Observable并不具备多路推送的能力（每一个Observer都有自己独立的执行环境），而Subject可以共享一个执行环境。Subject是一种可以多路推送的可观察对象。与EventEmitter类似，Subject维护着自己的Observer。\n每一个Subject都是一个Observable（可观察对象） 对于一个Subject，你可以订阅（subscribe）它，Observer会和往常一样接收到数据。从Observer的视角看，它并不能区分自己的执行环境是普通Observable的单路推送还是基于Subject的多路推送。\n每一个Subject也可以作为Observer（观察者） Subject同样也是一个由next(v)，error(e)，和 complete()这些方法组成的对象。调用next(theValue)方法后，Subject会向所有已经在其上注册的Observer多路推送theValue。\n#### 6. Schedulers\n调度器，是用于控制并发的中心分发器，当计算发生在setTimeout or requestAnimationFrame 时，允许我们来进行协调。\n\n\n#### 7、推和拉\n拉和推是两个不同的协议如何数据生产者可以与数据消费者。\n\n拉\n数据消费者可以决定什么时候去接收数据提供者的数据。数据提供者自身并不知道什么时候把数据交给数据消费者。\n每个JavaScript函数是一个拉式系统。该功能是数据的生产者，而调用该函数的代码由“揪”出了消费它单从它调用的返回值。\n\n推\n在推送系统，生产者确定何时发送数据到消费者。消费者是不知道什么时候会收到的数据。\n在JavaScript中目前Promises是最常用的推系统类型。 一个Promises(提供者)传递了一个处理好的值然后注册一个回调(消费者)。但是跟方法不同，它是应许，负责确定正是当值被“推”到了回调。\n\n### 二、相关api\n\n#### 1. scan()\n使用RxJS您隔离的状态。\n\n```\n  var button = document . querySelector ( 'button' );\n  Rx . Observable . fromEvent ( button ,  'click' )\n    . scan ( count => count +  1 ,  0 )\n    . subscribe ( count => console . log ( 'Clicked {$ count}次' ））;\n```\n#### 2. subscribe()\n异步函数，可以使用一个回调\n\n```\nvar button = document . querySelector ( 'button' );\nRx . Observable . fromEvent ( button ,  'click' )\n  . subscribe (()  => console . log ( 'Clicked!' ));\n```\n\n#### 3. throttle()\n#### 4. map()\n每秒最多点击次数\n\n```\n  var button = document . querySelector ( 'button' );\n  Rx . Observable . fromEvent ( button ,  'click' )\n    . throttle ( 1000 )\n    . map ( event  =>  event . clientX )\n    . scan (( count , clientX )  => count + clientX ,  0 )\n    . subscribe ( count => console . log ( count ));\n```\n\n### 三、具体使用\n\n#### 1. Observable\n我们定义一个observable，前3个是步同执行。第四个是1秒后执行(异步)，执行完4之后整个observable才算完成。\n```\n  var observable =  Rx . Observable . create ( function  ( observer )  {\n    observer . next ( 1 );\n    observer . next ( 2 );\n    observer . next ( 3 );\n    setTimeout (()  =>  {\n      observer . next ( 4 );\n      observer . complete ();\n    },  1000 );\n  });\n```\n\n#### 2.subscribe\n为了能够看到这些值，我们需要订阅(subscribe)它。\n\n```\n  console.log('just before subscribe');\n  observable.subscribe({\n    next: x => console.log('got value ' + x),\n    error: err => console.error('something wrong occurred: ' + err),\n    complete: () => console.log('done'),\n  });\n  console.log('just after subscribe');\n```\n\n结果如下\n\n```\n  just before subscribe\n  got value 1\n  got value 2\n  got value 3\n  just after subscribe\n  got value 4\n  done\n```\n\n通过结果我们可以观察到，前三个执行之后就直接跳出订阅范围，等1秒钟之后才执行4，然后才完成。\n\n\n#### 3、amb方法\n`方法定义`\n`[Rx.Observable.amb(...args)]`\n`作用`\n从一系列流中，订阅最先发射的值的可观察对象并忽略其他的可观察对象。\n`参数`\nargs (Array|arguments)：方法参数为多个可观察对象（流），或者是Promise对象，对象间存在竞争关系。\n`返回值`\n(Observable) ：方法返回呈竞争态的多个可观察对象中，首先发射的可观察对象。\n`总结`\n简单的说，`amb()`像一个多路电闸，一次仅能构建一条通路：\n\n```\n| | | | | | | |\nA B C D E F G H\n| | | | | | | |\n     \\\n      \\   开关臂\n       \\   \n       |\n      主线\n       |\n```\n\n实例\n\nHTML\n```\n<body>\n  <input id=\"input1\" type=\"text\">\n  <input id=\"input2\" type=\"text\">\n</body>\n```\n\nJS\n```\n// 取元素\nvar input1 = $('#input1');\nvar input2 = $('#input2');\n// 定义事件流\nvar event1 = Rx.Observable.fromEvent(input1, 'click').map(()=>'one')\nvar event2 = Rx.Observable.fromEvent(input2, 'click').map(()=>'two');\n//传入事件流\nvar source = Rx.Observable.amb(event1,event2);\n```\n\n上面例子中\n`amb()`中传入了两个点击事件流。\n事件流1，会在点击后发射字符串one；\n事件流2，会在点击后发射字符串two；\n初始情况下，产生事件流1之后，事件流2不会再被输出；\n反之亦然，我们可以订阅`amb()`产生的结果流：[amb()操作符演示](http://jsbin.com/pitayi/edit?html,js,console,output)\n\n```\nvar subscription = source.subscribe(\n    function (x) {\n        console.log(x);\n    },\n    function (err) {\n        console.log('Error: ' + err);   \n    },\n    function () {\n        console.log('Completed');   \n    });\n```\n\n使用场景 1：秒杀\n\n```\nObservable.amb(\n    用户A的拍下请求,\n    用户B的拍下请求,\n    用户C的拍下请求,\n    ...\n).subscribe(function(user) {\n    执行购买逻辑，创建订单，打开支付工具\n})\n```\n\n使用场景 1：通话\n\n```\nObservable.amb(\n    A来电,\n    B来电,\n    C来电,\n    ...\n).subscribe(function(call) {\n    通话\n})\n```\n\n#### 4. case方法\n\n`方法定义`\n`[Rx.Observable.case(selector, sources, [elseSource|scheduler])]`\n\n`作用`\n选择序列中特定可观察对象进行订阅，在特定可观察对象不存在的情况下，返回传入的默认可观察对象。\n\n`参数`\n`selector (Function)`: 返回键的字符串的函数，键用以与sources中的键名进行比较。\n`sources (Object)`: 一个包含可观察对象的Javascript对象。\n`[elseSource|scheduler] (Observable | Scheduler)`:当selector无法匹配sources时，该对象被默认返回。 如果没有明确指定，将返回附加了指定scheduler的`Rx.Observabe.empty` 对象。\n\n`返回值`\n(Observable): 返回值为经过选择后的Observable（可观察对象）。\n\n`实例`\n\n```\n  var sources = {\n    hello: Rx.Observable.just('clx'),\n    world: Rx.Observable.just('wxq')\n  };\n  var subscription = Rx.Observable.case(()=>\"hello\", sources, Rx.Observable.empty())\n\n  subscription.subscribe(function(x) {\n    console.log(x)\n  })\n```\n实例中，匿名函数()=>\"hello\"指定需要在sources中返回的可观察对象的键名为\"hello\"，命令行最终输出\"clx\"，[点击进入case()实例](https://jsbin.com/kodije/edit?js,console,output)。\n\n适用场景\n针对表单进行校验，校验用户的`手机号`和`邮箱`是否和服务器记录重复，将所有校验封装在validate对象中结构更为合理：\n\n```\n  var validate = {\n      \"mobile\": Observable.return('123-566-789-01'),\n      \"email\": Observable.return('JonSnow@company.com')\n  };\n  var emptyObserable = Observable.empty();\n  validate.case(()=>'mobile', validate, empty)\n      .subscribe(function(mobile){\n          // 验证手机号码是否重复\n      })\n  validate.case(()=>'email', validate, empty)\n      .subscribe(function(email){\n          // 验证用户邮箱是否重复\n      })\n```\n\n#### 4. catch()方法\n\n`方法定义`\nRx.Observable.catch(...args)\n\n`作用`\n序列中可观察对象因为异常而被终止后，继续订阅序列中的其他可观察对象。\n\n`参数`\nargs (Array | arguments): 可观察对象序列。\n\n`返回值`\n(Observable): 可观察对象序列中能够正确终止，不抛出异常的第一个可观察对象。\n\n实例\n\n```\n  var obs1 = Rx.Observable.throw(new Error('error'));\n  var obs2 = Rx.Observable.return(42);\n\n  var source = Rx.Observable.catch(obs1, obs2);\n\n  var subscription = source.subscribe(\n    x => console.log(`onNext: ${x}`),\n    e => console.log(`onError: ${e}`),\n    () => console.log('onCompleted'));\n```\n\n手机验证码实例\n这样，用户能够收到验证码并成功验证的几率大大增加。\n\n```\n  var service1 = Observable.create(\"服务提供商#1\");\n  var service2 = Observable.create(\"服务提供商#1\");\n\n  Observable.catch(service1, service2).subscribe({\n      ()=>console.log('succeed'),\n      ()=>console.log('所有验证服务均不可用')\n      ()=>console.log('completed')\n  })\n```\n\n#### 5. combineLatest方法\n\n`方法定义`\nRx.Observable.combineLatest(...args, [resultSelector])\n\n`作用`\n通过处理函数总是将指定的可观察对象序列中最新发射的值合并为一个可观察对象。\n\n`参数`\n`args (arguments | Array)`: 一系列可观察对象或可观察对象的数组。\n`[resultSelector] (Function)`: 在所有可观察对象都发射值后调用的处理函数。\n\n`返回值`\n(Observable): 由传入的可观察序列经过处理函数合并后的结果组成的可观察序列。\n\n实例\n\n```\n  var colors = [\"紫色\",\"黄色\",\"蓝色\",\"黑色\"];\n  var shapes = [\"小星星\",\"圆形\",\"三角形\",\"正方形\",\"心形\",\"五边形\"];\n  var source1 = Rx.Observable.interval(3000)\n    .map(()=>colors.pop());\n  var source2 = Rx.Observable.interval(2000)\n    .map(()=>shapes.pop());\n\n  var combined = Rx.Observable.combineLatest(source1, source2, function(x, y){\n    return x + \"的\" + y;\n  }).take(8);\n\n  combined.subscribe((shaped)=>console.log(shaped));\n```\n","source":"_posts/2016-07-12.rxjs_study.md","raw":"---\nauthor: 小莫\ndate: 2016-07-12\ntitle: rxjs全接触\ntags:\n- rxjs\n- angular2\ncategory: angular2\npermalink: JavascriptRxjsStudy\n---\nRxJS是用于通过使用观察序列构成异步和基于事件的程序库。它提供了一个核心类型——[Observable](http://reactivex.io/rxjs/manual/overview.html#observable)（Observer, Schedulers, Subjects）和数组＃其他（map, filter, reduce, every, etc），以允许处理异步事件集合。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、rxjs内容\nReactiveX结合观察者模式与迭代器模式和函数式编程与收藏，以填补管理事件序列的理想方法的需要。\n\n在RxJS其中解决异步事件管理的基本概念是：\n#### 1. Observable\n可观察对象，代表未来值或事件的可调用集合的想法.\nobserver是一个由回调函数组成的对象，键名分别为`next`、`error` 和 `complete`，以此接受Observable推送的不同类型的通知。\n\n```\n  var observer = {\n    next: x => console.log('Observer got a next value: ' + x),\n    error: err => console.error('Observer got an error: ' + err),\n    complete: () => console.log('Observer got a complete notification'),\n  };\n```\n\n调用Observer逻辑，只需在subscribe（订阅）Observable后将Observer传入：`observable.subscribe(observer);`\n#### 2. Observer\n观察者，也被称为称为消费者，是回调的集合，它知道如何监听由观测交付价值\n#### 3. Subscription\nSubscription是一个代表可以终止资源的对象，表示一个Observable的执行过程。Subscription有一个重要的方法：unsubscribe。这个方法不需要传入参数，调用后便会终止相应的资源。\n#### 4. Operators\n操作者，是一种纯函数，能够使用函数式编程风格处理集合，具体操作有map, filter, concat, flatMap,等\n#### 5. Subject\n在RxJS中，Subject是一类特殊的Observable，它可以向多个Observer多路推送数值。普通的Observable并不具备多路推送的能力（每一个Observer都有自己独立的执行环境），而Subject可以共享一个执行环境。Subject是一种可以多路推送的可观察对象。与EventEmitter类似，Subject维护着自己的Observer。\n每一个Subject都是一个Observable（可观察对象） 对于一个Subject，你可以订阅（subscribe）它，Observer会和往常一样接收到数据。从Observer的视角看，它并不能区分自己的执行环境是普通Observable的单路推送还是基于Subject的多路推送。\n每一个Subject也可以作为Observer（观察者） Subject同样也是一个由next(v)，error(e)，和 complete()这些方法组成的对象。调用next(theValue)方法后，Subject会向所有已经在其上注册的Observer多路推送theValue。\n#### 6. Schedulers\n调度器，是用于控制并发的中心分发器，当计算发生在setTimeout or requestAnimationFrame 时，允许我们来进行协调。\n\n\n#### 7、推和拉\n拉和推是两个不同的协议如何数据生产者可以与数据消费者。\n\n拉\n数据消费者可以决定什么时候去接收数据提供者的数据。数据提供者自身并不知道什么时候把数据交给数据消费者。\n每个JavaScript函数是一个拉式系统。该功能是数据的生产者，而调用该函数的代码由“揪”出了消费它单从它调用的返回值。\n\n推\n在推送系统，生产者确定何时发送数据到消费者。消费者是不知道什么时候会收到的数据。\n在JavaScript中目前Promises是最常用的推系统类型。 一个Promises(提供者)传递了一个处理好的值然后注册一个回调(消费者)。但是跟方法不同，它是应许，负责确定正是当值被“推”到了回调。\n\n### 二、相关api\n\n#### 1. scan()\n使用RxJS您隔离的状态。\n\n```\n  var button = document . querySelector ( 'button' );\n  Rx . Observable . fromEvent ( button ,  'click' )\n    . scan ( count => count +  1 ,  0 )\n    . subscribe ( count => console . log ( 'Clicked {$ count}次' ））;\n```\n#### 2. subscribe()\n异步函数，可以使用一个回调\n\n```\nvar button = document . querySelector ( 'button' );\nRx . Observable . fromEvent ( button ,  'click' )\n  . subscribe (()  => console . log ( 'Clicked!' ));\n```\n\n#### 3. throttle()\n#### 4. map()\n每秒最多点击次数\n\n```\n  var button = document . querySelector ( 'button' );\n  Rx . Observable . fromEvent ( button ,  'click' )\n    . throttle ( 1000 )\n    . map ( event  =>  event . clientX )\n    . scan (( count , clientX )  => count + clientX ,  0 )\n    . subscribe ( count => console . log ( count ));\n```\n\n### 三、具体使用\n\n#### 1. Observable\n我们定义一个observable，前3个是步同执行。第四个是1秒后执行(异步)，执行完4之后整个observable才算完成。\n```\n  var observable =  Rx . Observable . create ( function  ( observer )  {\n    observer . next ( 1 );\n    observer . next ( 2 );\n    observer . next ( 3 );\n    setTimeout (()  =>  {\n      observer . next ( 4 );\n      observer . complete ();\n    },  1000 );\n  });\n```\n\n#### 2.subscribe\n为了能够看到这些值，我们需要订阅(subscribe)它。\n\n```\n  console.log('just before subscribe');\n  observable.subscribe({\n    next: x => console.log('got value ' + x),\n    error: err => console.error('something wrong occurred: ' + err),\n    complete: () => console.log('done'),\n  });\n  console.log('just after subscribe');\n```\n\n结果如下\n\n```\n  just before subscribe\n  got value 1\n  got value 2\n  got value 3\n  just after subscribe\n  got value 4\n  done\n```\n\n通过结果我们可以观察到，前三个执行之后就直接跳出订阅范围，等1秒钟之后才执行4，然后才完成。\n\n\n#### 3、amb方法\n`方法定义`\n`[Rx.Observable.amb(...args)]`\n`作用`\n从一系列流中，订阅最先发射的值的可观察对象并忽略其他的可观察对象。\n`参数`\nargs (Array|arguments)：方法参数为多个可观察对象（流），或者是Promise对象，对象间存在竞争关系。\n`返回值`\n(Observable) ：方法返回呈竞争态的多个可观察对象中，首先发射的可观察对象。\n`总结`\n简单的说，`amb()`像一个多路电闸，一次仅能构建一条通路：\n\n```\n| | | | | | | |\nA B C D E F G H\n| | | | | | | |\n     \\\n      \\   开关臂\n       \\   \n       |\n      主线\n       |\n```\n\n实例\n\nHTML\n```\n<body>\n  <input id=\"input1\" type=\"text\">\n  <input id=\"input2\" type=\"text\">\n</body>\n```\n\nJS\n```\n// 取元素\nvar input1 = $('#input1');\nvar input2 = $('#input2');\n// 定义事件流\nvar event1 = Rx.Observable.fromEvent(input1, 'click').map(()=>'one')\nvar event2 = Rx.Observable.fromEvent(input2, 'click').map(()=>'two');\n//传入事件流\nvar source = Rx.Observable.amb(event1,event2);\n```\n\n上面例子中\n`amb()`中传入了两个点击事件流。\n事件流1，会在点击后发射字符串one；\n事件流2，会在点击后发射字符串two；\n初始情况下，产生事件流1之后，事件流2不会再被输出；\n反之亦然，我们可以订阅`amb()`产生的结果流：[amb()操作符演示](http://jsbin.com/pitayi/edit?html,js,console,output)\n\n```\nvar subscription = source.subscribe(\n    function (x) {\n        console.log(x);\n    },\n    function (err) {\n        console.log('Error: ' + err);   \n    },\n    function () {\n        console.log('Completed');   \n    });\n```\n\n使用场景 1：秒杀\n\n```\nObservable.amb(\n    用户A的拍下请求,\n    用户B的拍下请求,\n    用户C的拍下请求,\n    ...\n).subscribe(function(user) {\n    执行购买逻辑，创建订单，打开支付工具\n})\n```\n\n使用场景 1：通话\n\n```\nObservable.amb(\n    A来电,\n    B来电,\n    C来电,\n    ...\n).subscribe(function(call) {\n    通话\n})\n```\n\n#### 4. case方法\n\n`方法定义`\n`[Rx.Observable.case(selector, sources, [elseSource|scheduler])]`\n\n`作用`\n选择序列中特定可观察对象进行订阅，在特定可观察对象不存在的情况下，返回传入的默认可观察对象。\n\n`参数`\n`selector (Function)`: 返回键的字符串的函数，键用以与sources中的键名进行比较。\n`sources (Object)`: 一个包含可观察对象的Javascript对象。\n`[elseSource|scheduler] (Observable | Scheduler)`:当selector无法匹配sources时，该对象被默认返回。 如果没有明确指定，将返回附加了指定scheduler的`Rx.Observabe.empty` 对象。\n\n`返回值`\n(Observable): 返回值为经过选择后的Observable（可观察对象）。\n\n`实例`\n\n```\n  var sources = {\n    hello: Rx.Observable.just('clx'),\n    world: Rx.Observable.just('wxq')\n  };\n  var subscription = Rx.Observable.case(()=>\"hello\", sources, Rx.Observable.empty())\n\n  subscription.subscribe(function(x) {\n    console.log(x)\n  })\n```\n实例中，匿名函数()=>\"hello\"指定需要在sources中返回的可观察对象的键名为\"hello\"，命令行最终输出\"clx\"，[点击进入case()实例](https://jsbin.com/kodije/edit?js,console,output)。\n\n适用场景\n针对表单进行校验，校验用户的`手机号`和`邮箱`是否和服务器记录重复，将所有校验封装在validate对象中结构更为合理：\n\n```\n  var validate = {\n      \"mobile\": Observable.return('123-566-789-01'),\n      \"email\": Observable.return('JonSnow@company.com')\n  };\n  var emptyObserable = Observable.empty();\n  validate.case(()=>'mobile', validate, empty)\n      .subscribe(function(mobile){\n          // 验证手机号码是否重复\n      })\n  validate.case(()=>'email', validate, empty)\n      .subscribe(function(email){\n          // 验证用户邮箱是否重复\n      })\n```\n\n#### 4. catch()方法\n\n`方法定义`\nRx.Observable.catch(...args)\n\n`作用`\n序列中可观察对象因为异常而被终止后，继续订阅序列中的其他可观察对象。\n\n`参数`\nargs (Array | arguments): 可观察对象序列。\n\n`返回值`\n(Observable): 可观察对象序列中能够正确终止，不抛出异常的第一个可观察对象。\n\n实例\n\n```\n  var obs1 = Rx.Observable.throw(new Error('error'));\n  var obs2 = Rx.Observable.return(42);\n\n  var source = Rx.Observable.catch(obs1, obs2);\n\n  var subscription = source.subscribe(\n    x => console.log(`onNext: ${x}`),\n    e => console.log(`onError: ${e}`),\n    () => console.log('onCompleted'));\n```\n\n手机验证码实例\n这样，用户能够收到验证码并成功验证的几率大大增加。\n\n```\n  var service1 = Observable.create(\"服务提供商#1\");\n  var service2 = Observable.create(\"服务提供商#1\");\n\n  Observable.catch(service1, service2).subscribe({\n      ()=>console.log('succeed'),\n      ()=>console.log('所有验证服务均不可用')\n      ()=>console.log('completed')\n  })\n```\n\n#### 5. combineLatest方法\n\n`方法定义`\nRx.Observable.combineLatest(...args, [resultSelector])\n\n`作用`\n通过处理函数总是将指定的可观察对象序列中最新发射的值合并为一个可观察对象。\n\n`参数`\n`args (arguments | Array)`: 一系列可观察对象或可观察对象的数组。\n`[resultSelector] (Function)`: 在所有可观察对象都发射值后调用的处理函数。\n\n`返回值`\n(Observable): 由传入的可观察序列经过处理函数合并后的结果组成的可观察序列。\n\n实例\n\n```\n  var colors = [\"紫色\",\"黄色\",\"蓝色\",\"黑色\"];\n  var shapes = [\"小星星\",\"圆形\",\"三角形\",\"正方形\",\"心形\",\"五边形\"];\n  var source1 = Rx.Observable.interval(3000)\n    .map(()=>colors.pop());\n  var source2 = Rx.Observable.interval(2000)\n    .map(()=>shapes.pop());\n\n  var combined = Rx.Observable.combineLatest(source1, source2, function(x, y){\n    return x + \"的\" + y;\n  }).take(8);\n\n  combined.subscribe((shaped)=>console.log(shaped));\n```\n","slug":"JavascriptRxjsStudy","published":1,"updated":"2016-12-01T06:50:27.729Z","_id":"civ0ggq9r004arwvnxa1kxpco","comments":1,"layout":"post","photos":[],"link":"","content":"<p>RxJS是用于通过使用观察序列构成异步和基于事件的程序库。它提供了一个核心类型——<a href=\"http://reactivex.io/rxjs/manual/overview.html#observable\" target=\"_blank\" rel=\"external\">Observable</a>（Observer, Schedulers, Subjects）和数组＃其他（map, filter, reduce, every, etc），以允许处理异步事件集合。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、rxjs内容\"><a href=\"#一、rxjs内容\" class=\"headerlink\" title=\"一、rxjs内容\"></a>一、rxjs内容</h3><p>ReactiveX结合观察者模式与迭代器模式和函数式编程与收藏，以填补管理事件序列的理想方法的需要。</p>\n<p>在RxJS其中解决异步事件管理的基本概念是：</p>\n<h4 id=\"1-Observable\"><a href=\"#1-Observable\" class=\"headerlink\" title=\"1. Observable\"></a>1. Observable</h4><p>可观察对象，代表未来值或事件的可调用集合的想法.<br>observer是一个由回调函数组成的对象，键名分别为<code>next</code>、<code>error</code> 和 <code>complete</code>，以此接受Observable推送的不同类型的通知。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> observer = &#123;</div><div class=\"line\">  <span class=\"attr\">next</span>: <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'Observer got a next value: '</span> + x),</div><div class=\"line\">  <span class=\"attr\">error</span>: <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(<span class=\"string\">'Observer got an error: '</span> + err),</div><div class=\"line\">  <span class=\"attr\">complete</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'Observer got a complete notification'</span>),</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p>调用Observer逻辑，只需在subscribe（订阅）Observable后将Observer传入：<code>observable.subscribe(observer);</code></p>\n<h4 id=\"2-Observer\"><a href=\"#2-Observer\" class=\"headerlink\" title=\"2. Observer\"></a>2. Observer</h4><p>观察者，也被称为称为消费者，是回调的集合，它知道如何监听由观测交付价值</p>\n<h4 id=\"3-Subscription\"><a href=\"#3-Subscription\" class=\"headerlink\" title=\"3. Subscription\"></a>3. Subscription</h4><p>Subscription是一个代表可以终止资源的对象，表示一个Observable的执行过程。Subscription有一个重要的方法：unsubscribe。这个方法不需要传入参数，调用后便会终止相应的资源。</p>\n<h4 id=\"4-Operators\"><a href=\"#4-Operators\" class=\"headerlink\" title=\"4. Operators\"></a>4. Operators</h4><p>操作者，是一种纯函数，能够使用函数式编程风格处理集合，具体操作有map, filter, concat, flatMap,等</p>\n<h4 id=\"5-Subject\"><a href=\"#5-Subject\" class=\"headerlink\" title=\"5. Subject\"></a>5. Subject</h4><p>在RxJS中，Subject是一类特殊的Observable，它可以向多个Observer多路推送数值。普通的Observable并不具备多路推送的能力（每一个Observer都有自己独立的执行环境），而Subject可以共享一个执行环境。Subject是一种可以多路推送的可观察对象。与EventEmitter类似，Subject维护着自己的Observer。<br>每一个Subject都是一个Observable（可观察对象） 对于一个Subject，你可以订阅（subscribe）它，Observer会和往常一样接收到数据。从Observer的视角看，它并不能区分自己的执行环境是普通Observable的单路推送还是基于Subject的多路推送。<br>每一个Subject也可以作为Observer（观察者） Subject同样也是一个由next(v)，error(e)，和 complete()这些方法组成的对象。调用next(theValue)方法后，Subject会向所有已经在其上注册的Observer多路推送theValue。</p>\n<h4 id=\"6-Schedulers\"><a href=\"#6-Schedulers\" class=\"headerlink\" title=\"6. Schedulers\"></a>6. Schedulers</h4><p>调度器，是用于控制并发的中心分发器，当计算发生在setTimeout or requestAnimationFrame 时，允许我们来进行协调。</p>\n<h4 id=\"7、推和拉\"><a href=\"#7、推和拉\" class=\"headerlink\" title=\"7、推和拉\"></a>7、推和拉</h4><p>拉和推是两个不同的协议如何数据生产者可以与数据消费者。</p>\n<p>拉<br>数据消费者可以决定什么时候去接收数据提供者的数据。数据提供者自身并不知道什么时候把数据交给数据消费者。<br>每个JavaScript函数是一个拉式系统。该功能是数据的生产者，而调用该函数的代码由“揪”出了消费它单从它调用的返回值。</p>\n<p>推<br>在推送系统，生产者确定何时发送数据到消费者。消费者是不知道什么时候会收到的数据。<br>在JavaScript中目前Promises是最常用的推系统类型。 一个Promises(提供者)传递了一个处理好的值然后注册一个回调(消费者)。但是跟方法不同，它是应许，负责确定正是当值被“推”到了回调。</p>\n<h3 id=\"二、相关api\"><a href=\"#二、相关api\" class=\"headerlink\" title=\"二、相关api\"></a>二、相关api</h3><h4 id=\"1-scan\"><a href=\"#1-scan\" class=\"headerlink\" title=\"1. scan()\"></a>1. scan()</h4><p>使用RxJS您隔离的状态。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> button = <span class=\"built_in\">document</span> . querySelector ( <span class=\"string\">'button'</span> );</div><div class=\"line\">Rx . Observable . fromEvent ( button ,  <span class=\"string\">'click'</span> )</div><div class=\"line\">  . scan ( <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> count +  <span class=\"number\">1</span> ,  <span class=\"number\">0</span> )</div><div class=\"line\">  . subscribe ( <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> <span class=\"built_in\">console</span> . log ( <span class=\"string\">'Clicked &#123;$ count&#125;次'</span> ））;</div></pre></td></tr></table></figure>\n<h4 id=\"2-subscribe\"><a href=\"#2-subscribe\" class=\"headerlink\" title=\"2. subscribe()\"></a>2. subscribe()</h4><p>异步函数，可以使用一个回调</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">var button = <span class=\"built_in\">document</span> . querySelector ( <span class=\"string\">'button'</span> );</div><div class=\"line\">Rx . Observable . fromEvent ( button ,  <span class=\"string\">'click'</span> )</div><div class=\"line\">  . subscribe (<span class=\"function\"><span class=\"params\">()</span>  =&gt;</span> <span class=\"built_in\">console</span> . log ( <span class=\"string\">'Clicked!'</span> ));</div></pre></td></tr></table></figure>\n<h4 id=\"3-throttle\"><a href=\"#3-throttle\" class=\"headerlink\" title=\"3. throttle()\"></a>3. throttle()</h4><h4 id=\"4-map\"><a href=\"#4-map\" class=\"headerlink\" title=\"4. map()\"></a>4. map()</h4><p>每秒最多点击次数</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> button = <span class=\"built_in\">document</span> . querySelector ( <span class=\"string\">'button'</span> );</div><div class=\"line\">Rx . Observable . fromEvent ( button ,  <span class=\"string\">'click'</span> )</div><div class=\"line\">  . throttle ( <span class=\"number\">1000</span> )</div><div class=\"line\">  . map ( <span class=\"function\"><span class=\"params\">event</span>  =&gt;</span>  event . clientX )</div><div class=\"line\">  . scan (<span class=\"function\">(<span class=\"params\"> count , clientX </span>)  =&gt;</span> count + clientX ,  <span class=\"number\">0</span> )</div><div class=\"line\">  . subscribe ( <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> <span class=\"built_in\">console</span> . log ( count ));</div></pre></td></tr></table></figure>\n<h3 id=\"三、具体使用\"><a href=\"#三、具体使用\" class=\"headerlink\" title=\"三、具体使用\"></a>三、具体使用</h3><h4 id=\"1-Observable-1\"><a href=\"#1-Observable-1\" class=\"headerlink\" title=\"1. Observable\"></a>1. Observable</h4><p>我们定义一个observable，前3个是步同执行。第四个是1秒后执行(异步)，执行完4之后整个observable才算完成。<br><figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">var observable =  Rx . Observable . create ( <span class=\"function\"><span class=\"keyword\">function</span>  <span class=\"params\">( observer )</span></span>  &#123;</div><div class=\"line\">  observer . <span class=\"built_in\">next</span> ( <span class=\"number\">1</span> );</div><div class=\"line\">  observer . <span class=\"built_in\">next</span> ( <span class=\"number\">2</span> );</div><div class=\"line\">  observer . <span class=\"built_in\">next</span> ( <span class=\"number\">3</span> );</div><div class=\"line\">  setTimeout (()  =&gt;  &#123;</div><div class=\"line\">    observer . <span class=\"built_in\">next</span> ( <span class=\"number\">4</span> );</div><div class=\"line\">    observer . complete ();</div><div class=\"line\">  &#125;,  <span class=\"number\">1000</span> );</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<h4 id=\"2-subscribe-1\"><a href=\"#2-subscribe-1\" class=\"headerlink\" title=\"2.subscribe\"></a>2.subscribe</h4><p>为了能够看到这些值，我们需要订阅(subscribe)它。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'just before subscribe'</span>);</div><div class=\"line\">observable.subscribe(&#123;</div><div class=\"line\">  <span class=\"attr\">next</span>: <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'got value '</span> + x),</div><div class=\"line\">  <span class=\"attr\">error</span>: <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(<span class=\"string\">'something wrong occurred: '</span> + err),</div><div class=\"line\">  <span class=\"attr\">complete</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>),</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'just after subscribe'</span>);</div></pre></td></tr></table></figure>\n<p>结果如下</p>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">just <span class=\"keyword\">before</span> subscribe</div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">1</span></div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">2</span></div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">3</span></div><div class=\"line\">just <span class=\"keyword\">after</span> subscribe</div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">4</span></div><div class=\"line\">done</div></pre></td></tr></table></figure>\n<p>通过结果我们可以观察到，前三个执行之后就直接跳出订阅范围，等1秒钟之后才执行4，然后才完成。</p>\n<h4 id=\"3、amb方法\"><a href=\"#3、amb方法\" class=\"headerlink\" title=\"3、amb方法\"></a>3、amb方法</h4><p><code>方法定义</code><br><code>[Rx.Observable.amb(...args)]</code><br><code>作用</code><br>从一系列流中，订阅最先发射的值的可观察对象并忽略其他的可观察对象。<br><code>参数</code><br>args (Array|arguments)：方法参数为多个可观察对象（流），或者是Promise对象，对象间存在竞争关系。<br><code>返回值</code><br>(Observable) ：方法返回呈竞争态的多个可观察对象中，首先发射的可观察对象。<br><code>总结</code><br>简单的说，<code>amb()</code>像一个多路电闸，一次仅能构建一条通路：</p>\n<figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|</div><div class=\"line\">A B C D E F G H</div><div class=\"line\">|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|</div><div class=\"line\">     \\</div><div class=\"line\">      \\   开关臂</div><div class=\"line\">       \\   </div><div class=\"line\">       |<span class=\"string\"></span></div><div class=\"line\">      主线</div><div class=\"line\">       |</div></pre></td></tr></table></figure>\n<p>实例</p>\n<p>HTML<br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"symbol\">&lt;body&gt;</span></div><div class=\"line\">  &lt;<span class=\"built_in\">input</span> id=<span class=\"string\">\"input1\"</span> <span class=\"built_in\">type</span>=<span class=\"string\">\"text\"</span>&gt;</div><div class=\"line\">  &lt;<span class=\"built_in\">input</span> id=<span class=\"string\">\"input2\"</span> <span class=\"built_in\">type</span>=<span class=\"string\">\"text\"</span>&gt;</div><div class=\"line\">&lt;/body&gt;</div></pre></td></tr></table></figure></p>\n<p>JS<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 取元素</span></div><div class=\"line\"><span class=\"keyword\">var</span> input1 = $(<span class=\"string\">'#input1'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> input2 = $(<span class=\"string\">'#input2'</span>);</div><div class=\"line\"><span class=\"comment\">// 定义事件流</span></div><div class=\"line\"><span class=\"keyword\">var</span> event1 = Rx.Observable.fromEvent(input1, <span class=\"string\">'click'</span>).map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"string\">'one'</span>)</div><div class=\"line\"><span class=\"keyword\">var</span> event2 = Rx.Observable.fromEvent(input2, <span class=\"string\">'click'</span>).map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"string\">'two'</span>);</div><div class=\"line\"><span class=\"comment\">//传入事件流</span></div><div class=\"line\"><span class=\"keyword\">var</span> source = Rx.Observable.amb(event1,event2);</div></pre></td></tr></table></figure></p>\n<p>上面例子中<br><code>amb()</code>中传入了两个点击事件流。<br>事件流1，会在点击后发射字符串one；<br>事件流2，会在点击后发射字符串two；<br>初始情况下，产生事件流1之后，事件流2不会再被输出；<br>反之亦然，我们可以订阅<code>amb()</code>产生的结果流：<a href=\"http://jsbin.com/pitayi/edit?html,js,console,output\" target=\"_blank\" rel=\"external\">amb()操作符演示</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> subscription = source.subscribe(</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">x</span>) </span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(x);</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'Error: '</span> + err);   </div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'Completed'</span>);   </div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure>\n<p>使用场景 1：秒杀</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">Observable.amb(</div><div class=\"line\">    用户A的拍下请求,</div><div class=\"line\">    用户B的拍下请求,</div><div class=\"line\">    用户C的拍下请求,</div><div class=\"line\">    ...</div><div class=\"line\">).subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(user)</span> </span>&#123;</div><div class=\"line\">    执行购买逻辑，创建订单，打开支付工具</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>使用场景 1：通话</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">Observable.amb(</div><div class=\"line\">    A来电,</div><div class=\"line\">    B来电,</div><div class=\"line\">    C来电,</div><div class=\"line\">    ...</div><div class=\"line\">).subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(call)</span> </span>&#123;</div><div class=\"line\">    通话</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"4-case方法\"><a href=\"#4-case方法\" class=\"headerlink\" title=\"4. case方法\"></a>4. case方法</h4><p><code>方法定义</code><br><code>[Rx.Observable.case(selector, sources, [elseSource|scheduler])]</code></p>\n<p><code>作用</code><br>选择序列中特定可观察对象进行订阅，在特定可观察对象不存在的情况下，返回传入的默认可观察对象。</p>\n<p><code>参数</code><br><code>selector (Function)</code>: 返回键的字符串的函数，键用以与sources中的键名进行比较。<br><code>sources (Object)</code>: 一个包含可观察对象的Javascript对象。<br><code>[elseSource|scheduler] (Observable | Scheduler)</code>:当selector无法匹配sources时，该对象被默认返回。 如果没有明确指定，将返回附加了指定scheduler的<code>Rx.Observabe.empty</code> 对象。</p>\n<p><code>返回值</code><br>(Observable): 返回值为经过选择后的Observable（可观察对象）。</p>\n<p><code>实例</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> sources = &#123;</div><div class=\"line\">  <span class=\"attr\">hello</span>: Rx.Observable.just(<span class=\"string\">'clx'</span>),</div><div class=\"line\">  <span class=\"attr\">world</span>: Rx.Observable.just(<span class=\"string\">'wxq'</span>)</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> subscription = Rx.Observable.case(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"string\">\"hello\"</span>, sources, Rx.Observable.empty())</div><div class=\"line\"></div><div class=\"line\">subscription.subscribe(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">x</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(x)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>实例中，匿名函数()=&gt;”hello”指定需要在sources中返回的可观察对象的键名为”hello”，命令行最终输出”clx”，<a href=\"https://jsbin.com/kodije/edit?js,console,output\" target=\"_blank\" rel=\"external\">点击进入case()实例</a>。</p>\n<p>适用场景<br>针对表单进行校验，校验用户的<code>手机号</code>和<code>邮箱</code>是否和服务器记录重复，将所有校验封装在validate对象中结构更为合理：</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> validate = &#123;</div><div class=\"line\">    <span class=\"string\">\"mobile\"</span>: Observable.<span class=\"keyword\">return</span>(<span class=\"string\">'123-566-789-01'</span>),</div><div class=\"line\">    <span class=\"string\">\"email\"</span>: Observable.<span class=\"keyword\">return</span>(<span class=\"string\">'JonSnow@company.com'</span>)</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> emptyObserable = Observable.<span class=\"keyword\">empty</span>();</div><div class=\"line\">validate.<span class=\"keyword\">case</span>(()=&gt;<span class=\"string\">'mobile'</span>, validate, <span class=\"keyword\">empty</span>)</div><div class=\"line\">    .subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(mobile)</span></span>&#123;</div><div class=\"line\">        <span class=\"comment\">// 验证手机号码是否重复</span></div><div class=\"line\">    &#125;)</div><div class=\"line\">validate.<span class=\"keyword\">case</span>(()=&gt;<span class=\"string\">'email'</span>, validate, <span class=\"keyword\">empty</span>)</div><div class=\"line\">    .subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(email)</span></span>&#123;</div><div class=\"line\">        <span class=\"comment\">// 验证用户邮箱是否重复</span></div><div class=\"line\">    &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"4-catch-方法\"><a href=\"#4-catch-方法\" class=\"headerlink\" title=\"4. catch()方法\"></a>4. catch()方法</h4><p><code>方法定义</code><br>Rx.Observable.catch(…args)</p>\n<p><code>作用</code><br>序列中可观察对象因为异常而被终止后，继续订阅序列中的其他可观察对象。</p>\n<p><code>参数</code><br>args (Array | arguments): 可观察对象序列。</p>\n<p><code>返回值</code><br>(Observable): 可观察对象序列中能够正确终止，不抛出异常的第一个可观察对象。</p>\n<p>实例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> obs1 = Rx.Observable.throw(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'error'</span>));</div><div class=\"line\"><span class=\"keyword\">var</span> obs2 = Rx.Observable.return(<span class=\"number\">42</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> source = Rx.Observable.catch(obs1, obs2);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> subscription = source.subscribe(</div><div class=\"line\">  <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">`onNext: <span class=\"subst\">$&#123;x&#125;</span>`</span>),</div><div class=\"line\">  e =&gt; <span class=\"built_in\">console</span>.log(<span class=\"string\">`onError: <span class=\"subst\">$&#123;e&#125;</span>`</span>),</div><div class=\"line\">  () =&gt; <span class=\"built_in\">console</span>.log(<span class=\"string\">'onCompleted'</span>));</div></pre></td></tr></table></figure>\n<p>手机验证码实例<br>这样，用户能够收到验证码并成功验证的几率大大增加。</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">var service1 = Observable.create(<span class=\"string\">\"服务提供商#1\"</span>);</div><div class=\"line\">var service2 = Observable.create(<span class=\"string\">\"服务提供商#1\"</span>);</div><div class=\"line\"></div><div class=\"line\">Observable.<span class=\"keyword\">catch</span>(service1, service2).subscribe(&#123;</div><div class=\"line\">    ()=&gt;<span class=\"built_in\">console</span>.log(<span class=\"string\">'succeed'</span>),</div><div class=\"line\">    <span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"built_in\">console</span>.log(<span class=\"string\">'所有验证服务均不可用'</span>)</div><div class=\"line\">    ()=&gt;<span class=\"built_in\">console</span>.log(<span class=\"string\">'completed'</span>)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"5-combineLatest方法\"><a href=\"#5-combineLatest方法\" class=\"headerlink\" title=\"5. combineLatest方法\"></a>5. combineLatest方法</h4><p><code>方法定义</code><br>Rx.Observable.combineLatest(…args, [resultSelector])</p>\n<p><code>作用</code><br>通过处理函数总是将指定的可观察对象序列中最新发射的值合并为一个可观察对象。</p>\n<p><code>参数</code><br><code>args (arguments | Array)</code>: 一系列可观察对象或可观察对象的数组。<br><code>[resultSelector] (Function)</code>: 在所有可观察对象都发射值后调用的处理函数。</p>\n<p><code>返回值</code><br>(Observable): 由传入的可观察序列经过处理函数合并后的结果组成的可观察序列。</p>\n<p>实例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> colors = [<span class=\"string\">\"紫色\"</span>,<span class=\"string\">\"黄色\"</span>,<span class=\"string\">\"蓝色\"</span>,<span class=\"string\">\"黑色\"</span>];</div><div class=\"line\"><span class=\"keyword\">var</span> shapes = [<span class=\"string\">\"小星星\"</span>,<span class=\"string\">\"圆形\"</span>,<span class=\"string\">\"三角形\"</span>,<span class=\"string\">\"正方形\"</span>,<span class=\"string\">\"心形\"</span>,<span class=\"string\">\"五边形\"</span>];</div><div class=\"line\"><span class=\"keyword\">var</span> source1 = Rx.Observable.interval(<span class=\"number\">3000</span>)</div><div class=\"line\">  .map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>colors.pop());</div><div class=\"line\"><span class=\"keyword\">var</span> source2 = Rx.Observable.interval(<span class=\"number\">2000</span>)</div><div class=\"line\">  .map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>shapes.pop());</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> combined = Rx.Observable.combineLatest(source1, source2, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">x, y</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> x + <span class=\"string\">\"的\"</span> + y;</div><div class=\"line\">&#125;).take(<span class=\"number\">8</span>);</div><div class=\"line\"></div><div class=\"line\">combined.subscribe(<span class=\"function\">(<span class=\"params\">shaped</span>)=&gt;</span><span class=\"built_in\">console</span>.log(shaped));</div></pre></td></tr></table></figure>\n","excerpt":"<p>RxJS是用于通过使用观察序列构成异步和基于事件的程序库。它提供了一个核心类型——<a href=\"http://reactivex.io/rxjs/manual/overview.html#observable\">Observable</a>（Observer, Schedulers, Subjects）和数组＃其他（map, filter, reduce, every, etc），以允许处理异步事件集合。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、rxjs内容\"><a href=\"#一、rxjs内容\" class=\"headerlink\" title=\"一、rxjs内容\"></a>一、rxjs内容</h3><p>ReactiveX结合观察者模式与迭代器模式和函数式编程与收藏，以填补管理事件序列的理想方法的需要。</p>\n<p>在RxJS其中解决异步事件管理的基本概念是：</p>\n<h4 id=\"1-Observable\"><a href=\"#1-Observable\" class=\"headerlink\" title=\"1. Observable\"></a>1. Observable</h4><p>可观察对象，代表未来值或事件的可调用集合的想法.<br>observer是一个由回调函数组成的对象，键名分别为<code>next</code>、<code>error</code> 和 <code>complete</code>，以此接受Observable推送的不同类型的通知。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> observer = &#123;</div><div class=\"line\">  <span class=\"attr\">next</span>: <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'Observer got a next value: '</span> + x),</div><div class=\"line\">  <span class=\"attr\">error</span>: <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(<span class=\"string\">'Observer got an error: '</span> + err),</div><div class=\"line\">  <span class=\"attr\">complete</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'Observer got a complete notification'</span>),</div><div class=\"line\">&#125;;</div></pre></td></tr></table></figure>\n<p>调用Observer逻辑，只需在subscribe（订阅）Observable后将Observer传入：<code>observable.subscribe(observer);</code></p>\n<h4 id=\"2-Observer\"><a href=\"#2-Observer\" class=\"headerlink\" title=\"2. Observer\"></a>2. Observer</h4><p>观察者，也被称为称为消费者，是回调的集合，它知道如何监听由观测交付价值</p>\n<h4 id=\"3-Subscription\"><a href=\"#3-Subscription\" class=\"headerlink\" title=\"3. Subscription\"></a>3. Subscription</h4><p>Subscription是一个代表可以终止资源的对象，表示一个Observable的执行过程。Subscription有一个重要的方法：unsubscribe。这个方法不需要传入参数，调用后便会终止相应的资源。</p>\n<h4 id=\"4-Operators\"><a href=\"#4-Operators\" class=\"headerlink\" title=\"4. Operators\"></a>4. Operators</h4><p>操作者，是一种纯函数，能够使用函数式编程风格处理集合，具体操作有map, filter, concat, flatMap,等</p>\n<h4 id=\"5-Subject\"><a href=\"#5-Subject\" class=\"headerlink\" title=\"5. Subject\"></a>5. Subject</h4><p>在RxJS中，Subject是一类特殊的Observable，它可以向多个Observer多路推送数值。普通的Observable并不具备多路推送的能力（每一个Observer都有自己独立的执行环境），而Subject可以共享一个执行环境。Subject是一种可以多路推送的可观察对象。与EventEmitter类似，Subject维护着自己的Observer。<br>每一个Subject都是一个Observable（可观察对象） 对于一个Subject，你可以订阅（subscribe）它，Observer会和往常一样接收到数据。从Observer的视角看，它并不能区分自己的执行环境是普通Observable的单路推送还是基于Subject的多路推送。<br>每一个Subject也可以作为Observer（观察者） Subject同样也是一个由next(v)，error(e)，和 complete()这些方法组成的对象。调用next(theValue)方法后，Subject会向所有已经在其上注册的Observer多路推送theValue。</p>\n<h4 id=\"6-Schedulers\"><a href=\"#6-Schedulers\" class=\"headerlink\" title=\"6. Schedulers\"></a>6. Schedulers</h4><p>调度器，是用于控制并发的中心分发器，当计算发生在setTimeout or requestAnimationFrame 时，允许我们来进行协调。</p>\n<h4 id=\"7、推和拉\"><a href=\"#7、推和拉\" class=\"headerlink\" title=\"7、推和拉\"></a>7、推和拉</h4><p>拉和推是两个不同的协议如何数据生产者可以与数据消费者。</p>\n<p>拉<br>数据消费者可以决定什么时候去接收数据提供者的数据。数据提供者自身并不知道什么时候把数据交给数据消费者。<br>每个JavaScript函数是一个拉式系统。该功能是数据的生产者，而调用该函数的代码由“揪”出了消费它单从它调用的返回值。</p>\n<p>推<br>在推送系统，生产者确定何时发送数据到消费者。消费者是不知道什么时候会收到的数据。<br>在JavaScript中目前Promises是最常用的推系统类型。 一个Promises(提供者)传递了一个处理好的值然后注册一个回调(消费者)。但是跟方法不同，它是应许，负责确定正是当值被“推”到了回调。</p>\n<h3 id=\"二、相关api\"><a href=\"#二、相关api\" class=\"headerlink\" title=\"二、相关api\"></a>二、相关api</h3><h4 id=\"1-scan\"><a href=\"#1-scan\" class=\"headerlink\" title=\"1. scan()\"></a>1. scan()</h4><p>使用RxJS您隔离的状态。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> button = <span class=\"built_in\">document</span> . querySelector ( <span class=\"string\">'button'</span> );</div><div class=\"line\">Rx . Observable . fromEvent ( button ,  <span class=\"string\">'click'</span> )</div><div class=\"line\">  . scan ( <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> count +  <span class=\"number\">1</span> ,  <span class=\"number\">0</span> )</div><div class=\"line\">  . subscribe ( <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> <span class=\"built_in\">console</span> . log ( <span class=\"string\">'Clicked &#123;$ count&#125;次'</span> ））;</div></pre></td></tr></table></figure>\n<h4 id=\"2-subscribe\"><a href=\"#2-subscribe\" class=\"headerlink\" title=\"2. subscribe()\"></a>2. subscribe()</h4><p>异步函数，可以使用一个回调</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">var button = <span class=\"built_in\">document</span> . querySelector ( <span class=\"string\">'button'</span> );</div><div class=\"line\">Rx . Observable . fromEvent ( button ,  <span class=\"string\">'click'</span> )</div><div class=\"line\">  . subscribe (<span class=\"function\"><span class=\"params\">()</span>  =&gt;</span> <span class=\"built_in\">console</span> . log ( <span class=\"string\">'Clicked!'</span> ));</div></pre></td></tr></table></figure>\n<h4 id=\"3-throttle\"><a href=\"#3-throttle\" class=\"headerlink\" title=\"3. throttle()\"></a>3. throttle()</h4><h4 id=\"4-map\"><a href=\"#4-map\" class=\"headerlink\" title=\"4. map()\"></a>4. map()</h4><p>每秒最多点击次数</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> button = <span class=\"built_in\">document</span> . querySelector ( <span class=\"string\">'button'</span> );</div><div class=\"line\">Rx . Observable . fromEvent ( button ,  <span class=\"string\">'click'</span> )</div><div class=\"line\">  . throttle ( <span class=\"number\">1000</span> )</div><div class=\"line\">  . map ( <span class=\"function\"><span class=\"params\">event</span>  =&gt;</span>  event . clientX )</div><div class=\"line\">  . scan (<span class=\"function\">(<span class=\"params\"> count , clientX </span>)  =&gt;</span> count + clientX ,  <span class=\"number\">0</span> )</div><div class=\"line\">  . subscribe ( <span class=\"function\"><span class=\"params\">count</span> =&gt;</span> <span class=\"built_in\">console</span> . log ( count ));</div></pre></td></tr></table></figure>\n<h3 id=\"三、具体使用\"><a href=\"#三、具体使用\" class=\"headerlink\" title=\"三、具体使用\"></a>三、具体使用</h3><h4 id=\"1-Observable-1\"><a href=\"#1-Observable-1\" class=\"headerlink\" title=\"1. Observable\"></a>1. Observable</h4><p>我们定义一个observable，前3个是步同执行。第四个是1秒后执行(异步)，执行完4之后整个observable才算完成。<br><figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">var observable =  Rx . Observable . create ( <span class=\"function\"><span class=\"keyword\">function</span>  <span class=\"params\">( observer )</span></span>  &#123;</div><div class=\"line\">  observer . <span class=\"built_in\">next</span> ( <span class=\"number\">1</span> );</div><div class=\"line\">  observer . <span class=\"built_in\">next</span> ( <span class=\"number\">2</span> );</div><div class=\"line\">  observer . <span class=\"built_in\">next</span> ( <span class=\"number\">3</span> );</div><div class=\"line\">  setTimeout (()  =&gt;  &#123;</div><div class=\"line\">    observer . <span class=\"built_in\">next</span> ( <span class=\"number\">4</span> );</div><div class=\"line\">    observer . complete ();</div><div class=\"line\">  &#125;,  <span class=\"number\">1000</span> );</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure></p>\n<h4 id=\"2-subscribe-1\"><a href=\"#2-subscribe-1\" class=\"headerlink\" title=\"2.subscribe\"></a>2.subscribe</h4><p>为了能够看到这些值，我们需要订阅(subscribe)它。</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'just before subscribe'</span>);</div><div class=\"line\">observable.subscribe(&#123;</div><div class=\"line\">  <span class=\"attr\">next</span>: <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'got value '</span> + x),</div><div class=\"line\">  <span class=\"attr\">error</span>: <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> <span class=\"built_in\">console</span>.error(<span class=\"string\">'something wrong occurred: '</span> + err),</div><div class=\"line\">  <span class=\"attr\">complete</span>: <span class=\"function\"><span class=\"params\">()</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">'done'</span>),</div><div class=\"line\">&#125;);</div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'just after subscribe'</span>);</div></pre></td></tr></table></figure>\n<p>结果如下</p>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">just <span class=\"keyword\">before</span> subscribe</div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">1</span></div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">2</span></div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">3</span></div><div class=\"line\">just <span class=\"keyword\">after</span> subscribe</div><div class=\"line\">got <span class=\"built_in\">value</span> <span class=\"number\">4</span></div><div class=\"line\">done</div></pre></td></tr></table></figure>\n<p>通过结果我们可以观察到，前三个执行之后就直接跳出订阅范围，等1秒钟之后才执行4，然后才完成。</p>\n<h4 id=\"3、amb方法\"><a href=\"#3、amb方法\" class=\"headerlink\" title=\"3、amb方法\"></a>3、amb方法</h4><p><code>方法定义</code><br><code>[Rx.Observable.amb(...args)]</code><br><code>作用</code><br>从一系列流中，订阅最先发射的值的可观察对象并忽略其他的可观察对象。<br><code>参数</code><br>args (Array|arguments)：方法参数为多个可观察对象（流），或者是Promise对象，对象间存在竞争关系。<br><code>返回值</code><br>(Observable) ：方法返回呈竞争态的多个可观察对象中，首先发射的可观察对象。<br><code>总结</code><br>简单的说，<code>amb()</code>像一个多路电闸，一次仅能构建一条通路：</p>\n<figure class=\"highlight gherkin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|</div><div class=\"line\">A B C D E F G H</div><div class=\"line\">|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|<span class=\"string\"> </span>|</div><div class=\"line\">     \\</div><div class=\"line\">      \\   开关臂</div><div class=\"line\">       \\   </div><div class=\"line\">       |<span class=\"string\"></div><div class=\"line\">      主线</div><div class=\"line\">       </span>|</div></pre></td></tr></table></figure>\n<p>实例</p>\n<p>HTML<br><figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"symbol\">&lt;body&gt;</span></div><div class=\"line\">  &lt;<span class=\"built_in\">input</span> id=<span class=\"string\">\"input1\"</span> <span class=\"built_in\">type</span>=<span class=\"string\">\"text\"</span>&gt;</div><div class=\"line\">  &lt;<span class=\"built_in\">input</span> id=<span class=\"string\">\"input2\"</span> <span class=\"built_in\">type</span>=<span class=\"string\">\"text\"</span>&gt;</div><div class=\"line\">&lt;/body&gt;</div></pre></td></tr></table></figure></p>\n<p>JS<br><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">// 取元素</span></div><div class=\"line\"><span class=\"keyword\">var</span> input1 = $(<span class=\"string\">'#input1'</span>);</div><div class=\"line\"><span class=\"keyword\">var</span> input2 = $(<span class=\"string\">'#input2'</span>);</div><div class=\"line\"><span class=\"comment\">// 定义事件流</span></div><div class=\"line\"><span class=\"keyword\">var</span> event1 = Rx.Observable.fromEvent(input1, <span class=\"string\">'click'</span>).map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"string\">'one'</span>)</div><div class=\"line\"><span class=\"keyword\">var</span> event2 = Rx.Observable.fromEvent(input2, <span class=\"string\">'click'</span>).map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"string\">'two'</span>);</div><div class=\"line\"><span class=\"comment\">//传入事件流</span></div><div class=\"line\"><span class=\"keyword\">var</span> source = Rx.Observable.amb(event1,event2);</div></pre></td></tr></table></figure></p>\n<p>上面例子中<br><code>amb()</code>中传入了两个点击事件流。<br>事件流1，会在点击后发射字符串one；<br>事件流2，会在点击后发射字符串two；<br>初始情况下，产生事件流1之后，事件流2不会再被输出；<br>反之亦然，我们可以订阅<code>amb()</code>产生的结果流：<a href=\"http://jsbin.com/pitayi/edit?html,js,console,output\">amb()操作符演示</a></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> subscription = source.subscribe(</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">x</span>) </span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(x);</div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">err</span>) </span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'Error: '</span> + err);   </div><div class=\"line\">    &#125;,</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\"></span>) </span>&#123;</div><div class=\"line\">        <span class=\"built_in\">console</span>.log(<span class=\"string\">'Completed'</span>);   </div><div class=\"line\">    &#125;);</div></pre></td></tr></table></figure>\n<p>使用场景 1：秒杀</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">Observable.amb(</div><div class=\"line\">    用户A的拍下请求,</div><div class=\"line\">    用户B的拍下请求,</div><div class=\"line\">    用户C的拍下请求,</div><div class=\"line\">    ...</div><div class=\"line\">).subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(user)</span> </span>&#123;</div><div class=\"line\">    执行购买逻辑，创建订单，打开支付工具</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>使用场景 1：通话</p>\n<figure class=\"highlight actionscript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">Observable.amb(</div><div class=\"line\">    A来电,</div><div class=\"line\">    B来电,</div><div class=\"line\">    C来电,</div><div class=\"line\">    ...</div><div class=\"line\">).subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(call)</span> </span>&#123;</div><div class=\"line\">    通话</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"4-case方法\"><a href=\"#4-case方法\" class=\"headerlink\" title=\"4. case方法\"></a>4. case方法</h4><p><code>方法定义</code><br><code>[Rx.Observable.case(selector, sources, [elseSource|scheduler])]</code></p>\n<p><code>作用</code><br>选择序列中特定可观察对象进行订阅，在特定可观察对象不存在的情况下，返回传入的默认可观察对象。</p>\n<p><code>参数</code><br><code>selector (Function)</code>: 返回键的字符串的函数，键用以与sources中的键名进行比较。<br><code>sources (Object)</code>: 一个包含可观察对象的Javascript对象。<br><code>[elseSource|scheduler] (Observable | Scheduler)</code>:当selector无法匹配sources时，该对象被默认返回。 如果没有明确指定，将返回附加了指定scheduler的<code>Rx.Observabe.empty</code> 对象。</p>\n<p><code>返回值</code><br>(Observable): 返回值为经过选择后的Observable（可观察对象）。</p>\n<p><code>实例</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> sources = &#123;</div><div class=\"line\">  <span class=\"attr\">hello</span>: Rx.Observable.just(<span class=\"string\">'clx'</span>),</div><div class=\"line\">  <span class=\"attr\">world</span>: Rx.Observable.just(<span class=\"string\">'wxq'</span>)</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> subscription = Rx.Observable.case(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"string\">\"hello\"</span>, sources, Rx.Observable.empty())</div><div class=\"line\"></div><div class=\"line\">subscription.subscribe(<span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">x</span>) </span>&#123;</div><div class=\"line\">  <span class=\"built_in\">console</span>.log(x)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>实例中，匿名函数()=&gt;”hello”指定需要在sources中返回的可观察对象的键名为”hello”，命令行最终输出”clx”，<a href=\"https://jsbin.com/kodije/edit?js,console,output\">点击进入case()实例</a>。</p>\n<p>适用场景<br>针对表单进行校验，校验用户的<code>手机号</code>和<code>邮箱</code>是否和服务器记录重复，将所有校验封装在validate对象中结构更为合理：</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> validate = &#123;</div><div class=\"line\">    <span class=\"string\">\"mobile\"</span>: Observable.<span class=\"keyword\">return</span>(<span class=\"string\">'123-566-789-01'</span>),</div><div class=\"line\">    <span class=\"string\">\"email\"</span>: Observable.<span class=\"keyword\">return</span>(<span class=\"string\">'JonSnow@company.com'</span>)</div><div class=\"line\">&#125;;</div><div class=\"line\"><span class=\"keyword\">var</span> emptyObserable = Observable.<span class=\"keyword\">empty</span>();</div><div class=\"line\">validate.<span class=\"keyword\">case</span>(()=&gt;<span class=\"string\">'mobile'</span>, validate, <span class=\"keyword\">empty</span>)</div><div class=\"line\">    .subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(mobile)</span></span>&#123;</div><div class=\"line\">        <span class=\"comment\">// 验证手机号码是否重复</span></div><div class=\"line\">    &#125;)</div><div class=\"line\">validate.<span class=\"keyword\">case</span>(()=&gt;<span class=\"string\">'email'</span>, validate, <span class=\"keyword\">empty</span>)</div><div class=\"line\">    .subscribe(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(email)</span></span>&#123;</div><div class=\"line\">        <span class=\"comment\">// 验证用户邮箱是否重复</span></div><div class=\"line\">    &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"4-catch-方法\"><a href=\"#4-catch-方法\" class=\"headerlink\" title=\"4. catch()方法\"></a>4. catch()方法</h4><p><code>方法定义</code><br>Rx.Observable.catch(…args)</p>\n<p><code>作用</code><br>序列中可观察对象因为异常而被终止后，继续订阅序列中的其他可观察对象。</p>\n<p><code>参数</code><br>args (Array | arguments): 可观察对象序列。</p>\n<p><code>返回值</code><br>(Observable): 可观察对象序列中能够正确终止，不抛出异常的第一个可观察对象。</p>\n<p>实例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> obs1 = Rx.Observable.throw(<span class=\"keyword\">new</span> <span class=\"built_in\">Error</span>(<span class=\"string\">'error'</span>));</div><div class=\"line\"><span class=\"keyword\">var</span> obs2 = Rx.Observable.return(<span class=\"number\">42</span>);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> source = Rx.Observable.catch(obs1, obs2);</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> subscription = source.subscribe(</div><div class=\"line\">  <span class=\"function\"><span class=\"params\">x</span> =&gt;</span> <span class=\"built_in\">console</span>.log(<span class=\"string\">`onNext: <span class=\"subst\">$&#123;x&#125;</span>`</span>),</div><div class=\"line\">  e =&gt; <span class=\"built_in\">console</span>.log(<span class=\"string\">`onError: <span class=\"subst\">$&#123;e&#125;</span>`</span>),</div><div class=\"line\">  () =&gt; <span class=\"built_in\">console</span>.log(<span class=\"string\">'onCompleted'</span>));</div></pre></td></tr></table></figure>\n<p>手机验证码实例<br>这样，用户能够收到验证码并成功验证的几率大大增加。</p>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">var service1 = Observable.create(<span class=\"string\">\"服务提供商#1\"</span>);</div><div class=\"line\">var service2 = Observable.create(<span class=\"string\">\"服务提供商#1\"</span>);</div><div class=\"line\"></div><div class=\"line\">Observable.<span class=\"keyword\">catch</span>(service1, service2).subscribe(&#123;</div><div class=\"line\">    ()=&gt;<span class=\"built_in\">console</span>.log(<span class=\"string\">'succeed'</span>),</div><div class=\"line\">    <span class=\"function\"><span class=\"params\">()</span>=&gt;</span><span class=\"built_in\">console</span>.log(<span class=\"string\">'所有验证服务均不可用'</span>)</div><div class=\"line\">    ()=&gt;<span class=\"built_in\">console</span>.log(<span class=\"string\">'completed'</span>)</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"5-combineLatest方法\"><a href=\"#5-combineLatest方法\" class=\"headerlink\" title=\"5. combineLatest方法\"></a>5. combineLatest方法</h4><p><code>方法定义</code><br>Rx.Observable.combineLatest(…args, [resultSelector])</p>\n<p><code>作用</code><br>通过处理函数总是将指定的可观察对象序列中最新发射的值合并为一个可观察对象。</p>\n<p><code>参数</code><br><code>args (arguments | Array)</code>: 一系列可观察对象或可观察对象的数组。<br><code>[resultSelector] (Function)</code>: 在所有可观察对象都发射值后调用的处理函数。</p>\n<p><code>返回值</code><br>(Observable): 由传入的可观察序列经过处理函数合并后的结果组成的可观察序列。</p>\n<p>实例</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> colors = [<span class=\"string\">\"紫色\"</span>,<span class=\"string\">\"黄色\"</span>,<span class=\"string\">\"蓝色\"</span>,<span class=\"string\">\"黑色\"</span>];</div><div class=\"line\"><span class=\"keyword\">var</span> shapes = [<span class=\"string\">\"小星星\"</span>,<span class=\"string\">\"圆形\"</span>,<span class=\"string\">\"三角形\"</span>,<span class=\"string\">\"正方形\"</span>,<span class=\"string\">\"心形\"</span>,<span class=\"string\">\"五边形\"</span>];</div><div class=\"line\"><span class=\"keyword\">var</span> source1 = Rx.Observable.interval(<span class=\"number\">3000</span>)</div><div class=\"line\">  .map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>colors.pop());</div><div class=\"line\"><span class=\"keyword\">var</span> source2 = Rx.Observable.interval(<span class=\"number\">2000</span>)</div><div class=\"line\">  .map(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>shapes.pop());</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">var</span> combined = Rx.Observable.combineLatest(source1, source2, <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">x, y</span>)</span>&#123;</div><div class=\"line\">  <span class=\"keyword\">return</span> x + <span class=\"string\">\"的\"</span> + y;</div><div class=\"line\">&#125;).take(<span class=\"number\">8</span>);</div><div class=\"line\"></div><div class=\"line\">combined.subscribe(<span class=\"function\">(<span class=\"params\">shaped</span>)=&gt;</span><span class=\"built_in\">console</span>.log(shaped));</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-07-20T16:00:00.000Z","title":"angular2 api整理之通用模块","_content":"不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、通用包\n\n#### 1. 常量类\n\n#### 1.1 根路径 [APP_BASE_HREF](https://angular.cn/docs/js/latest/api/common/index/APP_BASE_HREF-let.html)   \n主要作用：在顶层组件中使用bootstrap启动整个app的时候设置根url,格式如下\n\n```\n  bootstrap(AppCmp, [\n    ROUTER_PROVIDERS,\n    {provide: APP_BASE_HREF, useValue: '/my/app'}\n  ]);\n```\n\n#### 1.2 指令常量 [COMMON_DIRECTIVES](https://angular.cn/docs/js/latest/api/common/index/COMMON_DIRECTIVES-let.html)\n主要作用：所有核心内置指令的集合：包含NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm等。\nCORE_DIRECTIVES少了NgModel和NgForm，不过它是稳定的。COMMON_DIRECTIVES还是试验性阶段。\n单个引入\n\n```\nimport {NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm} from\n'@angular/common';\n@Component({\n  selector: 'my-component',\n  templateUrl: 'myComponent.html',\n  directives: [NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm,\nOtherDirective]\n})\n```\n\n使用常量引入\n\n```\nimport {COMMON_DIRECTIVES} from '@angular/common';\n@Component({\n  selector: 'my-component',\n  templateUrl: 'myComponent.html',\n  directives: [COMMON_DIRECTIVES, OtherDirective]\n})\n```\n\n#### 1.3 管道常量 [COMMON_PIPES](https://angular.cn/docs/js/latest/api/common/index/COMMON_PIPES-let.html)\n目前还是试验性的。功能同上，是所有 管道的合集 包含 AsyncPipe、I18nPluralPipe、I18nSelectPipe、SlicePipe等\n\n#### 1.4 表单指令常量 [FORM_DIRECTIVES](https://angular.cn/docs/js/latest/api/common/index/FORM_DIRECTIVES-let.html)\n试验阶段。所有有关表常的指令礼盒\n\n#### 1.5 表单提供者常量 [FORM_PROVIDERS](https://angular.cn/docs/js/latest/api/common/index/FORM_PROVIDERS-let.html)\n在bootsrap的时候注入进去\n\n#### 1.6 异步验证常量 [NG_ASYNC_VALIDATORS](https://angular.cn/docs/js/latest/api/common/index/NG_ASYNC_VALIDATORS-let.html)\n为了控制一个表单的异步验证，要在验证中添加  `multi: true`,当然也少不了`NG_VALIDATORS`\n\n```\nbootstrap(MyApp, [{provide: NG_VALIDATORS, useValue: myValidator, multi: true}]);\n```\n\n#### 1.7 值存储器常量 [NG_VALUE_ACCESSOR](https://angular.cn/docs/js/latest/api/common/index/NG_VALUE_ACCESSOR-let.html)\n具体作用和使用方法不明确\n\n\n### 2、 接口\n#### 2.1 控制值存储器[ControlValueAccessor](https://angular.cn/docs/js/latest/api/common/index/ControlValueAccessor-interface.html)\n具体作用和使用方法不明确\n#### 2.2 表单 [Form](https://angular.cn/docs/js/latest/api/common/index/Form-interface.html)\n NgFormModel 和 NgForm实现在这个接口，只在form模块使用\n#### 2.3 路径变化事件 [UrlChangeEvent](https://angular.cn/docs/js/latest/api/common/index/UrlChangeEvent-interface.html)\n当监听到URL变化的时候触发此事件\n#### 2.4 路径变化监听器 [UrlChangeListener](https://angular.cn/docs/js/latest/api/common/index/UrlChangeListener-interface.html)\n监听URL的变化\n#### 2.5 验证[Validator](https://angular.cn/docs/js/latest/api/common/index/Validator-interface.html)\n在写验证指令的时候实现这个接口\n\n```\n@Directive({\n  selector: '[custom-validator]',\n  providers: [{provide: NG_VALIDATORS, useExisting: CustomValidatorDirective, multi: true}]\n})\nclass CustomValidatorDirective implements Validator {\n  validate(c: Control): {[key: string]: any} {\n    return {\"custom\": true};\n  }\n}\n```\n\n### 3. 类\n#### 3.1 抽象控制 [AbstractControl](https://angular.cn/docs/js/latest/api/common/index/AbstractControl-class.html)\n","source":"_posts/2016-07-21.angular_api_common.md","raw":"---\nauthor: 小莫\ndate: 2016-07-21\ntitle: angular2 api整理之通用模块\ntags:\n- angular2\ncategory: angular2\npermalink: Angular2ApiCommon\n---\n不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n\n### 一、通用包\n\n#### 1. 常量类\n\n#### 1.1 根路径 [APP_BASE_HREF](https://angular.cn/docs/js/latest/api/common/index/APP_BASE_HREF-let.html)   \n主要作用：在顶层组件中使用bootstrap启动整个app的时候设置根url,格式如下\n\n```\n  bootstrap(AppCmp, [\n    ROUTER_PROVIDERS,\n    {provide: APP_BASE_HREF, useValue: '/my/app'}\n  ]);\n```\n\n#### 1.2 指令常量 [COMMON_DIRECTIVES](https://angular.cn/docs/js/latest/api/common/index/COMMON_DIRECTIVES-let.html)\n主要作用：所有核心内置指令的集合：包含NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm等。\nCORE_DIRECTIVES少了NgModel和NgForm，不过它是稳定的。COMMON_DIRECTIVES还是试验性阶段。\n单个引入\n\n```\nimport {NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm} from\n'@angular/common';\n@Component({\n  selector: 'my-component',\n  templateUrl: 'myComponent.html',\n  directives: [NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm,\nOtherDirective]\n})\n```\n\n使用常量引入\n\n```\nimport {COMMON_DIRECTIVES} from '@angular/common';\n@Component({\n  selector: 'my-component',\n  templateUrl: 'myComponent.html',\n  directives: [COMMON_DIRECTIVES, OtherDirective]\n})\n```\n\n#### 1.3 管道常量 [COMMON_PIPES](https://angular.cn/docs/js/latest/api/common/index/COMMON_PIPES-let.html)\n目前还是试验性的。功能同上，是所有 管道的合集 包含 AsyncPipe、I18nPluralPipe、I18nSelectPipe、SlicePipe等\n\n#### 1.4 表单指令常量 [FORM_DIRECTIVES](https://angular.cn/docs/js/latest/api/common/index/FORM_DIRECTIVES-let.html)\n试验阶段。所有有关表常的指令礼盒\n\n#### 1.5 表单提供者常量 [FORM_PROVIDERS](https://angular.cn/docs/js/latest/api/common/index/FORM_PROVIDERS-let.html)\n在bootsrap的时候注入进去\n\n#### 1.6 异步验证常量 [NG_ASYNC_VALIDATORS](https://angular.cn/docs/js/latest/api/common/index/NG_ASYNC_VALIDATORS-let.html)\n为了控制一个表单的异步验证，要在验证中添加  `multi: true`,当然也少不了`NG_VALIDATORS`\n\n```\nbootstrap(MyApp, [{provide: NG_VALIDATORS, useValue: myValidator, multi: true}]);\n```\n\n#### 1.7 值存储器常量 [NG_VALUE_ACCESSOR](https://angular.cn/docs/js/latest/api/common/index/NG_VALUE_ACCESSOR-let.html)\n具体作用和使用方法不明确\n\n\n### 2、 接口\n#### 2.1 控制值存储器[ControlValueAccessor](https://angular.cn/docs/js/latest/api/common/index/ControlValueAccessor-interface.html)\n具体作用和使用方法不明确\n#### 2.2 表单 [Form](https://angular.cn/docs/js/latest/api/common/index/Form-interface.html)\n NgFormModel 和 NgForm实现在这个接口，只在form模块使用\n#### 2.3 路径变化事件 [UrlChangeEvent](https://angular.cn/docs/js/latest/api/common/index/UrlChangeEvent-interface.html)\n当监听到URL变化的时候触发此事件\n#### 2.4 路径变化监听器 [UrlChangeListener](https://angular.cn/docs/js/latest/api/common/index/UrlChangeListener-interface.html)\n监听URL的变化\n#### 2.5 验证[Validator](https://angular.cn/docs/js/latest/api/common/index/Validator-interface.html)\n在写验证指令的时候实现这个接口\n\n```\n@Directive({\n  selector: '[custom-validator]',\n  providers: [{provide: NG_VALIDATORS, useExisting: CustomValidatorDirective, multi: true}]\n})\nclass CustomValidatorDirective implements Validator {\n  validate(c: Control): {[key: string]: any} {\n    return {\"custom\": true};\n  }\n}\n```\n\n### 3. 类\n#### 3.1 抽象控制 [AbstractControl](https://angular.cn/docs/js/latest/api/common/index/AbstractControl-class.html)\n","slug":"Angular2ApiCommon","published":1,"updated":"2016-12-01T06:50:30.293Z","_id":"civ0ggq9t004erwvnboaq6jj8","comments":1,"layout":"post","photos":[],"link":"","content":"<p>不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、通用包\"><a href=\"#一、通用包\" class=\"headerlink\" title=\"一、通用包\"></a>一、通用包</h3><h4 id=\"1-常量类\"><a href=\"#1-常量类\" class=\"headerlink\" title=\"1. 常量类\"></a>1. 常量类</h4><h4 id=\"1-1-根路径-APP-BASE-HREF\"><a href=\"#1-1-根路径-APP-BASE-HREF\" class=\"headerlink\" title=\"1.1 根路径 APP_BASE_HREF\"></a>1.1 根路径 <a href=\"https://angular.cn/docs/js/latest/api/common/index/APP_BASE_HREF-let.html\" target=\"_blank\" rel=\"external\">APP_BASE_HREF</a></h4><p>主要作用：在顶层组件中使用bootstrap启动整个app的时候设置根url,格式如下</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">bootstrap(AppCmp, [</div><div class=\"line\">  ROUTER_PROVIDERS,</div><div class=\"line\">  &#123;<span class=\"string\">provide:</span> APP_BASE_HREF, <span class=\"string\">useValue:</span> <span class=\"string\">'/my/app'</span>&#125;</div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<h4 id=\"1-2-指令常量-COMMON-DIRECTIVES\"><a href=\"#1-2-指令常量-COMMON-DIRECTIVES\" class=\"headerlink\" title=\"1.2 指令常量 COMMON_DIRECTIVES\"></a>1.2 指令常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/COMMON_DIRECTIVES-let.html\" target=\"_blank\" rel=\"external\">COMMON_DIRECTIVES</a></h4><p>主要作用：所有核心内置指令的集合：包含NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm等。<br>CORE_DIRECTIVES少了NgModel和NgForm，不过它是稳定的。COMMON_DIRECTIVES还是试验性阶段。<br>单个引入</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm&#125; from</div><div class=\"line\"><span class=\"string\">'@angular/common'</span>;</div><div class=\"line\"><span class=\"meta\">@Component(&#123;</span></div><div class=\"line\">  selector: <span class=\"meta-string\">'my-component'</span>,</div><div class=\"line\">  templateUrl: <span class=\"meta-string\">'myComponent.html'</span>,</div><div class=\"line\">  directives: [NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm,</div><div class=\"line\">OtherDirective]</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<p>使用常量引入</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;COMMON_DIRECTIVES&#125; from <span class=\"string\">'@angular/common'</span>;</div><div class=\"line\"><span class=\"meta\">@Component(&#123;</span></div><div class=\"line\">  selector: <span class=\"meta-string\">'my-component'</span>,</div><div class=\"line\">  templateUrl: <span class=\"meta-string\">'myComponent.html'</span>,</div><div class=\"line\">  directives: [COMMON_DIRECTIVES, OtherDirective]</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"1-3-管道常量-COMMON-PIPES\"><a href=\"#1-3-管道常量-COMMON-PIPES\" class=\"headerlink\" title=\"1.3 管道常量 COMMON_PIPES\"></a>1.3 管道常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/COMMON_PIPES-let.html\" target=\"_blank\" rel=\"external\">COMMON_PIPES</a></h4><p>目前还是试验性的。功能同上，是所有 管道的合集 包含 AsyncPipe、I18nPluralPipe、I18nSelectPipe、SlicePipe等</p>\n<h4 id=\"1-4-表单指令常量-FORM-DIRECTIVES\"><a href=\"#1-4-表单指令常量-FORM-DIRECTIVES\" class=\"headerlink\" title=\"1.4 表单指令常量 FORM_DIRECTIVES\"></a>1.4 表单指令常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/FORM_DIRECTIVES-let.html\" target=\"_blank\" rel=\"external\">FORM_DIRECTIVES</a></h4><p>试验阶段。所有有关表常的指令礼盒</p>\n<h4 id=\"1-5-表单提供者常量-FORM-PROVIDERS\"><a href=\"#1-5-表单提供者常量-FORM-PROVIDERS\" class=\"headerlink\" title=\"1.5 表单提供者常量 FORM_PROVIDERS\"></a>1.5 表单提供者常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/FORM_PROVIDERS-let.html\" target=\"_blank\" rel=\"external\">FORM_PROVIDERS</a></h4><p>在bootsrap的时候注入进去</p>\n<h4 id=\"1-6-异步验证常量-NG-ASYNC-VALIDATORS\"><a href=\"#1-6-异步验证常量-NG-ASYNC-VALIDATORS\" class=\"headerlink\" title=\"1.6 异步验证常量 NG_ASYNC_VALIDATORS\"></a>1.6 异步验证常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/NG_ASYNC_VALIDATORS-let.html\" target=\"_blank\" rel=\"external\">NG_ASYNC_VALIDATORS</a></h4><p>为了控制一个表单的异步验证，要在验证中添加  <code>multi: true</code>,当然也少不了<code>NG_VALIDATORS</code></p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">bootstrap(MyApp, [&#123;<span class=\"string\">provide:</span> NG_VALIDATORS, <span class=\"string\">useValue:</span> myValidator, <span class=\"string\">multi:</span> <span class=\"literal\">true</span>&#125;]);</div></pre></td></tr></table></figure>\n<h4 id=\"1-7-值存储器常量-NG-VALUE-ACCESSOR\"><a href=\"#1-7-值存储器常量-NG-VALUE-ACCESSOR\" class=\"headerlink\" title=\"1.7 值存储器常量 NG_VALUE_ACCESSOR\"></a>1.7 值存储器常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/NG_VALUE_ACCESSOR-let.html\" target=\"_blank\" rel=\"external\">NG_VALUE_ACCESSOR</a></h4><p>具体作用和使用方法不明确</p>\n<h3 id=\"2、-接口\"><a href=\"#2、-接口\" class=\"headerlink\" title=\"2、 接口\"></a>2、 接口</h3><h4 id=\"2-1-控制值存储器ControlValueAccessor\"><a href=\"#2-1-控制值存储器ControlValueAccessor\" class=\"headerlink\" title=\"2.1 控制值存储器ControlValueAccessor\"></a>2.1 控制值存储器<a href=\"https://angular.cn/docs/js/latest/api/common/index/ControlValueAccessor-interface.html\" target=\"_blank\" rel=\"external\">ControlValueAccessor</a></h4><p>具体作用和使用方法不明确</p>\n<h4 id=\"2-2-表单-Form\"><a href=\"#2-2-表单-Form\" class=\"headerlink\" title=\"2.2 表单 Form\"></a>2.2 表单 <a href=\"https://angular.cn/docs/js/latest/api/common/index/Form-interface.html\" target=\"_blank\" rel=\"external\">Form</a></h4><p> NgFormModel 和 NgForm实现在这个接口，只在form模块使用</p>\n<h4 id=\"2-3-路径变化事件-UrlChangeEvent\"><a href=\"#2-3-路径变化事件-UrlChangeEvent\" class=\"headerlink\" title=\"2.3 路径变化事件 UrlChangeEvent\"></a>2.3 路径变化事件 <a href=\"https://angular.cn/docs/js/latest/api/common/index/UrlChangeEvent-interface.html\" target=\"_blank\" rel=\"external\">UrlChangeEvent</a></h4><p>当监听到URL变化的时候触发此事件</p>\n<h4 id=\"2-4-路径变化监听器-UrlChangeListener\"><a href=\"#2-4-路径变化监听器-UrlChangeListener\" class=\"headerlink\" title=\"2.4 路径变化监听器 UrlChangeListener\"></a>2.4 路径变化监听器 <a href=\"https://angular.cn/docs/js/latest/api/common/index/UrlChangeListener-interface.html\" target=\"_blank\" rel=\"external\">UrlChangeListener</a></h4><p>监听URL的变化</p>\n<h4 id=\"2-5-验证Validator\"><a href=\"#2-5-验证Validator\" class=\"headerlink\" title=\"2.5 验证Validator\"></a>2.5 验证<a href=\"https://angular.cn/docs/js/latest/api/common/index/Validator-interface.html\" target=\"_blank\" rel=\"external\">Validator</a></h4><p>在写验证指令的时候实现这个接口</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</div><div class=\"line\"><span class=\"symbol\">  selector:</span> <span class=\"string\">'[custom-validator]'</span>,</div><div class=\"line\"><span class=\"symbol\">  providers:</span> [&#123;<span class=\"string\">provide:</span> NG_VALIDATORS, <span class=\"string\">useExisting:</span> CustomValidatorDirective, <span class=\"string\">multi:</span> <span class=\"literal\">true</span>&#125;]</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CustomValidatorDirective</span> <span class=\"keyword\">implements</span> <span class=\"title\">Validator</span> &#123;</span></div><div class=\"line\">  validate(<span class=\"string\">c:</span> Control): &#123;[<span class=\"string\">key:</span> string]: any&#125; &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> &#123;<span class=\"string\">\"custom\"</span>: <span class=\"literal\">true</span>&#125;;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"3-类\"><a href=\"#3-类\" class=\"headerlink\" title=\"3. 类\"></a>3. 类</h3><h4 id=\"3-1-抽象控制-AbstractControl\"><a href=\"#3-1-抽象控制-AbstractControl\" class=\"headerlink\" title=\"3.1 抽象控制 AbstractControl\"></a>3.1 抽象控制 <a href=\"https://angular.cn/docs/js/latest/api/common/index/AbstractControl-class.html\" target=\"_blank\" rel=\"external\">AbstractControl</a></h4>","excerpt":"<p>不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、通用包\"><a href=\"#一、通用包\" class=\"headerlink\" title=\"一、通用包\"></a>一、通用包</h3><h4 id=\"1-常量类\"><a href=\"#1-常量类\" class=\"headerlink\" title=\"1. 常量类\"></a>1. 常量类</h4><h4 id=\"1-1-根路径-APP-BASE-HREF\"><a href=\"#1-1-根路径-APP-BASE-HREF\" class=\"headerlink\" title=\"1.1 根路径 APP_BASE_HREF\"></a>1.1 根路径 <a href=\"https://angular.cn/docs/js/latest/api/common/index/APP_BASE_HREF-let.html\">APP_BASE_HREF</a></h4><p>主要作用：在顶层组件中使用bootstrap启动整个app的时候设置根url,格式如下</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">bootstrap(AppCmp, [</div><div class=\"line\">  ROUTER_PROVIDERS,</div><div class=\"line\">  &#123;<span class=\"string\">provide:</span> APP_BASE_HREF, <span class=\"string\">useValue:</span> <span class=\"string\">'/my/app'</span>&#125;</div><div class=\"line\">]);</div></pre></td></tr></table></figure>\n<h4 id=\"1-2-指令常量-COMMON-DIRECTIVES\"><a href=\"#1-2-指令常量-COMMON-DIRECTIVES\" class=\"headerlink\" title=\"1.2 指令常量 COMMON_DIRECTIVES\"></a>1.2 指令常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/COMMON_DIRECTIVES-let.html\">COMMON_DIRECTIVES</a></h4><p>主要作用：所有核心内置指令的集合：包含NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm等。<br>CORE_DIRECTIVES少了NgModel和NgForm，不过它是稳定的。COMMON_DIRECTIVES还是试验性阶段。<br>单个引入</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm&#125; from</div><div class=\"line\"><span class=\"string\">'@angular/common'</span>;</div><div class=\"line\"><span class=\"meta\">@Component(&#123;</div><div class=\"line\">  selector: <span class=\"meta-string\">'my-component'</span>,</div><div class=\"line\">  templateUrl: <span class=\"meta-string\">'myComponent.html'</span>,</div><div class=\"line\">  directives: [NgClass, NgIf, NgFor, NgSwitch, NgSwitchWhen, NgSwitchDefault, NgModel, NgForm,</div><div class=\"line\">OtherDirective]</div><div class=\"line\">&#125;)</span></div></pre></td></tr></table></figure>\n<p>使用常量引入</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">import</span> &#123;COMMON_DIRECTIVES&#125; from <span class=\"string\">'@angular/common'</span>;</div><div class=\"line\"><span class=\"meta\">@Component(&#123;</div><div class=\"line\">  selector: <span class=\"meta-string\">'my-component'</span>,</div><div class=\"line\">  templateUrl: <span class=\"meta-string\">'myComponent.html'</span>,</div><div class=\"line\">  directives: [COMMON_DIRECTIVES, OtherDirective]</div><div class=\"line\">&#125;)</span></div></pre></td></tr></table></figure>\n<h4 id=\"1-3-管道常量-COMMON-PIPES\"><a href=\"#1-3-管道常量-COMMON-PIPES\" class=\"headerlink\" title=\"1.3 管道常量 COMMON_PIPES\"></a>1.3 管道常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/COMMON_PIPES-let.html\">COMMON_PIPES</a></h4><p>目前还是试验性的。功能同上，是所有 管道的合集 包含 AsyncPipe、I18nPluralPipe、I18nSelectPipe、SlicePipe等</p>\n<h4 id=\"1-4-表单指令常量-FORM-DIRECTIVES\"><a href=\"#1-4-表单指令常量-FORM-DIRECTIVES\" class=\"headerlink\" title=\"1.4 表单指令常量 FORM_DIRECTIVES\"></a>1.4 表单指令常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/FORM_DIRECTIVES-let.html\">FORM_DIRECTIVES</a></h4><p>试验阶段。所有有关表常的指令礼盒</p>\n<h4 id=\"1-5-表单提供者常量-FORM-PROVIDERS\"><a href=\"#1-5-表单提供者常量-FORM-PROVIDERS\" class=\"headerlink\" title=\"1.5 表单提供者常量 FORM_PROVIDERS\"></a>1.5 表单提供者常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/FORM_PROVIDERS-let.html\">FORM_PROVIDERS</a></h4><p>在bootsrap的时候注入进去</p>\n<h4 id=\"1-6-异步验证常量-NG-ASYNC-VALIDATORS\"><a href=\"#1-6-异步验证常量-NG-ASYNC-VALIDATORS\" class=\"headerlink\" title=\"1.6 异步验证常量 NG_ASYNC_VALIDATORS\"></a>1.6 异步验证常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/NG_ASYNC_VALIDATORS-let.html\">NG_ASYNC_VALIDATORS</a></h4><p>为了控制一个表单的异步验证，要在验证中添加  <code>multi: true</code>,当然也少不了<code>NG_VALIDATORS</code></p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">bootstrap(MyApp, [&#123;<span class=\"string\">provide:</span> NG_VALIDATORS, <span class=\"string\">useValue:</span> myValidator, <span class=\"string\">multi:</span> <span class=\"literal\">true</span>&#125;]);</div></pre></td></tr></table></figure>\n<h4 id=\"1-7-值存储器常量-NG-VALUE-ACCESSOR\"><a href=\"#1-7-值存储器常量-NG-VALUE-ACCESSOR\" class=\"headerlink\" title=\"1.7 值存储器常量 NG_VALUE_ACCESSOR\"></a>1.7 值存储器常量 <a href=\"https://angular.cn/docs/js/latest/api/common/index/NG_VALUE_ACCESSOR-let.html\">NG_VALUE_ACCESSOR</a></h4><p>具体作用和使用方法不明确</p>\n<h3 id=\"2、-接口\"><a href=\"#2、-接口\" class=\"headerlink\" title=\"2、 接口\"></a>2、 接口</h3><h4 id=\"2-1-控制值存储器ControlValueAccessor\"><a href=\"#2-1-控制值存储器ControlValueAccessor\" class=\"headerlink\" title=\"2.1 控制值存储器ControlValueAccessor\"></a>2.1 控制值存储器<a href=\"https://angular.cn/docs/js/latest/api/common/index/ControlValueAccessor-interface.html\">ControlValueAccessor</a></h4><p>具体作用和使用方法不明确</p>\n<h4 id=\"2-2-表单-Form\"><a href=\"#2-2-表单-Form\" class=\"headerlink\" title=\"2.2 表单 Form\"></a>2.2 表单 <a href=\"https://angular.cn/docs/js/latest/api/common/index/Form-interface.html\">Form</a></h4><p> NgFormModel 和 NgForm实现在这个接口，只在form模块使用</p>\n<h4 id=\"2-3-路径变化事件-UrlChangeEvent\"><a href=\"#2-3-路径变化事件-UrlChangeEvent\" class=\"headerlink\" title=\"2.3 路径变化事件 UrlChangeEvent\"></a>2.3 路径变化事件 <a href=\"https://angular.cn/docs/js/latest/api/common/index/UrlChangeEvent-interface.html\">UrlChangeEvent</a></h4><p>当监听到URL变化的时候触发此事件</p>\n<h4 id=\"2-4-路径变化监听器-UrlChangeListener\"><a href=\"#2-4-路径变化监听器-UrlChangeListener\" class=\"headerlink\" title=\"2.4 路径变化监听器 UrlChangeListener\"></a>2.4 路径变化监听器 <a href=\"https://angular.cn/docs/js/latest/api/common/index/UrlChangeListener-interface.html\">UrlChangeListener</a></h4><p>监听URL的变化</p>\n<h4 id=\"2-5-验证Validator\"><a href=\"#2-5-验证Validator\" class=\"headerlink\" title=\"2.5 验证Validator\"></a>2.5 验证<a href=\"https://angular.cn/docs/js/latest/api/common/index/Validator-interface.html\">Validator</a></h4><p>在写验证指令的时候实现这个接口</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"meta\">@Directive</span>(&#123;</div><div class=\"line\"><span class=\"symbol\">  selector:</span> <span class=\"string\">'[custom-validator]'</span>,</div><div class=\"line\"><span class=\"symbol\">  providers:</span> [&#123;<span class=\"string\">provide:</span> NG_VALIDATORS, <span class=\"string\">useExisting:</span> CustomValidatorDirective, <span class=\"string\">multi:</span> <span class=\"literal\">true</span>&#125;]</div><div class=\"line\">&#125;)</div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CustomValidatorDirective</span> <span class=\"keyword\">implements</span> <span class=\"title\">Validator</span> &#123;</span></div><div class=\"line\">  validate(<span class=\"string\">c:</span> Control): &#123;[<span class=\"string\">key:</span> string]: any&#125; &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> &#123;<span class=\"string\">\"custom\"</span>: <span class=\"literal\">true</span>&#125;;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"3-类\"><a href=\"#3-类\" class=\"headerlink\" title=\"3. 类\"></a>3. 类</h3><h4 id=\"3-1-抽象控制-AbstractControl\"><a href=\"#3-1-抽象控制-AbstractControl\" class=\"headerlink\" title=\"3.1 抽象控制 AbstractControl\"></a>3.1 抽象控制 <a href=\"https://angular.cn/docs/js/latest/api/common/index/AbstractControl-class.html\">AbstractControl</a></h4>"},{"author":"小莫","date":"2016-07-27T16:00:00.000Z","title":"angular2 api整理之路由模块","_content":"不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、常量\n#### 1. [PRIMARY_OUTLET](https://angular.cn/docs/ts/latest/api/router/index/PRIMARY_OUTLET-let.html)\n\n#### 2. [ROUTER_DIRECTIVES](https://angular.cn/docs/ts/latest/api/router/index/ROUTER_DIRECTIVES-let.html)\n路由指令集合常量\n\n### 二、接口\n#### 1. 活跃路由[ActivatedRoute](https://angular.cn/docs/ts/latest/api/router/index/ActivatedRoute-interface.html)\n可以获取当前路由的参数和数据\n\n\n```\nclass MyComponent {\n  constructor(route: ActivatedRoute) {\n    const id: Observable<string> = route.params.map(p => p.id);\n    const data = route.data.map(d => d.user); //includes `data` and `resolve`\n  }\n}\n```\n\n#### 2. 活跃路由快照[ActivatedRouteSnapshot](https://angular.cn/docs/ts/latest/api/router/index/ActivatedRouteSnapshot-interface.html)\n具体功能不明\n\n```\nclass MyComponent {\n  constructor(route: ActivatedRoute) {\n    const id: string = route.snapshot.params.id;\n    const data = route.snapshot.data;\n  }\n}\n```\n\n#### 3. 可激活[CanActivate](https://angular.cn/docs/ts/latest/api/router/index/CanActivate-interface.html)\n实现此接口并重写`canActivate`方法。\n\n```\nclass CanActivateTeam implements CanActivate {\n  constructor(private permissions: Permissions, private currentUser: UserToken) {}\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):Observable<boolean> {\n    return this.permissions.canActivate(this.currentUser, this.route.params.id);\n  }\n}\nbootstrap(AppComponent, [\n  CanActivateTeam,\n  provideRouter([{\n    path: 'team/:id',\n    component: Team,\n    canActivate: [CanActivateTeam]\n  }])\n);\n```\n#### 4. [CanDeactivate](https://angular.cn/docs/ts/latest/api/router/index/CanDeactivate-interface.html)\n\n#### 5. 其他选项[ExtraOptions](https://angular.cn/docs/ts/latest/api/router/index/ExtraOptions-interface.html)\n\n#### 6. 解决 [Resolve](https://angular.cn/docs/ts/latest/api/router/index/Resolve-interface.html)\n实现此接口并重写`Resolve`方法。\n\n```\nclass TeamResolver implements Resolve {\n  constructor(private backend: Backend) {}\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):Observable<any> {\n    return this.backend.fetchTeam(this.route.params.id);\n  }\n}\nbootstrap(AppComponent, [\n  TeamResolver,\n  provideRouter([{\n    path: 'team/:id',\n    component: TeamCmp,\n    resolve: {\n      team: TeamResolver\n    }\n  }])\n);\n```\n#### 7. 路由 [Route](https://angular.cn/docs/ts/latest/api/router/index/Route-interface.html)\n\n```\n\nclass Route {\npath : string\nterminal : boolean\npathMatch : 'full'|'prefix'\ncomponent : Type|string\nredirectTo : string\noutlet : string\ncanActivate : any[]\ncanDeactivate : any[]\ndata : Data\nresolve : ResolveData\nchildren : Route[]\n}\n```\n\n#### 8. 路由状态 [RouterState](https://angular.cn/docs/ts/latest/api/router/index/RouterState-interface.html)\n\n```\nclass MyComponent {\n  constructor(router: Router) {\n    const state = router.routerState;\n    const id: Observable<string> = state.firstChild(state.root).params.map(p => p.id);\n    const isDebug: Observable<string> = state.queryParams.map(q => q.debug);\n  }\n}\n```\n\n#### 9. 路由状态快照[RouterStateSnapshot](https://angular.cn/docs/ts/latest/api/router/index/RouterStateSnapshot-interface.html)\n\n```\nconstructor(router: Router) {\n  const snapshot = router.routerState.snapshot;\n}\n}\n```\n\n#### 10. 路径树 [UrlTree](https://angular.cn/docs/ts/latest/api/router/index/UrlTree-interface.html)\n\n```\nclass UrlTree {\nroot : UrlSegment\nqueryParams : {[key: string]: string}\nfragment : string\ntoString() : string\n}\n```\n\n### 三、类\n#### 1. 默认路径初始化 [DefaultUrlSerializer](https://angular.cn/docs/ts/latest/api/router/index/DefaultUrlSerializer-class.html)\n\n```\n  class DefaultUrlSerializer {\n  parse(url: string) : UrlTree\n  serialize(tree: UrlTree) : string\n  }\n```\n\n#### 2. 取消导航[NavigationCancel](https://angular.cn/docs/ts/latest/api/router/index/NavigationCancel-class.html)\n\n```\nconstructor(id: number, url: string)\nid : number\nurl : string\ntoString() : string\n}\n```\n\n#### 3. 结束导航 [NavigationEnd](https://angular.cn/docs/ts/latest/api/router/index/NavigationEnd-class.html)\n\n```\n\nclass NavigationEnd {\nconstructor(id: number, url: string, urlAfterRedirects: string)\nid : number\nurl : string\nurlAfterRedirects : string\ntoString() : string\n}\n```\n\n#### 4. 导航错误[NavigationError](https://angular.cn/docs/ts/latest/api/router/index/NavigationError-class.html)\n\n```\nclass NavigationError {\nconstructor(id: number, url: string, error: any)\nid : number\nurl : string\nerror : any\ntoString() : string\n}\n```\n\n#### 5. 根路由 [RootRouter](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RootRouter-class.html)\n\n```\n  class RootRouter {\n  constructor(registry: RouteRegistry, location: Location, primaryComponent: Type)\n  commit(instruction: Instruction, _skipLocationChange?: boolean) : Promise<any>\n  dispose() : void\n  }\n```\n\n#### 6. 路由数据 [RouteData](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteData-class.html)\n\n```\nclass RouteData {\nconstructor(data?: {[key: string]: any})\ndata : {[key: string]: any}\nget(key: string) : any\n}\n```\n\n#### 7. 路由参数 [RouteParams](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteParams-class.html)\n\n```\nclass RouteParams {\nconstructor(params: {[key: string]: string})\nparams : {[key: string]: string}\nget(param: string) : string\n}\n```\n\n#### 8. 注册路由 [RouteRegistry](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteRegistry-class.html)\n\n```\n  class RouteRegistry {\n  constructor(_rootComponent: Type)\n  config(parentComponent: any, config: RouteDefinition) : void\n  configFromComponent(component: any) : void\n  recognize(url: string, ancestorInstructions: Instruction[]) : Promise<Instruction>\n  generate(linkParams: any[], ancestorInstructions: Instruction[], _aux?: any) : Instruction\n  hasRoute(name: string, parentComponent: any) : boolean\n  generateDefault(componentCursor: Type) : Instruction\n  }\n```\n\n#### 9. 路由 [Router](https://angular.cn/docs/ts/latest/api/router-deprecated/index/Router-class.html)\n\n```\n  class Router {\n  constructor(registry: RouteRegistry, parent: Router, hostComponent: any, root?: Router)\n  navigating : boolean\n  lastNavigationAttempt : string\n  currentInstruction : Instruction\n  registry : RouteRegistry\n  parent : Router\n  hostComponent : any\n  root : Router\n  childRouter(hostComponent: any) : Router\n  auxRouter(hostComponent: any) : Router\n  registerPrimaryOutlet(outlet: RouterOutlet) : Promise<any>\n  unregisterPrimaryOutlet(outlet: RouterOutlet) : void\n  registerAuxOutlet(outlet: RouterOutlet) : Promise<any>\n  isRouteActive(instruction: Instruction) : boolean\n  config(definitions: RouteDefinition[]) : Promise<any>\n  navigate(linkParams: any[]) : Promise<any>\n  navigateByUrl(url: string, _skipLocationChange?: boolean) : Promise<any>\n  navigateByInstruction(instruction: Instruction, _skipLocationChange?: boolean) : Promise<any>\n  commit(instruction: Instruction, _skipLocationChange?: boolean) : Promise<any>\n  subscribe(onNext: (value: any) => void, onError?: (value: any) => void) : Object\n  deactivate(instruction: Instruction) : Promise<any>\n  recognize(url: string) : Promise<Instruction>\n  renavigate() : Promise<any>\n  generate(linkParams: any[]) : Instruction\n  }\n```\n\n### 四、 指令\n\n#### 1. [RouterLink](https://angular.cn/docs/ts/latest/api/router/index/RouterLink-directive.html)\n\n```\nclass RouterLink {\ncommands : any[]\nqueryParams : {[k: string]: any}\nfragment : string\nurlTree : UrlTree\nrouter : Router\nroute : ActivatedRoute\nlocationStrategy : LocationStrategy\nrouterLink\nonClick(button: number, ctrlKey: boolean, metaKey: boolean) : boolean\n}\n```\n\n#### 2. [RouterLinkActive](https://angular.cn/docs/ts/latest/api/router/index/RouterLinkActive-directive.html)\n\n```\nclass RouterLinkActive {\nlinks : QueryList<RouterLink>\nlinksWithHrefs : QueryList<RouterLinkWithHref>\nclasses : string[]\nsubscription : Subscription\nrouterLinkActiveOptions : {exact: boolean}\nrouter : Router\nelement : ElementRef\nrenderer : Renderer\nngAfterContentInit() : void\nrouterLinkActive\nngOnChanges(changes: {}) : any\nngOnDestroy() : any\nupdate() : void\nreduceList(currentUrlTree: UrlTree, q: QueryList<any>) : boolean\n}\n```\n\n#### 3. [RouterLinkWithHref](https://angular.cn/docs/ts/latest/api/router/index/RouterLinkWithHref-directive.html)\n\n```\nclass RouterLinkWithHref {\ntarget : string\ncommands : any[]\nqueryParams : {[k: string]: any}\nfragment : string\nhref : string\nurlTree : UrlTree\nrouter : Router\nroute : ActivatedRoute\nlocationStrategy : LocationStrategy\nrouterLink\nngOnChanges(changes: {}) : any\nonClick(button: number, ctrlKey: boolean, metaKey: boolean) : boolean\nupdateTargetUrlAndHref() : void\n}\n```\n\n#### 4. [RouterOutlet](https://angular.cn/docs/ts/latest/api/router/index/RouterOutlet-directive.html)\n\n```\nclass RouterOutlet {\nactivated : ComponentRef<any>\noutletMap : RouterOutletMap\nlocation : ViewContainerRef\ncomponentFactoryResolver : ComponentFactoryResolver\nisActivated : boolean\ncomponent : Object\nactivatedRoute : ActivatedRoute\ndeactivate() : void\nactivate(activatedRoute: ActivatedRoute, providers: ResolvedReflectiveProvider[], outletMap: RouterOutletMap) : void\n}\n```\n","source":"_posts/2016-07-28.angular_api_router.md","raw":"---\nauthor: 小莫\ndate: 2016-07-28\ntitle: angular2 api整理之路由模块\ntags:\n- angular2\ncategory: angular2\npermalink: Angular2ApiRouter\n---\n不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/angular.png)](https://github.com/syoubaku)\n### 一、常量\n#### 1. [PRIMARY_OUTLET](https://angular.cn/docs/ts/latest/api/router/index/PRIMARY_OUTLET-let.html)\n\n#### 2. [ROUTER_DIRECTIVES](https://angular.cn/docs/ts/latest/api/router/index/ROUTER_DIRECTIVES-let.html)\n路由指令集合常量\n\n### 二、接口\n#### 1. 活跃路由[ActivatedRoute](https://angular.cn/docs/ts/latest/api/router/index/ActivatedRoute-interface.html)\n可以获取当前路由的参数和数据\n\n\n```\nclass MyComponent {\n  constructor(route: ActivatedRoute) {\n    const id: Observable<string> = route.params.map(p => p.id);\n    const data = route.data.map(d => d.user); //includes `data` and `resolve`\n  }\n}\n```\n\n#### 2. 活跃路由快照[ActivatedRouteSnapshot](https://angular.cn/docs/ts/latest/api/router/index/ActivatedRouteSnapshot-interface.html)\n具体功能不明\n\n```\nclass MyComponent {\n  constructor(route: ActivatedRoute) {\n    const id: string = route.snapshot.params.id;\n    const data = route.snapshot.data;\n  }\n}\n```\n\n#### 3. 可激活[CanActivate](https://angular.cn/docs/ts/latest/api/router/index/CanActivate-interface.html)\n实现此接口并重写`canActivate`方法。\n\n```\nclass CanActivateTeam implements CanActivate {\n  constructor(private permissions: Permissions, private currentUser: UserToken) {}\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):Observable<boolean> {\n    return this.permissions.canActivate(this.currentUser, this.route.params.id);\n  }\n}\nbootstrap(AppComponent, [\n  CanActivateTeam,\n  provideRouter([{\n    path: 'team/:id',\n    component: Team,\n    canActivate: [CanActivateTeam]\n  }])\n);\n```\n#### 4. [CanDeactivate](https://angular.cn/docs/ts/latest/api/router/index/CanDeactivate-interface.html)\n\n#### 5. 其他选项[ExtraOptions](https://angular.cn/docs/ts/latest/api/router/index/ExtraOptions-interface.html)\n\n#### 6. 解决 [Resolve](https://angular.cn/docs/ts/latest/api/router/index/Resolve-interface.html)\n实现此接口并重写`Resolve`方法。\n\n```\nclass TeamResolver implements Resolve {\n  constructor(private backend: Backend) {}\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot):Observable<any> {\n    return this.backend.fetchTeam(this.route.params.id);\n  }\n}\nbootstrap(AppComponent, [\n  TeamResolver,\n  provideRouter([{\n    path: 'team/:id',\n    component: TeamCmp,\n    resolve: {\n      team: TeamResolver\n    }\n  }])\n);\n```\n#### 7. 路由 [Route](https://angular.cn/docs/ts/latest/api/router/index/Route-interface.html)\n\n```\n\nclass Route {\npath : string\nterminal : boolean\npathMatch : 'full'|'prefix'\ncomponent : Type|string\nredirectTo : string\noutlet : string\ncanActivate : any[]\ncanDeactivate : any[]\ndata : Data\nresolve : ResolveData\nchildren : Route[]\n}\n```\n\n#### 8. 路由状态 [RouterState](https://angular.cn/docs/ts/latest/api/router/index/RouterState-interface.html)\n\n```\nclass MyComponent {\n  constructor(router: Router) {\n    const state = router.routerState;\n    const id: Observable<string> = state.firstChild(state.root).params.map(p => p.id);\n    const isDebug: Observable<string> = state.queryParams.map(q => q.debug);\n  }\n}\n```\n\n#### 9. 路由状态快照[RouterStateSnapshot](https://angular.cn/docs/ts/latest/api/router/index/RouterStateSnapshot-interface.html)\n\n```\nconstructor(router: Router) {\n  const snapshot = router.routerState.snapshot;\n}\n}\n```\n\n#### 10. 路径树 [UrlTree](https://angular.cn/docs/ts/latest/api/router/index/UrlTree-interface.html)\n\n```\nclass UrlTree {\nroot : UrlSegment\nqueryParams : {[key: string]: string}\nfragment : string\ntoString() : string\n}\n```\n\n### 三、类\n#### 1. 默认路径初始化 [DefaultUrlSerializer](https://angular.cn/docs/ts/latest/api/router/index/DefaultUrlSerializer-class.html)\n\n```\n  class DefaultUrlSerializer {\n  parse(url: string) : UrlTree\n  serialize(tree: UrlTree) : string\n  }\n```\n\n#### 2. 取消导航[NavigationCancel](https://angular.cn/docs/ts/latest/api/router/index/NavigationCancel-class.html)\n\n```\nconstructor(id: number, url: string)\nid : number\nurl : string\ntoString() : string\n}\n```\n\n#### 3. 结束导航 [NavigationEnd](https://angular.cn/docs/ts/latest/api/router/index/NavigationEnd-class.html)\n\n```\n\nclass NavigationEnd {\nconstructor(id: number, url: string, urlAfterRedirects: string)\nid : number\nurl : string\nurlAfterRedirects : string\ntoString() : string\n}\n```\n\n#### 4. 导航错误[NavigationError](https://angular.cn/docs/ts/latest/api/router/index/NavigationError-class.html)\n\n```\nclass NavigationError {\nconstructor(id: number, url: string, error: any)\nid : number\nurl : string\nerror : any\ntoString() : string\n}\n```\n\n#### 5. 根路由 [RootRouter](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RootRouter-class.html)\n\n```\n  class RootRouter {\n  constructor(registry: RouteRegistry, location: Location, primaryComponent: Type)\n  commit(instruction: Instruction, _skipLocationChange?: boolean) : Promise<any>\n  dispose() : void\n  }\n```\n\n#### 6. 路由数据 [RouteData](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteData-class.html)\n\n```\nclass RouteData {\nconstructor(data?: {[key: string]: any})\ndata : {[key: string]: any}\nget(key: string) : any\n}\n```\n\n#### 7. 路由参数 [RouteParams](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteParams-class.html)\n\n```\nclass RouteParams {\nconstructor(params: {[key: string]: string})\nparams : {[key: string]: string}\nget(param: string) : string\n}\n```\n\n#### 8. 注册路由 [RouteRegistry](https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteRegistry-class.html)\n\n```\n  class RouteRegistry {\n  constructor(_rootComponent: Type)\n  config(parentComponent: any, config: RouteDefinition) : void\n  configFromComponent(component: any) : void\n  recognize(url: string, ancestorInstructions: Instruction[]) : Promise<Instruction>\n  generate(linkParams: any[], ancestorInstructions: Instruction[], _aux?: any) : Instruction\n  hasRoute(name: string, parentComponent: any) : boolean\n  generateDefault(componentCursor: Type) : Instruction\n  }\n```\n\n#### 9. 路由 [Router](https://angular.cn/docs/ts/latest/api/router-deprecated/index/Router-class.html)\n\n```\n  class Router {\n  constructor(registry: RouteRegistry, parent: Router, hostComponent: any, root?: Router)\n  navigating : boolean\n  lastNavigationAttempt : string\n  currentInstruction : Instruction\n  registry : RouteRegistry\n  parent : Router\n  hostComponent : any\n  root : Router\n  childRouter(hostComponent: any) : Router\n  auxRouter(hostComponent: any) : Router\n  registerPrimaryOutlet(outlet: RouterOutlet) : Promise<any>\n  unregisterPrimaryOutlet(outlet: RouterOutlet) : void\n  registerAuxOutlet(outlet: RouterOutlet) : Promise<any>\n  isRouteActive(instruction: Instruction) : boolean\n  config(definitions: RouteDefinition[]) : Promise<any>\n  navigate(linkParams: any[]) : Promise<any>\n  navigateByUrl(url: string, _skipLocationChange?: boolean) : Promise<any>\n  navigateByInstruction(instruction: Instruction, _skipLocationChange?: boolean) : Promise<any>\n  commit(instruction: Instruction, _skipLocationChange?: boolean) : Promise<any>\n  subscribe(onNext: (value: any) => void, onError?: (value: any) => void) : Object\n  deactivate(instruction: Instruction) : Promise<any>\n  recognize(url: string) : Promise<Instruction>\n  renavigate() : Promise<any>\n  generate(linkParams: any[]) : Instruction\n  }\n```\n\n### 四、 指令\n\n#### 1. [RouterLink](https://angular.cn/docs/ts/latest/api/router/index/RouterLink-directive.html)\n\n```\nclass RouterLink {\ncommands : any[]\nqueryParams : {[k: string]: any}\nfragment : string\nurlTree : UrlTree\nrouter : Router\nroute : ActivatedRoute\nlocationStrategy : LocationStrategy\nrouterLink\nonClick(button: number, ctrlKey: boolean, metaKey: boolean) : boolean\n}\n```\n\n#### 2. [RouterLinkActive](https://angular.cn/docs/ts/latest/api/router/index/RouterLinkActive-directive.html)\n\n```\nclass RouterLinkActive {\nlinks : QueryList<RouterLink>\nlinksWithHrefs : QueryList<RouterLinkWithHref>\nclasses : string[]\nsubscription : Subscription\nrouterLinkActiveOptions : {exact: boolean}\nrouter : Router\nelement : ElementRef\nrenderer : Renderer\nngAfterContentInit() : void\nrouterLinkActive\nngOnChanges(changes: {}) : any\nngOnDestroy() : any\nupdate() : void\nreduceList(currentUrlTree: UrlTree, q: QueryList<any>) : boolean\n}\n```\n\n#### 3. [RouterLinkWithHref](https://angular.cn/docs/ts/latest/api/router/index/RouterLinkWithHref-directive.html)\n\n```\nclass RouterLinkWithHref {\ntarget : string\ncommands : any[]\nqueryParams : {[k: string]: any}\nfragment : string\nhref : string\nurlTree : UrlTree\nrouter : Router\nroute : ActivatedRoute\nlocationStrategy : LocationStrategy\nrouterLink\nngOnChanges(changes: {}) : any\nonClick(button: number, ctrlKey: boolean, metaKey: boolean) : boolean\nupdateTargetUrlAndHref() : void\n}\n```\n\n#### 4. [RouterOutlet](https://angular.cn/docs/ts/latest/api/router/index/RouterOutlet-directive.html)\n\n```\nclass RouterOutlet {\nactivated : ComponentRef<any>\noutletMap : RouterOutletMap\nlocation : ViewContainerRef\ncomponentFactoryResolver : ComponentFactoryResolver\nisActivated : boolean\ncomponent : Object\nactivatedRoute : ActivatedRoute\ndeactivate() : void\nactivate(activatedRoute: ActivatedRoute, providers: ResolvedReflectiveProvider[], outletMap: RouterOutletMap) : void\n}\n```\n","slug":"Angular2ApiRouter","published":1,"updated":"2016-12-01T06:50:27.673Z","_id":"civ0ggq9v004irwvnhksndifi","comments":1,"layout":"post","photos":[],"link":"","content":"<p>不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、常量\"><a href=\"#一、常量\" class=\"headerlink\" title=\"一、常量\"></a>一、常量</h3><h4 id=\"1-PRIMARY-OUTLET\"><a href=\"#1-PRIMARY-OUTLET\" class=\"headerlink\" title=\"1. PRIMARY_OUTLET\"></a>1. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/PRIMARY_OUTLET-let.html\" target=\"_blank\" rel=\"external\">PRIMARY_OUTLET</a></h4><h4 id=\"2-ROUTER-DIRECTIVES\"><a href=\"#2-ROUTER-DIRECTIVES\" class=\"headerlink\" title=\"2. ROUTER_DIRECTIVES\"></a>2. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/ROUTER_DIRECTIVES-let.html\" target=\"_blank\" rel=\"external\">ROUTER_DIRECTIVES</a></h4><p>路由指令集合常量</p>\n<h3 id=\"二、接口\"><a href=\"#二、接口\" class=\"headerlink\" title=\"二、接口\"></a>二、接口</h3><h4 id=\"1-活跃路由ActivatedRoute\"><a href=\"#1-活跃路由ActivatedRoute\" class=\"headerlink\" title=\"1. 活跃路由ActivatedRoute\"></a>1. 活跃路由<a href=\"https://angular.cn/docs/ts/latest/api/router/index/ActivatedRoute-interface.html\" target=\"_blank\" rel=\"external\">ActivatedRoute</a></h4><p>可以获取当前路由的参数和数据</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyComponent</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">constructor</span>(route: ActivatedRoute) &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> id: Observable&lt;string&gt; = route.params.map(<span class=\"function\"><span class=\"params\">p</span> =&gt;</span> p.id);</div><div class=\"line\">    <span class=\"keyword\">const</span> data = route.data.map(<span class=\"function\"><span class=\"params\">d</span> =&gt;</span> d.user); <span class=\"comment\">//includes `data` and `resolve`</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-活跃路由快照ActivatedRouteSnapshot\"><a href=\"#2-活跃路由快照ActivatedRouteSnapshot\" class=\"headerlink\" title=\"2. 活跃路由快照ActivatedRouteSnapshot\"></a>2. 活跃路由快照<a href=\"https://angular.cn/docs/ts/latest/api/router/index/ActivatedRouteSnapshot-interface.html\" target=\"_blank\" rel=\"external\">ActivatedRouteSnapshot</a></h4><p>具体功能不明</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MyComponent</span> &#123;</div><div class=\"line\">  constructor(route: ActivatedRoute) &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> id: <span class=\"keyword\">string</span> = route.snapshot.<span class=\"keyword\">params</span>.id;</div><div class=\"line\">    <span class=\"keyword\">const</span> data = route.snapshot.data;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-可激活CanActivate\"><a href=\"#3-可激活CanActivate\" class=\"headerlink\" title=\"3. 可激活CanActivate\"></a>3. 可激活<a href=\"https://angular.cn/docs/ts/latest/api/router/index/CanActivate-interface.html\" target=\"_blank\" rel=\"external\">CanActivate</a></h4><p>实现此接口并重写<code>canActivate</code>方法。</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CanActivateTeam</span> <span class=\"keyword\">implements</span> <span class=\"title\">CanActivate</span> &#123;</span></div><div class=\"line\">  constructor(<span class=\"keyword\">private</span> <span class=\"string\">permissions:</span> Permissions, <span class=\"keyword\">private</span> <span class=\"string\">currentUser:</span> UserToken) &#123;&#125;</div><div class=\"line\">  canActivate(<span class=\"string\">route:</span> ActivatedRouteSnapshot, <span class=\"string\">state:</span> RouterStateSnapshot):Observable&lt;<span class=\"keyword\">boolean</span>&gt; &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.permissions.canActivate(<span class=\"keyword\">this</span>.currentUser, <span class=\"keyword\">this</span>.route.params.id);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">bootstrap(AppComponent, [</div><div class=\"line\">  CanActivateTeam,</div><div class=\"line\">  provideRouter([&#123;</div><div class=\"line\"><span class=\"symbol\">    path:</span> <span class=\"string\">'team/:id'</span>,</div><div class=\"line\"><span class=\"symbol\">    component:</span> Team,</div><div class=\"line\"><span class=\"symbol\">    canActivate:</span> [CanActivateTeam]</div><div class=\"line\">  &#125;])</div><div class=\"line\">);</div></pre></td></tr></table></figure>\n<h4 id=\"4-CanDeactivate\"><a href=\"#4-CanDeactivate\" class=\"headerlink\" title=\"4. CanDeactivate\"></a>4. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/CanDeactivate-interface.html\" target=\"_blank\" rel=\"external\">CanDeactivate</a></h4><h4 id=\"5-其他选项ExtraOptions\"><a href=\"#5-其他选项ExtraOptions\" class=\"headerlink\" title=\"5. 其他选项ExtraOptions\"></a>5. 其他选项<a href=\"https://angular.cn/docs/ts/latest/api/router/index/ExtraOptions-interface.html\" target=\"_blank\" rel=\"external\">ExtraOptions</a></h4><h4 id=\"6-解决-Resolve\"><a href=\"#6-解决-Resolve\" class=\"headerlink\" title=\"6. 解决 Resolve\"></a>6. 解决 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/Resolve-interface.html\" target=\"_blank\" rel=\"external\">Resolve</a></h4><p>实现此接口并重写<code>Resolve</code>方法。</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TeamResolver</span> <span class=\"keyword\">implements</span> <span class=\"title\">Resolve</span> &#123;</span></div><div class=\"line\">  constructor(<span class=\"keyword\">private</span> <span class=\"string\">backend:</span> Backend) &#123;&#125;</div><div class=\"line\">  resolve(<span class=\"string\">route:</span> ActivatedRouteSnapshot, <span class=\"string\">state:</span> RouterStateSnapshot):Observable&lt;any&gt; &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.backend.fetchTeam(<span class=\"keyword\">this</span>.route.params.id);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">bootstrap(AppComponent, [</div><div class=\"line\">  TeamResolver,</div><div class=\"line\">  provideRouter([&#123;</div><div class=\"line\"><span class=\"symbol\">    path:</span> <span class=\"string\">'team/:id'</span>,</div><div class=\"line\"><span class=\"symbol\">    component:</span> TeamCmp,</div><div class=\"line\"><span class=\"symbol\">    resolve:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      team:</span> TeamResolver</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;])</div><div class=\"line\">);</div></pre></td></tr></table></figure>\n<h4 id=\"7-路由-Route\"><a href=\"#7-路由-Route\" class=\"headerlink\" title=\"7. 路由 Route\"></a>7. 路由 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/Route-interface.html\" target=\"_blank\" rel=\"external\">Route</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Route</span> &#123;</span></div><div class=\"line\"><span class=\"string\">path :</span> string</div><div class=\"line\"><span class=\"string\">terminal :</span> <span class=\"keyword\">boolean</span></div><div class=\"line\"><span class=\"string\">pathMatch :</span> <span class=\"string\">'full'</span>|<span class=\"string\">'prefix'</span></div><div class=\"line\"><span class=\"string\">component :</span> Type|string</div><div class=\"line\"><span class=\"string\">redirectTo :</span> string</div><div class=\"line\"><span class=\"string\">outlet :</span> string</div><div class=\"line\"><span class=\"string\">canActivate :</span> any[]</div><div class=\"line\"><span class=\"string\">canDeactivate :</span> any[]</div><div class=\"line\"><span class=\"string\">data :</span> Data</div><div class=\"line\"><span class=\"string\">resolve :</span> ResolveData</div><div class=\"line\"><span class=\"string\">children :</span> Route[]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"8-路由状态-RouterState\"><a href=\"#8-路由状态-RouterState\" class=\"headerlink\" title=\"8. 路由状态 RouterState\"></a>8. 路由状态 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterState-interface.html\" target=\"_blank\" rel=\"external\">RouterState</a></h4><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">class MyComponent &#123;</div><div class=\"line\">  constructor(router: Router) &#123;</div><div class=\"line\">    const <span class=\"keyword\">state</span> = router.routerState;</div><div class=\"line\">    const id: Observable<span class=\"variable\">&lt;string&gt;</span> = <span class=\"keyword\">state</span>.firstChild(<span class=\"keyword\">state</span>.root).params.map(p =&gt; p.id);</div><div class=\"line\">    const isDebug: Observable<span class=\"variable\">&lt;string&gt;</span> = <span class=\"keyword\">state</span>.queryParams.map(q =&gt; q.<span class=\"keyword\">debug</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"9-路由状态快照RouterStateSnapshot\"><a href=\"#9-路由状态快照RouterStateSnapshot\" class=\"headerlink\" title=\"9. 路由状态快照RouterStateSnapshot\"></a>9. 路由状态快照<a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterStateSnapshot-interface.html\" target=\"_blank\" rel=\"external\">RouterStateSnapshot</a></h4><figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">constructor</span><span class=\"params\">(router: Router)</span> <span class=\"comment\">&#123;</span></span></div><div class=\"line\">  const snapshot = router.routerState.snapshot;</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"10-路径树-UrlTree\"><a href=\"#10-路径树-UrlTree\" class=\"headerlink\" title=\"10. 路径树 UrlTree\"></a>10. 路径树 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/UrlTree-interface.html\" target=\"_blank\" rel=\"external\">UrlTree</a></h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">UrlTree</span> &#123;</div><div class=\"line\">root : UrlSegment</div><div class=\"line\">queryParams : &#123;[key: <span class=\"keyword\">string</span>]: <span class=\"keyword\">string</span>&#125;</div><div class=\"line\">fragment : <span class=\"function\"><span class=\"keyword\">string</span></span></div><div class=\"line\"><span class=\"title\">toString</span>(<span class=\"params\"></span>) : <span class=\"keyword\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"三、类\"><a href=\"#三、类\" class=\"headerlink\" title=\"三、类\"></a>三、类</h3><h4 id=\"1-默认路径初始化-DefaultUrlSerializer\"><a href=\"#1-默认路径初始化-DefaultUrlSerializer\" class=\"headerlink\" title=\"1. 默认路径初始化 DefaultUrlSerializer\"></a>1. 默认路径初始化 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/DefaultUrlSerializer-class.html\" target=\"_blank\" rel=\"external\">DefaultUrlSerializer</a></h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">class DefaultUrlSerializer &#123;</div><div class=\"line\"><span class=\"function\"><span class=\"title\">parse</span><span class=\"params\">(url: string)</span></span> : UrlTree</div><div class=\"line\"><span class=\"function\"><span class=\"title\">serialize</span><span class=\"params\">(tree: UrlTree)</span></span> : string</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-取消导航NavigationCancel\"><a href=\"#2-取消导航NavigationCancel\" class=\"headerlink\" title=\"2. 取消导航NavigationCancel\"></a>2. 取消导航<a href=\"https://angular.cn/docs/ts/latest/api/router/index/NavigationCancel-class.html\" target=\"_blank\" rel=\"external\">NavigationCancel</a></h4><figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">constructor</span><span class=\"params\">(id: number, url: <span class=\"keyword\">string</span>)</span></span></div><div class=\"line\"><span class=\"title\">id</span> : number</div><div class=\"line\">url : <span class=\"keyword\">string</span></div><div class=\"line\">toString() : <span class=\"keyword\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-结束导航-NavigationEnd\"><a href=\"#3-结束导航-NavigationEnd\" class=\"headerlink\" title=\"3. 结束导航 NavigationEnd\"></a>3. 结束导航 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/NavigationEnd-class.html\" target=\"_blank\" rel=\"external\">NavigationEnd</a></h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">class</span> NavigationEnd &#123;</div><div class=\"line\">constructor(<span class=\"built_in\">id</span>: <span class=\"built_in\">number</span>, url: <span class=\"built_in\">string</span>, urlAfterRedirects: <span class=\"built_in\">string</span>)</div><div class=\"line\"><span class=\"built_in\">id</span> : <span class=\"built_in\">number</span></div><div class=\"line\">url : <span class=\"built_in\">string</span></div><div class=\"line\">urlAfterRedirects : <span class=\"built_in\">string</span></div><div class=\"line\">toString() : <span class=\"built_in\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-导航错误NavigationError\"><a href=\"#4-导航错误NavigationError\" class=\"headerlink\" title=\"4. 导航错误NavigationError\"></a>4. 导航错误<a href=\"https://angular.cn/docs/ts/latest/api/router/index/NavigationError-class.html\" target=\"_blank\" rel=\"external\">NavigationError</a></h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">class</span> NavigationError &#123;</div><div class=\"line\">constructor(<span class=\"built_in\">id</span>: <span class=\"built_in\">number</span>, url: <span class=\"built_in\">string</span>, <span class=\"keyword\">error</span>: any)</div><div class=\"line\"><span class=\"built_in\">id</span> : <span class=\"built_in\">number</span></div><div class=\"line\">url : <span class=\"built_in\">string</span></div><div class=\"line\"><span class=\"keyword\">error</span> : any</div><div class=\"line\">toString() : <span class=\"built_in\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"5-根路由-RootRouter\"><a href=\"#5-根路由-RootRouter\" class=\"headerlink\" title=\"5. 根路由 RootRouter\"></a>5. 根路由 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RootRouter-class.html\" target=\"_blank\" rel=\"external\">RootRouter</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RootRouter</span> &#123;</span></div><div class=\"line\">constructor(<span class=\"string\">registry:</span> RouteRegistry, <span class=\"string\">location:</span> Location, <span class=\"string\">primaryComponent:</span> Type)</div><div class=\"line\">commit(<span class=\"string\">instruction:</span> Instruction, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">dispose() : <span class=\"keyword\">void</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"6-路由数据-RouteData\"><a href=\"#6-路由数据-RouteData\" class=\"headerlink\" title=\"6. 路由数据 RouteData\"></a>6. 路由数据 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteData-class.html\" target=\"_blank\" rel=\"external\">RouteData</a></h4><figure class=\"highlight q\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">class RouteData &#123;</div><div class=\"line\">constructor(data?: &#123;[<span class=\"built_in\">key</span>: <span class=\"built_in\">string</span>]: <span class=\"built_in\">any</span>&#125;)</div><div class=\"line\">data : &#123;[<span class=\"built_in\">key</span>: <span class=\"built_in\">string</span>]: <span class=\"built_in\">any</span>&#125;</div><div class=\"line\"><span class=\"built_in\">get</span>(<span class=\"built_in\">key</span>: <span class=\"built_in\">string</span>) : <span class=\"built_in\">any</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"7-路由参数-RouteParams\"><a href=\"#7-路由参数-RouteParams\" class=\"headerlink\" title=\"7. 路由参数 RouteParams\"></a>7. 路由参数 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteParams-class.html\" target=\"_blank\" rel=\"external\">RouteParams</a></h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">RouteParams</span> &#123;</div><div class=\"line\">constructor(<span class=\"keyword\">params</span>: &#123;[key: <span class=\"keyword\">string</span>]: <span class=\"keyword\">string</span>&#125;)</div><div class=\"line\"><span class=\"keyword\">params</span> : &#123;[key: <span class=\"keyword\">string</span>]: <span class=\"keyword\">string</span>&#125;</div><div class=\"line\"><span class=\"keyword\">get</span>(param: <span class=\"keyword\">string</span>) : <span class=\"keyword\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"8-注册路由-RouteRegistry\"><a href=\"#8-注册路由-RouteRegistry\" class=\"headerlink\" title=\"8. 注册路由 RouteRegistry\"></a>8. 注册路由 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteRegistry-class.html\" target=\"_blank\" rel=\"external\">RouteRegistry</a></h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">class RouteRegistry &#123;</div><div class=\"line\"><span class=\"function\"><span class=\"title\">constructor</span><span class=\"params\">(_rootComponent: Type)</span></span></div><div class=\"line\"><span class=\"function\"><span class=\"title\">config</span><span class=\"params\">(parentComponent: any, config: RouteDefinition)</span></span> : void</div><div class=\"line\"><span class=\"function\"><span class=\"title\">configFromComponent</span><span class=\"params\">(component: any)</span></span> : void</div><div class=\"line\"><span class=\"function\"><span class=\"title\">recognize</span><span class=\"params\">(url: string, ancestorInstructions: Instruction[])</span></span> : Promise&lt;Instruction&gt;</div><div class=\"line\"><span class=\"function\"><span class=\"title\">generate</span><span class=\"params\">(linkParams: any[], ancestorInstructions: Instruction[], _aux?: any)</span></span> : Instruction</div><div class=\"line\"><span class=\"function\"><span class=\"title\">hasRoute</span><span class=\"params\">(name: string, parentComponent: any)</span></span> : boolean</div><div class=\"line\"><span class=\"function\"><span class=\"title\">generateDefault</span><span class=\"params\">(componentCursor: Type)</span></span> : Instruction</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"9-路由-Router\"><a href=\"#9-路由-Router\" class=\"headerlink\" title=\"9. 路由 Router\"></a>9. 路由 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/Router-class.html\" target=\"_blank\" rel=\"external\">Router</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Router</span> &#123;</span></div><div class=\"line\">constructor(<span class=\"string\">registry:</span> RouteRegistry, <span class=\"string\">parent:</span> Router, <span class=\"string\">hostComponent:</span> any, root?: Router)</div><div class=\"line\"><span class=\"string\">navigating :</span> <span class=\"keyword\">boolean</span></div><div class=\"line\"><span class=\"string\">lastNavigationAttempt :</span> string</div><div class=\"line\"><span class=\"string\">currentInstruction :</span> Instruction</div><div class=\"line\"><span class=\"string\">registry :</span> RouteRegistry</div><div class=\"line\"><span class=\"string\">parent :</span> Router</div><div class=\"line\"><span class=\"string\">hostComponent :</span> any</div><div class=\"line\"><span class=\"string\">root :</span> Router</div><div class=\"line\">childRouter(<span class=\"string\">hostComponent:</span> any) : Router</div><div class=\"line\">auxRouter(<span class=\"string\">hostComponent:</span> any) : Router</div><div class=\"line\">registerPrimaryOutlet(<span class=\"string\">outlet:</span> RouterOutlet) : Promise&lt;any&gt;</div><div class=\"line\">unregisterPrimaryOutlet(<span class=\"string\">outlet:</span> RouterOutlet) : <span class=\"keyword\">void</span></div><div class=\"line\">registerAuxOutlet(<span class=\"string\">outlet:</span> RouterOutlet) : Promise&lt;any&gt;</div><div class=\"line\">isRouteActive(<span class=\"string\">instruction:</span> Instruction) : <span class=\"keyword\">boolean</span></div><div class=\"line\">config(<span class=\"string\">definitions:</span> RouteDefinition[]) : Promise&lt;any&gt;</div><div class=\"line\">navigate(<span class=\"string\">linkParams:</span> any[]) : Promise&lt;any&gt;</div><div class=\"line\">navigateByUrl(<span class=\"string\">url:</span> string, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">navigateByInstruction(<span class=\"string\">instruction:</span> Instruction, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">commit(<span class=\"string\">instruction:</span> Instruction, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">subscribe(<span class=\"string\">onNext:</span> (<span class=\"string\">value:</span> any) =&gt; <span class=\"keyword\">void</span>, onError?: (<span class=\"string\">value:</span> any) =&gt; <span class=\"keyword\">void</span>) : Object</div><div class=\"line\">deactivate(<span class=\"string\">instruction:</span> Instruction) : Promise&lt;any&gt;</div><div class=\"line\">recognize(<span class=\"string\">url:</span> string) : Promise&lt;Instruction&gt;</div><div class=\"line\">renavigate() : Promise&lt;any&gt;</div><div class=\"line\">generate(<span class=\"string\">linkParams:</span> any[]) : Instruction</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"四、-指令\"><a href=\"#四、-指令\" class=\"headerlink\" title=\"四、 指令\"></a>四、 指令</h3><h4 id=\"1-RouterLink\"><a href=\"#1-RouterLink\" class=\"headerlink\" title=\"1. RouterLink\"></a>1. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterLink-directive.html\" target=\"_blank\" rel=\"external\">RouterLink</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterLink</span> &#123;</span></div><div class=\"line\"><span class=\"string\">commands :</span> any[]</div><div class=\"line\"><span class=\"string\">queryParams :</span> &#123;[<span class=\"string\">k:</span> string]: any&#125;</div><div class=\"line\"><span class=\"string\">fragment :</span> string</div><div class=\"line\"><span class=\"string\">urlTree :</span> UrlTree</div><div class=\"line\"><span class=\"string\">router :</span> Router</div><div class=\"line\"><span class=\"string\">route :</span> ActivatedRoute</div><div class=\"line\"><span class=\"string\">locationStrategy :</span> LocationStrategy</div><div class=\"line\">routerLink</div><div class=\"line\">onClick(<span class=\"string\">button:</span> number, <span class=\"string\">ctrlKey:</span> <span class=\"keyword\">boolean</span>, <span class=\"string\">metaKey:</span> <span class=\"keyword\">boolean</span>) : <span class=\"keyword\">boolean</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-RouterLinkActive\"><a href=\"#2-RouterLinkActive\" class=\"headerlink\" title=\"2. RouterLinkActive\"></a>2. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterLinkActive-directive.html\" target=\"_blank\" rel=\"external\">RouterLinkActive</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterLinkActive</span> &#123;</span></div><div class=\"line\"><span class=\"string\">links :</span> QueryList&lt;RouterLink&gt;</div><div class=\"line\"><span class=\"string\">linksWithHrefs :</span> QueryList&lt;RouterLinkWithHref&gt;</div><div class=\"line\"><span class=\"string\">classes :</span> string[]</div><div class=\"line\"><span class=\"string\">subscription :</span> Subscription</div><div class=\"line\"><span class=\"string\">routerLinkActiveOptions :</span> &#123;<span class=\"string\">exact:</span> <span class=\"keyword\">boolean</span>&#125;</div><div class=\"line\"><span class=\"string\">router :</span> Router</div><div class=\"line\"><span class=\"string\">element :</span> ElementRef</div><div class=\"line\"><span class=\"string\">renderer :</span> Renderer</div><div class=\"line\">ngAfterContentInit() : <span class=\"keyword\">void</span></div><div class=\"line\">routerLinkActive</div><div class=\"line\">ngOnChanges(<span class=\"string\">changes:</span> &#123;&#125;) : any</div><div class=\"line\">ngOnDestroy() : any</div><div class=\"line\">update() : <span class=\"keyword\">void</span></div><div class=\"line\">reduceList(<span class=\"string\">currentUrlTree:</span> UrlTree, <span class=\"string\">q:</span> QueryList&lt;any&gt;) : <span class=\"keyword\">boolean</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-RouterLinkWithHref\"><a href=\"#3-RouterLinkWithHref\" class=\"headerlink\" title=\"3. RouterLinkWithHref\"></a>3. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterLinkWithHref-directive.html\" target=\"_blank\" rel=\"external\">RouterLinkWithHref</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterLinkWithHref</span> &#123;</span></div><div class=\"line\"><span class=\"string\">target :</span> string</div><div class=\"line\"><span class=\"string\">commands :</span> any[]</div><div class=\"line\"><span class=\"string\">queryParams :</span> &#123;[<span class=\"string\">k:</span> string]: any&#125;</div><div class=\"line\"><span class=\"string\">fragment :</span> string</div><div class=\"line\"><span class=\"string\">href :</span> string</div><div class=\"line\"><span class=\"string\">urlTree :</span> UrlTree</div><div class=\"line\"><span class=\"string\">router :</span> Router</div><div class=\"line\"><span class=\"string\">route :</span> ActivatedRoute</div><div class=\"line\"><span class=\"string\">locationStrategy :</span> LocationStrategy</div><div class=\"line\">routerLink</div><div class=\"line\">ngOnChanges(<span class=\"string\">changes:</span> &#123;&#125;) : any</div><div class=\"line\">onClick(<span class=\"string\">button:</span> number, <span class=\"string\">ctrlKey:</span> <span class=\"keyword\">boolean</span>, <span class=\"string\">metaKey:</span> <span class=\"keyword\">boolean</span>) : <span class=\"keyword\">boolean</span></div><div class=\"line\">updateTargetUrlAndHref() : <span class=\"keyword\">void</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-RouterOutlet\"><a href=\"#4-RouterOutlet\" class=\"headerlink\" title=\"4. RouterOutlet\"></a>4. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterOutlet-directive.html\" target=\"_blank\" rel=\"external\">RouterOutlet</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterOutlet</span> &#123;</span></div><div class=\"line\"><span class=\"string\">activated :</span> ComponentRef&lt;any&gt;</div><div class=\"line\"><span class=\"string\">outletMap :</span> RouterOutletMap</div><div class=\"line\"><span class=\"string\">location :</span> ViewContainerRef</div><div class=\"line\"><span class=\"string\">componentFactoryResolver :</span> ComponentFactoryResolver</div><div class=\"line\"><span class=\"string\">isActivated :</span> <span class=\"keyword\">boolean</span></div><div class=\"line\"><span class=\"string\">component :</span> Object</div><div class=\"line\"><span class=\"string\">activatedRoute :</span> ActivatedRoute</div><div class=\"line\">deactivate() : <span class=\"keyword\">void</span></div><div class=\"line\">activate(<span class=\"string\">activatedRoute:</span> ActivatedRoute, <span class=\"string\">providers:</span> ResolvedReflectiveProvider[], <span class=\"string\">outletMap:</span> RouterOutletMap) : <span class=\"keyword\">void</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n","excerpt":"<p>不知不觉接触angular2也有半年时间了，但是对于angular2仍然是一知半解。总觉得应该系统的了解一下它的api，正好ng2马上要有稳定版本了。是时候花一些时间整理一下了<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/angular.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、常量\"><a href=\"#一、常量\" class=\"headerlink\" title=\"一、常量\"></a>一、常量</h3><h4 id=\"1-PRIMARY-OUTLET\"><a href=\"#1-PRIMARY-OUTLET\" class=\"headerlink\" title=\"1. PRIMARY_OUTLET\"></a>1. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/PRIMARY_OUTLET-let.html\">PRIMARY_OUTLET</a></h4><h4 id=\"2-ROUTER-DIRECTIVES\"><a href=\"#2-ROUTER-DIRECTIVES\" class=\"headerlink\" title=\"2. ROUTER_DIRECTIVES\"></a>2. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/ROUTER_DIRECTIVES-let.html\">ROUTER_DIRECTIVES</a></h4><p>路由指令集合常量</p>\n<h3 id=\"二、接口\"><a href=\"#二、接口\" class=\"headerlink\" title=\"二、接口\"></a>二、接口</h3><h4 id=\"1-活跃路由ActivatedRoute\"><a href=\"#1-活跃路由ActivatedRoute\" class=\"headerlink\" title=\"1. 活跃路由ActivatedRoute\"></a>1. 活跃路由<a href=\"https://angular.cn/docs/ts/latest/api/router/index/ActivatedRoute-interface.html\">ActivatedRoute</a></h4><p>可以获取当前路由的参数和数据</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyComponent</span> </span>&#123;</div><div class=\"line\">  <span class=\"keyword\">constructor</span>(route: ActivatedRoute) &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> id: Observable&lt;string&gt; = route.params.map(<span class=\"function\"><span class=\"params\">p</span> =&gt;</span> p.id);</div><div class=\"line\">    <span class=\"keyword\">const</span> data = route.data.map(<span class=\"function\"><span class=\"params\">d</span> =&gt;</span> d.user); <span class=\"comment\">//includes `data` and `resolve`</span></div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-活跃路由快照ActivatedRouteSnapshot\"><a href=\"#2-活跃路由快照ActivatedRouteSnapshot\" class=\"headerlink\" title=\"2. 活跃路由快照ActivatedRouteSnapshot\"></a>2. 活跃路由快照<a href=\"https://angular.cn/docs/ts/latest/api/router/index/ActivatedRouteSnapshot-interface.html\">ActivatedRouteSnapshot</a></h4><p>具体功能不明</p>\n<figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">MyComponent</span> &#123;</div><div class=\"line\">  constructor(route: ActivatedRoute) &#123;</div><div class=\"line\">    <span class=\"keyword\">const</span> id: <span class=\"keyword\">string</span> = route.snapshot.<span class=\"keyword\">params</span>.id;</div><div class=\"line\">    <span class=\"keyword\">const</span> data = route.snapshot.data;</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-可激活CanActivate\"><a href=\"#3-可激活CanActivate\" class=\"headerlink\" title=\"3. 可激活CanActivate\"></a>3. 可激活<a href=\"https://angular.cn/docs/ts/latest/api/router/index/CanActivate-interface.html\">CanActivate</a></h4><p>实现此接口并重写<code>canActivate</code>方法。</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CanActivateTeam</span> <span class=\"keyword\">implements</span> <span class=\"title\">CanActivate</span> &#123;</span></div><div class=\"line\">  constructor(<span class=\"keyword\">private</span> <span class=\"string\">permissions:</span> Permissions, <span class=\"keyword\">private</span> <span class=\"string\">currentUser:</span> UserToken) &#123;&#125;</div><div class=\"line\">  canActivate(<span class=\"string\">route:</span> ActivatedRouteSnapshot, <span class=\"string\">state:</span> RouterStateSnapshot):Observable&lt;<span class=\"keyword\">boolean</span>&gt; &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.permissions.canActivate(<span class=\"keyword\">this</span>.currentUser, <span class=\"keyword\">this</span>.route.params.id);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">bootstrap(AppComponent, [</div><div class=\"line\">  CanActivateTeam,</div><div class=\"line\">  provideRouter([&#123;</div><div class=\"line\"><span class=\"symbol\">    path:</span> <span class=\"string\">'team/:id'</span>,</div><div class=\"line\"><span class=\"symbol\">    component:</span> Team,</div><div class=\"line\"><span class=\"symbol\">    canActivate:</span> [CanActivateTeam]</div><div class=\"line\">  &#125;])</div><div class=\"line\">);</div></pre></td></tr></table></figure>\n<h4 id=\"4-CanDeactivate\"><a href=\"#4-CanDeactivate\" class=\"headerlink\" title=\"4. CanDeactivate\"></a>4. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/CanDeactivate-interface.html\">CanDeactivate</a></h4><h4 id=\"5-其他选项ExtraOptions\"><a href=\"#5-其他选项ExtraOptions\" class=\"headerlink\" title=\"5. 其他选项ExtraOptions\"></a>5. 其他选项<a href=\"https://angular.cn/docs/ts/latest/api/router/index/ExtraOptions-interface.html\">ExtraOptions</a></h4><h4 id=\"6-解决-Resolve\"><a href=\"#6-解决-Resolve\" class=\"headerlink\" title=\"6. 解决 Resolve\"></a>6. 解决 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/Resolve-interface.html\">Resolve</a></h4><p>实现此接口并重写<code>Resolve</code>方法。</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TeamResolver</span> <span class=\"keyword\">implements</span> <span class=\"title\">Resolve</span> &#123;</span></div><div class=\"line\">  constructor(<span class=\"keyword\">private</span> <span class=\"string\">backend:</span> Backend) &#123;&#125;</div><div class=\"line\">  resolve(<span class=\"string\">route:</span> ActivatedRouteSnapshot, <span class=\"string\">state:</span> RouterStateSnapshot):Observable&lt;any&gt; &#123;</div><div class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">this</span>.backend.fetchTeam(<span class=\"keyword\">this</span>.route.params.id);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">bootstrap(AppComponent, [</div><div class=\"line\">  TeamResolver,</div><div class=\"line\">  provideRouter([&#123;</div><div class=\"line\"><span class=\"symbol\">    path:</span> <span class=\"string\">'team/:id'</span>,</div><div class=\"line\"><span class=\"symbol\">    component:</span> TeamCmp,</div><div class=\"line\"><span class=\"symbol\">    resolve:</span> &#123;</div><div class=\"line\"><span class=\"symbol\">      team:</span> TeamResolver</div><div class=\"line\">    &#125;</div><div class=\"line\">  &#125;])</div><div class=\"line\">);</div></pre></td></tr></table></figure>\n<h4 id=\"7-路由-Route\"><a href=\"#7-路由-Route\" class=\"headerlink\" title=\"7. 路由 Route\"></a>7. 路由 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/Route-interface.html\">Route</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Route</span> &#123;</span></div><div class=\"line\"><span class=\"string\">path :</span> string</div><div class=\"line\"><span class=\"string\">terminal :</span> <span class=\"keyword\">boolean</span></div><div class=\"line\"><span class=\"string\">pathMatch :</span> <span class=\"string\">'full'</span>|<span class=\"string\">'prefix'</span></div><div class=\"line\"><span class=\"string\">component :</span> Type|string</div><div class=\"line\"><span class=\"string\">redirectTo :</span> string</div><div class=\"line\"><span class=\"string\">outlet :</span> string</div><div class=\"line\"><span class=\"string\">canActivate :</span> any[]</div><div class=\"line\"><span class=\"string\">canDeactivate :</span> any[]</div><div class=\"line\"><span class=\"string\">data :</span> Data</div><div class=\"line\"><span class=\"string\">resolve :</span> ResolveData</div><div class=\"line\"><span class=\"string\">children :</span> Route[]</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"8-路由状态-RouterState\"><a href=\"#8-路由状态-RouterState\" class=\"headerlink\" title=\"8. 路由状态 RouterState\"></a>8. 路由状态 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterState-interface.html\">RouterState</a></h4><figure class=\"highlight pf\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">class MyComponent &#123;</div><div class=\"line\">  constructor(router: Router) &#123;</div><div class=\"line\">    const <span class=\"keyword\">state</span> = router.routerState;</div><div class=\"line\">    const id: Observable<span class=\"variable\">&lt;string&gt;</span> = <span class=\"keyword\">state</span>.firstChild(<span class=\"keyword\">state</span>.root).params.map(p =&gt; p.id);</div><div class=\"line\">    const isDebug: Observable<span class=\"variable\">&lt;string&gt;</span> = <span class=\"keyword\">state</span>.queryParams.map(q =&gt; q.<span class=\"keyword\">debug</span>);</div><div class=\"line\">  &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"9-路由状态快照RouterStateSnapshot\"><a href=\"#9-路由状态快照RouterStateSnapshot\" class=\"headerlink\" title=\"9. 路由状态快照RouterStateSnapshot\"></a>9. 路由状态快照<a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterStateSnapshot-interface.html\">RouterStateSnapshot</a></h4><figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">constructor</span><span class=\"params\">(router: Router)</span> <span class=\"comment\">&#123;</div><div class=\"line\">  const snapshot = router.routerState.snapshot;</div><div class=\"line\">&#125;</span></div><div class=\"line\">&#125;</span></div></pre></td></tr></table></figure>\n<h4 id=\"10-路径树-UrlTree\"><a href=\"#10-路径树-UrlTree\" class=\"headerlink\" title=\"10. 路径树 UrlTree\"></a>10. 路径树 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/UrlTree-interface.html\">UrlTree</a></h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">UrlTree</span> &#123;</div><div class=\"line\">root : UrlSegment</div><div class=\"line\">queryParams : &#123;[key: <span class=\"keyword\">string</span>]: <span class=\"keyword\">string</span>&#125;</div><div class=\"line\">fragment : <span class=\"function\"><span class=\"keyword\">string</span></div><div class=\"line\"><span class=\"title\">toString</span>(<span class=\"params\"></span>) : <span class=\"keyword\">string</span></div><div class=\"line\">&#125;</span></div></pre></td></tr></table></figure>\n<h3 id=\"三、类\"><a href=\"#三、类\" class=\"headerlink\" title=\"三、类\"></a>三、类</h3><h4 id=\"1-默认路径初始化-DefaultUrlSerializer\"><a href=\"#1-默认路径初始化-DefaultUrlSerializer\" class=\"headerlink\" title=\"1. 默认路径初始化 DefaultUrlSerializer\"></a>1. 默认路径初始化 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/DefaultUrlSerializer-class.html\">DefaultUrlSerializer</a></h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">class DefaultUrlSerializer &#123;</div><div class=\"line\"><span class=\"function\"><span class=\"title\">parse</span><span class=\"params\">(url: string)</span></span> : UrlTree</div><div class=\"line\"><span class=\"function\"><span class=\"title\">serialize</span><span class=\"params\">(tree: UrlTree)</span></span> : string</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-取消导航NavigationCancel\"><a href=\"#2-取消导航NavigationCancel\" class=\"headerlink\" title=\"2. 取消导航NavigationCancel\"></a>2. 取消导航<a href=\"https://angular.cn/docs/ts/latest/api/router/index/NavigationCancel-class.html\">NavigationCancel</a></h4><figure class=\"highlight delphi\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"function\"><span class=\"keyword\">constructor</span><span class=\"params\">(id: number, url: <span class=\"keyword\">string</span>)</span></div><div class=\"line\"><span class=\"title\">id</span> :</span> number</div><div class=\"line\">url : <span class=\"keyword\">string</span></div><div class=\"line\">toString() : <span class=\"keyword\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-结束导航-NavigationEnd\"><a href=\"#3-结束导航-NavigationEnd\" class=\"headerlink\" title=\"3. 结束导航 NavigationEnd\"></a>3. 结束导航 <a href=\"https://angular.cn/docs/ts/latest/api/router/index/NavigationEnd-class.html\">NavigationEnd</a></h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"built_in\">class</span> NavigationEnd &#123;</div><div class=\"line\">constructor(<span class=\"built_in\">id</span>: <span class=\"built_in\">number</span>, url: <span class=\"built_in\">string</span>, urlAfterRedirects: <span class=\"built_in\">string</span>)</div><div class=\"line\"><span class=\"built_in\">id</span> : <span class=\"built_in\">number</span></div><div class=\"line\">url : <span class=\"built_in\">string</span></div><div class=\"line\">urlAfterRedirects : <span class=\"built_in\">string</span></div><div class=\"line\">toString() : <span class=\"built_in\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-导航错误NavigationError\"><a href=\"#4-导航错误NavigationError\" class=\"headerlink\" title=\"4. 导航错误NavigationError\"></a>4. 导航错误<a href=\"https://angular.cn/docs/ts/latest/api/router/index/NavigationError-class.html\">NavigationError</a></h4><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">class</span> NavigationError &#123;</div><div class=\"line\">constructor(<span class=\"built_in\">id</span>: <span class=\"built_in\">number</span>, url: <span class=\"built_in\">string</span>, <span class=\"keyword\">error</span>: any)</div><div class=\"line\"><span class=\"built_in\">id</span> : <span class=\"built_in\">number</span></div><div class=\"line\">url : <span class=\"built_in\">string</span></div><div class=\"line\"><span class=\"keyword\">error</span> : any</div><div class=\"line\">toString() : <span class=\"built_in\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"5-根路由-RootRouter\"><a href=\"#5-根路由-RootRouter\" class=\"headerlink\" title=\"5. 根路由 RootRouter\"></a>5. 根路由 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RootRouter-class.html\">RootRouter</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RootRouter</span> &#123;</span></div><div class=\"line\">constructor(<span class=\"string\">registry:</span> RouteRegistry, <span class=\"string\">location:</span> Location, <span class=\"string\">primaryComponent:</span> Type)</div><div class=\"line\">commit(<span class=\"string\">instruction:</span> Instruction, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">dispose() : <span class=\"keyword\">void</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"6-路由数据-RouteData\"><a href=\"#6-路由数据-RouteData\" class=\"headerlink\" title=\"6. 路由数据 RouteData\"></a>6. 路由数据 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteData-class.html\">RouteData</a></h4><figure class=\"highlight q\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">class RouteData &#123;</div><div class=\"line\">constructor(data?: &#123;[<span class=\"built_in\">key</span>: <span class=\"built_in\">string</span>]: <span class=\"built_in\">any</span>&#125;)</div><div class=\"line\">data : &#123;[<span class=\"built_in\">key</span>: <span class=\"built_in\">string</span>]: <span class=\"built_in\">any</span>&#125;</div><div class=\"line\"><span class=\"built_in\">get</span>(<span class=\"built_in\">key</span>: <span class=\"built_in\">string</span>) : <span class=\"built_in\">any</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"7-路由参数-RouteParams\"><a href=\"#7-路由参数-RouteParams\" class=\"headerlink\" title=\"7. 路由参数 RouteParams\"></a>7. 路由参数 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteParams-class.html\">RouteParams</a></h4><figure class=\"highlight cs\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">class</span> <span class=\"title\">RouteParams</span> &#123;</div><div class=\"line\">constructor(<span class=\"keyword\">params</span>: &#123;[key: <span class=\"keyword\">string</span>]: <span class=\"keyword\">string</span>&#125;)</div><div class=\"line\"><span class=\"keyword\">params</span> : &#123;[key: <span class=\"keyword\">string</span>]: <span class=\"keyword\">string</span>&#125;</div><div class=\"line\"><span class=\"keyword\">get</span>(param: <span class=\"keyword\">string</span>) : <span class=\"keyword\">string</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"8-注册路由-RouteRegistry\"><a href=\"#8-注册路由-RouteRegistry\" class=\"headerlink\" title=\"8. 注册路由 RouteRegistry\"></a>8. 注册路由 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/RouteRegistry-class.html\">RouteRegistry</a></h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">class RouteRegistry &#123;</div><div class=\"line\"><span class=\"function\"><span class=\"title\">constructor</span><span class=\"params\">(_rootComponent: Type)</span></span></div><div class=\"line\"><span class=\"function\"><span class=\"title\">config</span><span class=\"params\">(parentComponent: any, config: RouteDefinition)</span></span> : void</div><div class=\"line\"><span class=\"function\"><span class=\"title\">configFromComponent</span><span class=\"params\">(component: any)</span></span> : void</div><div class=\"line\"><span class=\"function\"><span class=\"title\">recognize</span><span class=\"params\">(url: string, ancestorInstructions: Instruction[])</span></span> : Promise&lt;Instruction&gt;</div><div class=\"line\"><span class=\"function\"><span class=\"title\">generate</span><span class=\"params\">(linkParams: any[], ancestorInstructions: Instruction[], _aux?: any)</span></span> : Instruction</div><div class=\"line\"><span class=\"function\"><span class=\"title\">hasRoute</span><span class=\"params\">(name: string, parentComponent: any)</span></span> : boolean</div><div class=\"line\"><span class=\"function\"><span class=\"title\">generateDefault</span><span class=\"params\">(componentCursor: Type)</span></span> : Instruction</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"9-路由-Router\"><a href=\"#9-路由-Router\" class=\"headerlink\" title=\"9. 路由 Router\"></a>9. 路由 <a href=\"https://angular.cn/docs/ts/latest/api/router-deprecated/index/Router-class.html\">Router</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Router</span> &#123;</span></div><div class=\"line\">constructor(<span class=\"string\">registry:</span> RouteRegistry, <span class=\"string\">parent:</span> Router, <span class=\"string\">hostComponent:</span> any, root?: Router)</div><div class=\"line\"><span class=\"string\">navigating :</span> <span class=\"keyword\">boolean</span></div><div class=\"line\"><span class=\"string\">lastNavigationAttempt :</span> string</div><div class=\"line\"><span class=\"string\">currentInstruction :</span> Instruction</div><div class=\"line\"><span class=\"string\">registry :</span> RouteRegistry</div><div class=\"line\"><span class=\"string\">parent :</span> Router</div><div class=\"line\"><span class=\"string\">hostComponent :</span> any</div><div class=\"line\"><span class=\"string\">root :</span> Router</div><div class=\"line\">childRouter(<span class=\"string\">hostComponent:</span> any) : Router</div><div class=\"line\">auxRouter(<span class=\"string\">hostComponent:</span> any) : Router</div><div class=\"line\">registerPrimaryOutlet(<span class=\"string\">outlet:</span> RouterOutlet) : Promise&lt;any&gt;</div><div class=\"line\">unregisterPrimaryOutlet(<span class=\"string\">outlet:</span> RouterOutlet) : <span class=\"keyword\">void</span></div><div class=\"line\">registerAuxOutlet(<span class=\"string\">outlet:</span> RouterOutlet) : Promise&lt;any&gt;</div><div class=\"line\">isRouteActive(<span class=\"string\">instruction:</span> Instruction) : <span class=\"keyword\">boolean</span></div><div class=\"line\">config(<span class=\"string\">definitions:</span> RouteDefinition[]) : Promise&lt;any&gt;</div><div class=\"line\">navigate(<span class=\"string\">linkParams:</span> any[]) : Promise&lt;any&gt;</div><div class=\"line\">navigateByUrl(<span class=\"string\">url:</span> string, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">navigateByInstruction(<span class=\"string\">instruction:</span> Instruction, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">commit(<span class=\"string\">instruction:</span> Instruction, _skipLocationChange?: <span class=\"keyword\">boolean</span>) : Promise&lt;any&gt;</div><div class=\"line\">subscribe(<span class=\"string\">onNext:</span> (<span class=\"string\">value:</span> any) =&gt; <span class=\"keyword\">void</span>, onError?: (<span class=\"string\">value:</span> any) =&gt; <span class=\"keyword\">void</span>) : Object</div><div class=\"line\">deactivate(<span class=\"string\">instruction:</span> Instruction) : Promise&lt;any&gt;</div><div class=\"line\">recognize(<span class=\"string\">url:</span> string) : Promise&lt;Instruction&gt;</div><div class=\"line\">renavigate() : Promise&lt;any&gt;</div><div class=\"line\">generate(<span class=\"string\">linkParams:</span> any[]) : Instruction</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"四、-指令\"><a href=\"#四、-指令\" class=\"headerlink\" title=\"四、 指令\"></a>四、 指令</h3><h4 id=\"1-RouterLink\"><a href=\"#1-RouterLink\" class=\"headerlink\" title=\"1. RouterLink\"></a>1. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterLink-directive.html\">RouterLink</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterLink</span> &#123;</span></div><div class=\"line\"><span class=\"string\">commands :</span> any[]</div><div class=\"line\"><span class=\"string\">queryParams :</span> &#123;[<span class=\"string\">k:</span> string]: any&#125;</div><div class=\"line\"><span class=\"string\">fragment :</span> string</div><div class=\"line\"><span class=\"string\">urlTree :</span> UrlTree</div><div class=\"line\"><span class=\"string\">router :</span> Router</div><div class=\"line\"><span class=\"string\">route :</span> ActivatedRoute</div><div class=\"line\"><span class=\"string\">locationStrategy :</span> LocationStrategy</div><div class=\"line\">routerLink</div><div class=\"line\">onClick(<span class=\"string\">button:</span> number, <span class=\"string\">ctrlKey:</span> <span class=\"keyword\">boolean</span>, <span class=\"string\">metaKey:</span> <span class=\"keyword\">boolean</span>) : <span class=\"keyword\">boolean</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-RouterLinkActive\"><a href=\"#2-RouterLinkActive\" class=\"headerlink\" title=\"2. RouterLinkActive\"></a>2. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterLinkActive-directive.html\">RouterLinkActive</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterLinkActive</span> &#123;</span></div><div class=\"line\"><span class=\"string\">links :</span> QueryList&lt;RouterLink&gt;</div><div class=\"line\"><span class=\"string\">linksWithHrefs :</span> QueryList&lt;RouterLinkWithHref&gt;</div><div class=\"line\"><span class=\"string\">classes :</span> string[]</div><div class=\"line\"><span class=\"string\">subscription :</span> Subscription</div><div class=\"line\"><span class=\"string\">routerLinkActiveOptions :</span> &#123;<span class=\"string\">exact:</span> <span class=\"keyword\">boolean</span>&#125;</div><div class=\"line\"><span class=\"string\">router :</span> Router</div><div class=\"line\"><span class=\"string\">element :</span> ElementRef</div><div class=\"line\"><span class=\"string\">renderer :</span> Renderer</div><div class=\"line\">ngAfterContentInit() : <span class=\"keyword\">void</span></div><div class=\"line\">routerLinkActive</div><div class=\"line\">ngOnChanges(<span class=\"string\">changes:</span> &#123;&#125;) : any</div><div class=\"line\">ngOnDestroy() : any</div><div class=\"line\">update() : <span class=\"keyword\">void</span></div><div class=\"line\">reduceList(<span class=\"string\">currentUrlTree:</span> UrlTree, <span class=\"string\">q:</span> QueryList&lt;any&gt;) : <span class=\"keyword\">boolean</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-RouterLinkWithHref\"><a href=\"#3-RouterLinkWithHref\" class=\"headerlink\" title=\"3. RouterLinkWithHref\"></a>3. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterLinkWithHref-directive.html\">RouterLinkWithHref</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterLinkWithHref</span> &#123;</span></div><div class=\"line\"><span class=\"string\">target :</span> string</div><div class=\"line\"><span class=\"string\">commands :</span> any[]</div><div class=\"line\"><span class=\"string\">queryParams :</span> &#123;[<span class=\"string\">k:</span> string]: any&#125;</div><div class=\"line\"><span class=\"string\">fragment :</span> string</div><div class=\"line\"><span class=\"string\">href :</span> string</div><div class=\"line\"><span class=\"string\">urlTree :</span> UrlTree</div><div class=\"line\"><span class=\"string\">router :</span> Router</div><div class=\"line\"><span class=\"string\">route :</span> ActivatedRoute</div><div class=\"line\"><span class=\"string\">locationStrategy :</span> LocationStrategy</div><div class=\"line\">routerLink</div><div class=\"line\">ngOnChanges(<span class=\"string\">changes:</span> &#123;&#125;) : any</div><div class=\"line\">onClick(<span class=\"string\">button:</span> number, <span class=\"string\">ctrlKey:</span> <span class=\"keyword\">boolean</span>, <span class=\"string\">metaKey:</span> <span class=\"keyword\">boolean</span>) : <span class=\"keyword\">boolean</span></div><div class=\"line\">updateTargetUrlAndHref() : <span class=\"keyword\">void</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"4-RouterOutlet\"><a href=\"#4-RouterOutlet\" class=\"headerlink\" title=\"4. RouterOutlet\"></a>4. <a href=\"https://angular.cn/docs/ts/latest/api/router/index/RouterOutlet-directive.html\">RouterOutlet</a></h4><figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">RouterOutlet</span> &#123;</span></div><div class=\"line\"><span class=\"string\">activated :</span> ComponentRef&lt;any&gt;</div><div class=\"line\"><span class=\"string\">outletMap :</span> RouterOutletMap</div><div class=\"line\"><span class=\"string\">location :</span> ViewContainerRef</div><div class=\"line\"><span class=\"string\">componentFactoryResolver :</span> ComponentFactoryResolver</div><div class=\"line\"><span class=\"string\">isActivated :</span> <span class=\"keyword\">boolean</span></div><div class=\"line\"><span class=\"string\">component :</span> Object</div><div class=\"line\"><span class=\"string\">activatedRoute :</span> ActivatedRoute</div><div class=\"line\">deactivate() : <span class=\"keyword\">void</span></div><div class=\"line\">activate(<span class=\"string\">activatedRoute:</span> ActivatedRoute, <span class=\"string\">providers:</span> ResolvedReflectiveProvider[], <span class=\"string\">outletMap:</span> RouterOutletMap) : <span class=\"keyword\">void</span></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-07-27T16:00:00.000Z","title":"ionic2环境搭建","_content":"angular2的开发，少了移动端一定是不完整的。ionic2,用angular2开发移动平台。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/ionic2.png)](https://github.com/syoubaku)\n\n### 一、 环境搭建\n#### 1. 全局安装ionic  \n`npm install -g ionic@beta`\n\n#### 2. 创建一个项目  \n`ionic start app --v2`\n\n#### 3. 输出环境\n`npm install -g cordova`\n\n#### 4. IOS构建\n`ionic platform add ios`\n`ionic emulate ios`\n\n#### 5. android构建\n接下来，你需要安装Android的SDK。而Android SDK允许您构建编译运行Android的目标设备。尽管Android SDK自带的模拟器，Genymotion建议，因为它的速度更快。一旦安装完毕，开始一个Android的形象和运行：\n`ionic platform add android`\n`ionic run android`\n\n#### 6. 本地调试\n`ionic serve`\n","source":"_posts/2016-07-29.ionic2环境搭建.md","raw":"---\nauthor: 小莫\ndate: 2016-07-28\ntitle: ionic2环境搭建\ntags:\n- ionic2\ncategory: ionic2\npermalink: Ionic2Environment\n---\nangular2的开发，少了移动端一定是不完整的。ionic2,用angular2开发移动平台。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/ionic2.png)](https://github.com/syoubaku)\n\n### 一、 环境搭建\n#### 1. 全局安装ionic  \n`npm install -g ionic@beta`\n\n#### 2. 创建一个项目  \n`ionic start app --v2`\n\n#### 3. 输出环境\n`npm install -g cordova`\n\n#### 4. IOS构建\n`ionic platform add ios`\n`ionic emulate ios`\n\n#### 5. android构建\n接下来，你需要安装Android的SDK。而Android SDK允许您构建编译运行Android的目标设备。尽管Android SDK自带的模拟器，Genymotion建议，因为它的速度更快。一旦安装完毕，开始一个Android的形象和运行：\n`ionic platform add android`\n`ionic run android`\n\n#### 6. 本地调试\n`ionic serve`\n","slug":"Ionic2Environment","published":1,"updated":"2016-12-01T06:50:29.604Z","_id":"civ0ggq9w004krwvnng5kl39q","comments":1,"layout":"post","photos":[],"link":"","content":"<p>angular2的开发，少了移动端一定是不完整的。ionic2,用angular2开发移动平台。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/ionic2.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-环境搭建\"><a href=\"#一、-环境搭建\" class=\"headerlink\" title=\"一、 环境搭建\"></a>一、 环境搭建</h3><h4 id=\"1-全局安装ionic\"><a href=\"#1-全局安装ionic\" class=\"headerlink\" title=\"1. 全局安装ionic\"></a>1. 全局安装ionic</h4><p><code>npm install -g ionic@beta</code></p>\n<h4 id=\"2-创建一个项目\"><a href=\"#2-创建一个项目\" class=\"headerlink\" title=\"2. 创建一个项目\"></a>2. 创建一个项目</h4><p><code>ionic start app --v2</code></p>\n<h4 id=\"3-输出环境\"><a href=\"#3-输出环境\" class=\"headerlink\" title=\"3. 输出环境\"></a>3. 输出环境</h4><p><code>npm install -g cordova</code></p>\n<h4 id=\"4-IOS构建\"><a href=\"#4-IOS构建\" class=\"headerlink\" title=\"4. IOS构建\"></a>4. IOS构建</h4><p><code>ionic platform add ios</code><br><code>ionic emulate ios</code></p>\n<h4 id=\"5-android构建\"><a href=\"#5-android构建\" class=\"headerlink\" title=\"5. android构建\"></a>5. android构建</h4><p>接下来，你需要安装Android的SDK。而Android SDK允许您构建编译运行Android的目标设备。尽管Android SDK自带的模拟器，Genymotion建议，因为它的速度更快。一旦安装完毕，开始一个Android的形象和运行：<br><code>ionic platform add android</code><br><code>ionic run android</code></p>\n<h4 id=\"6-本地调试\"><a href=\"#6-本地调试\" class=\"headerlink\" title=\"6. 本地调试\"></a>6. 本地调试</h4><p><code>ionic serve</code></p>\n","excerpt":"<p>angular2的开发，少了移动端一定是不完整的。ionic2,用angular2开发移动平台。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/ionic2.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、-环境搭建\"><a href=\"#一、-环境搭建\" class=\"headerlink\" title=\"一、 环境搭建\"></a>一、 环境搭建</h3><h4 id=\"1-全局安装ionic\"><a href=\"#1-全局安装ionic\" class=\"headerlink\" title=\"1. 全局安装ionic\"></a>1. 全局安装ionic</h4><p><code>npm install -g ionic@beta</code></p>\n<h4 id=\"2-创建一个项目\"><a href=\"#2-创建一个项目\" class=\"headerlink\" title=\"2. 创建一个项目\"></a>2. 创建一个项目</h4><p><code>ionic start app --v2</code></p>\n<h4 id=\"3-输出环境\"><a href=\"#3-输出环境\" class=\"headerlink\" title=\"3. 输出环境\"></a>3. 输出环境</h4><p><code>npm install -g cordova</code></p>\n<h4 id=\"4-IOS构建\"><a href=\"#4-IOS构建\" class=\"headerlink\" title=\"4. IOS构建\"></a>4. IOS构建</h4><p><code>ionic platform add ios</code><br><code>ionic emulate ios</code></p>\n<h4 id=\"5-android构建\"><a href=\"#5-android构建\" class=\"headerlink\" title=\"5. android构建\"></a>5. android构建</h4><p>接下来，你需要安装Android的SDK。而Android SDK允许您构建编译运行Android的目标设备。尽管Android SDK自带的模拟器，Genymotion建议，因为它的速度更快。一旦安装完毕，开始一个Android的形象和运行：<br><code>ionic platform add android</code><br><code>ionic run android</code></p>\n<h4 id=\"6-本地调试\"><a href=\"#6-本地调试\" class=\"headerlink\" title=\"6. 本地调试\"></a>6. 本地调试</h4><p><code>ionic serve</code></p>"},{"author":"小莫","date":"2016-08-21T16:00:00.000Z","title":"yargs插件的使用，node.js 命令行框架 yargs 和你的程序实现交互","_content":"如何让你的node.js 应用程序像shell 脚本一样和你交互?没错，就是yargs。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n\n### 一、使用场景\n大概有一种情况你需要让你的程序接收一个参数,通过这个参数我们做一系列的定制化功能.\n\n常见的做法是 把一些不同环境不同配置的变量写到 config 配置文件中.\n\n当你的环境变化的时候,你手动去修改你的config 中的变量来达到不同环境显示定制化的东西.\n更具象的一个例子:\n\nconfig文件中有一个配置项 langue\n\n当你发布国内站点的时候,你需要配置成 langue=\"zh-cn\"\n\n当你发布国外站点的时候,你需要配置成 langue=\"en\"\n\n\n\n现在, yargs 的功能就是帮你实现类似上面这种定制化的参数功能.\n\n从此一些简单定制参数可以彻底摆脱 config 配置了.\n\n\n\n比如:\n\n你的node.js 启动文件是 app.js\n\n当你部署中文环境站点的时候,就可以这样  node app.js --l zh-cn\n\n英文网站部署时  node app.js --l en\n\n\n\n当然上面输入给启动文件的 -l 参数,你是可以在 app.js 文件中获取,然后对应加载你需要定制化的东东即可.\n\n\n\n上面我们只是介绍它的作用,以及一个具体的例子让大家明白什么时候使用.下面开始介绍如何使用:\n\n\n### 二、使用\n\n#### 1.安装\n`npm install --save yargs`\n\n#### 2. 定义命令交互参数:\n\n```\nvar argv = require('yargs').argv;\nif (argv.l == 'zh-cn') {\n    console.log('Chinese site!');\n}else if(argv.l == 'en') {\n    console.log('English website!');\n}\n```\n\n#### 3. 使用\n\n```\n$ ./app.js --l=zh-cn\nChinese site!\n\n$ ./app.js --l=en\nEnglish website!\n```\n\n#### 4. 接收参数\n\n```\nvar argv = require('yargs').argv;\n\nif (argv.l=='zh-cn') {\n    //获取参数 l 的值\n    console.log('Chinese website!');\n    global.langue='zh-cn';\n}else if(argv.l=='en'){\n    console.log('English website!');\n    global.langue='en';\n}\n```\n\n上面我们通过 argv 获取 --l 参数来判断当前要运行哪个环境.\n\n然后使用全局变量 global.langue 来标识当前运行环境.\n\n在后面的所有个性化定制处我们都可以直接使用全局变量 global.langue 来做判断.\n","source":"_posts/2016-08-22.yargs插件的应用(native script增强).md","raw":"---\nauthor: 小莫\ndate: 2016-08-22\ntitle: yargs插件的使用，node.js 命令行框架 yargs 和你的程序实现交互\ntags:\n- npm\ncategory: npm\npermalink: NpmYargs\n---\n如何让你的node.js 应用程序像shell 脚本一样和你交互?没错，就是yargs。\n<!-- more -->\n[![点击访问小莫的github](https://image.xiaomo.info/banner/nodejs.png)](https://github.com/syoubaku)\n\n### 一、使用场景\n大概有一种情况你需要让你的程序接收一个参数,通过这个参数我们做一系列的定制化功能.\n\n常见的做法是 把一些不同环境不同配置的变量写到 config 配置文件中.\n\n当你的环境变化的时候,你手动去修改你的config 中的变量来达到不同环境显示定制化的东西.\n更具象的一个例子:\n\nconfig文件中有一个配置项 langue\n\n当你发布国内站点的时候,你需要配置成 langue=\"zh-cn\"\n\n当你发布国外站点的时候,你需要配置成 langue=\"en\"\n\n\n\n现在, yargs 的功能就是帮你实现类似上面这种定制化的参数功能.\n\n从此一些简单定制参数可以彻底摆脱 config 配置了.\n\n\n\n比如:\n\n你的node.js 启动文件是 app.js\n\n当你部署中文环境站点的时候,就可以这样  node app.js --l zh-cn\n\n英文网站部署时  node app.js --l en\n\n\n\n当然上面输入给启动文件的 -l 参数,你是可以在 app.js 文件中获取,然后对应加载你需要定制化的东东即可.\n\n\n\n上面我们只是介绍它的作用,以及一个具体的例子让大家明白什么时候使用.下面开始介绍如何使用:\n\n\n### 二、使用\n\n#### 1.安装\n`npm install --save yargs`\n\n#### 2. 定义命令交互参数:\n\n```\nvar argv = require('yargs').argv;\nif (argv.l == 'zh-cn') {\n    console.log('Chinese site!');\n}else if(argv.l == 'en') {\n    console.log('English website!');\n}\n```\n\n#### 3. 使用\n\n```\n$ ./app.js --l=zh-cn\nChinese site!\n\n$ ./app.js --l=en\nEnglish website!\n```\n\n#### 4. 接收参数\n\n```\nvar argv = require('yargs').argv;\n\nif (argv.l=='zh-cn') {\n    //获取参数 l 的值\n    console.log('Chinese website!');\n    global.langue='zh-cn';\n}else if(argv.l=='en'){\n    console.log('English website!');\n    global.langue='en';\n}\n```\n\n上面我们通过 argv 获取 --l 参数来判断当前要运行哪个环境.\n\n然后使用全局变量 global.langue 来标识当前运行环境.\n\n在后面的所有个性化定制处我们都可以直接使用全局变量 global.langue 来做判断.\n","slug":"NpmYargs","published":1,"updated":"2016-12-01T06:50:25.506Z","_id":"civ0ggqa2004orwvn9cg2cb6b","comments":1,"layout":"post","photos":[],"link":"","content":"<p>如何让你的node.js 应用程序像shell 脚本一样和你交互?没错，就是yargs。<br><a id=\"more\"></a><br><a href=\"https://github.com/syoubaku\" target=\"_blank\" rel=\"external\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、使用场景\"><a href=\"#一、使用场景\" class=\"headerlink\" title=\"一、使用场景\"></a>一、使用场景</h3><p>大概有一种情况你需要让你的程序接收一个参数,通过这个参数我们做一系列的定制化功能.</p>\n<p>常见的做法是 把一些不同环境不同配置的变量写到 config 配置文件中.</p>\n<p>当你的环境变化的时候,你手动去修改你的config 中的变量来达到不同环境显示定制化的东西.<br>更具象的一个例子:</p>\n<p>config文件中有一个配置项 langue</p>\n<p>当你发布国内站点的时候,你需要配置成 langue=”zh-cn”</p>\n<p>当你发布国外站点的时候,你需要配置成 langue=”en”</p>\n<p>现在, yargs 的功能就是帮你实现类似上面这种定制化的参数功能.</p>\n<p>从此一些简单定制参数可以彻底摆脱 config 配置了.</p>\n<p>比如:</p>\n<p>你的node.js 启动文件是 app.js</p>\n<p>当你部署中文环境站点的时候,就可以这样  node app.js –l zh-cn</p>\n<p>英文网站部署时  node app.js –l en</p>\n<p>当然上面输入给启动文件的 -l 参数,你是可以在 app.js 文件中获取,然后对应加载你需要定制化的东东即可.</p>\n<p>上面我们只是介绍它的作用,以及一个具体的例子让大家明白什么时候使用.下面开始介绍如何使用:</p>\n<h3 id=\"二、使用\"><a href=\"#二、使用\" class=\"headerlink\" title=\"二、使用\"></a>二、使用</h3><h4 id=\"1-安装\"><a href=\"#1-安装\" class=\"headerlink\" title=\"1.安装\"></a>1.安装</h4><p><code>npm install --save yargs</code></p>\n<h4 id=\"2-定义命令交互参数\"><a href=\"#2-定义命令交互参数\" class=\"headerlink\" title=\"2. 定义命令交互参数:\"></a>2. 定义命令交互参数:</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> argv = <span class=\"built_in\">require</span>(<span class=\"string\">'yargs'</span>).argv;</div><div class=\"line\"><span class=\"keyword\">if</span> (argv.l == <span class=\"string\">'zh-cn'</span>) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Chinese site!'</span>);</div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(argv.l == <span class=\"string\">'en'</span>) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'English website!'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-使用\"><a href=\"#3-使用\" class=\"headerlink\" title=\"3. 使用\"></a>3. 使用</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ ./app<span class=\"selector-class\">.js</span> --l=zh-cn</div><div class=\"line\">Chinese site!</div><div class=\"line\"></div><div class=\"line\">$ ./app<span class=\"selector-class\">.js</span> --l=en</div><div class=\"line\">English website!</div></pre></td></tr></table></figure>\n<h4 id=\"4-接收参数\"><a href=\"#4-接收参数\" class=\"headerlink\" title=\"4. 接收参数\"></a>4. 接收参数</h4><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> argv = <span class=\"keyword\">require</span>(<span class=\"string\">'yargs'</span>).argv;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> (argv.l==<span class=\"string\">'zh-cn'</span>) &#123;</div><div class=\"line\">    <span class=\"comment\">//获取参数 l 的值</span></div><div class=\"line\">    console.<span class=\"keyword\">log</span>(<span class=\"string\">'Chinese website!'</span>);</div><div class=\"line\">    <span class=\"built_in\">global</span>.langue=<span class=\"string\">'zh-cn'</span>;</div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(argv.l==<span class=\"string\">'en'</span>)&#123;</div><div class=\"line\">    console.<span class=\"keyword\">log</span>(<span class=\"string\">'English website!'</span>);</div><div class=\"line\">    <span class=\"built_in\">global</span>.langue=<span class=\"string\">'en'</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>上面我们通过 argv 获取 –l 参数来判断当前要运行哪个环境.</p>\n<p>然后使用全局变量 global.langue 来标识当前运行环境.</p>\n<p>在后面的所有个性化定制处我们都可以直接使用全局变量 global.langue 来做判断.</p>\n","excerpt":"<p>如何让你的node.js 应用程序像shell 脚本一样和你交互?没错，就是yargs。<br>","more":"<br><a href=\"https://github.com/syoubaku\"><img src=\"https://image.xiaomo.info/banner/nodejs.png\" alt=\"点击访问小莫的github\"></a></p>\n<h3 id=\"一、使用场景\"><a href=\"#一、使用场景\" class=\"headerlink\" title=\"一、使用场景\"></a>一、使用场景</h3><p>大概有一种情况你需要让你的程序接收一个参数,通过这个参数我们做一系列的定制化功能.</p>\n<p>常见的做法是 把一些不同环境不同配置的变量写到 config 配置文件中.</p>\n<p>当你的环境变化的时候,你手动去修改你的config 中的变量来达到不同环境显示定制化的东西.<br>更具象的一个例子:</p>\n<p>config文件中有一个配置项 langue</p>\n<p>当你发布国内站点的时候,你需要配置成 langue=”zh-cn”</p>\n<p>当你发布国外站点的时候,你需要配置成 langue=”en”</p>\n<p>现在, yargs 的功能就是帮你实现类似上面这种定制化的参数功能.</p>\n<p>从此一些简单定制参数可以彻底摆脱 config 配置了.</p>\n<p>比如:</p>\n<p>你的node.js 启动文件是 app.js</p>\n<p>当你部署中文环境站点的时候,就可以这样  node app.js –l zh-cn</p>\n<p>英文网站部署时  node app.js –l en</p>\n<p>当然上面输入给启动文件的 -l 参数,你是可以在 app.js 文件中获取,然后对应加载你需要定制化的东东即可.</p>\n<p>上面我们只是介绍它的作用,以及一个具体的例子让大家明白什么时候使用.下面开始介绍如何使用:</p>\n<h3 id=\"二、使用\"><a href=\"#二、使用\" class=\"headerlink\" title=\"二、使用\"></a>二、使用</h3><h4 id=\"1-安装\"><a href=\"#1-安装\" class=\"headerlink\" title=\"1.安装\"></a>1.安装</h4><p><code>npm install --save yargs</code></p>\n<h4 id=\"2-定义命令交互参数\"><a href=\"#2-定义命令交互参数\" class=\"headerlink\" title=\"2. 定义命令交互参数:\"></a>2. 定义命令交互参数:</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> argv = <span class=\"built_in\">require</span>(<span class=\"string\">'yargs'</span>).argv;</div><div class=\"line\"><span class=\"keyword\">if</span> (argv.l == <span class=\"string\">'zh-cn'</span>) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'Chinese site!'</span>);</div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(argv.l == <span class=\"string\">'en'</span>) &#123;</div><div class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">'English website!'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"3-使用\"><a href=\"#3-使用\" class=\"headerlink\" title=\"3. 使用\"></a>3. 使用</h4><figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ ./app<span class=\"selector-class\">.js</span> --l=zh-cn</div><div class=\"line\">Chinese site!</div><div class=\"line\"></div><div class=\"line\">$ ./app<span class=\"selector-class\">.js</span> --l=en</div><div class=\"line\">English website!</div></pre></td></tr></table></figure>\n<h4 id=\"4-接收参数\"><a href=\"#4-接收参数\" class=\"headerlink\" title=\"4. 接收参数\"></a>4. 接收参数</h4><figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">var</span> argv = <span class=\"keyword\">require</span>(<span class=\"string\">'yargs'</span>).argv;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">if</span> (argv.l==<span class=\"string\">'zh-cn'</span>) &#123;</div><div class=\"line\">    <span class=\"comment\">//获取参数 l 的值</span></div><div class=\"line\">    console.<span class=\"keyword\">log</span>(<span class=\"string\">'Chinese website!'</span>);</div><div class=\"line\">    <span class=\"built_in\">global</span>.langue=<span class=\"string\">'zh-cn'</span>;</div><div class=\"line\">&#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(argv.l==<span class=\"string\">'en'</span>)&#123;</div><div class=\"line\">    console.<span class=\"keyword\">log</span>(<span class=\"string\">'English website!'</span>);</div><div class=\"line\">    <span class=\"built_in\">global</span>.langue=<span class=\"string\">'en'</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>上面我们通过 argv 获取 –l 参数来判断当前要运行哪个环境.</p>\n<p>然后使用全局变量 global.langue 来标识当前运行环境.</p>\n<p>在后面的所有个性化定制处我们都可以直接使用全局变量 global.langue 来做判断.</p>"},{"author":"小莫","date":"2016-08-23T16:00:00.000Z","title":"《东离剑游记》","_content":"这两天看了一部神奇的动漫，具有强烈的武侠风。现在循环听练听力。然而你一定想不到这部动漫是多么的让人惊喜。\n<!-- more -->\n\n### 一、简介\n这是一次打破当前布袋戏模式的局限的冒险和挑战。关键的变化主要在三点：\n#### 第一\n剧本作者由日本的虚渊玄担任，虚的创作水平有目共睹，保守的说，当不在目前布袋戏圈内最出色的编剧三弦之下，甚至只会更高，这实际上有效的补完了霹雳近年来剧本疲弱的短板，把最弱点变成了最强点。\n但水平是一方面，文化属性则是另一方面，从东离的第一集看，比如一些人物特质，就明显少了几分霹雳和金光的中国侠客味道，而多了几分日本武士的感觉，这种改变实际上让东离剑在文化意识领域有些脱离了承载着传统文化的布袋戏，而接近了日本动画的范畴。\n#### 第二\n是配音从单人中文口白变成了日语声优配音，但霹雳似乎也同时提供了台语配音版？这就如同当年的可口可乐的营销手法一样，新老同出，这在创新的同时很大程度上减少了风险，应是一个很明智的选择。\n#### 第三\n是东离的单集时长从过往的六十分钟以上变成了日本动画的二十三分钟，它在能让编剧和制作人员更有效的凝练和提升质量的同时，却也可能带来一些节奏的变化，让旧观众产生一定的不适应感，比如我至今仍对东离的木偶与台词的配合，木偶动作和战斗画面的结合有点不适。\n总而言之，东离比较像一个嫁接品，有点像是在布袋戏的树干里插入了一个日本动画的灵魂，同时在枝叶上嫁接了日本动画的设计和手法，所以霹雳的“偶动漫”这个说法，正如苹果梨一样，我以为是很贴切的，其味道好不好吃，是不是能在保留苹果的精髓的同时加入梨子的优点，是不是能在让吃苹果的人满意的同时吸引一群喜欢吃梨子的人，还是搞砸了，弄得似是而非，两头都不满意，这个目前下结论为时尚早，但无论如何，仅凭这个剧作本身，它已毫无疑问是布袋戏圈的一大突破性创举，对于勇于探索向前的人和行为，无论其最终成败如何，我以为作为观众，我们都是该有一种开阔的心态，而抱持一份最起码的支持和敬意的。\n\n### 二、 插画\n\n![1](https://image.xiaomo.info/dongman/dongli1.jpg)\n![1](https://image.xiaomo.info/dongman/dongli2.jpg)\n![1](https://image.xiaomo.info/dongman/dongli3.jpg)\n","source":"_posts/2016-08-24.一部神奇的动漫.md","raw":"---\nauthor: 小莫\ndate: 2016-08-24\ntitle: 《东离剑游记》\ntags:\n- 动漫\ncategory: 生活\npermalink: BangumiDongli\n---\n这两天看了一部神奇的动漫，具有强烈的武侠风。现在循环听练听力。然而你一定想不到这部动漫是多么的让人惊喜。\n<!-- more -->\n\n### 一、简介\n这是一次打破当前布袋戏模式的局限的冒险和挑战。关键的变化主要在三点：\n#### 第一\n剧本作者由日本的虚渊玄担任，虚的创作水平有目共睹，保守的说，当不在目前布袋戏圈内最出色的编剧三弦之下，甚至只会更高，这实际上有效的补完了霹雳近年来剧本疲弱的短板，把最弱点变成了最强点。\n但水平是一方面，文化属性则是另一方面，从东离的第一集看，比如一些人物特质，就明显少了几分霹雳和金光的中国侠客味道，而多了几分日本武士的感觉，这种改变实际上让东离剑在文化意识领域有些脱离了承载着传统文化的布袋戏，而接近了日本动画的范畴。\n#### 第二\n是配音从单人中文口白变成了日语声优配音，但霹雳似乎也同时提供了台语配音版？这就如同当年的可口可乐的营销手法一样，新老同出，这在创新的同时很大程度上减少了风险，应是一个很明智的选择。\n#### 第三\n是东离的单集时长从过往的六十分钟以上变成了日本动画的二十三分钟，它在能让编剧和制作人员更有效的凝练和提升质量的同时，却也可能带来一些节奏的变化，让旧观众产生一定的不适应感，比如我至今仍对东离的木偶与台词的配合，木偶动作和战斗画面的结合有点不适。\n总而言之，东离比较像一个嫁接品，有点像是在布袋戏的树干里插入了一个日本动画的灵魂，同时在枝叶上嫁接了日本动画的设计和手法，所以霹雳的“偶动漫”这个说法，正如苹果梨一样，我以为是很贴切的，其味道好不好吃，是不是能在保留苹果的精髓的同时加入梨子的优点，是不是能在让吃苹果的人满意的同时吸引一群喜欢吃梨子的人，还是搞砸了，弄得似是而非，两头都不满意，这个目前下结论为时尚早，但无论如何，仅凭这个剧作本身，它已毫无疑问是布袋戏圈的一大突破性创举，对于勇于探索向前的人和行为，无论其最终成败如何，我以为作为观众，我们都是该有一种开阔的心态，而抱持一份最起码的支持和敬意的。\n\n### 二、 插画\n\n![1](https://image.xiaomo.info/dongman/dongli1.jpg)\n![1](https://image.xiaomo.info/dongman/dongli2.jpg)\n![1](https://image.xiaomo.info/dongman/dongli3.jpg)\n","slug":"BangumiDongli","published":1,"updated":"2016-12-01T07:56:55.856Z","_id":"civ0ggqa4004rrwvn4l20ibbp","comments":1,"layout":"post","photos":[],"link":"","content":"<p>这两天看了一部神奇的动漫，具有强烈的武侠风。现在循环听练听力。然而你一定想不到这部动漫是多么的让人惊喜。<br><a id=\"more\"></a></p>\n<h3 id=\"一、简介\"><a href=\"#一、简介\" class=\"headerlink\" title=\"一、简介\"></a>一、简介</h3><p>这是一次打破当前布袋戏模式的局限的冒险和挑战。关键的变化主要在三点：</p>\n<h4 id=\"第一\"><a href=\"#第一\" class=\"headerlink\" title=\"第一\"></a>第一</h4><p>剧本作者由日本的虚渊玄担任，虚的创作水平有目共睹，保守的说，当不在目前布袋戏圈内最出色的编剧三弦之下，甚至只会更高，这实际上有效的补完了霹雳近年来剧本疲弱的短板，把最弱点变成了最强点。<br>但水平是一方面，文化属性则是另一方面，从东离的第一集看，比如一些人物特质，就明显少了几分霹雳和金光的中国侠客味道，而多了几分日本武士的感觉，这种改变实际上让东离剑在文化意识领域有些脱离了承载着传统文化的布袋戏，而接近了日本动画的范畴。</p>\n<h4 id=\"第二\"><a href=\"#第二\" class=\"headerlink\" title=\"第二\"></a>第二</h4><p>是配音从单人中文口白变成了日语声优配音，但霹雳似乎也同时提供了台语配音版？这就如同当年的可口可乐的营销手法一样，新老同出，这在创新的同时很大程度上减少了风险，应是一个很明智的选择。</p>\n<h4 id=\"第三\"><a href=\"#第三\" class=\"headerlink\" title=\"第三\"></a>第三</h4><p>是东离的单集时长从过往的六十分钟以上变成了日本动画的二十三分钟，它在能让编剧和制作人员更有效的凝练和提升质量的同时，却也可能带来一些节奏的变化，让旧观众产生一定的不适应感，比如我至今仍对东离的木偶与台词的配合，木偶动作和战斗画面的结合有点不适。<br>总而言之，东离比较像一个嫁接品，有点像是在布袋戏的树干里插入了一个日本动画的灵魂，同时在枝叶上嫁接了日本动画的设计和手法，所以霹雳的“偶动漫”这个说法，正如苹果梨一样，我以为是很贴切的，其味道好不好吃，是不是能在保留苹果的精髓的同时加入梨子的优点，是不是能在让吃苹果的人满意的同时吸引一群喜欢吃梨子的人，还是搞砸了，弄得似是而非，两头都不满意，这个目前下结论为时尚早，但无论如何，仅凭这个剧作本身，它已毫无疑问是布袋戏圈的一大突破性创举，对于勇于探索向前的人和行为，无论其最终成败如何，我以为作为观众，我们都是该有一种开阔的心态，而抱持一份最起码的支持和敬意的。</p>\n<h3 id=\"二、-插画\"><a href=\"#二、-插画\" class=\"headerlink\" title=\"二、 插画\"></a>二、 插画</h3><p><img src=\"https://image.xiaomo.info/dongman/dongli1.jpg\" alt=\"1\"><br><img src=\"https://image.xiaomo.info/dongman/dongli2.jpg\" alt=\"1\"><br><img src=\"https://image.xiaomo.info/dongman/dongli3.jpg\" alt=\"1\"></p>\n","excerpt":"<p>这两天看了一部神奇的动漫，具有强烈的武侠风。现在循环听练听力。然而你一定想不到这部动漫是多么的让人惊喜。<br>","more":"</p>\n<h3 id=\"一、简介\"><a href=\"#一、简介\" class=\"headerlink\" title=\"一、简介\"></a>一、简介</h3><p>这是一次打破当前布袋戏模式的局限的冒险和挑战。关键的变化主要在三点：</p>\n<h4 id=\"第一\"><a href=\"#第一\" class=\"headerlink\" title=\"第一\"></a>第一</h4><p>剧本作者由日本的虚渊玄担任，虚的创作水平有目共睹，保守的说，当不在目前布袋戏圈内最出色的编剧三弦之下，甚至只会更高，这实际上有效的补完了霹雳近年来剧本疲弱的短板，把最弱点变成了最强点。<br>但水平是一方面，文化属性则是另一方面，从东离的第一集看，比如一些人物特质，就明显少了几分霹雳和金光的中国侠客味道，而多了几分日本武士的感觉，这种改变实际上让东离剑在文化意识领域有些脱离了承载着传统文化的布袋戏，而接近了日本动画的范畴。</p>\n<h4 id=\"第二\"><a href=\"#第二\" class=\"headerlink\" title=\"第二\"></a>第二</h4><p>是配音从单人中文口白变成了日语声优配音，但霹雳似乎也同时提供了台语配音版？这就如同当年的可口可乐的营销手法一样，新老同出，这在创新的同时很大程度上减少了风险，应是一个很明智的选择。</p>\n<h4 id=\"第三\"><a href=\"#第三\" class=\"headerlink\" title=\"第三\"></a>第三</h4><p>是东离的单集时长从过往的六十分钟以上变成了日本动画的二十三分钟，它在能让编剧和制作人员更有效的凝练和提升质量的同时，却也可能带来一些节奏的变化，让旧观众产生一定的不适应感，比如我至今仍对东离的木偶与台词的配合，木偶动作和战斗画面的结合有点不适。<br>总而言之，东离比较像一个嫁接品，有点像是在布袋戏的树干里插入了一个日本动画的灵魂，同时在枝叶上嫁接了日本动画的设计和手法，所以霹雳的“偶动漫”这个说法，正如苹果梨一样，我以为是很贴切的，其味道好不好吃，是不是能在保留苹果的精髓的同时加入梨子的优点，是不是能在让吃苹果的人满意的同时吸引一群喜欢吃梨子的人，还是搞砸了，弄得似是而非，两头都不满意，这个目前下结论为时尚早，但无论如何，仅凭这个剧作本身，它已毫无疑问是布袋戏圈的一大突破性创举，对于勇于探索向前的人和行为，无论其最终成败如何，我以为作为观众，我们都是该有一种开阔的心态，而抱持一份最起码的支持和敬意的。</p>\n<h3 id=\"二、-插画\"><a href=\"#二、-插画\" class=\"headerlink\" title=\"二、 插画\"></a>二、 插画</h3><p><img src=\"https://image.xiaomo.info/dongman/dongli1.jpg\" alt=\"1\"><br><img src=\"https://image.xiaomo.info/dongman/dongli2.jpg\" alt=\"1\"><br><img src=\"https://image.xiaomo.info/dongman/dongli3.jpg\" alt=\"1\"></p>"},{"author":"小莫","date":"2016-08-27T16:00:00.000Z","title":"生活习惯的不同，造就了丰富多彩的世界","_content":"にほんのライフスタイルに\n<!-- more -->\n![1](https://image.xiaomo.info/banner/fujisann.png)\n* 不喜欢用蓝色圆珠笔。蓝色圆珠笔只在作标记的场合使用。\n* 香烟吸一半就扔掉。有的人烟瘾大，吸两个半支烟，而不是吸一个整支。\n* 日本人不太在意姓的意思。在中国人看来日本人的姓稀奇古怪。一次我去开会签到，抬头一看接待小姐的姓是“我孙子”。还有人姓厕所（御手洗）。很多姓是地名，“大阪”“名古屋”“涩谷”都见过。还有四个字的姓，如最近的丑闻作曲家姓“佐村河内”。\n* 日本人不忌讳鬼、地狱、幽灵。含“鬼”字的地名有很多，叫“地狱”的拉面店也见到过。\n* 不把跪着视为低人一等。因为跪着比蹲着省力，经常看到日本人跪着工作。例如，在没有椅子的时候，跪着操作电脑，高度正好。\n* 如果第二天下午开会，日本人前一天晚上就不吃韭菜了。\n* 如果感冒了，一定带口罩，即使不是流行性感冒也怕别人忌讳。\n* 不使用非常浓的香水。无香料的化妆品很受欢迎。\n* 不会打听别人的衣服、物品多少钱买的。\n* 不会和别人勾肩搭背，即使是好朋友。\n* 女士吃面包点心时，用手掰下一块放到嘴里，不会直接咬。（可能认为这样吃比较体面。）\n* 吸烟时不劝烟，聚餐时不劝酒，更不会把人灌醉。\n* 不轻易把谁称为自己的朋友，交往了几十年还把对方称为“知人”。对自来熟，刚见面就称朋友的人不喜欢。\n* 不会轻易触摸别人的肌肤，即使是同性。对拉拉手的亲热和拍拍肩的关心不接受。\n* 不打听别人的家事，更不要说隐私。在一起工作十几年，不知道对方有几个兄弟姐妹。福原爱在接受日本媒体的采访时说，中国记者什么都问，问得直想哭。\n* 不轻易交换电话号码。我们公司的部长课长之间，甚至也有不知道对方电话号码的人。\n* 日本人的胃口很小，初到日本的中国留学生（男生）在学校食堂一份定食大部分吃不饱。\n* 在工作场合绝不穿张扬的服装。一般60岁以上的人开始穿红色的花的衣服。\n* 工作场合不可吃东西，但可以吃水果糖。\n* 工作时间不可接私人电话。个人不能使用公家电话打出去，也不能打进来。\n* 私人的信件和物品不能寄到公司。\n* 在家里高声说话，邻居会到家中提出警告。\n* 泡温泉以前要先洗净身子。\n* 如果你送给日本人点心，对方说真好吃。千万不要信以为真。是真是假得在其他的场合验证。\n* 日本的绿茶泡一分钟就可以喝。\n* 把手插到衣服裤子口袋里，被认为是对对方不尊敬。张艺谋拍的《千里走单骑》电影里的女日语翻译，很多场面把手放在口袋里，感觉不舒服。\n* 日本人没有抱肘的习惯，认为这个姿势显示傲慢。\n* 行人过马路遇到红灯必停，即使绿灯侧没有车。本人这种情况走过，被旁边的车“嘀”过。日本人说，这样做的目的是，告诉孩子，有法必依。\n* 开车时，后灯双闪，是表示对后车的感谢。常在别人给让路后使用。\n* 对面的车前灯瞬闪，表示给你让路。\n* 公司业务关系新年拜年，带的礼品基本就是两条毛巾。\n* 公司来两伙客人，一方是得到工作的上家，一方是外协的下家，在一个接待室谈话。只给上家上茶，下家没有。\n* 公司来客，不管是什么工作关系，到吃饭时间基本都不提供午饭。\n* 工作中出现差错，再好的朋友都不会说一句同情的话。有再多的客观原因也没人体谅。如果争辩解释，被认为错上加错。\n* 企业一般都有自己的日历，根据客户的日历制定，国家法定假日常常有不休息的时候。\n* 企业的年假，日本人一般不休，很少利用年假去旅游。\n* 日本人工作比较配合，部门之间扯皮的事很少。\n* 日本人的习惯是报忧不报喜，看电视听领导讲话，没有大好形势。\n* 日本的电视广告很好看，没有太长时间的广告，幽默让人不厌倦。例，一个美女到动物店说想买一条狗，两只老虎，三头狮子。旁边的顾客惊得把手包都掉到了地上。店主问为什么，她说，单身女子在家害怕，每个房间都要有猛兽守卫。这时画外音，有比这还安全的，“家用电子警备系统”。\n* 日本不光小孩看漫画，动画片，大人也很爱看。\n* 店铺开业，门前摆放的祝贺物品，简直就可以说是中国追悼会上的花圈。\n* 传统文化节，很多人穿的衣服上印着“祭”字。在日本，“祭”字的意思是文化节。\n* 日本的医院对消炎药的使用严格控制，但相对而言，对激素的使用比较放松。\n","source":"_posts/2016-08-28.日本的生活习惯.md","raw":"---\nauthor: 小莫\ndate: 2016-08-28\ntitle: 生活习惯的不同，造就了丰富多彩的世界\ntags:\n- 生活\ncategory: 生活\npermalink: NihonSekaku\n---\nにほんのライフスタイルに\n<!-- more -->\n![1](https://image.xiaomo.info/banner/fujisann.png)\n* 不喜欢用蓝色圆珠笔。蓝色圆珠笔只在作标记的场合使用。\n* 香烟吸一半就扔掉。有的人烟瘾大，吸两个半支烟，而不是吸一个整支。\n* 日本人不太在意姓的意思。在中国人看来日本人的姓稀奇古怪。一次我去开会签到，抬头一看接待小姐的姓是“我孙子”。还有人姓厕所（御手洗）。很多姓是地名，“大阪”“名古屋”“涩谷”都见过。还有四个字的姓，如最近的丑闻作曲家姓“佐村河内”。\n* 日本人不忌讳鬼、地狱、幽灵。含“鬼”字的地名有很多，叫“地狱”的拉面店也见到过。\n* 不把跪着视为低人一等。因为跪着比蹲着省力，经常看到日本人跪着工作。例如，在没有椅子的时候，跪着操作电脑，高度正好。\n* 如果第二天下午开会，日本人前一天晚上就不吃韭菜了。\n* 如果感冒了，一定带口罩，即使不是流行性感冒也怕别人忌讳。\n* 不使用非常浓的香水。无香料的化妆品很受欢迎。\n* 不会打听别人的衣服、物品多少钱买的。\n* 不会和别人勾肩搭背，即使是好朋友。\n* 女士吃面包点心时，用手掰下一块放到嘴里，不会直接咬。（可能认为这样吃比较体面。）\n* 吸烟时不劝烟，聚餐时不劝酒，更不会把人灌醉。\n* 不轻易把谁称为自己的朋友，交往了几十年还把对方称为“知人”。对自来熟，刚见面就称朋友的人不喜欢。\n* 不会轻易触摸别人的肌肤，即使是同性。对拉拉手的亲热和拍拍肩的关心不接受。\n* 不打听别人的家事，更不要说隐私。在一起工作十几年，不知道对方有几个兄弟姐妹。福原爱在接受日本媒体的采访时说，中国记者什么都问，问得直想哭。\n* 不轻易交换电话号码。我们公司的部长课长之间，甚至也有不知道对方电话号码的人。\n* 日本人的胃口很小，初到日本的中国留学生（男生）在学校食堂一份定食大部分吃不饱。\n* 在工作场合绝不穿张扬的服装。一般60岁以上的人开始穿红色的花的衣服。\n* 工作场合不可吃东西，但可以吃水果糖。\n* 工作时间不可接私人电话。个人不能使用公家电话打出去，也不能打进来。\n* 私人的信件和物品不能寄到公司。\n* 在家里高声说话，邻居会到家中提出警告。\n* 泡温泉以前要先洗净身子。\n* 如果你送给日本人点心，对方说真好吃。千万不要信以为真。是真是假得在其他的场合验证。\n* 日本的绿茶泡一分钟就可以喝。\n* 把手插到衣服裤子口袋里，被认为是对对方不尊敬。张艺谋拍的《千里走单骑》电影里的女日语翻译，很多场面把手放在口袋里，感觉不舒服。\n* 日本人没有抱肘的习惯，认为这个姿势显示傲慢。\n* 行人过马路遇到红灯必停，即使绿灯侧没有车。本人这种情况走过，被旁边的车“嘀”过。日本人说，这样做的目的是，告诉孩子，有法必依。\n* 开车时，后灯双闪，是表示对后车的感谢。常在别人给让路后使用。\n* 对面的车前灯瞬闪，表示给你让路。\n* 公司业务关系新年拜年，带的礼品基本就是两条毛巾。\n* 公司来两伙客人，一方是得到工作的上家，一方是外协的下家，在一个接待室谈话。只给上家上茶，下家没有。\n* 公司来客，不管是什么工作关系，到吃饭时间基本都不提供午饭。\n* 工作中出现差错，再好的朋友都不会说一句同情的话。有再多的客观原因也没人体谅。如果争辩解释，被认为错上加错。\n* 企业一般都有自己的日历，根据客户的日历制定，国家法定假日常常有不休息的时候。\n* 企业的年假，日本人一般不休，很少利用年假去旅游。\n* 日本人工作比较配合，部门之间扯皮的事很少。\n* 日本人的习惯是报忧不报喜，看电视听领导讲话，没有大好形势。\n* 日本的电视广告很好看，没有太长时间的广告，幽默让人不厌倦。例，一个美女到动物店说想买一条狗，两只老虎，三头狮子。旁边的顾客惊得把手包都掉到了地上。店主问为什么，她说，单身女子在家害怕，每个房间都要有猛兽守卫。这时画外音，有比这还安全的，“家用电子警备系统”。\n* 日本不光小孩看漫画，动画片，大人也很爱看。\n* 店铺开业，门前摆放的祝贺物品，简直就可以说是中国追悼会上的花圈。\n* 传统文化节，很多人穿的衣服上印着“祭”字。在日本，“祭”字的意思是文化节。\n* 日本的医院对消炎药的使用严格控制，但相对而言，对激素的使用比较放松。\n","slug":"NihonSekaku","published":1,"updated":"2016-12-01T06:50:27.051Z","_id":"civ0ggqa6004vrwvnctadjto4","comments":1,"layout":"post","photos":[],"link":"","content":"<p>にほんのライフスタイルに<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/fujisann.png\" alt=\"1\"></p>\n<ul>\n<li>不喜欢用蓝色圆珠笔。蓝色圆珠笔只在作标记的场合使用。</li>\n<li>香烟吸一半就扔掉。有的人烟瘾大，吸两个半支烟，而不是吸一个整支。</li>\n<li>日本人不太在意姓的意思。在中国人看来日本人的姓稀奇古怪。一次我去开会签到，抬头一看接待小姐的姓是“我孙子”。还有人姓厕所（御手洗）。很多姓是地名，“大阪”“名古屋”“涩谷”都见过。还有四个字的姓，如最近的丑闻作曲家姓“佐村河内”。</li>\n<li>日本人不忌讳鬼、地狱、幽灵。含“鬼”字的地名有很多，叫“地狱”的拉面店也见到过。</li>\n<li>不把跪着视为低人一等。因为跪着比蹲着省力，经常看到日本人跪着工作。例如，在没有椅子的时候，跪着操作电脑，高度正好。</li>\n<li>如果第二天下午开会，日本人前一天晚上就不吃韭菜了。</li>\n<li>如果感冒了，一定带口罩，即使不是流行性感冒也怕别人忌讳。</li>\n<li>不使用非常浓的香水。无香料的化妆品很受欢迎。</li>\n<li>不会打听别人的衣服、物品多少钱买的。</li>\n<li>不会和别人勾肩搭背，即使是好朋友。</li>\n<li>女士吃面包点心时，用手掰下一块放到嘴里，不会直接咬。（可能认为这样吃比较体面。）</li>\n<li>吸烟时不劝烟，聚餐时不劝酒，更不会把人灌醉。</li>\n<li>不轻易把谁称为自己的朋友，交往了几十年还把对方称为“知人”。对自来熟，刚见面就称朋友的人不喜欢。</li>\n<li>不会轻易触摸别人的肌肤，即使是同性。对拉拉手的亲热和拍拍肩的关心不接受。</li>\n<li>不打听别人的家事，更不要说隐私。在一起工作十几年，不知道对方有几个兄弟姐妹。福原爱在接受日本媒体的采访时说，中国记者什么都问，问得直想哭。</li>\n<li>不轻易交换电话号码。我们公司的部长课长之间，甚至也有不知道对方电话号码的人。</li>\n<li>日本人的胃口很小，初到日本的中国留学生（男生）在学校食堂一份定食大部分吃不饱。</li>\n<li>在工作场合绝不穿张扬的服装。一般60岁以上的人开始穿红色的花的衣服。</li>\n<li>工作场合不可吃东西，但可以吃水果糖。</li>\n<li>工作时间不可接私人电话。个人不能使用公家电话打出去，也不能打进来。</li>\n<li>私人的信件和物品不能寄到公司。</li>\n<li>在家里高声说话，邻居会到家中提出警告。</li>\n<li>泡温泉以前要先洗净身子。</li>\n<li>如果你送给日本人点心，对方说真好吃。千万不要信以为真。是真是假得在其他的场合验证。</li>\n<li>日本的绿茶泡一分钟就可以喝。</li>\n<li>把手插到衣服裤子口袋里，被认为是对对方不尊敬。张艺谋拍的《千里走单骑》电影里的女日语翻译，很多场面把手放在口袋里，感觉不舒服。</li>\n<li>日本人没有抱肘的习惯，认为这个姿势显示傲慢。</li>\n<li>行人过马路遇到红灯必停，即使绿灯侧没有车。本人这种情况走过，被旁边的车“嘀”过。日本人说，这样做的目的是，告诉孩子，有法必依。</li>\n<li>开车时，后灯双闪，是表示对后车的感谢。常在别人给让路后使用。</li>\n<li>对面的车前灯瞬闪，表示给你让路。</li>\n<li>公司业务关系新年拜年，带的礼品基本就是两条毛巾。</li>\n<li>公司来两伙客人，一方是得到工作的上家，一方是外协的下家，在一个接待室谈话。只给上家上茶，下家没有。</li>\n<li>公司来客，不管是什么工作关系，到吃饭时间基本都不提供午饭。</li>\n<li>工作中出现差错，再好的朋友都不会说一句同情的话。有再多的客观原因也没人体谅。如果争辩解释，被认为错上加错。</li>\n<li>企业一般都有自己的日历，根据客户的日历制定，国家法定假日常常有不休息的时候。</li>\n<li>企业的年假，日本人一般不休，很少利用年假去旅游。</li>\n<li>日本人工作比较配合，部门之间扯皮的事很少。</li>\n<li>日本人的习惯是报忧不报喜，看电视听领导讲话，没有大好形势。</li>\n<li>日本的电视广告很好看，没有太长时间的广告，幽默让人不厌倦。例，一个美女到动物店说想买一条狗，两只老虎，三头狮子。旁边的顾客惊得把手包都掉到了地上。店主问为什么，她说，单身女子在家害怕，每个房间都要有猛兽守卫。这时画外音，有比这还安全的，“家用电子警备系统”。</li>\n<li>日本不光小孩看漫画，动画片，大人也很爱看。</li>\n<li>店铺开业，门前摆放的祝贺物品，简直就可以说是中国追悼会上的花圈。</li>\n<li>传统文化节，很多人穿的衣服上印着“祭”字。在日本，“祭”字的意思是文化节。</li>\n<li>日本的医院对消炎药的使用严格控制，但相对而言，对激素的使用比较放松。</li>\n</ul>\n","excerpt":"<p>にほんのライフスタイルに<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/fujisann.png\" alt=\"1\"></p>\n<ul>\n<li>不喜欢用蓝色圆珠笔。蓝色圆珠笔只在作标记的场合使用。</li>\n<li>香烟吸一半就扔掉。有的人烟瘾大，吸两个半支烟，而不是吸一个整支。</li>\n<li>日本人不太在意姓的意思。在中国人看来日本人的姓稀奇古怪。一次我去开会签到，抬头一看接待小姐的姓是“我孙子”。还有人姓厕所（御手洗）。很多姓是地名，“大阪”“名古屋”“涩谷”都见过。还有四个字的姓，如最近的丑闻作曲家姓“佐村河内”。</li>\n<li>日本人不忌讳鬼、地狱、幽灵。含“鬼”字的地名有很多，叫“地狱”的拉面店也见到过。</li>\n<li>不把跪着视为低人一等。因为跪着比蹲着省力，经常看到日本人跪着工作。例如，在没有椅子的时候，跪着操作电脑，高度正好。</li>\n<li>如果第二天下午开会，日本人前一天晚上就不吃韭菜了。</li>\n<li>如果感冒了，一定带口罩，即使不是流行性感冒也怕别人忌讳。</li>\n<li>不使用非常浓的香水。无香料的化妆品很受欢迎。</li>\n<li>不会打听别人的衣服、物品多少钱买的。</li>\n<li>不会和别人勾肩搭背，即使是好朋友。</li>\n<li>女士吃面包点心时，用手掰下一块放到嘴里，不会直接咬。（可能认为这样吃比较体面。）</li>\n<li>吸烟时不劝烟，聚餐时不劝酒，更不会把人灌醉。</li>\n<li>不轻易把谁称为自己的朋友，交往了几十年还把对方称为“知人”。对自来熟，刚见面就称朋友的人不喜欢。</li>\n<li>不会轻易触摸别人的肌肤，即使是同性。对拉拉手的亲热和拍拍肩的关心不接受。</li>\n<li>不打听别人的家事，更不要说隐私。在一起工作十几年，不知道对方有几个兄弟姐妹。福原爱在接受日本媒体的采访时说，中国记者什么都问，问得直想哭。</li>\n<li>不轻易交换电话号码。我们公司的部长课长之间，甚至也有不知道对方电话号码的人。</li>\n<li>日本人的胃口很小，初到日本的中国留学生（男生）在学校食堂一份定食大部分吃不饱。</li>\n<li>在工作场合绝不穿张扬的服装。一般60岁以上的人开始穿红色的花的衣服。</li>\n<li>工作场合不可吃东西，但可以吃水果糖。</li>\n<li>工作时间不可接私人电话。个人不能使用公家电话打出去，也不能打进来。</li>\n<li>私人的信件和物品不能寄到公司。</li>\n<li>在家里高声说话，邻居会到家中提出警告。</li>\n<li>泡温泉以前要先洗净身子。</li>\n<li>如果你送给日本人点心，对方说真好吃。千万不要信以为真。是真是假得在其他的场合验证。</li>\n<li>日本的绿茶泡一分钟就可以喝。</li>\n<li>把手插到衣服裤子口袋里，被认为是对对方不尊敬。张艺谋拍的《千里走单骑》电影里的女日语翻译，很多场面把手放在口袋里，感觉不舒服。</li>\n<li>日本人没有抱肘的习惯，认为这个姿势显示傲慢。</li>\n<li>行人过马路遇到红灯必停，即使绿灯侧没有车。本人这种情况走过，被旁边的车“嘀”过。日本人说，这样做的目的是，告诉孩子，有法必依。</li>\n<li>开车时，后灯双闪，是表示对后车的感谢。常在别人给让路后使用。</li>\n<li>对面的车前灯瞬闪，表示给你让路。</li>\n<li>公司业务关系新年拜年，带的礼品基本就是两条毛巾。</li>\n<li>公司来两伙客人，一方是得到工作的上家，一方是外协的下家，在一个接待室谈话。只给上家上茶，下家没有。</li>\n<li>公司来客，不管是什么工作关系，到吃饭时间基本都不提供午饭。</li>\n<li>工作中出现差错，再好的朋友都不会说一句同情的话。有再多的客观原因也没人体谅。如果争辩解释，被认为错上加错。</li>\n<li>企业一般都有自己的日历，根据客户的日历制定，国家法定假日常常有不休息的时候。</li>\n<li>企业的年假，日本人一般不休，很少利用年假去旅游。</li>\n<li>日本人工作比较配合，部门之间扯皮的事很少。</li>\n<li>日本人的习惯是报忧不报喜，看电视听领导讲话，没有大好形势。</li>\n<li>日本的电视广告很好看，没有太长时间的广告，幽默让人不厌倦。例，一个美女到动物店说想买一条狗，两只老虎，三头狮子。旁边的顾客惊得把手包都掉到了地上。店主问为什么，她说，单身女子在家害怕，每个房间都要有猛兽守卫。这时画外音，有比这还安全的，“家用电子警备系统”。</li>\n<li>日本不光小孩看漫画，动画片，大人也很爱看。</li>\n<li>店铺开业，门前摆放的祝贺物品，简直就可以说是中国追悼会上的花圈。</li>\n<li>传统文化节，很多人穿的衣服上印着“祭”字。在日本，“祭”字的意思是文化节。</li>\n<li>日本的医院对消炎药的使用严格控制，但相对而言，对激素的使用比较放松。</li>\n</ul>"},{"author":"小莫","date":"2016-10-07T16:00:00.000Z","title":"喜欢的动漫","_content":"二次元为我们描绘了一个不一样的世界，一群有着精彩故事的人，还有视觉听觉上的双重享受。不是很美妙吗？我们还能从二次元里获得力量、勇气、热情、梦想，懂得坚持、友爱、乐观、努力。二次元正是人类的伟大创造。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/dongli3.jpg)\n\n### 一、[アニメ](https://zh.moegirl.org)\n| 名前 |コメント|\n|:-------:|:---------:|\n| 东离剑游记 |東离剣の遊記|\n| NEW GAME！ | NEW GAME！ |\n| 刀剑神域   |ソードアート・オンライン |\n| 全职猎人    |ハンター×ハンター |\n| 寄生兽 |寄生獣|\n| 星之梦 |星の夢|\n| Fate/Zero |フェイト/ゼロ|\n| 妖精的尾巴 |フェアリーテイル|\n| 命运石之门 |シュタインズゲート|\n| 線上遊戲的老婆不可能是女生？ |ネトゲの嫁は女の子じゃないと思った？|\n| Re:从零开始的异世界生活 |Re:ゼロから始める異世界生活|\n| 干物妹小埋|干物妹！うまるちゃん|\n| 遊戲人生|ノーゲーム・ノーライフ|\n| 夏目友人帐|なつめ　ゆうじんちょう|\n| 寒蝉鸣泣之时|ひぐらしのなく頃に|\n| 未来日记|未来日记|\n| 加速世界|アクセル・ワールド|\n| Charlotte|Charlotte|\n| 笨蛋测验召唤兽|バカとテストと召喚獣|\n| 心理测量者|サイコパス|\n| CLANNAD|CLANNAD|\n| AIR|AIR|\n| KANON|KANON|\n\n\n\n### 二、ドラマ\n| 名前 |コメント|\n|:-------:|:---------:|\n| 孝忠八犬 |なし|\n| 成濑巳喜男 |なし|\n| 小栗康平的泥之河 |なし|\n| 小津安二郎 |なし|\n| 娄烨是才子 |なし|\n| 彗星来的那一夜 |なし|\n| 堂吉诃德 |なし|\n| 对不起青春 |なし|\n| nana |なし|\n\n\n\n### 三、映画\n| 名前 |コメント|\n|:-------:|:---------:|\n| 千与千寻 |千と千尋の神隠し|\n| となりのトトロ|となりのトトロ|\n| 你的名字|君のなまえは？|\n\n","source":"_posts/2016-10-08.だいすきなアニメ.md","raw":"---\nauthor: 小莫\ndate: 2016-10-08\ntitle: 喜欢的动漫\ntags:\n- 生活\ncategory: 生活\npermalink: NihonAnime\n---\n二次元为我们描绘了一个不一样的世界，一群有着精彩故事的人，还有视觉听觉上的双重享受。不是很美妙吗？我们还能从二次元里获得力量、勇气、热情、梦想，懂得坚持、友爱、乐观、努力。二次元正是人类的伟大创造。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/dongli3.jpg)\n\n### 一、[アニメ](https://zh.moegirl.org)\n| 名前 |コメント|\n|:-------:|:---------:|\n| 东离剑游记 |東离剣の遊記|\n| NEW GAME！ | NEW GAME！ |\n| 刀剑神域   |ソードアート・オンライン |\n| 全职猎人    |ハンター×ハンター |\n| 寄生兽 |寄生獣|\n| 星之梦 |星の夢|\n| Fate/Zero |フェイト/ゼロ|\n| 妖精的尾巴 |フェアリーテイル|\n| 命运石之门 |シュタインズゲート|\n| 線上遊戲的老婆不可能是女生？ |ネトゲの嫁は女の子じゃないと思った？|\n| Re:从零开始的异世界生活 |Re:ゼロから始める異世界生活|\n| 干物妹小埋|干物妹！うまるちゃん|\n| 遊戲人生|ノーゲーム・ノーライフ|\n| 夏目友人帐|なつめ　ゆうじんちょう|\n| 寒蝉鸣泣之时|ひぐらしのなく頃に|\n| 未来日记|未来日记|\n| 加速世界|アクセル・ワールド|\n| Charlotte|Charlotte|\n| 笨蛋测验召唤兽|バカとテストと召喚獣|\n| 心理测量者|サイコパス|\n| CLANNAD|CLANNAD|\n| AIR|AIR|\n| KANON|KANON|\n\n\n\n### 二、ドラマ\n| 名前 |コメント|\n|:-------:|:---------:|\n| 孝忠八犬 |なし|\n| 成濑巳喜男 |なし|\n| 小栗康平的泥之河 |なし|\n| 小津安二郎 |なし|\n| 娄烨是才子 |なし|\n| 彗星来的那一夜 |なし|\n| 堂吉诃德 |なし|\n| 对不起青春 |なし|\n| nana |なし|\n\n\n\n### 三、映画\n| 名前 |コメント|\n|:-------:|:---------:|\n| 千与千寻 |千と千尋の神隠し|\n| となりのトトロ|となりのトトロ|\n| 你的名字|君のなまえは？|\n\n","slug":"NihonAnime","published":1,"updated":"2016-12-01T06:50:26.127Z","_id":"civ0ggqa9004yrwvn1iahsol9","comments":1,"layout":"post","photos":[],"link":"","content":"<p>二次元为我们描绘了一个不一样的世界，一群有着精彩故事的人，还有视觉听觉上的双重享受。不是很美妙吗？我们还能从二次元里获得力量、勇气、热情、梦想，懂得坚持、友爱、乐观、努力。二次元正是人类的伟大创造。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/dongli3.jpg\" alt=\"1\"></p>\n<h3 id=\"一、アニメ\"><a href=\"#一、アニメ\" class=\"headerlink\" title=\"一、アニメ\"></a>一、<a href=\"https://zh.moegirl.org\" target=\"_blank\" rel=\"external\">アニメ</a></h3><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名前</th>\n<th style=\"text-align:center\">コメント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">东离剑游记</td>\n<td style=\"text-align:center\">東离剣の遊記</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">NEW GAME！</td>\n<td style=\"text-align:center\">NEW GAME！</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">刀剑神域</td>\n<td style=\"text-align:center\">ソードアート・オンライン</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">全职猎人</td>\n<td style=\"text-align:center\">ハンター×ハンター</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">寄生兽</td>\n<td style=\"text-align:center\">寄生獣</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">星之梦</td>\n<td style=\"text-align:center\">星の夢</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Fate/Zero</td>\n<td style=\"text-align:center\">フェイト/ゼロ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">妖精的尾巴</td>\n<td style=\"text-align:center\">フェアリーテイル</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">命运石之门</td>\n<td style=\"text-align:center\">シュタインズゲート</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">線上遊戲的老婆不可能是女生？</td>\n<td style=\"text-align:center\">ネトゲの嫁は女の子じゃないと思った？</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Re:从零开始的异世界生活</td>\n<td style=\"text-align:center\">Re:ゼロから始める異世界生活</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">干物妹小埋</td>\n<td style=\"text-align:center\">干物妹！うまるちゃん</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">遊戲人生</td>\n<td style=\"text-align:center\">ノーゲーム・ノーライフ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">夏目友人帐</td>\n<td style=\"text-align:center\">なつめ　ゆうじんちょう</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">寒蝉鸣泣之时</td>\n<td style=\"text-align:center\">ひぐらしのなく頃に</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">未来日记</td>\n<td style=\"text-align:center\">未来日记</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">加速世界</td>\n<td style=\"text-align:center\">アクセル・ワールド</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Charlotte</td>\n<td style=\"text-align:center\">Charlotte</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">笨蛋测验召唤兽</td>\n<td style=\"text-align:center\">バカとテストと召喚獣</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">心理测量者</td>\n<td style=\"text-align:center\">サイコパス</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CLANNAD</td>\n<td style=\"text-align:center\">CLANNAD</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">AIR</td>\n<td style=\"text-align:center\">AIR</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">KANON</td>\n<td style=\"text-align:center\">KANON</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"二、ドラマ\"><a href=\"#二、ドラマ\" class=\"headerlink\" title=\"二、ドラマ\"></a>二、ドラマ</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名前</th>\n<th style=\"text-align:center\">コメント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">孝忠八犬</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">成濑巳喜男</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">小栗康平的泥之河</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">小津安二郎</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">娄烨是才子</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">彗星来的那一夜</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">堂吉诃德</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">对不起青春</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">nana</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"三、映画\"><a href=\"#三、映画\" class=\"headerlink\" title=\"三、映画\"></a>三、映画</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名前</th>\n<th style=\"text-align:center\">コメント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">千与千寻</td>\n<td style=\"text-align:center\">千と千尋の神隠し</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">となりのトトロ</td>\n<td style=\"text-align:center\">となりのトトロ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">你的名字</td>\n<td style=\"text-align:center\">君のなまえは？</td>\n</tr>\n</tbody>\n</table>\n","excerpt":"<p>二次元为我们描绘了一个不一样的世界，一群有着精彩故事的人，还有视觉听觉上的双重享受。不是很美妙吗？我们还能从二次元里获得力量、勇气、热情、梦想，懂得坚持、友爱、乐观、努力。二次元正是人类的伟大创造。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/dongli3.jpg\" alt=\"1\"></p>\n<h3 id=\"一、アニメ\"><a href=\"#一、アニメ\" class=\"headerlink\" title=\"一、アニメ\"></a>一、<a href=\"https://zh.moegirl.org\">アニメ</a></h3><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名前</th>\n<th style=\"text-align:center\">コメント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">东离剑游记</td>\n<td style=\"text-align:center\">東离剣の遊記</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">NEW GAME！</td>\n<td style=\"text-align:center\">NEW GAME！</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">刀剑神域</td>\n<td style=\"text-align:center\">ソードアート・オンライン</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">全职猎人</td>\n<td style=\"text-align:center\">ハンター×ハンター</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">寄生兽</td>\n<td style=\"text-align:center\">寄生獣</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">星之梦</td>\n<td style=\"text-align:center\">星の夢</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Fate/Zero</td>\n<td style=\"text-align:center\">フェイト/ゼロ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">妖精的尾巴</td>\n<td style=\"text-align:center\">フェアリーテイル</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">命运石之门</td>\n<td style=\"text-align:center\">シュタインズゲート</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">線上遊戲的老婆不可能是女生？</td>\n<td style=\"text-align:center\">ネトゲの嫁は女の子じゃないと思った？</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Re:从零开始的异世界生活</td>\n<td style=\"text-align:center\">Re:ゼロから始める異世界生活</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">干物妹小埋</td>\n<td style=\"text-align:center\">干物妹！うまるちゃん</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">遊戲人生</td>\n<td style=\"text-align:center\">ノーゲーム・ノーライフ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">夏目友人帐</td>\n<td style=\"text-align:center\">なつめ　ゆうじんちょう</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">寒蝉鸣泣之时</td>\n<td style=\"text-align:center\">ひぐらしのなく頃に</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">未来日记</td>\n<td style=\"text-align:center\">未来日记</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">加速世界</td>\n<td style=\"text-align:center\">アクセル・ワールド</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">Charlotte</td>\n<td style=\"text-align:center\">Charlotte</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">笨蛋测验召唤兽</td>\n<td style=\"text-align:center\">バカとテストと召喚獣</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">心理测量者</td>\n<td style=\"text-align:center\">サイコパス</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">CLANNAD</td>\n<td style=\"text-align:center\">CLANNAD</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">AIR</td>\n<td style=\"text-align:center\">AIR</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">KANON</td>\n<td style=\"text-align:center\">KANON</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"二、ドラマ\"><a href=\"#二、ドラマ\" class=\"headerlink\" title=\"二、ドラマ\"></a>二、ドラマ</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名前</th>\n<th style=\"text-align:center\">コメント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">孝忠八犬</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">成濑巳喜男</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">小栗康平的泥之河</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">小津安二郎</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">娄烨是才子</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">彗星来的那一夜</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">堂吉诃德</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">对不起青春</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">nana</td>\n<td style=\"text-align:center\">なし</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"三、映画\"><a href=\"#三、映画\" class=\"headerlink\" title=\"三、映画\"></a>三、映画</h3><table>\n<thead>\n<tr>\n<th style=\"text-align:center\">名前</th>\n<th style=\"text-align:center\">コメント</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">千与千寻</td>\n<td style=\"text-align:center\">千と千尋の神隠し</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">となりのトトロ</td>\n<td style=\"text-align:center\">となりのトトロ</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">你的名字</td>\n<td style=\"text-align:center\">君のなまえは？</td>\n</tr>\n</tbody>\n</table>"},{"author":"小莫","date":"2016-10-23T16:00:00.000Z","title":"使用Servlet做简单的上传功能","_content":"这篇文章主要为大家详细介绍了java基于servlet实现上传功能，后台使用java实现，前端主要是jsp，感兴趣的小伙伴们可以参考一下\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.jpg)\n### 一、准备工作\n#### 1.1 jar包\n`servlet-api` 是servlet的核心api包\n`commons-fileupload` 上传功能的通用工具包\n`fastjson` 阿里的json工具包\n\n### 1.2 pom文件\n\n```\n        <dependency>\n            <groupId>commons-fileupload</groupId>\n            <artifactId>commons-fileupload</artifactId>\n            <version>1.3.1</version>\n        </dependency>\n        <dependency>\n            <groupId>javax.servlet</groupId>\n            <artifactId>servlet-api</artifactId>\n            <version>2.5</version>\n        </dependency>\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>fastjson</artifactId>\n            <version>1.2.7</version>\n        </dependency>\n```\n\n### 二、项目介绍\n#### 1.1 web.xml配置\n此项目是采用maven构建的java web项目，传统的jsp作为页面交互。\n\n```\n<web-app>\n\t<listener>\n\t\t<listener-class>\n\t\t\torg.apache.commons.fileupload.servlet.FileCleanerCleanup\n\t\t</listener-class>\n\t</listener>\n\t<servlet>\n\t\t<servlet-name>FileUploadServlet</servlet-name>\n\t\t<display-name>FileUploadServlet</display-name>\n\t\t<description>FileUploadServlet</description>\n\t\t<servlet-class>com.ghj.servlet.FileUploadServlet</servlet-class>\n\t</servlet>\n\t<servlet-mapping>\n\t\t<servlet-name>FileUploadServlet</servlet-name>\n\t\t<url-pattern>/FileUploadServlet</url-pattern>\n\t</servlet-mapping>\n</web-app>\n```\n\n配置的servlet的位置，那么我们就要去写代码了。\n\n#### 1.2 上传功能\n新建一个class文件`com.ghj.servlet.FileUploadServlet`，继承自`HttpServlet`。重写它的`init()`和`doPost()`方法。\n\n代码\n\n```\npackage com.ghj.servlet;\n\nimport com.alibaba.fastjson.JSONArray;\nimport com.alibaba.fastjson.JSONObject;\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\nimport org.apache.commons.fileupload.servlet.FileCleanerCleanup;\nimport org.apache.commons.fileupload.servlet.ServletFileUpload;\nimport org.apache.commons.io.FileCleaningTracker;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.List;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/soubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/10/24 9:15.\n * @Description:\n * @Copyright(©) 2016 by xiaomo.\n **/\npublic class FileUploadServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private File fileUploadPath;\n    private static final String fileDirectory = \"/data\";\n\n    /**\n     * 设置文件存储位置\n     */\n    @Override\n    public void init() {\n        String realPath = this.getServletConfig().getServletContext().getRealPath(\"/\");\n        fileUploadPath = new File(realPath + fileDirectory);\n        if (!fileUploadPath.exists()) {\n            boolean isCreate = fileUploadPath.mkdirs();\n            if (isCreate) {\n                System.out.println(\"文件夹己被创建\");\n            }\n        }\n    }\n\n\n    /**\n     * post请求(文件上传的操作)\n     * 说明：该方法支持同时上传多个文件（在index.jsp中添加文件上传的控件）\n     * 注意：文件名只能为英文\n     *\n     * @param request  request\n     * @param response response\n     * @throws ServletException ServletException\n     * @throws IOException      IOException\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n        if (isMultipart) {\n            ServletContext servletContext = this.getServletConfig().getServletContext();\n            File repository = (File) servletContext.getAttribute(\"javax.servlet.context.tempdir\");\n            DiskFileItemFactory factory = newDiskFileItemFactory(servletContext, repository);\n\n            ServletFileUpload upload = new ServletFileUpload(factory);\n            upload.setHeaderEncoding(\"utf-8\");\n\n            PrintWriter printWriter = response.getWriter();\n            response.setContentType(\"application/json\");\n            response.setCharacterEncoding(\"utf-8\");\n            JSONArray files = new JSONArray();\n            try {\n                List<FileItem> items = upload.parseRequest(request);\n                for (FileItem item : items) {\n                    if (item.isFormField()) { //表单输入域\n                        System.out.println(item.getFieldName());\n                    } else { // 文件上传域\n                        String name = item.getName();\n                        if (!name.equals(\"\")) {\n                            int index = name.indexOf(\"\\\\\");\n                            File uploadedFile;\n                            if (index == -1) {\n                                uploadedFile = new File(fileUploadPath,\n                                        File.separator + name);\n                            } else {\n                                uploadedFile = new File(fileUploadPath, File.separator + name.substring(name.lastIndexOf(File.separator) + 1));\n                            }\n                            item.write(uploadedFile);\n                            JSONObject file = new JSONObject();\n                            file.put(\"name\", name);\n                            file.put(\"size\", item.getSize());\n                            file.put(\"url\", fileUploadPath + \"/\" + name);\n                            file.put(\"deleteType\", \"post\");\n                            files.add(file);\n                        } else {\n                            JSONObject file = new JSONObject();\n                            file.put(\"result\", \"please choose a file\");\n                            files.add(file);\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                JSONObject result = new JSONObject();\n                result.put(\"files\", files);\n                printWriter.write(result.toString());\n                printWriter.close();\n            }\n        }\n    }\n\n    /**\n     * 将请求的每个项目封装成单独的文件项目\n     *\n     * @param context    context\n     * @param repository repository\n     * @return DiskFileItemFactory\n     */\n    private DiskFileItemFactory newDiskFileItemFactory(ServletContext context, File repository) {\n        FileCleaningTracker fileCleaningTracker = FileCleanerCleanup.getFileCleaningTracker(context);\n        DiskFileItemFactory factory = new DiskFileItemFactory(DiskFileItemFactory.DEFAULT_SIZE_THRESHOLD, repository);\n        factory.setFileCleaningTracker(fileCleaningTracker);\n        return factory;\n    }\n\n}\n\n```\n\n\n#### 2.3 页面\n\n```\n<html>\n<%@page pageEncoding=\"UTF-8\" contentType=\"text/html; charset=UTF-8\" %>\n<body>\n<h2>文件上传</h2>\n<form action=\"FileUploadServlet\" method=\"post\" enctype=\"multipart/form-data\">\n\t<input type=\"file\" name=\"file1\"\"><br>\n\t<input type=\"submit\" value=\"submit\">\n</form>\n</body>\n</html>\n\n```\n\n看起来清新简单，就不加那么style的修饰了。\n\n### 三、效果图\n![效果图](https://image.xiaomo.info/java/java_upload.gif)\n\n\n### 四、源代码\n\nhttps://github.com/java-user/ServletFileUploadDemo  需要的朋友自取，随意使用不用客气","source":"_posts/2016-10-24.使用Servlet做简单的上传功能.md","raw":"---\nauthor: 小莫\ndate: 2016-10-24\ntitle: 使用Servlet做简单的上传功能\ntags:\n- java\ncategory: java\npermalink: JavaServletUpload\n---\n这篇文章主要为大家详细介绍了java基于servlet实现上传功能，后台使用java实现，前端主要是jsp，感兴趣的小伙伴们可以参考一下\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.jpg)\n### 一、准备工作\n#### 1.1 jar包\n`servlet-api` 是servlet的核心api包\n`commons-fileupload` 上传功能的通用工具包\n`fastjson` 阿里的json工具包\n\n### 1.2 pom文件\n\n```\n        <dependency>\n            <groupId>commons-fileupload</groupId>\n            <artifactId>commons-fileupload</artifactId>\n            <version>1.3.1</version>\n        </dependency>\n        <dependency>\n            <groupId>javax.servlet</groupId>\n            <artifactId>servlet-api</artifactId>\n            <version>2.5</version>\n        </dependency>\n        <dependency>\n            <groupId>com.alibaba</groupId>\n            <artifactId>fastjson</artifactId>\n            <version>1.2.7</version>\n        </dependency>\n```\n\n### 二、项目介绍\n#### 1.1 web.xml配置\n此项目是采用maven构建的java web项目，传统的jsp作为页面交互。\n\n```\n<web-app>\n\t<listener>\n\t\t<listener-class>\n\t\t\torg.apache.commons.fileupload.servlet.FileCleanerCleanup\n\t\t</listener-class>\n\t</listener>\n\t<servlet>\n\t\t<servlet-name>FileUploadServlet</servlet-name>\n\t\t<display-name>FileUploadServlet</display-name>\n\t\t<description>FileUploadServlet</description>\n\t\t<servlet-class>com.ghj.servlet.FileUploadServlet</servlet-class>\n\t</servlet>\n\t<servlet-mapping>\n\t\t<servlet-name>FileUploadServlet</servlet-name>\n\t\t<url-pattern>/FileUploadServlet</url-pattern>\n\t</servlet-mapping>\n</web-app>\n```\n\n配置的servlet的位置，那么我们就要去写代码了。\n\n#### 1.2 上传功能\n新建一个class文件`com.ghj.servlet.FileUploadServlet`，继承自`HttpServlet`。重写它的`init()`和`doPost()`方法。\n\n代码\n\n```\npackage com.ghj.servlet;\n\nimport com.alibaba.fastjson.JSONArray;\nimport com.alibaba.fastjson.JSONObject;\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\nimport org.apache.commons.fileupload.servlet.FileCleanerCleanup;\nimport org.apache.commons.fileupload.servlet.ServletFileUpload;\nimport org.apache.commons.io.FileCleaningTracker;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.List;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/soubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/10/24 9:15.\n * @Description:\n * @Copyright(©) 2016 by xiaomo.\n **/\npublic class FileUploadServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private File fileUploadPath;\n    private static final String fileDirectory = \"/data\";\n\n    /**\n     * 设置文件存储位置\n     */\n    @Override\n    public void init() {\n        String realPath = this.getServletConfig().getServletContext().getRealPath(\"/\");\n        fileUploadPath = new File(realPath + fileDirectory);\n        if (!fileUploadPath.exists()) {\n            boolean isCreate = fileUploadPath.mkdirs();\n            if (isCreate) {\n                System.out.println(\"文件夹己被创建\");\n            }\n        }\n    }\n\n\n    /**\n     * post请求(文件上传的操作)\n     * 说明：该方法支持同时上传多个文件（在index.jsp中添加文件上传的控件）\n     * 注意：文件名只能为英文\n     *\n     * @param request  request\n     * @param response response\n     * @throws ServletException ServletException\n     * @throws IOException      IOException\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        boolean isMultipart = ServletFileUpload.isMultipartContent(request);\n        if (isMultipart) {\n            ServletContext servletContext = this.getServletConfig().getServletContext();\n            File repository = (File) servletContext.getAttribute(\"javax.servlet.context.tempdir\");\n            DiskFileItemFactory factory = newDiskFileItemFactory(servletContext, repository);\n\n            ServletFileUpload upload = new ServletFileUpload(factory);\n            upload.setHeaderEncoding(\"utf-8\");\n\n            PrintWriter printWriter = response.getWriter();\n            response.setContentType(\"application/json\");\n            response.setCharacterEncoding(\"utf-8\");\n            JSONArray files = new JSONArray();\n            try {\n                List<FileItem> items = upload.parseRequest(request);\n                for (FileItem item : items) {\n                    if (item.isFormField()) { //表单输入域\n                        System.out.println(item.getFieldName());\n                    } else { // 文件上传域\n                        String name = item.getName();\n                        if (!name.equals(\"\")) {\n                            int index = name.indexOf(\"\\\\\");\n                            File uploadedFile;\n                            if (index == -1) {\n                                uploadedFile = new File(fileUploadPath,\n                                        File.separator + name);\n                            } else {\n                                uploadedFile = new File(fileUploadPath, File.separator + name.substring(name.lastIndexOf(File.separator) + 1));\n                            }\n                            item.write(uploadedFile);\n                            JSONObject file = new JSONObject();\n                            file.put(\"name\", name);\n                            file.put(\"size\", item.getSize());\n                            file.put(\"url\", fileUploadPath + \"/\" + name);\n                            file.put(\"deleteType\", \"post\");\n                            files.add(file);\n                        } else {\n                            JSONObject file = new JSONObject();\n                            file.put(\"result\", \"please choose a file\");\n                            files.add(file);\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                JSONObject result = new JSONObject();\n                result.put(\"files\", files);\n                printWriter.write(result.toString());\n                printWriter.close();\n            }\n        }\n    }\n\n    /**\n     * 将请求的每个项目封装成单独的文件项目\n     *\n     * @param context    context\n     * @param repository repository\n     * @return DiskFileItemFactory\n     */\n    private DiskFileItemFactory newDiskFileItemFactory(ServletContext context, File repository) {\n        FileCleaningTracker fileCleaningTracker = FileCleanerCleanup.getFileCleaningTracker(context);\n        DiskFileItemFactory factory = new DiskFileItemFactory(DiskFileItemFactory.DEFAULT_SIZE_THRESHOLD, repository);\n        factory.setFileCleaningTracker(fileCleaningTracker);\n        return factory;\n    }\n\n}\n\n```\n\n\n#### 2.3 页面\n\n```\n<html>\n<%@page pageEncoding=\"UTF-8\" contentType=\"text/html; charset=UTF-8\" %>\n<body>\n<h2>文件上传</h2>\n<form action=\"FileUploadServlet\" method=\"post\" enctype=\"multipart/form-data\">\n\t<input type=\"file\" name=\"file1\"\"><br>\n\t<input type=\"submit\" value=\"submit\">\n</form>\n</body>\n</html>\n\n```\n\n看起来清新简单，就不加那么style的修饰了。\n\n### 三、效果图\n![效果图](https://image.xiaomo.info/java/java_upload.gif)\n\n\n### 四、源代码\n\nhttps://github.com/java-user/ServletFileUploadDemo  需要的朋友自取，随意使用不用客气","slug":"JavaServletUpload","published":1,"updated":"2016-12-01T08:16:06.916Z","_id":"civ0ggqab0052rwvndhovzj53","comments":1,"layout":"post","photos":[],"link":"","content":"<p>这篇文章主要为大家详细介绍了java基于servlet实现上传功能，后台使用java实现，前端主要是jsp，感兴趣的小伙伴们可以参考一下<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.jpg\" alt=\"1\"></p>\n<h3 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h3><h4 id=\"1-1-jar包\"><a href=\"#1-1-jar包\" class=\"headerlink\" title=\"1.1 jar包\"></a>1.1 jar包</h4><p><code>servlet-api</code> 是servlet的核心api包<br><code>commons-fileupload</code> 上传功能的通用工具包<br><code>fastjson</code> 阿里的json工具包</p>\n<h3 id=\"1-2-pom文件\"><a href=\"#1-2-pom文件\" class=\"headerlink\" title=\"1.2 pom文件\"></a>1.2 pom文件</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>servlet-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.5<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>fastjson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.7<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"二、项目介绍\"><a href=\"#二、项目介绍\" class=\"headerlink\" title=\"二、项目介绍\"></a>二、项目介绍</h3><h4 id=\"1-1-web-xml配置\"><a href=\"#1-1-web-xml配置\" class=\"headerlink\" title=\"1.1 web.xml配置\"></a>1.1 web.xml配置</h4><p>此项目是采用maven构建的java web项目，传统的jsp作为页面交互。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">listener</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">listener-class</span>&gt;</span></div><div class=\"line\">            org.apache.commons.fileupload.servlet.FileCleanerCleanup</div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">listener-class</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">listener</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.ghj.servlet.FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>配置的servlet的位置，那么我们就要去写代码了。</p>\n<h4 id=\"1-2-上传功能\"><a href=\"#1-2-上传功能\" class=\"headerlink\" title=\"1.2 上传功能\"></a>1.2 上传功能</h4><p>新建一个class文件<code>com.ghj.servlet.FileUploadServlet</code>，继承自<code>HttpServlet</code>。重写它的<code>init()</code>和<code>doPost()</code>方法。</p>\n<p>代码</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> com.ghj.servlet;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> com.alibaba.fastjson.JSONArray;</div><div class=\"line\"><span class=\"keyword\">import</span> com.alibaba.fastjson.JSONObject;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.FileItem;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.servlet.FileCleanerCleanup;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.io.FileCleaningTracker;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletContext;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"keyword\">File</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</div><div class=\"line\"><span class=\"keyword\">import</span> java.util.List;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * @author: xiaomo</div><div class=\"line\"> * @github: https://github.com/soubaku</div><div class=\"line\"> * @email: hupengbest@163.com</div><div class=\"line\"> * @QQ_NO: 83387856</div><div class=\"line\"> * @Date: 2016/10/24 9:15.</div><div class=\"line\"> * @Description:</div><div class=\"line\"> * @Copyright(©) 2016 by xiaomo.</div><div class=\"line\"> **/</div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> FileUploadServlet <span class=\"keyword\">extends</span> HttpServlet &#123;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">1</span>L;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">File</span> fileUploadPath;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String fileDirectory = <span class=\"string\">\"/data\"</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</span></div><div class=\"line\">     * 设置文件存储位置</div><div class=\"line\">     */</div><div class=\"line\">    @Override</div><div class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> init() &#123;</div><div class=\"line\">        String realPath = <span class=\"keyword\">this</span>.getServletConfig().getServletContext().getRealPath(<span class=\"string\">\"/\"</span>);</div><div class=\"line\">        fileUploadPath = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(realPath + fileDirectory);</div><div class=\"line\">        <span class=\"keyword\">if</span> (!fileUploadPath.exists()) &#123;</div><div class=\"line\">            <span class=\"keyword\">boolean</span> isCreate = fileUploadPath.mkdirs();</div><div class=\"line\">            <span class=\"keyword\">if</span> (isCreate) &#123;</div><div class=\"line\">                System.out.<span class=\"keyword\">println</span>(<span class=\"string\">\"文件夹己被创建\"</span>);</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</span></div><div class=\"line\">     * post请求(文件上传的操作)</div><div class=\"line\">     * 说明：该方法支持同时上传多个文件（在index.jsp中添加文件上传的控件）</div><div class=\"line\">     * 注意：文件名只能为英文</div><div class=\"line\">     *</div><div class=\"line\">     * @param request  request</div><div class=\"line\">     * @param response response</div><div class=\"line\">     * @throws ServletException ServletException</div><div class=\"line\">     * @throws IOException      IOException</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> doPost(HttpServletRequest request, HttpServletResponse response) <span class=\"keyword\">throws</span> ServletException, IOException &#123;</div><div class=\"line\">        <span class=\"keyword\">boolean</span> isMultipart = ServletFileUpload.isMultipartContent(request);</div><div class=\"line\">        <span class=\"keyword\">if</span> (isMultipart) &#123;</div><div class=\"line\">            ServletContext servletContext = <span class=\"keyword\">this</span>.getServletConfig().getServletContext();</div><div class=\"line\">            <span class=\"keyword\">File</span> repository = (<span class=\"keyword\">File</span>) servletContext.getAttribute(<span class=\"string\">\"javax.servlet.context.tempdir\"</span>);</div><div class=\"line\">            DiskFileItemFactory factory = newDiskFileItemFactory(servletContext, repository);</div><div class=\"line\"></div><div class=\"line\">            ServletFileUpload upload = <span class=\"keyword\">new</span> ServletFileUpload(factory);</div><div class=\"line\">            upload.setHeaderEncoding(<span class=\"string\">\"utf-8\"</span>);</div><div class=\"line\"></div><div class=\"line\">            PrintWriter printWriter = response.getWriter();</div><div class=\"line\">            response.setContentType(<span class=\"string\">\"application/json\"</span>);</div><div class=\"line\">            response.setCharacterEncoding(<span class=\"string\">\"utf-8\"</span>);</div><div class=\"line\">            JSONArray files = <span class=\"keyword\">new</span> JSONArray();</div><div class=\"line\">            <span class=\"keyword\">try</span> &#123;</div><div class=\"line\">                List&lt;FileItem&gt; items = upload.parseRequest(request);</div><div class=\"line\">                <span class=\"keyword\">for</span> (FileItem item : items) &#123;</div><div class=\"line\">                    <span class=\"keyword\">if</span> (item.isFormField()) &#123; <span class=\"comment\">//表单输入域</span></div><div class=\"line\">                        System.out.<span class=\"keyword\">println</span>(item.getFieldName());</div><div class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 文件上传域</span></div><div class=\"line\">                        String name = item.getName();</div><div class=\"line\">                        <span class=\"keyword\">if</span> (!name.equals(<span class=\"string\">\"\"</span>)) &#123;</div><div class=\"line\">                            <span class=\"keyword\">int</span> index = name.indexOf(<span class=\"string\">\"\\\\\"</span>);</div><div class=\"line\">                            <span class=\"keyword\">File</span> uploadedFile;</div><div class=\"line\">                            <span class=\"keyword\">if</span> (index == -<span class=\"number\">1</span>) &#123;</div><div class=\"line\">                                uploadedFile = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(fileUploadPath,</div><div class=\"line\">                                        <span class=\"keyword\">File</span>.separator + name);</div><div class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                                uploadedFile = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(fileUploadPath, <span class=\"keyword\">File</span>.separator + name.substring(name.lastIndexOf(<span class=\"keyword\">File</span>.separator) + <span class=\"number\">1</span>));</div><div class=\"line\">                            &#125;</div><div class=\"line\">                            item.<span class=\"keyword\">write</span>(uploadedFile);</div><div class=\"line\">                            JSONObject <span class=\"keyword\">file</span> = <span class=\"keyword\">new</span> JSONObject();</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"name\"</span>, name);</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"size\"</span>, item.getSize());</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"url\"</span>, fileUploadPath + <span class=\"string\">\"/\"</span> + name);</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"deleteType\"</span>, <span class=\"string\">\"post\"</span>);</div><div class=\"line\">                            files.add(<span class=\"keyword\">file</span>);</div><div class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                            JSONObject <span class=\"keyword\">file</span> = <span class=\"keyword\">new</span> JSONObject();</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"result\"</span>, <span class=\"string\">\"please choose a file\"</span>);</div><div class=\"line\">                            files.add(<span class=\"keyword\">file</span>);</div><div class=\"line\">                        &#125;</div><div class=\"line\">                    &#125;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</div><div class=\"line\">                e.printStackTrace();</div><div class=\"line\">            &#125; <span class=\"keyword\">finally</span> &#123;</div><div class=\"line\">                JSONObject result = <span class=\"keyword\">new</span> JSONObject();</div><div class=\"line\">                result.put(<span class=\"string\">\"files\"</span>, files);</div><div class=\"line\">                printWriter.<span class=\"keyword\">write</span>(result.toString());</div><div class=\"line\">                printWriter.close();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</span></div><div class=\"line\">     * 将请求的每个项目封装成单独的文件项目</div><div class=\"line\">     *</div><div class=\"line\">     * @param context    context</div><div class=\"line\">     * @param repository repository</div><div class=\"line\">     * @return DiskFileItemFactory</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"keyword\">private</span> DiskFileItemFactory newDiskFileItemFactory(ServletContext context, <span class=\"keyword\">File</span> repository) &#123;</div><div class=\"line\">        FileCleaningTracker fileCleaningTracker = FileCleanerCleanup.getFileCleaningTracker(context);</div><div class=\"line\">        DiskFileItemFactory factory = <span class=\"keyword\">new</span> DiskFileItemFactory(DiskFileItemFactory.DEFAULT_SIZE_THRESHOLD, repository);</div><div class=\"line\">        factory.setFileCleaningTracker(fileCleaningTracker);</div><div class=\"line\">        <span class=\"keyword\">return</span> factory;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-3-页面\"><a href=\"#2-3-页面\" class=\"headerlink\" title=\"2.3 页面\"></a>2.3 页面</h4><figure class=\"highlight erb\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">%</span></span><span class=\"ruby\">@page pageEncoding=<span class=\"string\">\"UTF-8\"</span> contentType=<span class=\"string\">\"text/html; charset=UTF-8\"</span> </span><span class=\"xml\"><span class=\"tag\">%&gt;</span></span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>文件上传<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">\"FileUploadServlet\"</span> <span class=\"attr\">method</span>=<span class=\"string\">\"post\"</span> <span class=\"attr\">enctype</span>=<span class=\"string\">\"multipart/form-data\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"file\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"file1\"</span>\"&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"submit\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>看起来清新简单，就不加那么style的修饰了。</p>\n<h3 id=\"三、效果图\"><a href=\"#三、效果图\" class=\"headerlink\" title=\"三、效果图\"></a>三、效果图</h3><p><img src=\"https://image.xiaomo.info/java/java_upload.gif\" alt=\"效果图\"></p>\n<h3 id=\"四、源代码\"><a href=\"#四、源代码\" class=\"headerlink\" title=\"四、源代码\"></a>四、源代码</h3><p><a href=\"https://github.com/java-user/ServletFileUploadDemo\" target=\"_blank\" rel=\"external\">https://github.com/java-user/ServletFileUploadDemo</a>  需要的朋友自取，随意使用不用客气</p>\n","excerpt":"<p>这篇文章主要为大家详细介绍了java基于servlet实现上传功能，后台使用java实现，前端主要是jsp，感兴趣的小伙伴们可以参考一下<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.jpg\" alt=\"1\"></p>\n<h3 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h3><h4 id=\"1-1-jar包\"><a href=\"#1-1-jar包\" class=\"headerlink\" title=\"1.1 jar包\"></a>1.1 jar包</h4><p><code>servlet-api</code> 是servlet的核心api包<br><code>commons-fileupload</code> 上传功能的通用工具包<br><code>fastjson</code> 阿里的json工具包</p>\n<h3 id=\"1-2-pom文件\"><a href=\"#1-2-pom文件\" class=\"headerlink\" title=\"1.2 pom文件\"></a>1.2 pom文件</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>commons-fileupload<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.3.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>javax.servlet<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>servlet-api<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.5<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.alibaba<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>fastjson<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.2.7<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"二、项目介绍\"><a href=\"#二、项目介绍\" class=\"headerlink\" title=\"二、项目介绍\"></a>二、项目介绍</h3><h4 id=\"1-1-web-xml配置\"><a href=\"#1-1-web-xml配置\" class=\"headerlink\" title=\"1.1 web.xml配置\"></a>1.1 web.xml配置</h4><p>此项目是采用maven构建的java web项目，传统的jsp作为页面交互。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">web-app</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">listener</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">listener-class</span>&gt;</span></div><div class=\"line\">            org.apache.commons.fileupload.servlet.FileCleanerCleanup</div><div class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">listener-class</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">listener</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">display-name</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">display-name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">description</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">description</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">servlet-class</span>&gt;</span>com.ghj.servlet.FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-class</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">servlet</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">servlet-mapping</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">servlet-name</span>&gt;</span>FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">servlet-name</span>&gt;</span></div><div class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">url-pattern</span>&gt;</span>/FileUploadServlet<span class=\"tag\">&lt;/<span class=\"name\">url-pattern</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">servlet-mapping</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">web-app</span>&gt;</span></div></pre></td></tr></table></figure>\n<p>配置的servlet的位置，那么我们就要去写代码了。</p>\n<h4 id=\"1-2-上传功能\"><a href=\"#1-2-上传功能\" class=\"headerlink\" title=\"1.2 上传功能\"></a>1.2 上传功能</h4><p>新建一个class文件<code>com.ghj.servlet.FileUploadServlet</code>，继承自<code>HttpServlet</code>。重写它的<code>init()</code>和<code>doPost()</code>方法。</p>\n<p>代码</p>\n<figure class=\"highlight gradle\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div><div class=\"line\">76</div><div class=\"line\">77</div><div class=\"line\">78</div><div class=\"line\">79</div><div class=\"line\">80</div><div class=\"line\">81</div><div class=\"line\">82</div><div class=\"line\">83</div><div class=\"line\">84</div><div class=\"line\">85</div><div class=\"line\">86</div><div class=\"line\">87</div><div class=\"line\">88</div><div class=\"line\">89</div><div class=\"line\">90</div><div class=\"line\">91</div><div class=\"line\">92</div><div class=\"line\">93</div><div class=\"line\">94</div><div class=\"line\">95</div><div class=\"line\">96</div><div class=\"line\">97</div><div class=\"line\">98</div><div class=\"line\">99</div><div class=\"line\">100</div><div class=\"line\">101</div><div class=\"line\">102</div><div class=\"line\">103</div><div class=\"line\">104</div><div class=\"line\">105</div><div class=\"line\">106</div><div class=\"line\">107</div><div class=\"line\">108</div><div class=\"line\">109</div><div class=\"line\">110</div><div class=\"line\">111</div><div class=\"line\">112</div><div class=\"line\">113</div><div class=\"line\">114</div><div class=\"line\">115</div><div class=\"line\">116</div><div class=\"line\">117</div><div class=\"line\">118</div><div class=\"line\">119</div><div class=\"line\">120</div><div class=\"line\">121</div><div class=\"line\">122</div><div class=\"line\">123</div><div class=\"line\">124</div><div class=\"line\">125</div><div class=\"line\">126</div><div class=\"line\">127</div><div class=\"line\">128</div><div class=\"line\">129</div><div class=\"line\">130</div><div class=\"line\">131</div><div class=\"line\">132</div><div class=\"line\">133</div><div class=\"line\">134</div><div class=\"line\">135</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> com.ghj.servlet;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> com.alibaba.fastjson.JSONArray;</div><div class=\"line\"><span class=\"keyword\">import</span> com.alibaba.fastjson.JSONObject;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.FileItem;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.disk.DiskFileItemFactory;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.servlet.FileCleanerCleanup;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.fileupload.servlet.ServletFileUpload;</div><div class=\"line\"><span class=\"keyword\">import</span> org.apache.commons.io.FileCleaningTracker;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletContext;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.ServletException;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServlet;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletRequest;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"keyword\">File</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.PrintWriter;</div><div class=\"line\"><span class=\"keyword\">import</span> java.util.List;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * @author: xiaomo</div><div class=\"line\"> * @github: https://github.com/soubaku</div><div class=\"line\"> * @email: hupengbest@163.com</div><div class=\"line\"> * @QQ_NO: 83387856</div><div class=\"line\"> * @Date: 2016/10/24 9:15.</div><div class=\"line\"> * @Description:</div><div class=\"line\"> * @Copyright(©) 2016 by xiaomo.</div><div class=\"line\"> **/</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> FileUploadServlet <span class=\"keyword\">extends</span> HttpServlet &#123;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"keyword\">long</span> serialVersionUID = <span class=\"number\">1</span>L;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">File</span> fileUploadPath;</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> String fileDirectory = <span class=\"string\">\"/data\"</span>;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</div><div class=\"line\">     * 设置文件存储位置</div><div class=\"line\">     */</span></div><div class=\"line\">    @Override</div><div class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> init() &#123;</div><div class=\"line\">        String realPath = <span class=\"keyword\">this</span>.getServletConfig().getServletContext().getRealPath(<span class=\"string\">\"/\"</span>);</div><div class=\"line\">        fileUploadPath = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(realPath + fileDirectory);</div><div class=\"line\">        <span class=\"keyword\">if</span> (!fileUploadPath.exists()) &#123;</div><div class=\"line\">            <span class=\"keyword\">boolean</span> isCreate = fileUploadPath.mkdirs();</div><div class=\"line\">            <span class=\"keyword\">if</span> (isCreate) &#123;</div><div class=\"line\">                System.out.<span class=\"keyword\">println</span>(<span class=\"string\">\"文件夹己被创建\"</span>);</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</div><div class=\"line\">     * post请求(文件上传的操作)</div><div class=\"line\">     * 说明：该方法支持同时上传多个文件（在index.jsp中添加文件上传的控件）</div><div class=\"line\">     * 注意：文件名只能为英文</div><div class=\"line\">     *</div><div class=\"line\">     * @param request  request</div><div class=\"line\">     * @param response response</div><div class=\"line\">     * @throws ServletException ServletException</div><div class=\"line\">     * @throws IOException      IOException</div><div class=\"line\">     */</span></div><div class=\"line\">    <span class=\"keyword\">protected</span> <span class=\"keyword\">void</span> doPost(HttpServletRequest request, HttpServletResponse response) <span class=\"keyword\">throws</span> ServletException, IOException &#123;</div><div class=\"line\">        <span class=\"keyword\">boolean</span> isMultipart = ServletFileUpload.isMultipartContent(request);</div><div class=\"line\">        <span class=\"keyword\">if</span> (isMultipart) &#123;</div><div class=\"line\">            ServletContext servletContext = <span class=\"keyword\">this</span>.getServletConfig().getServletContext();</div><div class=\"line\">            <span class=\"keyword\">File</span> repository = (<span class=\"keyword\">File</span>) servletContext.getAttribute(<span class=\"string\">\"javax.servlet.context.tempdir\"</span>);</div><div class=\"line\">            DiskFileItemFactory factory = newDiskFileItemFactory(servletContext, repository);</div><div class=\"line\"></div><div class=\"line\">            ServletFileUpload upload = <span class=\"keyword\">new</span> ServletFileUpload(factory);</div><div class=\"line\">            upload.setHeaderEncoding(<span class=\"string\">\"utf-8\"</span>);</div><div class=\"line\"></div><div class=\"line\">            PrintWriter printWriter = response.getWriter();</div><div class=\"line\">            response.setContentType(<span class=\"string\">\"application/json\"</span>);</div><div class=\"line\">            response.setCharacterEncoding(<span class=\"string\">\"utf-8\"</span>);</div><div class=\"line\">            JSONArray files = <span class=\"keyword\">new</span> JSONArray();</div><div class=\"line\">            <span class=\"keyword\">try</span> &#123;</div><div class=\"line\">                List&lt;FileItem&gt; items = upload.parseRequest(request);</div><div class=\"line\">                <span class=\"keyword\">for</span> (FileItem item : items) &#123;</div><div class=\"line\">                    <span class=\"keyword\">if</span> (item.isFormField()) &#123; <span class=\"comment\">//表单输入域</span></div><div class=\"line\">                        System.out.<span class=\"keyword\">println</span>(item.getFieldName());</div><div class=\"line\">                    &#125; <span class=\"keyword\">else</span> &#123; <span class=\"comment\">// 文件上传域</span></div><div class=\"line\">                        String name = item.getName();</div><div class=\"line\">                        <span class=\"keyword\">if</span> (!name.equals(<span class=\"string\">\"\"</span>)) &#123;</div><div class=\"line\">                            <span class=\"keyword\">int</span> index = name.indexOf(<span class=\"string\">\"\\\\\"</span>);</div><div class=\"line\">                            <span class=\"keyword\">File</span> uploadedFile;</div><div class=\"line\">                            <span class=\"keyword\">if</span> (index == -<span class=\"number\">1</span>) &#123;</div><div class=\"line\">                                uploadedFile = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(fileUploadPath,</div><div class=\"line\">                                        <span class=\"keyword\">File</span>.separator + name);</div><div class=\"line\">                            &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                                uploadedFile = <span class=\"keyword\">new</span> <span class=\"keyword\">File</span>(fileUploadPath, <span class=\"keyword\">File</span>.separator + name.substring(name.lastIndexOf(<span class=\"keyword\">File</span>.separator) + <span class=\"number\">1</span>));</div><div class=\"line\">                            &#125;</div><div class=\"line\">                            item.<span class=\"keyword\">write</span>(uploadedFile);</div><div class=\"line\">                            JSONObject <span class=\"keyword\">file</span> = <span class=\"keyword\">new</span> JSONObject();</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"name\"</span>, name);</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"size\"</span>, item.getSize());</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"url\"</span>, fileUploadPath + <span class=\"string\">\"/\"</span> + name);</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"deleteType\"</span>, <span class=\"string\">\"post\"</span>);</div><div class=\"line\">                            files.add(<span class=\"keyword\">file</span>);</div><div class=\"line\">                        &#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">                            JSONObject <span class=\"keyword\">file</span> = <span class=\"keyword\">new</span> JSONObject();</div><div class=\"line\">                            <span class=\"keyword\">file</span>.put(<span class=\"string\">\"result\"</span>, <span class=\"string\">\"please choose a file\"</span>);</div><div class=\"line\">                            files.add(<span class=\"keyword\">file</span>);</div><div class=\"line\">                        &#125;</div><div class=\"line\">                    &#125;</div><div class=\"line\">                &#125;</div><div class=\"line\">            &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</div><div class=\"line\">                e.printStackTrace();</div><div class=\"line\">            &#125; <span class=\"keyword\">finally</span> &#123;</div><div class=\"line\">                JSONObject result = <span class=\"keyword\">new</span> JSONObject();</div><div class=\"line\">                result.put(<span class=\"string\">\"files\"</span>, files);</div><div class=\"line\">                printWriter.<span class=\"keyword\">write</span>(result.toString());</div><div class=\"line\">                printWriter.close();</div><div class=\"line\">            &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</div><div class=\"line\">     * 将请求的每个项目封装成单独的文件项目</div><div class=\"line\">     *</div><div class=\"line\">     * @param context    context</div><div class=\"line\">     * @param repository repository</div><div class=\"line\">     * @return DiskFileItemFactory</div><div class=\"line\">     */</span></div><div class=\"line\">    <span class=\"keyword\">private</span> DiskFileItemFactory newDiskFileItemFactory(ServletContext context, <span class=\"keyword\">File</span> repository) &#123;</div><div class=\"line\">        FileCleaningTracker fileCleaningTracker = FileCleanerCleanup.getFileCleaningTracker(context);</div><div class=\"line\">        DiskFileItemFactory factory = <span class=\"keyword\">new</span> DiskFileItemFactory(DiskFileItemFactory.DEFAULT_SIZE_THRESHOLD, repository);</div><div class=\"line\">        factory.setFileCleaningTracker(fileCleaningTracker);</div><div class=\"line\">        <span class=\"keyword\">return</span> factory;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-3-页面\"><a href=\"#2-3-页面\" class=\"headerlink\" title=\"2.3 页面\"></a>2.3 页面</h4><figure class=\"highlight erb\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"xml\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">%</span></span></span><span class=\"ruby\">@page pageEncoding=<span class=\"string\">\"UTF-8\"</span> contentType=<span class=\"string\">\"text/html; charset=UTF-8\"</span> </span><span class=\"xml\"><span class=\"tag\">%&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>文件上传<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">\"FileUploadServlet\"</span> <span class=\"attr\">method</span>=<span class=\"string\">\"post\"</span> <span class=\"attr\">enctype</span>=<span class=\"string\">\"multipart/form-data\"</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"file\"</span> <span class=\"attr\">name</span>=<span class=\"string\">\"file1\"</span>\"&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">\"submit\"</span> <span class=\"attr\">value</span>=<span class=\"string\">\"submit\"</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span></div></pre></td></tr></table></figure>\n<p>看起来清新简单，就不加那么style的修饰了。</p>\n<h3 id=\"三、效果图\"><a href=\"#三、效果图\" class=\"headerlink\" title=\"三、效果图\"></a>三、效果图</h3><p><img src=\"https://image.xiaomo.info/java/java_upload.gif\" alt=\"效果图\"></p>\n<h3 id=\"四、源代码\"><a href=\"#四、源代码\" class=\"headerlink\" title=\"四、源代码\"></a>四、源代码</h3><p><a href=\"https://github.com/java-user/ServletFileUploadDemo\">https://github.com/java-user/ServletFileUploadDemo</a>  需要的朋友自取，随意使用不用客气</p>"},{"author":"小莫","date":"2016-10-27T16:00:00.000Z","title":"Maven 与 IntelliJ IDEA 的完美结合","_content":"你是否正在学习Maven？是否因为Maven难用而又不得不用而苦恼？是否对Eclipse于Maven的冲突而困惑？ 那么我告诉你一个更直接更简单的解决方案: IntelliJ IDEA！\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n### 1. 什么是 Maven，为什么要使用 Maven 而不是 Ant\n\nMaven简单来说是一个项目管理工具，被认为是Ant的替代品或者继任者。事实上Maven的功能要远远超出Ant，它不仅仅提供编译的脚本，更是在整 个项目周期中提供测试，发布，文档生成等功能，并且有着独特的依赖性管理方法。但是强大的功能的代价就是复杂的使用方法，第一次使用Maven往往需要将 近半个小时的时间（国内网速）来下载一个本地的依赖库，这无疑会使很多开发人员“知难而退”。虽然广受诟病，一个不争的事实就是Maven逐渐代替了 Ant，使用Maven也成了Java开发人员的一个必要技能。\n\n### 2. IntelliJ IDEA 与 Eclipse\n\n在Java的世界里，Eclipse毋庸置疑是IDE中的王者，IntelliJ IDEA和NetBeans都只能生活在Eclipse的光环下。Eclipse的强大已经不用我多说了，但其实IntelliJ IDEA也是一个相当优秀的IDE，尤其体现在它的智能上。它的一个针对.Net的Clone产品ReSharper已经被越来越多的C#开发者所接受。 IntelliJ IDEA提供了大量的智能规则来协助开发者，类似代码补全，用法的转换，格式的提示等等，当你习惯以后，你就会对那个小灯泡爱不释手。\n\n### 3. 选择 Maven + IntelliJ IDEA 的理由\n\n之所以要选择IntelliJ IDEA，是因为Maven+Eclipse实在太难用了。Eclipse有两个Maven插件 m2eclipse 和 Eclipse IAM。但是由于Eclipse和Maven设计上的矛盾，这两个插件可能都达不到你想要的效果。m2eclipse 会把你所有类型的项目都视为Maven类型项目，这对于一个单纯的Java项目或许可以，对于一个JEE或者WEB项目都是一场灾难。Eclipse IAM 并不会改变你的项目类型，但是他提供的功能也就仅仅限于编辑和运行POM文件了，甚至连依赖性都管理不了。相比之下，如果你非要用Eclipse的话我还 是推荐你使用Eclipse IAM。Eclipse想要完美的支持Maven恐怕需要在底层设计上做一些改变，无论是代码规范，项目结构规范和依赖性管理上，都有着不可调和的矛盾。 显然，在这方面IntelliJ IDEA做的要好的多，以至于你很难说出对它的不满。\n\n### 4. Maven + IntelliJ IDEA 的优势\n\n#### 一切都是Module：\n\n      IntelliJ IDEA借鉴的Maven的概念，不在采取Eclipse里Project的概念，一切都是Module。无论是否使用Maven，你的项目都是一个独立 的Module。并且你可以混搭使用Maven Module和普通的Java Module，两者可以和谐共存。\n\n#### 支持Multi-module：\n\n      可以说Maven的项目结构设计是非常严格的，现实应用中你必须用到Parent-Child的模式。Eclipse由于不支持在一个Project上建 立Sub-Project，因此无论如何目前都不能实现。IntelliJ IDEA可以完美的实现这个设计，并且无论是Module属性里，还是彼此的依赖性上都不会出现问题。\n\n#### 更方便的生命周期操作：\n\n      比起Eclipse通通放进右键菜单的行为，IntelliJ IDEA有着单独的窗口可以完成Maven的操作。你可以针对不同Module进行 Clean Compile Package Install等操作，各个Plug-in的操作也一清二楚。\n\n#### 完美的依赖性管理：\n\n      由于Maven会把所有依赖的包放在本机的一个目录下，所以实际上是脱离Project本身存在的。IntelliJ IDEA引入了一个External Library的概念，所有的Maven依赖性都会放在这里，和项目自带的库区分开。并且Module之间会智能的判断，你不需要Maven Install来进行引用代码的更新。\n\n#### 动态更新：\n\n      每当Maven相关的设置更改时，例如修改了pom的依赖性，添加删除Module，IntelliJ IDEA会提示你进行更新。这种更新实际上就是运行了Maven，所以你不许要手动运行Maven Compile来进行更新，也不会像Eclipse里遇到莫名其妙的问题。\n\n### 5. Maven 安装\n\n到http://maven.apache.org/download.html 下载最新的Maven版本，我下载的版本为最新的apache-maven-3.0.4。推荐使用最新的Maven 3，因为比以前的Maven 2性能更好，而且完全兼容Maven 2。\n\n下载好以后，解压到一个目录，我的目录为 D:\\apache-maven-3.0.4，接着配置Maven环境变量M2_HOME为你解压的目录，如下图新建M2_HOME变量并追加到Path后面：\n\n如果要在CMD控制台运行Maven命令的话，还需要配置Jdk环境变量，因为我接下来的操作都是基于IntelliJ IDEA，所以就不用配置JDK环境变量。\n\n### 6. Maven 与IntelliJ IDEA完美使用（基于IntelliJ IDEA 12）\n\n打开IntelliJ IDEA，新建一个Maven项目，如下图，项目名称为mymaven\n\n选择Maven模版\n\n创建过程中，配置Maven主目录\n\n创建好后的目录结构如下图，IDEA创建了src/main/resources（自动创建）、src/main/java（手动创建）、src/main/test（手动创建）、以及pom.xml文件（自动创建）\n\n按照Maven约定，项目的主目录位于src/main/resources、src/main/java中，测试目录位于src/main/test 中，所以我们在最终打包项目的时候，只包含主目录代码，不会包含测试目录里的代码，而测试目录里的代码只会在测试时候用到。\n\n最后pom.xml这个文件是我们Maven项目的核心文件，POM(Project Object Model，项目对象模型)定义了项目的基本信息，用于描述项目如何构建，声明项目依赖。\n\nproject：是xml文件的根元素，我们主要关心根元素下的子元素 \nmodelVersion：定义了当前POM模型的版本，Maven 2 或Maven 3 只能是4.0.0 \ngroupId：定义了项目属于哪个组，一般来说这个网网和公司或组织关联，比如说，你所在的公司为mycom.那就应该定义为com.mycom.mymaven，mymaven为项目名称 \nartifactId：定 义了当前Maven项目在组中的唯一id，例如HelloMaven这个项目，我则把他定义为hello-maven，还例如spring项目，他的 groupId为org.springframework，对于content项目来说artifactId则为spring-content，web项 目则为spring-web\n\n最后我们使用IntelliJ IDEA来用Maven编译我们的代码，打开Maven Projects菜单，如图，选中clean、compile并右键点击Run 'hello-maven[clean,compile]'按钮即可。\n\n根据输出结果我们看到，clean命令让Maven先清理target目录，Maven一般认为项目的输出目录为target，然后执行resource任务，现在为定义项目资源，所以暂时略过，最后执行编译任务！ \n","source":"_posts/2016-10-28.Maven 与 IntelliJ IDEA 的完美结合.md","raw":"---\nauthor: 小莫\ndate: 2016-10-28\ntitle:  Maven 与 IntelliJ IDEA 的完美结合\ntags: \n- java\ncategory: java\npermalink: JavaIdeaMaven\n---\n你是否正在学习Maven？是否因为Maven难用而又不得不用而苦恼？是否对Eclipse于Maven的冲突而困惑？ 那么我告诉你一个更直接更简单的解决方案: IntelliJ IDEA！\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n### 1. 什么是 Maven，为什么要使用 Maven 而不是 Ant\n\nMaven简单来说是一个项目管理工具，被认为是Ant的替代品或者继任者。事实上Maven的功能要远远超出Ant，它不仅仅提供编译的脚本，更是在整 个项目周期中提供测试，发布，文档生成等功能，并且有着独特的依赖性管理方法。但是强大的功能的代价就是复杂的使用方法，第一次使用Maven往往需要将 近半个小时的时间（国内网速）来下载一个本地的依赖库，这无疑会使很多开发人员“知难而退”。虽然广受诟病，一个不争的事实就是Maven逐渐代替了 Ant，使用Maven也成了Java开发人员的一个必要技能。\n\n### 2. IntelliJ IDEA 与 Eclipse\n\n在Java的世界里，Eclipse毋庸置疑是IDE中的王者，IntelliJ IDEA和NetBeans都只能生活在Eclipse的光环下。Eclipse的强大已经不用我多说了，但其实IntelliJ IDEA也是一个相当优秀的IDE，尤其体现在它的智能上。它的一个针对.Net的Clone产品ReSharper已经被越来越多的C#开发者所接受。 IntelliJ IDEA提供了大量的智能规则来协助开发者，类似代码补全，用法的转换，格式的提示等等，当你习惯以后，你就会对那个小灯泡爱不释手。\n\n### 3. 选择 Maven + IntelliJ IDEA 的理由\n\n之所以要选择IntelliJ IDEA，是因为Maven+Eclipse实在太难用了。Eclipse有两个Maven插件 m2eclipse 和 Eclipse IAM。但是由于Eclipse和Maven设计上的矛盾，这两个插件可能都达不到你想要的效果。m2eclipse 会把你所有类型的项目都视为Maven类型项目，这对于一个单纯的Java项目或许可以，对于一个JEE或者WEB项目都是一场灾难。Eclipse IAM 并不会改变你的项目类型，但是他提供的功能也就仅仅限于编辑和运行POM文件了，甚至连依赖性都管理不了。相比之下，如果你非要用Eclipse的话我还 是推荐你使用Eclipse IAM。Eclipse想要完美的支持Maven恐怕需要在底层设计上做一些改变，无论是代码规范，项目结构规范和依赖性管理上，都有着不可调和的矛盾。 显然，在这方面IntelliJ IDEA做的要好的多，以至于你很难说出对它的不满。\n\n### 4. Maven + IntelliJ IDEA 的优势\n\n#### 一切都是Module：\n\n      IntelliJ IDEA借鉴的Maven的概念，不在采取Eclipse里Project的概念，一切都是Module。无论是否使用Maven，你的项目都是一个独立 的Module。并且你可以混搭使用Maven Module和普通的Java Module，两者可以和谐共存。\n\n#### 支持Multi-module：\n\n      可以说Maven的项目结构设计是非常严格的，现实应用中你必须用到Parent-Child的模式。Eclipse由于不支持在一个Project上建 立Sub-Project，因此无论如何目前都不能实现。IntelliJ IDEA可以完美的实现这个设计，并且无论是Module属性里，还是彼此的依赖性上都不会出现问题。\n\n#### 更方便的生命周期操作：\n\n      比起Eclipse通通放进右键菜单的行为，IntelliJ IDEA有着单独的窗口可以完成Maven的操作。你可以针对不同Module进行 Clean Compile Package Install等操作，各个Plug-in的操作也一清二楚。\n\n#### 完美的依赖性管理：\n\n      由于Maven会把所有依赖的包放在本机的一个目录下，所以实际上是脱离Project本身存在的。IntelliJ IDEA引入了一个External Library的概念，所有的Maven依赖性都会放在这里，和项目自带的库区分开。并且Module之间会智能的判断，你不需要Maven Install来进行引用代码的更新。\n\n#### 动态更新：\n\n      每当Maven相关的设置更改时，例如修改了pom的依赖性，添加删除Module，IntelliJ IDEA会提示你进行更新。这种更新实际上就是运行了Maven，所以你不许要手动运行Maven Compile来进行更新，也不会像Eclipse里遇到莫名其妙的问题。\n\n### 5. Maven 安装\n\n到http://maven.apache.org/download.html 下载最新的Maven版本，我下载的版本为最新的apache-maven-3.0.4。推荐使用最新的Maven 3，因为比以前的Maven 2性能更好，而且完全兼容Maven 2。\n\n下载好以后，解压到一个目录，我的目录为 D:\\apache-maven-3.0.4，接着配置Maven环境变量M2_HOME为你解压的目录，如下图新建M2_HOME变量并追加到Path后面：\n\n如果要在CMD控制台运行Maven命令的话，还需要配置Jdk环境变量，因为我接下来的操作都是基于IntelliJ IDEA，所以就不用配置JDK环境变量。\n\n### 6. Maven 与IntelliJ IDEA完美使用（基于IntelliJ IDEA 12）\n\n打开IntelliJ IDEA，新建一个Maven项目，如下图，项目名称为mymaven\n\n选择Maven模版\n\n创建过程中，配置Maven主目录\n\n创建好后的目录结构如下图，IDEA创建了src/main/resources（自动创建）、src/main/java（手动创建）、src/main/test（手动创建）、以及pom.xml文件（自动创建）\n\n按照Maven约定，项目的主目录位于src/main/resources、src/main/java中，测试目录位于src/main/test 中，所以我们在最终打包项目的时候，只包含主目录代码，不会包含测试目录里的代码，而测试目录里的代码只会在测试时候用到。\n\n最后pom.xml这个文件是我们Maven项目的核心文件，POM(Project Object Model，项目对象模型)定义了项目的基本信息，用于描述项目如何构建，声明项目依赖。\n\nproject：是xml文件的根元素，我们主要关心根元素下的子元素 \nmodelVersion：定义了当前POM模型的版本，Maven 2 或Maven 3 只能是4.0.0 \ngroupId：定义了项目属于哪个组，一般来说这个网网和公司或组织关联，比如说，你所在的公司为mycom.那就应该定义为com.mycom.mymaven，mymaven为项目名称 \nartifactId：定 义了当前Maven项目在组中的唯一id，例如HelloMaven这个项目，我则把他定义为hello-maven，还例如spring项目，他的 groupId为org.springframework，对于content项目来说artifactId则为spring-content，web项 目则为spring-web\n\n最后我们使用IntelliJ IDEA来用Maven编译我们的代码，打开Maven Projects菜单，如图，选中clean、compile并右键点击Run 'hello-maven[clean,compile]'按钮即可。\n\n根据输出结果我们看到，clean命令让Maven先清理target目录，Maven一般认为项目的输出目录为target，然后执行resource任务，现在为定义项目资源，所以暂时略过，最后执行编译任务！ \n","slug":"JavaIdeaMaven","published":1,"updated":"2016-12-01T06:50:27.697Z","_id":"civ0ggqac0054rwvnnejf3nrn","comments":1,"layout":"post","photos":[],"link":"","content":"<p>你是否正在学习Maven？是否因为Maven难用而又不得不用而苦恼？是否对Eclipse于Maven的冲突而困惑？ 那么我告诉你一个更直接更简单的解决方案: IntelliJ IDEA！<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"1-什么是-Maven，为什么要使用-Maven-而不是-Ant\"><a href=\"#1-什么是-Maven，为什么要使用-Maven-而不是-Ant\" class=\"headerlink\" title=\"1. 什么是 Maven，为什么要使用 Maven 而不是 Ant\"></a>1. 什么是 Maven，为什么要使用 Maven 而不是 Ant</h3><p>Maven简单来说是一个项目管理工具，被认为是Ant的替代品或者继任者。事实上Maven的功能要远远超出Ant，它不仅仅提供编译的脚本，更是在整 个项目周期中提供测试，发布，文档生成等功能，并且有着独特的依赖性管理方法。但是强大的功能的代价就是复杂的使用方法，第一次使用Maven往往需要将 近半个小时的时间（国内网速）来下载一个本地的依赖库，这无疑会使很多开发人员“知难而退”。虽然广受诟病，一个不争的事实就是Maven逐渐代替了 Ant，使用Maven也成了Java开发人员的一个必要技能。</p>\n<h3 id=\"2-IntelliJ-IDEA-与-Eclipse\"><a href=\"#2-IntelliJ-IDEA-与-Eclipse\" class=\"headerlink\" title=\"2. IntelliJ IDEA 与 Eclipse\"></a>2. IntelliJ IDEA 与 Eclipse</h3><p>在Java的世界里，Eclipse毋庸置疑是IDE中的王者，IntelliJ IDEA和NetBeans都只能生活在Eclipse的光环下。Eclipse的强大已经不用我多说了，但其实IntelliJ IDEA也是一个相当优秀的IDE，尤其体现在它的智能上。它的一个针对.Net的Clone产品ReSharper已经被越来越多的C#开发者所接受。 IntelliJ IDEA提供了大量的智能规则来协助开发者，类似代码补全，用法的转换，格式的提示等等，当你习惯以后，你就会对那个小灯泡爱不释手。</p>\n<h3 id=\"3-选择-Maven-IntelliJ-IDEA-的理由\"><a href=\"#3-选择-Maven-IntelliJ-IDEA-的理由\" class=\"headerlink\" title=\"3. 选择 Maven + IntelliJ IDEA 的理由\"></a>3. 选择 Maven + IntelliJ IDEA 的理由</h3><p>之所以要选择IntelliJ IDEA，是因为Maven+Eclipse实在太难用了。Eclipse有两个Maven插件 m2eclipse 和 Eclipse IAM。但是由于Eclipse和Maven设计上的矛盾，这两个插件可能都达不到你想要的效果。m2eclipse 会把你所有类型的项目都视为Maven类型项目，这对于一个单纯的Java项目或许可以，对于一个JEE或者WEB项目都是一场灾难。Eclipse IAM 并不会改变你的项目类型，但是他提供的功能也就仅仅限于编辑和运行POM文件了，甚至连依赖性都管理不了。相比之下，如果你非要用Eclipse的话我还 是推荐你使用Eclipse IAM。Eclipse想要完美的支持Maven恐怕需要在底层设计上做一些改变，无论是代码规范，项目结构规范和依赖性管理上，都有着不可调和的矛盾。 显然，在这方面IntelliJ IDEA做的要好的多，以至于你很难说出对它的不满。</p>\n<h3 id=\"4-Maven-IntelliJ-IDEA-的优势\"><a href=\"#4-Maven-IntelliJ-IDEA-的优势\" class=\"headerlink\" title=\"4. Maven + IntelliJ IDEA 的优势\"></a>4. Maven + IntelliJ IDEA 的优势</h3><h4 id=\"一切都是Module：\"><a href=\"#一切都是Module：\" class=\"headerlink\" title=\"一切都是Module：\"></a>一切都是Module：</h4><pre><code>IntelliJ IDEA借鉴的Maven的概念，不在采取Eclipse里Project的概念，一切都是Module。无论是否使用Maven，你的项目都是一个独立 的Module。并且你可以混搭使用Maven Module和普通的Java Module，两者可以和谐共存。\n</code></pre><h4 id=\"支持Multi-module：\"><a href=\"#支持Multi-module：\" class=\"headerlink\" title=\"支持Multi-module：\"></a>支持Multi-module：</h4><pre><code>可以说Maven的项目结构设计是非常严格的，现实应用中你必须用到Parent-Child的模式。Eclipse由于不支持在一个Project上建 立Sub-Project，因此无论如何目前都不能实现。IntelliJ IDEA可以完美的实现这个设计，并且无论是Module属性里，还是彼此的依赖性上都不会出现问题。\n</code></pre><h4 id=\"更方便的生命周期操作：\"><a href=\"#更方便的生命周期操作：\" class=\"headerlink\" title=\"更方便的生命周期操作：\"></a>更方便的生命周期操作：</h4><pre><code>比起Eclipse通通放进右键菜单的行为，IntelliJ IDEA有着单独的窗口可以完成Maven的操作。你可以针对不同Module进行 Clean Compile Package Install等操作，各个Plug-in的操作也一清二楚。\n</code></pre><h4 id=\"完美的依赖性管理：\"><a href=\"#完美的依赖性管理：\" class=\"headerlink\" title=\"完美的依赖性管理：\"></a>完美的依赖性管理：</h4><pre><code>由于Maven会把所有依赖的包放在本机的一个目录下，所以实际上是脱离Project本身存在的。IntelliJ IDEA引入了一个External Library的概念，所有的Maven依赖性都会放在这里，和项目自带的库区分开。并且Module之间会智能的判断，你不需要Maven Install来进行引用代码的更新。\n</code></pre><h4 id=\"动态更新：\"><a href=\"#动态更新：\" class=\"headerlink\" title=\"动态更新：\"></a>动态更新：</h4><pre><code>每当Maven相关的设置更改时，例如修改了pom的依赖性，添加删除Module，IntelliJ IDEA会提示你进行更新。这种更新实际上就是运行了Maven，所以你不许要手动运行Maven Compile来进行更新，也不会像Eclipse里遇到莫名其妙的问题。\n</code></pre><h3 id=\"5-Maven-安装\"><a href=\"#5-Maven-安装\" class=\"headerlink\" title=\"5. Maven 安装\"></a>5. Maven 安装</h3><p>到<a href=\"http://maven.apache.org/download.html\" target=\"_blank\" rel=\"external\">http://maven.apache.org/download.html</a> 下载最新的Maven版本，我下载的版本为最新的apache-maven-3.0.4。推荐使用最新的Maven 3，因为比以前的Maven 2性能更好，而且完全兼容Maven 2。</p>\n<p>下载好以后，解压到一个目录，我的目录为 D:\\apache-maven-3.0.4，接着配置Maven环境变量M2_HOME为你解压的目录，如下图新建M2_HOME变量并追加到Path后面：</p>\n<p>如果要在CMD控制台运行Maven命令的话，还需要配置Jdk环境变量，因为我接下来的操作都是基于IntelliJ IDEA，所以就不用配置JDK环境变量。</p>\n<h3 id=\"6-Maven-与IntelliJ-IDEA完美使用（基于IntelliJ-IDEA-12）\"><a href=\"#6-Maven-与IntelliJ-IDEA完美使用（基于IntelliJ-IDEA-12）\" class=\"headerlink\" title=\"6. Maven 与IntelliJ IDEA完美使用（基于IntelliJ IDEA 12）\"></a>6. Maven 与IntelliJ IDEA完美使用（基于IntelliJ IDEA 12）</h3><p>打开IntelliJ IDEA，新建一个Maven项目，如下图，项目名称为mymaven</p>\n<p>选择Maven模版</p>\n<p>创建过程中，配置Maven主目录</p>\n<p>创建好后的目录结构如下图，IDEA创建了src/main/resources（自动创建）、src/main/java（手动创建）、src/main/test（手动创建）、以及pom.xml文件（自动创建）</p>\n<p>按照Maven约定，项目的主目录位于src/main/resources、src/main/java中，测试目录位于src/main/test 中，所以我们在最终打包项目的时候，只包含主目录代码，不会包含测试目录里的代码，而测试目录里的代码只会在测试时候用到。</p>\n<p>最后pom.xml这个文件是我们Maven项目的核心文件，POM(Project Object Model，项目对象模型)定义了项目的基本信息，用于描述项目如何构建，声明项目依赖。</p>\n<p>project：是xml文件的根元素，我们主要关心根元素下的子元素<br>modelVersion：定义了当前POM模型的版本，Maven 2 或Maven 3 只能是4.0.0<br>groupId：定义了项目属于哪个组，一般来说这个网网和公司或组织关联，比如说，你所在的公司为mycom.那就应该定义为com.mycom.mymaven，mymaven为项目名称<br>artifactId：定 义了当前Maven项目在组中的唯一id，例如HelloMaven这个项目，我则把他定义为hello-maven，还例如spring项目，他的 groupId为org.springframework，对于content项目来说artifactId则为spring-content，web项 目则为spring-web</p>\n<p>最后我们使用IntelliJ IDEA来用Maven编译我们的代码，打开Maven Projects菜单，如图，选中clean、compile并右键点击Run ‘hello-maven[clean,compile]’按钮即可。</p>\n<p>根据输出结果我们看到，clean命令让Maven先清理target目录，Maven一般认为项目的输出目录为target，然后执行resource任务，现在为定义项目资源，所以暂时略过，最后执行编译任务！ </p>\n","excerpt":"<p>你是否正在学习Maven？是否因为Maven难用而又不得不用而苦恼？是否对Eclipse于Maven的冲突而困惑？ 那么我告诉你一个更直接更简单的解决方案: IntelliJ IDEA！<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"1-什么是-Maven，为什么要使用-Maven-而不是-Ant\"><a href=\"#1-什么是-Maven，为什么要使用-Maven-而不是-Ant\" class=\"headerlink\" title=\"1. 什么是 Maven，为什么要使用 Maven 而不是 Ant\"></a>1. 什么是 Maven，为什么要使用 Maven 而不是 Ant</h3><p>Maven简单来说是一个项目管理工具，被认为是Ant的替代品或者继任者。事实上Maven的功能要远远超出Ant，它不仅仅提供编译的脚本，更是在整 个项目周期中提供测试，发布，文档生成等功能，并且有着独特的依赖性管理方法。但是强大的功能的代价就是复杂的使用方法，第一次使用Maven往往需要将 近半个小时的时间（国内网速）来下载一个本地的依赖库，这无疑会使很多开发人员“知难而退”。虽然广受诟病，一个不争的事实就是Maven逐渐代替了 Ant，使用Maven也成了Java开发人员的一个必要技能。</p>\n<h3 id=\"2-IntelliJ-IDEA-与-Eclipse\"><a href=\"#2-IntelliJ-IDEA-与-Eclipse\" class=\"headerlink\" title=\"2. IntelliJ IDEA 与 Eclipse\"></a>2. IntelliJ IDEA 与 Eclipse</h3><p>在Java的世界里，Eclipse毋庸置疑是IDE中的王者，IntelliJ IDEA和NetBeans都只能生活在Eclipse的光环下。Eclipse的强大已经不用我多说了，但其实IntelliJ IDEA也是一个相当优秀的IDE，尤其体现在它的智能上。它的一个针对.Net的Clone产品ReSharper已经被越来越多的C#开发者所接受。 IntelliJ IDEA提供了大量的智能规则来协助开发者，类似代码补全，用法的转换，格式的提示等等，当你习惯以后，你就会对那个小灯泡爱不释手。</p>\n<h3 id=\"3-选择-Maven-IntelliJ-IDEA-的理由\"><a href=\"#3-选择-Maven-IntelliJ-IDEA-的理由\" class=\"headerlink\" title=\"3. 选择 Maven + IntelliJ IDEA 的理由\"></a>3. 选择 Maven + IntelliJ IDEA 的理由</h3><p>之所以要选择IntelliJ IDEA，是因为Maven+Eclipse实在太难用了。Eclipse有两个Maven插件 m2eclipse 和 Eclipse IAM。但是由于Eclipse和Maven设计上的矛盾，这两个插件可能都达不到你想要的效果。m2eclipse 会把你所有类型的项目都视为Maven类型项目，这对于一个单纯的Java项目或许可以，对于一个JEE或者WEB项目都是一场灾难。Eclipse IAM 并不会改变你的项目类型，但是他提供的功能也就仅仅限于编辑和运行POM文件了，甚至连依赖性都管理不了。相比之下，如果你非要用Eclipse的话我还 是推荐你使用Eclipse IAM。Eclipse想要完美的支持Maven恐怕需要在底层设计上做一些改变，无论是代码规范，项目结构规范和依赖性管理上，都有着不可调和的矛盾。 显然，在这方面IntelliJ IDEA做的要好的多，以至于你很难说出对它的不满。</p>\n<h3 id=\"4-Maven-IntelliJ-IDEA-的优势\"><a href=\"#4-Maven-IntelliJ-IDEA-的优势\" class=\"headerlink\" title=\"4. Maven + IntelliJ IDEA 的优势\"></a>4. Maven + IntelliJ IDEA 的优势</h3><h4 id=\"一切都是Module：\"><a href=\"#一切都是Module：\" class=\"headerlink\" title=\"一切都是Module：\"></a>一切都是Module：</h4><pre><code>IntelliJ IDEA借鉴的Maven的概念，不在采取Eclipse里Project的概念，一切都是Module。无论是否使用Maven，你的项目都是一个独立 的Module。并且你可以混搭使用Maven Module和普通的Java Module，两者可以和谐共存。\n</code></pre><h4 id=\"支持Multi-module：\"><a href=\"#支持Multi-module：\" class=\"headerlink\" title=\"支持Multi-module：\"></a>支持Multi-module：</h4><pre><code>可以说Maven的项目结构设计是非常严格的，现实应用中你必须用到Parent-Child的模式。Eclipse由于不支持在一个Project上建 立Sub-Project，因此无论如何目前都不能实现。IntelliJ IDEA可以完美的实现这个设计，并且无论是Module属性里，还是彼此的依赖性上都不会出现问题。\n</code></pre><h4 id=\"更方便的生命周期操作：\"><a href=\"#更方便的生命周期操作：\" class=\"headerlink\" title=\"更方便的生命周期操作：\"></a>更方便的生命周期操作：</h4><pre><code>比起Eclipse通通放进右键菜单的行为，IntelliJ IDEA有着单独的窗口可以完成Maven的操作。你可以针对不同Module进行 Clean Compile Package Install等操作，各个Plug-in的操作也一清二楚。\n</code></pre><h4 id=\"完美的依赖性管理：\"><a href=\"#完美的依赖性管理：\" class=\"headerlink\" title=\"完美的依赖性管理：\"></a>完美的依赖性管理：</h4><pre><code>由于Maven会把所有依赖的包放在本机的一个目录下，所以实际上是脱离Project本身存在的。IntelliJ IDEA引入了一个External Library的概念，所有的Maven依赖性都会放在这里，和项目自带的库区分开。并且Module之间会智能的判断，你不需要Maven Install来进行引用代码的更新。\n</code></pre><h4 id=\"动态更新：\"><a href=\"#动态更新：\" class=\"headerlink\" title=\"动态更新：\"></a>动态更新：</h4><pre><code>每当Maven相关的设置更改时，例如修改了pom的依赖性，添加删除Module，IntelliJ IDEA会提示你进行更新。这种更新实际上就是运行了Maven，所以你不许要手动运行Maven Compile来进行更新，也不会像Eclipse里遇到莫名其妙的问题。\n</code></pre><h3 id=\"5-Maven-安装\"><a href=\"#5-Maven-安装\" class=\"headerlink\" title=\"5. Maven 安装\"></a>5. Maven 安装</h3><p>到<a href=\"http://maven.apache.org/download.html\">http://maven.apache.org/download.html</a> 下载最新的Maven版本，我下载的版本为最新的apache-maven-3.0.4。推荐使用最新的Maven 3，因为比以前的Maven 2性能更好，而且完全兼容Maven 2。</p>\n<p>下载好以后，解压到一个目录，我的目录为 D:\\apache-maven-3.0.4，接着配置Maven环境变量M2_HOME为你解压的目录，如下图新建M2_HOME变量并追加到Path后面：</p>\n<p>如果要在CMD控制台运行Maven命令的话，还需要配置Jdk环境变量，因为我接下来的操作都是基于IntelliJ IDEA，所以就不用配置JDK环境变量。</p>\n<h3 id=\"6-Maven-与IntelliJ-IDEA完美使用（基于IntelliJ-IDEA-12）\"><a href=\"#6-Maven-与IntelliJ-IDEA完美使用（基于IntelliJ-IDEA-12）\" class=\"headerlink\" title=\"6. Maven 与IntelliJ IDEA完美使用（基于IntelliJ IDEA 12）\"></a>6. Maven 与IntelliJ IDEA完美使用（基于IntelliJ IDEA 12）</h3><p>打开IntelliJ IDEA，新建一个Maven项目，如下图，项目名称为mymaven</p>\n<p>选择Maven模版</p>\n<p>创建过程中，配置Maven主目录</p>\n<p>创建好后的目录结构如下图，IDEA创建了src/main/resources（自动创建）、src/main/java（手动创建）、src/main/test（手动创建）、以及pom.xml文件（自动创建）</p>\n<p>按照Maven约定，项目的主目录位于src/main/resources、src/main/java中，测试目录位于src/main/test 中，所以我们在最终打包项目的时候，只包含主目录代码，不会包含测试目录里的代码，而测试目录里的代码只会在测试时候用到。</p>\n<p>最后pom.xml这个文件是我们Maven项目的核心文件，POM(Project Object Model，项目对象模型)定义了项目的基本信息，用于描述项目如何构建，声明项目依赖。</p>\n<p>project：是xml文件的根元素，我们主要关心根元素下的子元素<br>modelVersion：定义了当前POM模型的版本，Maven 2 或Maven 3 只能是4.0.0<br>groupId：定义了项目属于哪个组，一般来说这个网网和公司或组织关联，比如说，你所在的公司为mycom.那就应该定义为com.mycom.mymaven，mymaven为项目名称<br>artifactId：定 义了当前Maven项目在组中的唯一id，例如HelloMaven这个项目，我则把他定义为hello-maven，还例如spring项目，他的 groupId为org.springframework，对于content项目来说artifactId则为spring-content，web项 目则为spring-web</p>\n<p>最后我们使用IntelliJ IDEA来用Maven编译我们的代码，打开Maven Projects菜单，如图，选中clean、compile并右键点击Run ‘hello-maven[clean,compile]’按钮即可。</p>\n<p>根据输出结果我们看到，clean命令让Maven先清理target目录，Maven一般认为项目的输出目录为target，然后执行resource任务，现在为定义项目资源，所以暂时略过，最后执行编译任务！ </p>"},{"author":"小莫","date":"2016-10-28T16:00:00.000Z","title":"spring boot相关资料","_content":"spring真是让人又爱又恨呢，好用但是难学。spring铺的又太大，不知道从哪入手。整理点资料，免得头晕。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n### 一、spring boot 配置相关\n#### 1. 配置文件\n[properties](http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)\n\n#### 2. spring boot cli 安装和使用\n1. 下载zip压缩包并解压  \n2. 配置环境变量 `SPRING_HONE` , path里加 `%SPRING_HOME%/bin`\n3. `spring --version` 测试是否成功\n4. 帮助 spring --help\n5. 生成项目 spring init project_name\n\n#### 3. [spring boot首页](http://projects.spring.io/spring-boot/)\n\n#### 4.\n\n\n\n### 二、spring boot 常见错误\n\n","source":"_posts/2016-10-29.spring boot 相关资料.md","raw":"---\nauthor: 小莫\ndate: 2016-10-29\ntitle:  spring boot相关资料\ntags: \n- java\ncategory: java\npermalink: JavaSpringZiliao\n---\nspring真是让人又爱又恨呢，好用但是难学。spring铺的又太大，不知道从哪入手。整理点资料，免得头晕。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n### 一、spring boot 配置相关\n#### 1. 配置文件\n[properties](http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)\n\n#### 2. spring boot cli 安装和使用\n1. 下载zip压缩包并解压  \n2. 配置环境变量 `SPRING_HONE` , path里加 `%SPRING_HOME%/bin`\n3. `spring --version` 测试是否成功\n4. 帮助 spring --help\n5. 生成项目 spring init project_name\n\n#### 3. [spring boot首页](http://projects.spring.io/spring-boot/)\n\n#### 4.\n\n\n\n### 二、spring boot 常见错误\n\n","slug":"JavaSpringZiliao","published":1,"updated":"2016-12-01T06:50:26.635Z","_id":"civ0ggqaf0058rwvn4qiphtky","comments":1,"layout":"post","photos":[],"link":"","content":"<p>spring真是让人又爱又恨呢，好用但是难学。spring铺的又太大，不知道从哪入手。整理点资料，免得头晕。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、spring-boot-配置相关\"><a href=\"#一、spring-boot-配置相关\" class=\"headerlink\" title=\"一、spring boot 配置相关\"></a>一、spring boot 配置相关</h3><h4 id=\"1-配置文件\"><a href=\"#1-配置文件\" class=\"headerlink\" title=\"1. 配置文件\"></a>1. 配置文件</h4><p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" target=\"_blank\" rel=\"external\">properties</a></p>\n<h4 id=\"2-spring-boot-cli-安装和使用\"><a href=\"#2-spring-boot-cli-安装和使用\" class=\"headerlink\" title=\"2. spring boot cli 安装和使用\"></a>2. spring boot cli 安装和使用</h4><ol>\n<li>下载zip压缩包并解压  </li>\n<li>配置环境变量 <code>SPRING_HONE</code> , path里加 <code>%SPRING_HOME%/bin</code></li>\n<li><code>spring --version</code> 测试是否成功</li>\n<li>帮助 spring –help</li>\n<li>生成项目 spring init project_name</li>\n</ol>\n<h4 id=\"3-spring-boot首页\"><a href=\"#3-spring-boot首页\" class=\"headerlink\" title=\"3. spring boot首页\"></a>3. <a href=\"http://projects.spring.io/spring-boot/\" target=\"_blank\" rel=\"external\">spring boot首页</a></h4><h4 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4.\"></a>4.</h4><h3 id=\"二、spring-boot-常见错误\"><a href=\"#二、spring-boot-常见错误\" class=\"headerlink\" title=\"二、spring boot 常见错误\"></a>二、spring boot 常见错误</h3>","excerpt":"<p>spring真是让人又爱又恨呢，好用但是难学。spring铺的又太大，不知道从哪入手。整理点资料，免得头晕。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、spring-boot-配置相关\"><a href=\"#一、spring-boot-配置相关\" class=\"headerlink\" title=\"一、spring boot 配置相关\"></a>一、spring boot 配置相关</h3><h4 id=\"1-配置文件\"><a href=\"#1-配置文件\" class=\"headerlink\" title=\"1. 配置文件\"></a>1. 配置文件</h4><p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\">properties</a></p>\n<h4 id=\"2-spring-boot-cli-安装和使用\"><a href=\"#2-spring-boot-cli-安装和使用\" class=\"headerlink\" title=\"2. spring boot cli 安装和使用\"></a>2. spring boot cli 安装和使用</h4><ol>\n<li>下载zip压缩包并解压  </li>\n<li>配置环境变量 <code>SPRING_HONE</code> , path里加 <code>%SPRING_HOME%/bin</code></li>\n<li><code>spring --version</code> 测试是否成功</li>\n<li>帮助 spring –help</li>\n<li>生成项目 spring init project_name</li>\n</ol>\n<h4 id=\"3-spring-boot首页\"><a href=\"#3-spring-boot首页\" class=\"headerlink\" title=\"3. spring boot首页\"></a>3. <a href=\"http://projects.spring.io/spring-boot/\">spring boot首页</a></h4><h4 id=\"4\"><a href=\"#4\" class=\"headerlink\" title=\"4.\"></a>4.</h4><h3 id=\"二、spring-boot-常见错误\"><a href=\"#二、spring-boot-常见错误\" class=\"headerlink\" title=\"二、spring boot 常见错误\"></a>二、spring boot 常见错误</h3>"},{"author":"小莫","date":"2016-10-31T16:00:00.000Z","title":"spring boot做前后分离的跨域问题","_content":"最近在用spring boot 做数据接口供客户端调用时发现存在跨域问题，虽然解决问题有很多。比如用nginx处理等等。但是更方便的是服务端设置一下跨域名。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n### 一、前提\n#### 1. 使用spring boot + maven 构建的项目\n\n### 二、设置\n#### 1. 写一个过滤器(filter)\n实现Filter接口，然后设置一下响应头。\n\n```\npackage info.xiaomo.core.filter;\n\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/syoubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/4/1516:25\n * @Description:\n * @Copyright(©) 2015 by xiaomo.\n **/\n@Component\npublic class CORSFilter implements Filter {\n\n\n    /**\n     * 初始化\n     *\n     * @param filterConfig filterConfig\n     * @throws ServletException ServletException\n     */\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    /**\n     * CORS 过滤器\n     *\n     * @param req   rq\n     * @param res   res\n     * @param chain chin\n     * @throws IOException      IOException\n     * @throws ServletException ServletException\n     */\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) res;\n        response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, If-Modified-Since\");\n        chain.doFilter(req, res);\n    }\n\n\n    /**\n     * 销毁对象\n     */\n    public void destroy() {\n    }\n}\n\n```\n\n#### 2. 在启动器中加入过滤器\n实质就是加了一个`@bean`，然后在启动的时候通过过滤器把所有的响应头设置一下。\n\n```\npackage info.xiaomo.website;\n\nimport info.xiaomo.core.filter.CORSFilter;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/syoubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/4/1 15:38\n * @Description: 后台管理启动器\n * @Copyright(©) 2015 by xiaomo.\n **/\n@Configuration\n@EnableAutoConfiguration\n@ComponentScan(\"info.xiaomo\")\n@EntityScan(\"info.xiaomo.*.model\")\n@EnableTransactionManagement\n@EnableJpaRepositories(\"info.xiaomo.*.dao\")\n@RestController\npublic class XiaomoMain {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(XiaomoMain.class, args);\n    }\n\n    @Bean\n    public CORSFilter corsFilter() {\n        return new CORSFilter();\n    }\n\n    @RequestMapping(\"/\")\n    String index() {\n        return \"Hello World! this is website index\";\n    }\n}\n\n\n```\n\n\n这样一来，客户端就不会存在跨域问题了。","source":"_posts/2016-11-01.spring boot 做前后分离的跨域问题.md","raw":"---\nauthor: 小莫\ndate: 2016-11-01\ntitle:  spring boot做前后分离的跨域问题\ntags: \n- java\ncategory: java\npermalink: JavaSpringBootCors\n---\n最近在用spring boot 做数据接口供客户端调用时发现存在跨域问题，虽然解决问题有很多。比如用nginx处理等等。但是更方便的是服务端设置一下跨域名。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n### 一、前提\n#### 1. 使用spring boot + maven 构建的项目\n\n### 二、设置\n#### 1. 写一个过滤器(filter)\n实现Filter接口，然后设置一下响应头。\n\n```\npackage info.xiaomo.core.filter;\n\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/syoubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/4/1516:25\n * @Description:\n * @Copyright(©) 2015 by xiaomo.\n **/\n@Component\npublic class CORSFilter implements Filter {\n\n\n    /**\n     * 初始化\n     *\n     * @param filterConfig filterConfig\n     * @throws ServletException ServletException\n     */\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    /**\n     * CORS 过滤器\n     *\n     * @param req   rq\n     * @param res   res\n     * @param chain chin\n     * @throws IOException      IOException\n     * @throws ServletException ServletException\n     */\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) res;\n        response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, If-Modified-Since\");\n        chain.doFilter(req, res);\n    }\n\n\n    /**\n     * 销毁对象\n     */\n    public void destroy() {\n    }\n}\n\n```\n\n#### 2. 在启动器中加入过滤器\n实质就是加了一个`@bean`，然后在启动的时候通过过滤器把所有的响应头设置一下。\n\n```\npackage info.xiaomo.website;\n\nimport info.xiaomo.core.filter.CORSFilter;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/syoubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/4/1 15:38\n * @Description: 后台管理启动器\n * @Copyright(©) 2015 by xiaomo.\n **/\n@Configuration\n@EnableAutoConfiguration\n@ComponentScan(\"info.xiaomo\")\n@EntityScan(\"info.xiaomo.*.model\")\n@EnableTransactionManagement\n@EnableJpaRepositories(\"info.xiaomo.*.dao\")\n@RestController\npublic class XiaomoMain {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(XiaomoMain.class, args);\n    }\n\n    @Bean\n    public CORSFilter corsFilter() {\n        return new CORSFilter();\n    }\n\n    @RequestMapping(\"/\")\n    String index() {\n        return \"Hello World! this is website index\";\n    }\n}\n\n\n```\n\n\n这样一来，客户端就不会存在跨域问题了。","slug":"JavaSpringBootCors","published":1,"updated":"2016-12-01T06:50:30.084Z","_id":"civ0ggqah005brwvnsppxdnj1","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近在用spring boot 做数据接口供客户端调用时发现存在跨域问题，虽然解决问题有很多。比如用nginx处理等等。但是更方便的是服务端设置一下跨域名。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、前提\"><a href=\"#一、前提\" class=\"headerlink\" title=\"一、前提\"></a>一、前提</h3><h4 id=\"1-使用spring-boot-maven-构建的项目\"><a href=\"#1-使用spring-boot-maven-构建的项目\" class=\"headerlink\" title=\"1. 使用spring boot + maven 构建的项目\"></a>1. 使用spring boot + maven 构建的项目</h4><h3 id=\"二、设置\"><a href=\"#二、设置\" class=\"headerlink\" title=\"二、设置\"></a>二、设置</h3><h4 id=\"1-写一个过滤器-filter\"><a href=\"#1-写一个过滤器-filter\" class=\"headerlink\" title=\"1. 写一个过滤器(filter)\"></a>1. 写一个过滤器(filter)</h4><p>实现Filter接口，然后设置一下响应头。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.core.filter;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.stereotype.Component;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.*;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * <span class=\"doctag\">@author</span>: xiaomo</div><div class=\"line\"> * <span class=\"doctag\">@github</span>: https://github.com/syoubaku</div><div class=\"line\"> * <span class=\"doctag\">@email</span>: hupengbest@163.com</div><div class=\"line\"> * <span class=\"doctag\">@QQ</span>_NO: 83387856</div><div class=\"line\"> * <span class=\"doctag\">@Date</span>: 2016/4/1516:25</div><div class=\"line\"> * <span class=\"doctag\">@Description</span>:</div><div class=\"line\"> * <span class=\"doctag\">@Copyright</span>(©) 2015 by xiaomo.</div><div class=\"line\"> **/</div><div class=\"line\"><span class=\"meta\">@Component</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CORSFilter</span> <span class=\"keyword\">implements</span> <span class=\"title\">Filter</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</span></div><div class=\"line\">     * 初始化</div><div class=\"line\">     *</div><div class=\"line\">     * <span class=\"doctag\">@param</span> filterConfig filterConfig</div><div class=\"line\">     * <span class=\"doctag\">@throws</span> ServletException ServletException</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">(FilterConfig filterConfig)</span> <span class=\"keyword\">throws</span> ServletException </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</span></div><div class=\"line\">     * CORS 过滤器</div><div class=\"line\">     *</div><div class=\"line\">     * <span class=\"doctag\">@param</span> req   rq</div><div class=\"line\">     * <span class=\"doctag\">@param</span> res   res</div><div class=\"line\">     * <span class=\"doctag\">@param</span> chain chin</div><div class=\"line\">     * <span class=\"doctag\">@throws</span> IOException      IOException</div><div class=\"line\">     * <span class=\"doctag\">@throws</span> ServletException ServletException</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">doFilter</span><span class=\"params\">(ServletRequest req, ServletResponse res, FilterChain chain)</span> <span class=\"keyword\">throws</span> IOException, ServletException </span>&#123;</div><div class=\"line\">        HttpServletResponse response = (HttpServletResponse) res;</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Allow-Origin\"</span>, <span class=\"string\">\"*\"</span>);</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Allow-Methods\"</span>, <span class=\"string\">\"POST, GET, OPTIONS, DELETE\"</span>);</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Max-Age\"</span>, <span class=\"string\">\"3600\"</span>);</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Allow-Headers\"</span>, <span class=\"string\">\"Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, If-Modified-Since\"</span>);</div><div class=\"line\">        chain.doFilter(req, res);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</span></div><div class=\"line\">     * 销毁对象</div><div class=\"line\">     */</div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">destroy</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-在启动器中加入过滤器\"><a href=\"#2-在启动器中加入过滤器\" class=\"headerlink\" title=\"2. 在启动器中加入过滤器\"></a>2. 在启动器中加入过滤器</h4><p>实质就是加了一个<code>@bean</code>，然后在启动的时候通过过滤器把所有的响应头设置一下。</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.website;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> info.xiaomo.core.filter.CORSFilter;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.SpringApplication;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.EnableAutoConfiguration;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.domain.EntityScan;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.<span class=\"keyword\">annotation</span>.Bean;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.<span class=\"keyword\">annotation</span>.ComponentScan;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.<span class=\"keyword\">annotation</span>.Configuration;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.<span class=\"keyword\">data</span>.jpa.repository.config.EnableJpaRepositories;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.transaction.<span class=\"keyword\">annotation</span>.EnableTransactionManagement;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.<span class=\"keyword\">annotation</span>.RequestMapping;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.<span class=\"keyword\">annotation</span>.RestController;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * <span class=\"doctag\">@author</span>: xiaomo</div><div class=\"line\"> * <span class=\"doctag\">@github</span>: https://github.com/syoubaku</div><div class=\"line\"> * <span class=\"doctag\">@email</span>: hupengbest@163.com</div><div class=\"line\"> * <span class=\"doctag\">@QQ</span>_NO: 83387856</div><div class=\"line\"> * <span class=\"doctag\">@Date</span>: 2016/4/1 15:38</div><div class=\"line\"> * <span class=\"doctag\">@Description</span>: 后台管理启动器</div><div class=\"line\"> * <span class=\"doctag\">@Copyright</span>(©) 2015 by xiaomo.</div><div class=\"line\"> **/</div><div class=\"line\"><span class=\"meta\">@Configuration</span></div><div class=\"line\"><span class=\"meta\">@EnableAutoConfiguration</span></div><div class=\"line\"><span class=\"meta\">@ComponentScan(<span class=\"meta-string\">\"info.xiaomo\"</span>)</span></div><div class=\"line\"><span class=\"meta\">@EntityScan(<span class=\"meta-string\">\"info.xiaomo.*.model\"</span>)</span></div><div class=\"line\"><span class=\"meta\">@EnableTransactionManagement</span></div><div class=\"line\"><span class=\"meta\">@EnableJpaRepositories(<span class=\"meta-string\">\"info.xiaomo.*.dao\"</span>)</span></div><div class=\"line\"><span class=\"meta\">@RestController</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XiaomoMain</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">public</span> static void main(String[] args) throws Exception &#123;</div><div class=\"line\">        SpringApplication.run(XiaomoMain.<span class=\"keyword\">class</span>, args);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Bean</span></div><div class=\"line\">    <span class=\"keyword\">public</span> CORSFilter corsFilter() &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> new CORSFilter();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@RequestMapping(<span class=\"meta-string\">\"/\"</span>)</span></div><div class=\"line\">    String index() &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Hello World! this is website index\"</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>这样一来，客户端就不会存在跨域问题了。</p>\n","excerpt":"<p>最近在用spring boot 做数据接口供客户端调用时发现存在跨域问题，虽然解决问题有很多。比如用nginx处理等等。但是更方便的是服务端设置一下跨域名。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、前提\"><a href=\"#一、前提\" class=\"headerlink\" title=\"一、前提\"></a>一、前提</h3><h4 id=\"1-使用spring-boot-maven-构建的项目\"><a href=\"#1-使用spring-boot-maven-构建的项目\" class=\"headerlink\" title=\"1. 使用spring boot + maven 构建的项目\"></a>1. 使用spring boot + maven 构建的项目</h4><h3 id=\"二、设置\"><a href=\"#二、设置\" class=\"headerlink\" title=\"二、设置\"></a>二、设置</h3><h4 id=\"1-写一个过滤器-filter\"><a href=\"#1-写一个过滤器-filter\" class=\"headerlink\" title=\"1. 写一个过滤器(filter)\"></a>1. 写一个过滤器(filter)</h4><p>实现Filter接口，然后设置一下响应头。</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.core.filter;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.stereotype.Component;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.*;</div><div class=\"line\"><span class=\"keyword\">import</span> javax.servlet.http.HttpServletResponse;</div><div class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * <span class=\"doctag\">@author</span>: xiaomo</div><div class=\"line\"> * <span class=\"doctag\">@github</span>: https://github.com/syoubaku</div><div class=\"line\"> * <span class=\"doctag\">@email</span>: hupengbest@163.com</div><div class=\"line\"> * <span class=\"doctag\">@QQ</span>_NO: 83387856</div><div class=\"line\"> * <span class=\"doctag\">@Date</span>: 2016/4/1516:25</div><div class=\"line\"> * <span class=\"doctag\">@Description</span>:</div><div class=\"line\"> * <span class=\"doctag\">@Copyright</span>(©) 2015 by xiaomo.</div><div class=\"line\"> **/</span></div><div class=\"line\"><span class=\"meta\">@Component</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CORSFilter</span> <span class=\"keyword\">implements</span> <span class=\"title\">Filter</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</div><div class=\"line\">     * 初始化</div><div class=\"line\">     *</div><div class=\"line\">     * <span class=\"doctag\">@param</span> filterConfig filterConfig</div><div class=\"line\">     * <span class=\"doctag\">@throws</span> ServletException ServletException</div><div class=\"line\">     */</span></div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">init</span><span class=\"params\">(FilterConfig filterConfig)</span> <span class=\"keyword\">throws</span> ServletException </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</div><div class=\"line\">     * CORS 过滤器</div><div class=\"line\">     *</div><div class=\"line\">     * <span class=\"doctag\">@param</span> req   rq</div><div class=\"line\">     * <span class=\"doctag\">@param</span> res   res</div><div class=\"line\">     * <span class=\"doctag\">@param</span> chain chin</div><div class=\"line\">     * <span class=\"doctag\">@throws</span> IOException      IOException</div><div class=\"line\">     * <span class=\"doctag\">@throws</span> ServletException ServletException</div><div class=\"line\">     */</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">doFilter</span><span class=\"params\">(ServletRequest req, ServletResponse res, FilterChain chain)</span> <span class=\"keyword\">throws</span> IOException, ServletException </span>&#123;</div><div class=\"line\">        HttpServletResponse response = (HttpServletResponse) res;</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Allow-Origin\"</span>, <span class=\"string\">\"*\"</span>);</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Allow-Methods\"</span>, <span class=\"string\">\"POST, GET, OPTIONS, DELETE\"</span>);</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Max-Age\"</span>, <span class=\"string\">\"3600\"</span>);</div><div class=\"line\">        response.setHeader(<span class=\"string\">\"Access-Control-Allow-Headers\"</span>, <span class=\"string\">\"Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, If-Modified-Since\"</span>);</div><div class=\"line\">        chain.doFilter(req, res);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    <span class=\"comment\">/**</div><div class=\"line\">     * 销毁对象</div><div class=\"line\">     */</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">destroy</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h4 id=\"2-在启动器中加入过滤器\"><a href=\"#2-在启动器中加入过滤器\" class=\"headerlink\" title=\"2. 在启动器中加入过滤器\"></a>2. 在启动器中加入过滤器</h4><p>实质就是加了一个<code>@bean</code>，然后在启动的时候通过过滤器把所有的响应头设置一下。</p>\n<figure class=\"highlight kotlin\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.website;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> info.xiaomo.core.filter.CORSFilter;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.SpringApplication;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.EnableAutoConfiguration;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.boot.autoconfigure.domain.EntityScan;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.<span class=\"keyword\">annotation</span>.Bean;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.<span class=\"keyword\">annotation</span>.ComponentScan;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.<span class=\"keyword\">annotation</span>.Configuration;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.<span class=\"keyword\">data</span>.jpa.repository.config.EnableJpaRepositories;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.transaction.<span class=\"keyword\">annotation</span>.EnableTransactionManagement;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.<span class=\"keyword\">annotation</span>.RequestMapping;</div><div class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.<span class=\"keyword\">annotation</span>.RestController;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * <span class=\"doctag\">@author</span>: xiaomo</div><div class=\"line\"> * <span class=\"doctag\">@github</span>: https://github.com/syoubaku</div><div class=\"line\"> * <span class=\"doctag\">@email</span>: hupengbest@163.com</div><div class=\"line\"> * <span class=\"doctag\">@QQ</span>_NO: 83387856</div><div class=\"line\"> * <span class=\"doctag\">@Date</span>: 2016/4/1 15:38</div><div class=\"line\"> * <span class=\"doctag\">@Description</span>: 后台管理启动器</div><div class=\"line\"> * <span class=\"doctag\">@Copyright</span>(©) 2015 by xiaomo.</div><div class=\"line\"> **/</span></div><div class=\"line\"><span class=\"meta\">@Configuration</span></div><div class=\"line\"><span class=\"meta\">@EnableAutoConfiguration</span></div><div class=\"line\"><span class=\"meta\">@ComponentScan(<span class=\"meta-string\">\"info.xiaomo\"</span>)</span></div><div class=\"line\"><span class=\"meta\">@EntityScan(<span class=\"meta-string\">\"info.xiaomo.*.model\"</span>)</span></div><div class=\"line\"><span class=\"meta\">@EnableTransactionManagement</span></div><div class=\"line\"><span class=\"meta\">@EnableJpaRepositories(<span class=\"meta-string\">\"info.xiaomo.*.dao\"</span>)</span></div><div class=\"line\"><span class=\"meta\">@RestController</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">XiaomoMain</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"keyword\">public</span> static void main(String[] args) throws Exception &#123;</div><div class=\"line\">        SpringApplication.run(XiaomoMain.<span class=\"keyword\">class</span>, args);</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Bean</span></div><div class=\"line\">    <span class=\"keyword\">public</span> CORSFilter corsFilter() &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> new CORSFilter();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@RequestMapping(<span class=\"meta-string\">\"/\"</span>)</span></div><div class=\"line\">    String index() &#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Hello World! this is website index\"</span>;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>这样一来，客户端就不会存在跨域问题了。</p>"},{"author":"小莫","date":"2016-11-01T16:00:00.000Z","title":"spring boot做前后分离时间格式化","_content":"最近在用spring boot 做数据接口时难免遇到时间这类的问题，接口原则：能服务端处理的别留给客户端。客户端的职责就是把服务端的数据完美的展现出来就好了。所以在返回时间的时候最好先进行一下格式化处理，不要返回时间戳格式。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n### 一、写一个`Serializer`\n\n然后做一个时间格式化的处理\n\n```\npackage info.xiaomo.core.filter;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class CustomDateSerializer extends JsonSerializer<Date> {\n\n    @Override\n    public void serialize(Date value, JsonGenerator jsonGenerator, SerializerProvider provider) throws IOException {\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        jsonGenerator.writeString(sdf.format(value));\n    }\n}\n\n```\n\n\n### 二、 使用\n在需要转换的时间的Model中加上这个类,仔细观察下面代码中类型为`Date`的属性\n\n\n```\npackage info.xiaomo.core.model.base;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport info.xiaomo.core.filter.CustomDateSerializer;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/syoubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/4/1 20:37\n * @Description: model基类\n * @Copyright(©) 2015 by xiaomo.\n **/\n\n@MappedSuperclass\npublic abstract class BaseModel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"Id\")\n    private long id;\n\n    @Version\n    @Column(name = \"Version\")\n    private long version;\n\n    @JsonSerialize(using = CustomDateSerializer.class)\n    @Column(name = \"CreateTime\")\n    private Date createTime;\n\n    @JsonSerialize(using = CustomDateSerializer.class)\n    @Column(name = \"UpdateTime\")\n    private Date updateTime;\n\n    public Date getUpdateTime() {\n        return updateTime;\n    }\n\n    public void setUpdateTime(Date updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public long getVersion() {\n        return version;\n    }\n\n    public void setVersion(long version) {\n        this.version = version;\n    }\n\n    public Date getCreateTime() {\n        return createTime;\n    }\n\n    public void setCreateTime(Date createTime) {\n        this.createTime = createTime;\n    }\n}\n\n```","source":"_posts/2016-11-02.spring boot 做前后分离时间格式化.md","raw":"---\nauthor: 小莫\ndate: 2016-11-02\ntitle:  spring boot做前后分离时间格式化\ntags: \n- java\ncategory: java\npermalink: JavaSpringBootDataFormat\n---\n最近在用spring boot 做数据接口时难免遇到时间这类的问题，接口原则：能服务端处理的别留给客户端。客户端的职责就是把服务端的数据完美的展现出来就好了。所以在返回时间的时候最好先进行一下格式化处理，不要返回时间戳格式。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n### 一、写一个`Serializer`\n\n然后做一个时间格式化的处理\n\n```\npackage info.xiaomo.core.filter;\n\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\n\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class CustomDateSerializer extends JsonSerializer<Date> {\n\n    @Override\n    public void serialize(Date value, JsonGenerator jsonGenerator, SerializerProvider provider) throws IOException {\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n        jsonGenerator.writeString(sdf.format(value));\n    }\n}\n\n```\n\n\n### 二、 使用\n在需要转换的时间的Model中加上这个类,仔细观察下面代码中类型为`Date`的属性\n\n\n```\npackage info.xiaomo.core.model.base;\n\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport info.xiaomo.core.filter.CustomDateSerializer;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n/**\n * 把今天最好的表现当作明天最新的起点．．～\n * いま 最高の表現 として 明日最新の始発．．～\n * Today the best performance  as tomorrow newest starter!\n * Created by IntelliJ IDEA.\n *\n * @author: xiaomo\n * @github: https://github.com/syoubaku\n * @email: hupengbest@163.com\n * @QQ_NO: 83387856\n * @Date: 2016/4/1 20:37\n * @Description: model基类\n * @Copyright(©) 2015 by xiaomo.\n **/\n\n@MappedSuperclass\npublic abstract class BaseModel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"Id\")\n    private long id;\n\n    @Version\n    @Column(name = \"Version\")\n    private long version;\n\n    @JsonSerialize(using = CustomDateSerializer.class)\n    @Column(name = \"CreateTime\")\n    private Date createTime;\n\n    @JsonSerialize(using = CustomDateSerializer.class)\n    @Column(name = \"UpdateTime\")\n    private Date updateTime;\n\n    public Date getUpdateTime() {\n        return updateTime;\n    }\n\n    public void setUpdateTime(Date updateTime) {\n        this.updateTime = updateTime;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public long getVersion() {\n        return version;\n    }\n\n    public void setVersion(long version) {\n        this.version = version;\n    }\n\n    public Date getCreateTime() {\n        return createTime;\n    }\n\n    public void setCreateTime(Date createTime) {\n        this.createTime = createTime;\n    }\n}\n\n```","slug":"JavaSpringBootDataFormat","published":1,"updated":"2016-12-01T06:50:27.964Z","_id":"civ0ggqam005frwvn2zx9daqt","comments":1,"layout":"post","photos":[],"link":"","content":"<p>最近在用spring boot 做数据接口时难免遇到时间这类的问题，接口原则：能服务端处理的别留给客户端。客户端的职责就是把服务端的数据完美的展现出来就好了。所以在返回时间的时候最好先进行一下格式化处理，不要返回时间戳格式。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、写一个Serializer\"><a href=\"#一、写一个Serializer\" class=\"headerlink\" title=\"一、写一个Serializer\"></a>一、写一个<code>Serializer</code></h3><p>然后做一个时间格式化的处理</p>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.core.filter;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.core.<span class=\"type\">JsonGenerator</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.databind.<span class=\"type\">JsonSerializer</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.databind.<span class=\"type\">SerializerProvider</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> java.text.<span class=\"type\">SimpleDateFormat</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">Date</span>;</div><div class=\"line\"></div><div class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CustomDateSerializer</span> <span class=\"keyword\">extends</span> <span class=\"title\">JsonSerializer&lt;Date&gt;</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    public void serialize(<span class=\"type\">Date</span> value, <span class=\"type\">JsonGenerator</span> jsonGenerator, <span class=\"type\">SerializerProvider</span> provider) <span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</div><div class=\"line\">        <span class=\"type\">SimpleDateFormat</span> sdf = <span class=\"keyword\">new</span> <span class=\"type\">SimpleDateFormat</span>(<span class=\"string\">\"yyyy-MM-dd HH:mm:ss\"</span>);</div><div class=\"line\">        jsonGenerator.writeString(sdf.format(value));</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、-使用\"><a href=\"#二、-使用\" class=\"headerlink\" title=\"二、 使用\"></a>二、 使用</h3><p>在需要转换的时间的Model中加上这个类,仔细观察下面代码中类型为<code>Date</code>的属性</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.core.model.base;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.databind.annotation.JsonSerialize;</div><div class=\"line\"><span class=\"keyword\">import</span> info.xiaomo.core.filter.CustomDateSerializer;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> javax.persistence.*;</div><div class=\"line\"><span class=\"keyword\">import</span> java.util.Date;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</span></div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * <span class=\"doctag\">@author</span>: xiaomo</div><div class=\"line\"> * <span class=\"doctag\">@github</span>: https://github.com/syoubaku</div><div class=\"line\"> * <span class=\"doctag\">@email</span>: hupengbest@163.com</div><div class=\"line\"> * <span class=\"doctag\">@QQ</span>_NO: 83387856</div><div class=\"line\"> * <span class=\"doctag\">@Date</span>: 2016/4/1 20:37</div><div class=\"line\"> * <span class=\"doctag\">@Description</span>: model基类</div><div class=\"line\"> * <span class=\"doctag\">@Copyright</span>(©) 2015 by xiaomo.</div><div class=\"line\"> **/</div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@MappedSuperclass</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BaseModel</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Id</span></div><div class=\"line\">    <span class=\"meta\">@GeneratedValue</span>(strategy = GenerationType.AUTO)</div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"Id\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Version</span></div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"Version\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> version;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@JsonSerialize</span>(using = CustomDateSerializer.class)</div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"CreateTime\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> Date createTime;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@JsonSerialize</span>(using = CustomDateSerializer.class)</div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"UpdateTime\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> Date updateTime;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Date <span class=\"title\">getUpdateTime</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> updateTime;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setUpdateTime</span><span class=\"params\">(Date updateTime)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.updateTime = updateTime;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">getId</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setId</span><span class=\"params\">(<span class=\"keyword\">long</span> id)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.id = id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">getVersion</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> version;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setVersion</span><span class=\"params\">(<span class=\"keyword\">long</span> version)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.version = version;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Date <span class=\"title\">getCreateTime</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> createTime;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setCreateTime</span><span class=\"params\">(Date createTime)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.createTime = createTime;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","excerpt":"<p>最近在用spring boot 做数据接口时难免遇到时间这类的问题，接口原则：能服务端处理的别留给客户端。客户端的职责就是把服务端的数据完美的展现出来就好了。所以在返回时间的时候最好先进行一下格式化处理，不要返回时间戳格式。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、写一个Serializer\"><a href=\"#一、写一个Serializer\" class=\"headerlink\" title=\"一、写一个Serializer\"></a>一、写一个<code>Serializer</code></h3><p>然后做一个时间格式化的处理</p>\n<figure class=\"highlight scala\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.core.filter;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.core.<span class=\"type\">JsonGenerator</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.databind.<span class=\"type\">JsonSerializer</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.databind.<span class=\"type\">SerializerProvider</span>;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> java.io.<span class=\"type\">IOException</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> java.text.<span class=\"type\">SimpleDateFormat</span>;</div><div class=\"line\"><span class=\"keyword\">import</span> java.util.<span class=\"type\">Date</span>;</div><div class=\"line\"></div><div class=\"line\">public <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CustomDateSerializer</span> <span class=\"keyword\">extends</span> <span class=\"title\">JsonSerializer&lt;Date&gt;</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Override</span></div><div class=\"line\">    public void serialize(<span class=\"type\">Date</span> value, <span class=\"type\">JsonGenerator</span> jsonGenerator, <span class=\"type\">SerializerProvider</span> provider) <span class=\"keyword\">throws</span> <span class=\"type\">IOException</span> &#123;</div><div class=\"line\">        <span class=\"type\">SimpleDateFormat</span> sdf = <span class=\"keyword\">new</span> <span class=\"type\">SimpleDateFormat</span>(<span class=\"string\">\"yyyy-MM-dd HH:mm:ss\"</span>);</div><div class=\"line\">        jsonGenerator.writeString(sdf.format(value));</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、-使用\"><a href=\"#二、-使用\" class=\"headerlink\" title=\"二、 使用\"></a>二、 使用</h3><p>在需要转换的时间的Model中加上这个类,仔细观察下面代码中类型为<code>Date</code>的属性</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div><div class=\"line\">59</div><div class=\"line\">60</div><div class=\"line\">61</div><div class=\"line\">62</div><div class=\"line\">63</div><div class=\"line\">64</div><div class=\"line\">65</div><div class=\"line\">66</div><div class=\"line\">67</div><div class=\"line\">68</div><div class=\"line\">69</div><div class=\"line\">70</div><div class=\"line\">71</div><div class=\"line\">72</div><div class=\"line\">73</div><div class=\"line\">74</div><div class=\"line\">75</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">package</span> info.xiaomo.core.model.base;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> com.fasterxml.jackson.databind.annotation.JsonSerialize;</div><div class=\"line\"><span class=\"keyword\">import</span> info.xiaomo.core.filter.CustomDateSerializer;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">import</span> javax.persistence.*;</div><div class=\"line\"><span class=\"keyword\">import</span> java.util.Date;</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">/**</div><div class=\"line\"> * 把今天最好的表现当作明天最新的起点．．～</div><div class=\"line\"> * いま 最高の表現 として 明日最新の始発．．～</div><div class=\"line\"> * Today the best performance  as tomorrow newest starter!</div><div class=\"line\"> * Created by IntelliJ IDEA.</div><div class=\"line\"> *</div><div class=\"line\"> * <span class=\"doctag\">@author</span>: xiaomo</div><div class=\"line\"> * <span class=\"doctag\">@github</span>: https://github.com/syoubaku</div><div class=\"line\"> * <span class=\"doctag\">@email</span>: hupengbest@163.com</div><div class=\"line\"> * <span class=\"doctag\">@QQ</span>_NO: 83387856</div><div class=\"line\"> * <span class=\"doctag\">@Date</span>: 2016/4/1 20:37</div><div class=\"line\"> * <span class=\"doctag\">@Description</span>: model基类</div><div class=\"line\"> * <span class=\"doctag\">@Copyright</span>(©) 2015 by xiaomo.</div><div class=\"line\"> **/</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@MappedSuperclass</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">BaseModel</span> </span>&#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Id</span></div><div class=\"line\">    <span class=\"meta\">@GeneratedValue</span>(strategy = GenerationType.AUTO)</div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"Id\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> id;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@Version</span></div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"Version\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">long</span> version;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@JsonSerialize</span>(using = CustomDateSerializer.class)</div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"CreateTime\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> Date createTime;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"meta\">@JsonSerialize</span>(using = CustomDateSerializer.class)</div><div class=\"line\">    <span class=\"meta\">@Column</span>(name = <span class=\"string\">\"UpdateTime\"</span>)</div><div class=\"line\">    <span class=\"keyword\">private</span> Date updateTime;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Date <span class=\"title\">getUpdateTime</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> updateTime;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setUpdateTime</span><span class=\"params\">(Date updateTime)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.updateTime = updateTime;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">getId</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setId</span><span class=\"params\">(<span class=\"keyword\">long</span> id)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.id = id;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">long</span> <span class=\"title\">getVersion</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> version;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setVersion</span><span class=\"params\">(<span class=\"keyword\">long</span> version)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.version = version;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Date <span class=\"title\">getCreateTime</span><span class=\"params\">()</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">return</span> createTime;</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">setCreateTime</span><span class=\"params\">(Date createTime)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">this</span>.createTime = createTime;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>"},{"author":"小莫","date":"2016-11-06T16:00:00.000Z","title":"日本动漫声优公演,来看看什么叫专业声优","_content":"日本动漫声优公演,来看看什么叫专业声优\n<!-- more -->\n![1](https://image.xiaomo.info/banner/fujisann.png)\n\n<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0\" width=\"400\" height=\"325\"><param name=\"movie\" value=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" /><param name=\"quality\" value=\"high\" /><param name=\"allowScriptAccess\" value=\"always\" /><embed src=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" quality=\"high\"  allowScriptAccess=\"always\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"400\" height=\"325\"></embed></object>","source":"_posts/2016-11-07.日本动漫声优公演,来看看什么叫专业声优.md","raw":"---\nauthor: 小莫\ndate: 2016-11-07\ntitle:  日本动漫声优公演,来看看什么叫专业声优\ntags: \n- 动漫\ncategory: 生活\npermalink: NihonSeiyou\n---\n日本动漫声优公演,来看看什么叫专业声优\n<!-- more -->\n![1](https://image.xiaomo.info/banner/fujisann.png)\n\n<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0\" width=\"400\" height=\"325\"><param name=\"movie\" value=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" /><param name=\"quality\" value=\"high\" /><param name=\"allowScriptAccess\" value=\"always\" /><embed src=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" quality=\"high\"  allowScriptAccess=\"always\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"400\" height=\"325\"></embed></object>","slug":"NihonSeiyou","published":1,"updated":"2016-12-01T06:50:27.933Z","_id":"civ7sk1hx0000p8vnjzc73zi4","comments":1,"layout":"post","photos":[],"link":"","content":"<p>日本动漫声优公演,来看看什么叫专业声优<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/fujisann.png\" alt=\"1\"></p>\n<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0\" width=\"400\" height=\"325\"><param name=\"movie\" value=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\"><param name=\"quality\" value=\"high\"><param name=\"allowScriptAccess\" value=\"always\"><embed src=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" quality=\"high\" allowscriptaccess=\"always\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"400\" height=\"325\"></object>","excerpt":"<p>日本动漫声优公演,来看看什么叫专业声优<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/fujisann.png\" alt=\"1\"></p>\n<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0\" width=\"400\" height=\"325\"><param name=\"movie\" value=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" /><param name=\"quality\" value=\"high\" /><param name=\"allowScriptAccess\" value=\"always\" /><embed src=\"http://v.ifeng.com/include/exterior.swf?guid=01da2f75-03cd-4300-b7bc-08bbff884af5&pageurl=http://www.ifeng.com&fromweb=other&AutoPlay=false\" quality=\"high\"  allowScriptAccess=\"always\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" type=\"application/x-shockwave-flash\" width=\"400\" height=\"325\"></embed></object>"},{"author":"小莫","date":"2016-11-07T16:00:00.000Z","title":"lombok简化java代码注解的使用","_content":"今天在stackoverflow上回答问题的时候发现了几个不得了的注解，是我从来没有见过的。然后呢，为了回答别人的问题，我就去查资料了。。。觉得挺有用的，记录一下。。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n### 一、缘由\n在`stackoverflow`上看到了这个问题。 [spring boot RestController not work with lombok](https://stackoverflow.com/questions/40169763/spring-boot-restcontroller-not-work-with-lombok/40478142#40478142),然后就有了这篇博客。。\n\n### 二、lombok是什么鬼\n\n#### 1. maven引用\n\n```\n<!-- https://mvnrepository.com/artifact/org.projectlombok/lombok -->\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <version>1.16.10</version>\n</dependency>\n\n```\n\n#### 2. 一些api\nombok 注解：\nlombok 提供的注解不多，可以参考官方视频的讲解和官方文档。\nLombok 注解在线帮助文档：http://projectlombok.org/features/index.html .\n下面介绍几个我常用的 lombok 注解：\n`@Data`   ：注解在类上；提供类所有属性的 getting 和 setting 方法，此外还提供了equals、canEqual、hashCode、toString 方法\n`@Setter`：注解在属性上；为属性提供 setting 方法\n`@Getter`：注解在属性上；为属性提供 getting 方法\n`@Log4j` ：注解在类上；为类提供一个 属性名为log 的 log4j 日志对象\n`@NoArgsConstructor`：注解在类上；为类提供一个无参的构造方法\n`@AllArgsConstructor`：注解在类上；为类提供一个全参的构造方法\n\n下面是简单示例\n\n```\n    \n    @Data                   // 生成 getter/setter/equals/canEqual/hashCode/toString\n    @NoArgsConstructor      // 为类提供一个无参的构造方法\n    @AllArgsConstructor     // 为类提供一个全参的构造方法\n    public class Person {\n    \n     private String id;\n     private String name;\n     private String identity;\n     private Logger log = Logger.getLogger(Person.class);\n    }\n```\n\n\n不使用 lombok 的方案\n\n\n```\n    public class Person {\n    \n      private String id;\n     private String name;\n     private String identity;\n     private Logger log = Logger.getLogger(Person.class);\n    \n     public Person() {\n    \n    }\n    \n    public Person(String id, String name, String identity) {\n        this.id              = id;\n        this.name       = name;\n        this.identity  = identity;\n    }\n    \n    public String getId() {\n        return id;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getIdentity() {\n        return identity;\n    }\n    \n    public void setId(String id) {\n        this.id = id;\n    }\n    \n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    public void setIdentity(String identity) {\n        this.identity = identity;\n    }\n    }\n```\n\n### 二、实践结果\n我发现`stackoverflow`的那个伙计代码写的并没有问题，我把他的代码粘到我本地运行没有一点卡壳。倒不如说他教会了我lombok，在此感谢一下。。嘿嘿","source":"_posts/2016-11-08.lombok 简化java代码注解 理解.md","raw":"---\nauthor: 小莫\ndate: 2016-11-08\ntitle:  lombok简化java代码注解的使用\ntags: \n- java\ncategory: java\npermalink: JavaLombok\n---\n今天在stackoverflow上回答问题的时候发现了几个不得了的注解，是我从来没有见过的。然后呢，为了回答别人的问题，我就去查资料了。。。觉得挺有用的，记录一下。。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n### 一、缘由\n在`stackoverflow`上看到了这个问题。 [spring boot RestController not work with lombok](https://stackoverflow.com/questions/40169763/spring-boot-restcontroller-not-work-with-lombok/40478142#40478142),然后就有了这篇博客。。\n\n### 二、lombok是什么鬼\n\n#### 1. maven引用\n\n```\n<!-- https://mvnrepository.com/artifact/org.projectlombok/lombok -->\n<dependency>\n    <groupId>org.projectlombok</groupId>\n    <artifactId>lombok</artifactId>\n    <version>1.16.10</version>\n</dependency>\n\n```\n\n#### 2. 一些api\nombok 注解：\nlombok 提供的注解不多，可以参考官方视频的讲解和官方文档。\nLombok 注解在线帮助文档：http://projectlombok.org/features/index.html .\n下面介绍几个我常用的 lombok 注解：\n`@Data`   ：注解在类上；提供类所有属性的 getting 和 setting 方法，此外还提供了equals、canEqual、hashCode、toString 方法\n`@Setter`：注解在属性上；为属性提供 setting 方法\n`@Getter`：注解在属性上；为属性提供 getting 方法\n`@Log4j` ：注解在类上；为类提供一个 属性名为log 的 log4j 日志对象\n`@NoArgsConstructor`：注解在类上；为类提供一个无参的构造方法\n`@AllArgsConstructor`：注解在类上；为类提供一个全参的构造方法\n\n下面是简单示例\n\n```\n    \n    @Data                   // 生成 getter/setter/equals/canEqual/hashCode/toString\n    @NoArgsConstructor      // 为类提供一个无参的构造方法\n    @AllArgsConstructor     // 为类提供一个全参的构造方法\n    public class Person {\n    \n     private String id;\n     private String name;\n     private String identity;\n     private Logger log = Logger.getLogger(Person.class);\n    }\n```\n\n\n不使用 lombok 的方案\n\n\n```\n    public class Person {\n    \n      private String id;\n     private String name;\n     private String identity;\n     private Logger log = Logger.getLogger(Person.class);\n    \n     public Person() {\n    \n    }\n    \n    public Person(String id, String name, String identity) {\n        this.id              = id;\n        this.name       = name;\n        this.identity  = identity;\n    }\n    \n    public String getId() {\n        return id;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getIdentity() {\n        return identity;\n    }\n    \n    public void setId(String id) {\n        this.id = id;\n    }\n    \n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    public void setIdentity(String identity) {\n        this.identity = identity;\n    }\n    }\n```\n\n### 二、实践结果\n我发现`stackoverflow`的那个伙计代码写的并没有问题，我把他的代码粘到我本地运行没有一点卡壳。倒不如说他教会了我lombok，在此感谢一下。。嘿嘿","slug":"JavaLombok","published":1,"updated":"2016-12-01T06:50:27.492Z","_id":"civ8wt5hn0000kgvnxqr8wtoq","comments":1,"layout":"post","photos":[],"link":"","content":"<p>今天在stackoverflow上回答问题的时候发现了几个不得了的注解，是我从来没有见过的。然后呢，为了回答别人的问题，我就去查资料了。。。觉得挺有用的，记录一下。。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、缘由\"><a href=\"#一、缘由\" class=\"headerlink\" title=\"一、缘由\"></a>一、缘由</h3><p>在<code>stackoverflow</code>上看到了这个问题。 <a href=\"https://stackoverflow.com/questions/40169763/spring-boot-restcontroller-not-work-with-lombok/40478142#40478142\" target=\"_blank\" rel=\"external\">spring boot RestController not work with lombok</a>,然后就有了这篇博客。。</p>\n<h3 id=\"二、lombok是什么鬼\"><a href=\"#二、lombok是什么鬼\" class=\"headerlink\" title=\"二、lombok是什么鬼\"></a>二、lombok是什么鬼</h3><h4 id=\"1-maven引用\"><a href=\"#1-maven引用\" class=\"headerlink\" title=\"1. maven引用\"></a>1. maven引用</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.projectlombok<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>lombok<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.16.10<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-一些api\"><a href=\"#2-一些api\" class=\"headerlink\" title=\"2. 一些api\"></a>2. 一些api</h4><p>ombok 注解：<br>lombok 提供的注解不多，可以参考官方视频的讲解和官方文档。<br>Lombok 注解在线帮助文档：<a href=\"http://projectlombok.org/features/index.html\" target=\"_blank\" rel=\"external\">http://projectlombok.org/features/index.html</a> .<br>下面介绍几个我常用的 lombok 注解：<br><code>@Data</code>   ：注解在类上；提供类所有属性的 getting 和 setting 方法，此外还提供了equals、canEqual、hashCode、toString 方法<br><code>@Setter</code>：注解在属性上；为属性提供 setting 方法<br><code>@Getter</code>：注解在属性上；为属性提供 getting 方法<br><code>@Log4j</code> ：注解在类上；为类提供一个 属性名为log 的 log4j 日志对象<br><code>@NoArgsConstructor</code>：注解在类上；为类提供一个无参的构造方法<br><code>@AllArgsConstructor</code>：注解在类上；为类提供一个全参的构造方法</p>\n<p>下面是简单示例</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@Data</span>                   <span class=\"comment\">// 生成 getter/setter/equals/canEqual/hashCode/toString</span></div><div class=\"line\"><span class=\"meta\">@NoArgsConstructor</span>      <span class=\"comment\">// 为类提供一个无参的构造方法</span></div><div class=\"line\"><span class=\"meta\">@AllArgsConstructor</span>     <span class=\"comment\">// 为类提供一个全参的构造方法</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> &#123;</span></div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">private</span> String id;</div><div class=\"line\"> <span class=\"keyword\">private</span> String name;</div><div class=\"line\"> <span class=\"keyword\">private</span> String identity;</div><div class=\"line\"> <span class=\"keyword\">private</span> Logger log = Logger.getLogger(Person.<span class=\"keyword\">class</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>不使用 lombok 的方案</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> Person &#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> id;</div><div class=\"line\"> <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> name;</div><div class=\"line\"> <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> identity;</div><div class=\"line\"> <span class=\"keyword\">private</span> Logger log = Logger.getLogger(Person.<span class=\"keyword\">class</span>);</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">public</span> Person() &#123;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> Person(<span class=\"keyword\">String</span> id, <span class=\"keyword\">String</span> name, <span class=\"keyword\">String</span> identity) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.id              = id;</div><div class=\"line\">    <span class=\"keyword\">this</span>.name       = name;</div><div class=\"line\">    <span class=\"keyword\">this</span>.identity  = identity;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">String</span> getId() &#123;</div><div class=\"line\">    <span class=\"built_in\">return</span> id;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">String</span> getName() &#123;</div><div class=\"line\">    <span class=\"built_in\">return</span> name;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">String</span> getIdentity() &#123;</div><div class=\"line\">    <span class=\"built_in\">return</span> identity;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setId(<span class=\"keyword\">String</span> id) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.id = id;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setName(<span class=\"keyword\">String</span> name) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.name = name;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setIdentity(<span class=\"keyword\">String</span> identity) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.identity = identity;</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、实践结果\"><a href=\"#二、实践结果\" class=\"headerlink\" title=\"二、实践结果\"></a>二、实践结果</h3><p>我发现<code>stackoverflow</code>的那个伙计代码写的并没有问题，我把他的代码粘到我本地运行没有一点卡壳。倒不如说他教会了我lombok，在此感谢一下。。嘿嘿</p>\n","excerpt":"<p>今天在stackoverflow上回答问题的时候发现了几个不得了的注解，是我从来没有见过的。然后呢，为了回答别人的问题，我就去查资料了。。。觉得挺有用的，记录一下。。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、缘由\"><a href=\"#一、缘由\" class=\"headerlink\" title=\"一、缘由\"></a>一、缘由</h3><p>在<code>stackoverflow</code>上看到了这个问题。 <a href=\"https://stackoverflow.com/questions/40169763/spring-boot-restcontroller-not-work-with-lombok/40478142#40478142\">spring boot RestController not work with lombok</a>,然后就有了这篇博客。。</p>\n<h3 id=\"二、lombok是什么鬼\"><a href=\"#二、lombok是什么鬼\" class=\"headerlink\" title=\"二、lombok是什么鬼\"></a>二、lombok是什么鬼</h3><h4 id=\"1-maven引用\"><a href=\"#1-maven引用\" class=\"headerlink\" title=\"1. maven引用\"></a>1. maven引用</h4><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.projectlombok<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>lombok<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>1.16.10<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div></pre></td></tr></table></figure>\n<h4 id=\"2-一些api\"><a href=\"#2-一些api\" class=\"headerlink\" title=\"2. 一些api\"></a>2. 一些api</h4><p>ombok 注解：<br>lombok 提供的注解不多，可以参考官方视频的讲解和官方文档。<br>Lombok 注解在线帮助文档：<a href=\"http://projectlombok.org/features/index.html\">http://projectlombok.org/features/index.html</a> .<br>下面介绍几个我常用的 lombok 注解：<br><code>@Data</code>   ：注解在类上；提供类所有属性的 getting 和 setting 方法，此外还提供了equals、canEqual、hashCode、toString 方法<br><code>@Setter</code>：注解在属性上；为属性提供 setting 方法<br><code>@Getter</code>：注解在属性上；为属性提供 getting 方法<br><code>@Log4j</code> ：注解在类上；为类提供一个 属性名为log 的 log4j 日志对象<br><code>@NoArgsConstructor</code>：注解在类上；为类提供一个无参的构造方法<br><code>@AllArgsConstructor</code>：注解在类上；为类提供一个全参的构造方法</p>\n<p>下面是简单示例</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"></div><div class=\"line\"><span class=\"meta\">@Data</span>                   <span class=\"comment\">// 生成 getter/setter/equals/canEqual/hashCode/toString</span></div><div class=\"line\"><span class=\"meta\">@NoArgsConstructor</span>      <span class=\"comment\">// 为类提供一个无参的构造方法</span></div><div class=\"line\"><span class=\"meta\">@AllArgsConstructor</span>     <span class=\"comment\">// 为类提供一个全参的构造方法</span></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Person</span> &#123;</span></div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">private</span> String id;</div><div class=\"line\"> <span class=\"keyword\">private</span> String name;</div><div class=\"line\"> <span class=\"keyword\">private</span> String identity;</div><div class=\"line\"> <span class=\"keyword\">private</span> Logger log = Logger.getLogger(Person.<span class=\"keyword\">class</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>不使用 lombok 的方案</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> Person &#123;</div><div class=\"line\"></div><div class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> id;</div><div class=\"line\"> <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> name;</div><div class=\"line\"> <span class=\"keyword\">private</span> <span class=\"keyword\">String</span> identity;</div><div class=\"line\"> <span class=\"keyword\">private</span> Logger log = Logger.getLogger(Person.<span class=\"keyword\">class</span>);</div><div class=\"line\"></div><div class=\"line\"> <span class=\"keyword\">public</span> Person() &#123;</div><div class=\"line\"></div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> Person(<span class=\"keyword\">String</span> id, <span class=\"keyword\">String</span> name, <span class=\"keyword\">String</span> identity) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.id              = id;</div><div class=\"line\">    <span class=\"keyword\">this</span>.name       = name;</div><div class=\"line\">    <span class=\"keyword\">this</span>.identity  = identity;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">String</span> getId() &#123;</div><div class=\"line\">    <span class=\"built_in\">return</span> id;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">String</span> getName() &#123;</div><div class=\"line\">    <span class=\"built_in\">return</span> name;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">String</span> getIdentity() &#123;</div><div class=\"line\">    <span class=\"built_in\">return</span> identity;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setId(<span class=\"keyword\">String</span> id) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.id = id;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setName(<span class=\"keyword\">String</span> name) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.name = name;</div><div class=\"line\">&#125;</div><div class=\"line\"></div><div class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setIdentity(<span class=\"keyword\">String</span> identity) &#123;</div><div class=\"line\">    <span class=\"keyword\">this</span>.identity = identity;</div><div class=\"line\">&#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"二、实践结果\"><a href=\"#二、实践结果\" class=\"headerlink\" title=\"二、实践结果\"></a>二、实践结果</h3><p>我发现<code>stackoverflow</code>的那个伙计代码写的并没有问题，我把他的代码粘到我本地运行没有一点卡壳。倒不如说他教会了我lombok，在此感谢一下。。嘿嘿</p>"},{"author":"小莫","date":"2016-11-07T16:00:00.000Z","title":"spring4免费全套视频教程","_content":"废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。\n[国内第1套_Spring4 视频教程](http://edu.csdn.net/course/detail/852/)","source":"_posts/2016-11-09.spring4免费全套视频教程.md","raw":"---\nauthor: 小莫\ndate: 2016-11-08\ntitle:  spring4免费全套视频教程\ntags: \n- java\ncategory: java\npermalink: JavaSpringVideo\n---\n废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。\n[国内第1套_Spring4 视频教程](http://edu.csdn.net/course/detail/852/)","slug":"JavaSpringVideo","published":1,"updated":"2016-12-01T06:50:27.092Z","_id":"civ95c50m00000svn2oolzq4f","comments":1,"layout":"post","photos":[],"link":"","content":"<p>废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<p>废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。<br><a href=\"http://edu.csdn.net/course/detail/852/\" target=\"_blank\" rel=\"external\">国内第1套_Spring4 视频教程</a></p>\n","excerpt":"<p>废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<p>废话不多说，直接上链接。给自己打个mark,如果你需要学习spring又正好转到这里来了，那么恭喜你。<br><a href=\"http://edu.csdn.net/course/detail/852/\">国内第1套_Spring4 视频教程</a></p>"},{"author":"小莫","date":"2016-11-10T16:00:00.000Z","title":"swagger ui和spring boot集成生成api文档","_content":"曾经一度我一直想在做前后端分离的时间写api接口是一个痛苦的过程，虽然也在网上找了一些可以填写api的系统，但使用起来总是不尽人意。现在，终于找到一款可以和api完美集成自动生成api文档加测试的工具，真是一件让人高兴的事呢。如果你也需要，那就好好看看这篇文章吧。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n### 一、环境\n#### 1. JAVA8\n#### 2. MAVEN 3.0.5\n#### 3. IDEA 2016.2.5\n#### 4. spring boot 1.4.1\n\n### 二、相关依赖\n\n```\n            <dependency>\n                <groupId>io.springfox</groupId>\n                <artifactId>springfox-swagger-ui</artifactId>\n                <version>2.2.2</version>\n            </dependency>\n\n            <dependency>\n                <groupId>io.springfox</groupId>\n                <artifactId>springfox-swagger2</artifactId>\n                <version>2.2.2</version>\n            </dependency>\n```\n\n### 三、配置\n设置了一些默认显示的api相关信息，最后上截图的时就可以比较清楚的看到。\n\n```\n@Configuration\n@EnableSwagger2\npublic class Swagger2Config {\n\n    @Bean\n    public Docket createRestApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(\"info.xiaomo.website\"))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(\"Spring Boot中使用Swagger2构建RESTful APIs\")\n                .description(\"api根地址：http://api.xiaomo.info:8080/\")\n                .termsOfServiceUrl(\"https://blog.xiaomo.info/\")\n                .contact(\"小莫\")\n                .version(\"1.0\")\n                .build();\n    }\n}\n\n```\n\n### 四、相关注解解读\n\n#### 1. @Api\n用在类上，说明该类的作用\n`@Api(value = \"UserController\", description = \"用户相关api\")`\n#### 2. @ApiOperation\n用在方法上，说明方法的作用\n`@ApiOperation(value = \"查找用户\", notes = \"查找用户\", httpMethod = \"GET\", produces = MediaType.APPLICATION_JSON_UTF8_VALUE)`\n#### 3 @ApiImplicitParams\n用在方法上包含一组参数说明\n#### 4. @ApiImplicitParam\n用在@ApiImplicitParams注解中，指定一个请求参数的各个方面\n     paramType：参数放在哪个地方\n     header-->请求参数的获取：@RequestHeader\n     query-->请求参数的获取：@RequestParam\n     path（用于restful接口）-->请求参数的获取：@PathVariable\n     body（不常用）\n     form（不常用）\n     name：参数名\n     dataType：参数类型\n     required：参数是否必须传\n     value：参数的意思\n     defaultValue：参数的默认值\n\n```\n @ApiImplicitParams({\n         @ApiImplicitParam(name = \"id\", value = \"唯一id\", required = true, dataType = \"Long\", paramType = \"path\"),\n })\n```\n\n#### 5. @ApiResponses\n用于表示一组响应\n#### 6. @ApiResponse\n用在@ApiResponses中，一般用于表达一个错误的响应信息\n     code：数字，例如400\n     message：信息，例如\"请求参数没填好\"\n     response：抛出异常的类\n     \n```\n  @ApiResponses(value = {  \n            @ApiResponse(code = 400, message = \"No Name Provided\")  \n    }) \n```\n     \n#### 7. @ApiModel\n 描述一个Model的信息（这种一般用在post创建的时候，使用@RequestBody这样的场景，请求参数无法使用@ApiImplicitParam注解进行描述的时候）\n `@ApiModel(value = \"用户实体类\")`\n#### 8. @ApiModelProperty\n描述一个model的属性\n`@ApiModelProperty(value = \"登录用户\")`\n\n#### 五、 和Swagger UI的集成 \n首先，从github [swagger-ui](https://github.com/swagger-api/swagger-ui) 上下载Swagger-UI, 把该项目dist目录下的内容拷贝到项目的resources的目录public下。\n\n#### 六、访问\nhttp://localhost:8080/swagger-ui.html 就可以看到效果如下\n![](https://image.xiaomo.info/banner/swagger.png)\n\n#### 七、 项目实例\nhttps://github.com/JavaUsers/xiaomo-info-java/tree/master/website\n\n\n\n","source":"_posts/2016-11-11.swagger ui生成api文档.md","raw":"---\nauthor: 小莫\ndate: 2016-11-11\ntitle: swagger ui和spring boot集成生成api文档\ntags: \n- java\ncategory: java\npermalink: JavaSpringBootSwaggerUi\n---\n曾经一度我一直想在做前后端分离的时间写api接口是一个痛苦的过程，虽然也在网上找了一些可以填写api的系统，但使用起来总是不尽人意。现在，终于找到一款可以和api完美集成自动生成api文档加测试的工具，真是一件让人高兴的事呢。如果你也需要，那就好好看看这篇文章吧。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/java_banner.png)\n\n### 一、环境\n#### 1. JAVA8\n#### 2. MAVEN 3.0.5\n#### 3. IDEA 2016.2.5\n#### 4. spring boot 1.4.1\n\n### 二、相关依赖\n\n```\n            <dependency>\n                <groupId>io.springfox</groupId>\n                <artifactId>springfox-swagger-ui</artifactId>\n                <version>2.2.2</version>\n            </dependency>\n\n            <dependency>\n                <groupId>io.springfox</groupId>\n                <artifactId>springfox-swagger2</artifactId>\n                <version>2.2.2</version>\n            </dependency>\n```\n\n### 三、配置\n设置了一些默认显示的api相关信息，最后上截图的时就可以比较清楚的看到。\n\n```\n@Configuration\n@EnableSwagger2\npublic class Swagger2Config {\n\n    @Bean\n    public Docket createRestApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(\"info.xiaomo.website\"))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder()\n                .title(\"Spring Boot中使用Swagger2构建RESTful APIs\")\n                .description(\"api根地址：http://api.xiaomo.info:8080/\")\n                .termsOfServiceUrl(\"https://blog.xiaomo.info/\")\n                .contact(\"小莫\")\n                .version(\"1.0\")\n                .build();\n    }\n}\n\n```\n\n### 四、相关注解解读\n\n#### 1. @Api\n用在类上，说明该类的作用\n`@Api(value = \"UserController\", description = \"用户相关api\")`\n#### 2. @ApiOperation\n用在方法上，说明方法的作用\n`@ApiOperation(value = \"查找用户\", notes = \"查找用户\", httpMethod = \"GET\", produces = MediaType.APPLICATION_JSON_UTF8_VALUE)`\n#### 3 @ApiImplicitParams\n用在方法上包含一组参数说明\n#### 4. @ApiImplicitParam\n用在@ApiImplicitParams注解中，指定一个请求参数的各个方面\n     paramType：参数放在哪个地方\n     header-->请求参数的获取：@RequestHeader\n     query-->请求参数的获取：@RequestParam\n     path（用于restful接口）-->请求参数的获取：@PathVariable\n     body（不常用）\n     form（不常用）\n     name：参数名\n     dataType：参数类型\n     required：参数是否必须传\n     value：参数的意思\n     defaultValue：参数的默认值\n\n```\n @ApiImplicitParams({\n         @ApiImplicitParam(name = \"id\", value = \"唯一id\", required = true, dataType = \"Long\", paramType = \"path\"),\n })\n```\n\n#### 5. @ApiResponses\n用于表示一组响应\n#### 6. @ApiResponse\n用在@ApiResponses中，一般用于表达一个错误的响应信息\n     code：数字，例如400\n     message：信息，例如\"请求参数没填好\"\n     response：抛出异常的类\n     \n```\n  @ApiResponses(value = {  \n            @ApiResponse(code = 400, message = \"No Name Provided\")  \n    }) \n```\n     \n#### 7. @ApiModel\n 描述一个Model的信息（这种一般用在post创建的时候，使用@RequestBody这样的场景，请求参数无法使用@ApiImplicitParam注解进行描述的时候）\n `@ApiModel(value = \"用户实体类\")`\n#### 8. @ApiModelProperty\n描述一个model的属性\n`@ApiModelProperty(value = \"登录用户\")`\n\n#### 五、 和Swagger UI的集成 \n首先，从github [swagger-ui](https://github.com/swagger-api/swagger-ui) 上下载Swagger-UI, 把该项目dist目录下的内容拷贝到项目的resources的目录public下。\n\n#### 六、访问\nhttp://localhost:8080/swagger-ui.html 就可以看到效果如下\n![](https://image.xiaomo.info/banner/swagger.png)\n\n#### 七、 项目实例\nhttps://github.com/JavaUsers/xiaomo-info-java/tree/master/website\n\n\n\n","slug":"JavaSpringBootSwaggerUi","published":1,"updated":"2016-12-01T06:50:25.941Z","_id":"civdgv75k0000ssvniq5g6jcv","comments":1,"layout":"post","photos":[],"link":"","content":"<p>曾经一度我一直想在做前后端分离的时间写api接口是一个痛苦的过程，虽然也在网上找了一些可以填写api的系统，但使用起来总是不尽人意。现在，终于找到一款可以和api完美集成自动生成api文档加测试的工具，真是一件让人高兴的事呢。如果你也需要，那就好好看看这篇文章吧。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、环境\"><a href=\"#一、环境\" class=\"headerlink\" title=\"一、环境\"></a>一、环境</h3><h4 id=\"1-JAVA8\"><a href=\"#1-JAVA8\" class=\"headerlink\" title=\"1. JAVA8\"></a>1. JAVA8</h4><h4 id=\"2-MAVEN-3-0-5\"><a href=\"#2-MAVEN-3-0-5\" class=\"headerlink\" title=\"2. MAVEN 3.0.5\"></a>2. MAVEN 3.0.5</h4><h4 id=\"3-IDEA-2016-2-5\"><a href=\"#3-IDEA-2016-2-5\" class=\"headerlink\" title=\"3. IDEA 2016.2.5\"></a>3. IDEA 2016.2.5</h4><h4 id=\"4-spring-boot-1-4-1\"><a href=\"#4-spring-boot-1-4-1\" class=\"headerlink\" title=\"4. spring boot 1.4.1\"></a>4. spring boot 1.4.1</h4><h3 id=\"二、相关依赖\"><a href=\"#二、相关依赖\" class=\"headerlink\" title=\"二、相关依赖\"></a>二、相关依赖</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>io.springfox<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springfox-swagger-ui<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.2.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>io.springfox<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springfox-swagger2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.2.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"三、配置\"><a href=\"#三、配置\" class=\"headerlink\" title=\"三、配置\"></a>三、配置</h3><p>设置了一些默认显示的api相关信息，最后上截图的时就可以比较清楚的看到。</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@Configuration</span></div><div class=\"line\"><span class=\"variable\">@EnableSwagger2</span></div><div class=\"line\">public class Swagger2Config &#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"variable\">@Bean</span></div><div class=\"line\">    public Docket createRestApi() &#123;</div><div class=\"line\">        <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">new</span> <span class=\"selector-tag\">Docket</span>(DocumentationType.SWAGGER_2)</div><div class=\"line\">                <span class=\"selector-class\">.apiInfo</span>(apiInfo())</div><div class=\"line\">                <span class=\"selector-class\">.select</span>()</div><div class=\"line\">                <span class=\"selector-class\">.apis</span>(RequestHandlerSelectors.basePackage(<span class=\"string\">\"info.xiaomo.website\"</span>))</div><div class=\"line\">                <span class=\"selector-class\">.paths</span>(PathSelectors.any())</div><div class=\"line\">                <span class=\"selector-class\">.build</span>();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"selector-tag\">private</span> <span class=\"selector-tag\">ApiInfo</span> <span class=\"selector-tag\">apiInfo</span>() &#123;</div><div class=\"line\">        <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">new</span> <span class=\"selector-tag\">ApiInfoBuilder</span>()</div><div class=\"line\">                <span class=\"selector-class\">.title</span>(<span class=\"string\">\"Spring Boot中使用Swagger2构建RESTful APIs\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.description</span>(<span class=\"string\">\"api根地址：http://api.xiaomo.info:8080/\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.termsOfServiceUrl</span>(<span class=\"string\">\"https://blog.xiaomo.info/\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.contact</span>(<span class=\"string\">\"小莫\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.version</span>(<span class=\"string\">\"1.0\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.build</span>();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"四、相关注解解读\"><a href=\"#四、相关注解解读\" class=\"headerlink\" title=\"四、相关注解解读\"></a>四、相关注解解读</h3><h4 id=\"1-Api\"><a href=\"#1-Api\" class=\"headerlink\" title=\"1. @Api\"></a>1. @Api</h4><p>用在类上，说明该类的作用<br><code>@Api(value = &quot;UserController&quot;, description = &quot;用户相关api&quot;)</code></p>\n<h4 id=\"2-ApiOperation\"><a href=\"#2-ApiOperation\" class=\"headerlink\" title=\"2. @ApiOperation\"></a>2. @ApiOperation</h4><p>用在方法上，说明方法的作用<br><code>@ApiOperation(value = &quot;查找用户&quot;, notes = &quot;查找用户&quot;, httpMethod = &quot;GET&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)</code></p>\n<h4 id=\"3-ApiImplicitParams\"><a href=\"#3-ApiImplicitParams\" class=\"headerlink\" title=\"3 @ApiImplicitParams\"></a>3 @ApiImplicitParams</h4><p>用在方法上包含一组参数说明</p>\n<h4 id=\"4-ApiImplicitParam\"><a href=\"#4-ApiImplicitParam\" class=\"headerlink\" title=\"4. @ApiImplicitParam\"></a>4. @ApiImplicitParam</h4><p>用在@ApiImplicitParams注解中，指定一个请求参数的各个方面<br>     paramType：参数放在哪个地方<br>     header–&gt;请求参数的获取：@RequestHeader<br>     query–&gt;请求参数的获取：@RequestParam<br>     path（用于restful接口）–&gt;请求参数的获取：@PathVariable<br>     body（不常用）<br>     form（不常用）<br>     name：参数名<br>     dataType：参数类型<br>     required：参数是否必须传<br>     value：参数的意思<br>     defaultValue：参数的默认值</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@ApiImplicitParams</span>(&#123;</div><div class=\"line\">        <span class=\"variable\">@ApiImplicitParam</span>(name = <span class=\"string\">\"id\"</span>, value = <span class=\"string\">\"唯一id\"</span>, required = true, dataType = <span class=\"string\">\"Long\"</span>, paramType = <span class=\"string\">\"path\"</span>),</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"5-ApiResponses\"><a href=\"#5-ApiResponses\" class=\"headerlink\" title=\"5. @ApiResponses\"></a>5. @ApiResponses</h4><p>用于表示一组响应</p>\n<h4 id=\"6-ApiResponse\"><a href=\"#6-ApiResponse\" class=\"headerlink\" title=\"6. @ApiResponse\"></a>6. @ApiResponse</h4><p>用在@ApiResponses中，一般用于表达一个错误的响应信息<br>     code：数字，例如400<br>     message：信息，例如”请求参数没填好”<br>     response：抛出异常的类</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@ApiResponses</span>(value = &#123;  </div><div class=\"line\">          <span class=\"variable\">@ApiResponse</span>(code = <span class=\"number\">400</span>, message = <span class=\"string\">\"No Name Provided\"</span>)  </div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"7-ApiModel\"><a href=\"#7-ApiModel\" class=\"headerlink\" title=\"7. @ApiModel\"></a>7. @ApiModel</h4><p> 描述一个Model的信息（这种一般用在post创建的时候，使用@RequestBody这样的场景，请求参数无法使用@ApiImplicitParam注解进行描述的时候）<br> <code>@ApiModel(value = &quot;用户实体类&quot;)</code></p>\n<h4 id=\"8-ApiModelProperty\"><a href=\"#8-ApiModelProperty\" class=\"headerlink\" title=\"8. @ApiModelProperty\"></a>8. @ApiModelProperty</h4><p>描述一个model的属性<br><code>@ApiModelProperty(value = &quot;登录用户&quot;)</code></p>\n<h4 id=\"五、-和Swagger-UI的集成\"><a href=\"#五、-和Swagger-UI的集成\" class=\"headerlink\" title=\"五、 和Swagger UI的集成\"></a>五、 和Swagger UI的集成</h4><p>首先，从github <a href=\"https://github.com/swagger-api/swagger-ui\" target=\"_blank\" rel=\"external\">swagger-ui</a> 上下载Swagger-UI, 把该项目dist目录下的内容拷贝到项目的resources的目录public下。</p>\n<h4 id=\"六、访问\"><a href=\"#六、访问\" class=\"headerlink\" title=\"六、访问\"></a>六、访问</h4><p><a href=\"http://localhost:8080/swagger-ui.html\" target=\"_blank\" rel=\"external\">http://localhost:8080/swagger-ui.html</a> 就可以看到效果如下<br><img src=\"https://image.xiaomo.info/banner/swagger.png\" alt=\"\"></p>\n<h4 id=\"七、-项目实例\"><a href=\"#七、-项目实例\" class=\"headerlink\" title=\"七、 项目实例\"></a>七、 项目实例</h4><p><a href=\"https://github.com/JavaUsers/xiaomo-info-java/tree/master/website\" target=\"_blank\" rel=\"external\">https://github.com/JavaUsers/xiaomo-info-java/tree/master/website</a></p>\n","excerpt":"<p>曾经一度我一直想在做前后端分离的时间写api接口是一个痛苦的过程，虽然也在网上找了一些可以填写api的系统，但使用起来总是不尽人意。现在，终于找到一款可以和api完美集成自动生成api文档加测试的工具，真是一件让人高兴的事呢。如果你也需要，那就好好看看这篇文章吧。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/java_banner.png\" alt=\"1\"></p>\n<h3 id=\"一、环境\"><a href=\"#一、环境\" class=\"headerlink\" title=\"一、环境\"></a>一、环境</h3><h4 id=\"1-JAVA8\"><a href=\"#1-JAVA8\" class=\"headerlink\" title=\"1. JAVA8\"></a>1. JAVA8</h4><h4 id=\"2-MAVEN-3-0-5\"><a href=\"#2-MAVEN-3-0-5\" class=\"headerlink\" title=\"2. MAVEN 3.0.5\"></a>2. MAVEN 3.0.5</h4><h4 id=\"3-IDEA-2016-2-5\"><a href=\"#3-IDEA-2016-2-5\" class=\"headerlink\" title=\"3. IDEA 2016.2.5\"></a>3. IDEA 2016.2.5</h4><h4 id=\"4-spring-boot-1-4-1\"><a href=\"#4-spring-boot-1-4-1\" class=\"headerlink\" title=\"4. spring boot 1.4.1\"></a>4. spring boot 1.4.1</h4><h3 id=\"二、相关依赖\"><a href=\"#二、相关依赖\" class=\"headerlink\" title=\"二、相关依赖\"></a>二、相关依赖</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>io.springfox<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springfox-swagger-ui<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.2.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>io.springfox<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springfox-swagger2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></div><div class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.2.2<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></div><div class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></div></pre></td></tr></table></figure>\n<h3 id=\"三、配置\"><a href=\"#三、配置\" class=\"headerlink\" title=\"三、配置\"></a>三、配置</h3><p>设置了一些默认显示的api相关信息，最后上截图的时就可以比较清楚的看到。</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@Configuration</span></div><div class=\"line\"><span class=\"variable\">@EnableSwagger2</span></div><div class=\"line\">public class Swagger2Config &#123;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"variable\">@Bean</span></div><div class=\"line\">    public Docket createRestApi() &#123;</div><div class=\"line\">        <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">new</span> <span class=\"selector-tag\">Docket</span>(DocumentationType.SWAGGER_2)</div><div class=\"line\">                <span class=\"selector-class\">.apiInfo</span>(apiInfo())</div><div class=\"line\">                <span class=\"selector-class\">.select</span>()</div><div class=\"line\">                <span class=\"selector-class\">.apis</span>(RequestHandlerSelectors.basePackage(<span class=\"string\">\"info.xiaomo.website\"</span>))</div><div class=\"line\">                <span class=\"selector-class\">.paths</span>(PathSelectors.any())</div><div class=\"line\">                <span class=\"selector-class\">.build</span>();</div><div class=\"line\">    &#125;</div><div class=\"line\"></div><div class=\"line\">    <span class=\"selector-tag\">private</span> <span class=\"selector-tag\">ApiInfo</span> <span class=\"selector-tag\">apiInfo</span>() &#123;</div><div class=\"line\">        <span class=\"selector-tag\">return</span> <span class=\"selector-tag\">new</span> <span class=\"selector-tag\">ApiInfoBuilder</span>()</div><div class=\"line\">                <span class=\"selector-class\">.title</span>(<span class=\"string\">\"Spring Boot中使用Swagger2构建RESTful APIs\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.description</span>(<span class=\"string\">\"api根地址：http://api.xiaomo.info:8080/\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.termsOfServiceUrl</span>(<span class=\"string\">\"https://blog.xiaomo.info/\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.contact</span>(<span class=\"string\">\"小莫\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.version</span>(<span class=\"string\">\"1.0\"</span>)</div><div class=\"line\">                <span class=\"selector-class\">.build</span>();</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<h3 id=\"四、相关注解解读\"><a href=\"#四、相关注解解读\" class=\"headerlink\" title=\"四、相关注解解读\"></a>四、相关注解解读</h3><h4 id=\"1-Api\"><a href=\"#1-Api\" class=\"headerlink\" title=\"1. @Api\"></a>1. @Api</h4><p>用在类上，说明该类的作用<br><code>@Api(value = &quot;UserController&quot;, description = &quot;用户相关api&quot;)</code></p>\n<h4 id=\"2-ApiOperation\"><a href=\"#2-ApiOperation\" class=\"headerlink\" title=\"2. @ApiOperation\"></a>2. @ApiOperation</h4><p>用在方法上，说明方法的作用<br><code>@ApiOperation(value = &quot;查找用户&quot;, notes = &quot;查找用户&quot;, httpMethod = &quot;GET&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE)</code></p>\n<h4 id=\"3-ApiImplicitParams\"><a href=\"#3-ApiImplicitParams\" class=\"headerlink\" title=\"3 @ApiImplicitParams\"></a>3 @ApiImplicitParams</h4><p>用在方法上包含一组参数说明</p>\n<h4 id=\"4-ApiImplicitParam\"><a href=\"#4-ApiImplicitParam\" class=\"headerlink\" title=\"4. @ApiImplicitParam\"></a>4. @ApiImplicitParam</h4><p>用在@ApiImplicitParams注解中，指定一个请求参数的各个方面<br>     paramType：参数放在哪个地方<br>     header–&gt;请求参数的获取：@RequestHeader<br>     query–&gt;请求参数的获取：@RequestParam<br>     path（用于restful接口）–&gt;请求参数的获取：@PathVariable<br>     body（不常用）<br>     form（不常用）<br>     name：参数名<br>     dataType：参数类型<br>     required：参数是否必须传<br>     value：参数的意思<br>     defaultValue：参数的默认值</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@ApiImplicitParams</span>(&#123;</div><div class=\"line\">        <span class=\"variable\">@ApiImplicitParam</span>(name = <span class=\"string\">\"id\"</span>, value = <span class=\"string\">\"唯一id\"</span>, required = true, dataType = <span class=\"string\">\"Long\"</span>, paramType = <span class=\"string\">\"path\"</span>),</div><div class=\"line\">&#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"5-ApiResponses\"><a href=\"#5-ApiResponses\" class=\"headerlink\" title=\"5. @ApiResponses\"></a>5. @ApiResponses</h4><p>用于表示一组响应</p>\n<h4 id=\"6-ApiResponse\"><a href=\"#6-ApiResponse\" class=\"headerlink\" title=\"6. @ApiResponse\"></a>6. @ApiResponse</h4><p>用在@ApiResponses中，一般用于表达一个错误的响应信息<br>     code：数字，例如400<br>     message：信息，例如”请求参数没填好”<br>     response：抛出异常的类</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">@ApiResponses</span>(value = &#123;  </div><div class=\"line\">          <span class=\"variable\">@ApiResponse</span>(code = <span class=\"number\">400</span>, message = <span class=\"string\">\"No Name Provided\"</span>)  </div><div class=\"line\">  &#125;)</div></pre></td></tr></table></figure>\n<h4 id=\"7-ApiModel\"><a href=\"#7-ApiModel\" class=\"headerlink\" title=\"7. @ApiModel\"></a>7. @ApiModel</h4><p> 描述一个Model的信息（这种一般用在post创建的时候，使用@RequestBody这样的场景，请求参数无法使用@ApiImplicitParam注解进行描述的时候）<br> <code>@ApiModel(value = &quot;用户实体类&quot;)</code></p>\n<h4 id=\"8-ApiModelProperty\"><a href=\"#8-ApiModelProperty\" class=\"headerlink\" title=\"8. @ApiModelProperty\"></a>8. @ApiModelProperty</h4><p>描述一个model的属性<br><code>@ApiModelProperty(value = &quot;登录用户&quot;)</code></p>\n<h4 id=\"五、-和Swagger-UI的集成\"><a href=\"#五、-和Swagger-UI的集成\" class=\"headerlink\" title=\"五、 和Swagger UI的集成\"></a>五、 和Swagger UI的集成</h4><p>首先，从github <a href=\"https://github.com/swagger-api/swagger-ui\">swagger-ui</a> 上下载Swagger-UI, 把该项目dist目录下的内容拷贝到项目的resources的目录public下。</p>\n<h4 id=\"六、访问\"><a href=\"#六、访问\" class=\"headerlink\" title=\"六、访问\"></a>六、访问</h4><p><a href=\"http://localhost:8080/swagger-ui.html\">http://localhost:8080/swagger-ui.html</a> 就可以看到效果如下<br><img src=\"https://image.xiaomo.info/banner/swagger.png\" alt=\"\"></p>\n<h4 id=\"七、-项目实例\"><a href=\"#七、-项目实例\" class=\"headerlink\" title=\"七、 项目实例\"></a>七、 项目实例</h4><p><a href=\"https://github.com/JavaUsers/xiaomo-info-java/tree/master/website\">https://github.com/JavaUsers/xiaomo-info-java/tree/master/website</a></p>"},{"author":"小莫","date":"2016-11-24T16:00:00.000Z","title":"拥抱https(http全面切换到https)","_content":"在百度和谷歌的鼓励下，现在很多网站都开始换成https了啊，只是有的没有隐私数据的网站感觉没有太大必要，但是设计要密码账号的网站必须要的。不过有部分网站没有换成https只是暂时的，2-3年后预估互联网会全部变成https。因为https成本也不是很高，免费SSL证书也有，比如腾讯免费SSL证书，starssl免费证书等。关键是https对SEO更加友好。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/linux.png)\n\n### 准备工作\n#### 域 名：阿里云\n#### 服务器：阿里云ECS\n#### SSL证书: 腾讯SSL免费版\n#### web容器：nginx+php\n\n### 一、为什么要切换到HTTPS\n#### 1.安全方面\nHTTPS比HTTP更加安全\n#### 2.技术方面\n不懂HTTPS多不好意思啊，所以就当是学习了。\n### 二、为什么要用腾讯SSL\n因为免费啊，毕竟穷人用不起企业级别的，先用一年免费的再说。starssl是外国的，看不习惯鸟语还是老老实实用中文。\n### 三、申请证书\n申请地址：https://console.qcloud.com/ssl\n\n申请证书之后会给一个下载链接，下载之后会有3个文件夹。分别是nginx、tomcat、apache。因为我个人用的是nginx，就说下nginx的配置。没有调查就没有发言权，用其他两种的小伙伴请自行研究。\n\n#### 四、DNS配置\n证书申请通过之后会让你配置一个CNAME类型的DNS，根据提示配置一下就好了。\n\n### 五、上传\n将下载的证书nginx文件夹打包上传到 `usr/local/nginx`目录\n\n### 六、nginx配置\n先确认`nginx`安装时已编译http_ssl模块，也就是执行如下命令查看是否存在--with-http_ssl_module参数：\n\n执行`/usr/local/nginx/sbin/nginx -V`这个命令\n\n在返回的结果中找是否有`--with-http_ssl_module`参数，没有的话要先激活这个模块。\n\n```\nnginx version: nginx/1.6.0\nbuilt by gcc 4.4.7 20120313 (Red Hat 4.4.7-4) (GCC)\nTLS SNI support enabled\nconfigure arguments: --prefix=/usr/local/nginx --with-http_ssl_module --with-openssl=/usr/local/src/openssl-1.0.1/\n```\n\n\n然后在`usr/local/nginx/conf/nginx.conf`中修改配置，配置如下\n在server中加入以下内容，注意修改一下对应`ssl_certificate`和`ssl_certificate_key`文件的位置\n\n```\nlisten 443;\n        ssl on;\n        ssl_certificate /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; #证书公钥文件路径\n        ssl_certificate_key  /usr/local/nginx/ssl/2_blog.xiaomo.info.key;   #证书私钥文件路径\n        ssl_session_timeout  5m;\n        ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;\n\n```\n\n这一段主要是开启SSL\n\n\n保存配置之后要确认是否配置正确，执行`/usr/local/nginx/sbin/nginx -t`命令\n\n```\nlinux-test:~ # /usr/local/nginx/sbin/nginx -t\n#如下显示则为正确无误：\nnginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok\nnginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful\n```\n\n重定向http到https,加入以下这段，意思是访问http的网站的时候会重定向到https上去。\n\n```\n   location / {\n                if ($scheme = http) {\n                        return 301 https://$host$request_uri;\n                        }\n        }\n```\n\n### 七、生效\n执行`/usr/local/nginx/sbin/nginx -s reload`,如无错误，现在应该可以顺利访问 [blog.xiaomo.info](https://blog.xiaomo.info)这个网站，并且是https的。\n\n\n### 八、附录\nnginx配置\n\n```\nserver\n    {\n        listen 80;\n        listen 443;\n        ssl on;\n        ssl_certificate /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; #证书公钥文件路径\n        ssl_certificate_key  /usr/local/nginx/ssl/2_blog.xiaomo.info.key;   #证书私钥文件路径\n        ssl_session_timeout  5m;\n        ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;\n\n        server_name blog.xiaomo.info;\n        index index.html index.htm index.php;\n        root  /data2/xiaomo.github.io/public;\n\n         location ~ \\.(jpg|png|gif|js|css|swf|flv|ico)$ {\n                 expires 12h;\n        }\n\n        location / {\n                if ($scheme = http) {\n                        return 301 https://$host$request_uri;\n                        }\n        }\n\n        location ~* ^/(doc|logs|app|sys)/ {\n                return 403;\n        }\n\n        location ~ .*\\.(php|php5)?$\n        {\n                fastcgi_connect_timeout 300;\n                fastcgi_send_timeout 300;\n                fastcgi_read_timeout 300;\n                try_files $uri =404;\n                error_page 404 = /404.html;\n                fastcgi_pass  unix:/tmp/php-cgi.sock;\n                include fastcgi.conf;\n                fastcgi_index  index.php;\n                include fastcgi.conf;\n                fastcgi_index  index.php;\n                fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                include        fastcgi_params;\n        }\n\n        error_log  /home/wwwlogs/error_log.log;\n    }\n\n```\n\n### 参考资料\nhttps://zhangge.net/4861.html","source":"_posts/2016-11-25.拥抱https(http全面切换到https).md","raw":"---\nauthor: 小莫\ndate: 2016-11-25\ntitle: 拥抱https(http全面切换到https)\ntags: \n- 技术\ncategory: 生活\npermalink: HttpToHttps\n---\n在百度和谷歌的鼓励下，现在很多网站都开始换成https了啊，只是有的没有隐私数据的网站感觉没有太大必要，但是设计要密码账号的网站必须要的。不过有部分网站没有换成https只是暂时的，2-3年后预估互联网会全部变成https。因为https成本也不是很高，免费SSL证书也有，比如腾讯免费SSL证书，starssl免费证书等。关键是https对SEO更加友好。\n<!-- more -->\n![1](https://image.xiaomo.info/banner/linux.png)\n\n### 准备工作\n#### 域 名：阿里云\n#### 服务器：阿里云ECS\n#### SSL证书: 腾讯SSL免费版\n#### web容器：nginx+php\n\n### 一、为什么要切换到HTTPS\n#### 1.安全方面\nHTTPS比HTTP更加安全\n#### 2.技术方面\n不懂HTTPS多不好意思啊，所以就当是学习了。\n### 二、为什么要用腾讯SSL\n因为免费啊，毕竟穷人用不起企业级别的，先用一年免费的再说。starssl是外国的，看不习惯鸟语还是老老实实用中文。\n### 三、申请证书\n申请地址：https://console.qcloud.com/ssl\n\n申请证书之后会给一个下载链接，下载之后会有3个文件夹。分别是nginx、tomcat、apache。因为我个人用的是nginx，就说下nginx的配置。没有调查就没有发言权，用其他两种的小伙伴请自行研究。\n\n#### 四、DNS配置\n证书申请通过之后会让你配置一个CNAME类型的DNS，根据提示配置一下就好了。\n\n### 五、上传\n将下载的证书nginx文件夹打包上传到 `usr/local/nginx`目录\n\n### 六、nginx配置\n先确认`nginx`安装时已编译http_ssl模块，也就是执行如下命令查看是否存在--with-http_ssl_module参数：\n\n执行`/usr/local/nginx/sbin/nginx -V`这个命令\n\n在返回的结果中找是否有`--with-http_ssl_module`参数，没有的话要先激活这个模块。\n\n```\nnginx version: nginx/1.6.0\nbuilt by gcc 4.4.7 20120313 (Red Hat 4.4.7-4) (GCC)\nTLS SNI support enabled\nconfigure arguments: --prefix=/usr/local/nginx --with-http_ssl_module --with-openssl=/usr/local/src/openssl-1.0.1/\n```\n\n\n然后在`usr/local/nginx/conf/nginx.conf`中修改配置，配置如下\n在server中加入以下内容，注意修改一下对应`ssl_certificate`和`ssl_certificate_key`文件的位置\n\n```\nlisten 443;\n        ssl on;\n        ssl_certificate /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; #证书公钥文件路径\n        ssl_certificate_key  /usr/local/nginx/ssl/2_blog.xiaomo.info.key;   #证书私钥文件路径\n        ssl_session_timeout  5m;\n        ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;\n\n```\n\n这一段主要是开启SSL\n\n\n保存配置之后要确认是否配置正确，执行`/usr/local/nginx/sbin/nginx -t`命令\n\n```\nlinux-test:~ # /usr/local/nginx/sbin/nginx -t\n#如下显示则为正确无误：\nnginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok\nnginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful\n```\n\n重定向http到https,加入以下这段，意思是访问http的网站的时候会重定向到https上去。\n\n```\n   location / {\n                if ($scheme = http) {\n                        return 301 https://$host$request_uri;\n                        }\n        }\n```\n\n### 七、生效\n执行`/usr/local/nginx/sbin/nginx -s reload`,如无错误，现在应该可以顺利访问 [blog.xiaomo.info](https://blog.xiaomo.info)这个网站，并且是https的。\n\n\n### 八、附录\nnginx配置\n\n```\nserver\n    {\n        listen 80;\n        listen 443;\n        ssl on;\n        ssl_certificate /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; #证书公钥文件路径\n        ssl_certificate_key  /usr/local/nginx/ssl/2_blog.xiaomo.info.key;   #证书私钥文件路径\n        ssl_session_timeout  5m;\n        ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;\n        ssl_ciphers  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;\n\n        server_name blog.xiaomo.info;\n        index index.html index.htm index.php;\n        root  /data2/xiaomo.github.io/public;\n\n         location ~ \\.(jpg|png|gif|js|css|swf|flv|ico)$ {\n                 expires 12h;\n        }\n\n        location / {\n                if ($scheme = http) {\n                        return 301 https://$host$request_uri;\n                        }\n        }\n\n        location ~* ^/(doc|logs|app|sys)/ {\n                return 403;\n        }\n\n        location ~ .*\\.(php|php5)?$\n        {\n                fastcgi_connect_timeout 300;\n                fastcgi_send_timeout 300;\n                fastcgi_read_timeout 300;\n                try_files $uri =404;\n                error_page 404 = /404.html;\n                fastcgi_pass  unix:/tmp/php-cgi.sock;\n                include fastcgi.conf;\n                fastcgi_index  index.php;\n                include fastcgi.conf;\n                fastcgi_index  index.php;\n                fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                include        fastcgi_params;\n        }\n\n        error_log  /home/wwwlogs/error_log.log;\n    }\n\n```\n\n### 参考资料\nhttps://zhangge.net/4861.html","slug":"HttpToHttps","published":1,"updated":"2016-12-01T06:50:30.855Z","_id":"civxfpebh0000rsvnz0qauq9x","comments":1,"layout":"post","photos":[],"link":"","content":"<p>在百度和谷歌的鼓励下，现在很多网站都开始换成https了啊，只是有的没有隐私数据的网站感觉没有太大必要，但是设计要密码账号的网站必须要的。不过有部分网站没有换成https只是暂时的，2-3年后预估互联网会全部变成https。因为https成本也不是很高，免费SSL证书也有，比如腾讯免费SSL证书，starssl免费证书等。关键是https对SEO更加友好。<br><a id=\"more\"></a><br><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"1\"></p>\n<h3 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h3><h4 id=\"域-名：阿里云\"><a href=\"#域-名：阿里云\" class=\"headerlink\" title=\"域 名：阿里云\"></a>域 名：阿里云</h4><h4 id=\"服务器：阿里云ECS\"><a href=\"#服务器：阿里云ECS\" class=\"headerlink\" title=\"服务器：阿里云ECS\"></a>服务器：阿里云ECS</h4><h4 id=\"SSL证书-腾讯SSL免费版\"><a href=\"#SSL证书-腾讯SSL免费版\" class=\"headerlink\" title=\"SSL证书: 腾讯SSL免费版\"></a>SSL证书: 腾讯SSL免费版</h4><h4 id=\"web容器：nginx-php\"><a href=\"#web容器：nginx-php\" class=\"headerlink\" title=\"web容器：nginx+php\"></a>web容器：nginx+php</h4><h3 id=\"一、为什么要切换到HTTPS\"><a href=\"#一、为什么要切换到HTTPS\" class=\"headerlink\" title=\"一、为什么要切换到HTTPS\"></a>一、为什么要切换到HTTPS</h3><h4 id=\"1-安全方面\"><a href=\"#1-安全方面\" class=\"headerlink\" title=\"1.安全方面\"></a>1.安全方面</h4><p>HTTPS比HTTP更加安全</p>\n<h4 id=\"2-技术方面\"><a href=\"#2-技术方面\" class=\"headerlink\" title=\"2.技术方面\"></a>2.技术方面</h4><p>不懂HTTPS多不好意思啊，所以就当是学习了。</p>\n<h3 id=\"二、为什么要用腾讯SSL\"><a href=\"#二、为什么要用腾讯SSL\" class=\"headerlink\" title=\"二、为什么要用腾讯SSL\"></a>二、为什么要用腾讯SSL</h3><p>因为免费啊，毕竟穷人用不起企业级别的，先用一年免费的再说。starssl是外国的，看不习惯鸟语还是老老实实用中文。</p>\n<h3 id=\"三、申请证书\"><a href=\"#三、申请证书\" class=\"headerlink\" title=\"三、申请证书\"></a>三、申请证书</h3><p>申请地址：<a href=\"https://console.qcloud.com/ssl\" target=\"_blank\" rel=\"external\">https://console.qcloud.com/ssl</a></p>\n<p>申请证书之后会给一个下载链接，下载之后会有3个文件夹。分别是nginx、tomcat、apache。因为我个人用的是nginx，就说下nginx的配置。没有调查就没有发言权，用其他两种的小伙伴请自行研究。</p>\n<h4 id=\"四、DNS配置\"><a href=\"#四、DNS配置\" class=\"headerlink\" title=\"四、DNS配置\"></a>四、DNS配置</h4><p>证书申请通过之后会让你配置一个CNAME类型的DNS，根据提示配置一下就好了。</p>\n<h3 id=\"五、上传\"><a href=\"#五、上传\" class=\"headerlink\" title=\"五、上传\"></a>五、上传</h3><p>将下载的证书nginx文件夹打包上传到 <code>usr/local/nginx</code>目录</p>\n<h3 id=\"六、nginx配置\"><a href=\"#六、nginx配置\" class=\"headerlink\" title=\"六、nginx配置\"></a>六、nginx配置</h3><p>先确认<code>nginx</code>安装时已编译http_ssl模块，也就是执行如下命令查看是否存在–with-http_ssl_module参数：</p>\n<p>执行<code>/usr/local/nginx/sbin/nginx -V</code>这个命令</p>\n<p>在返回的结果中找是否有<code>--with-http_ssl_module</code>参数，没有的话要先激活这个模块。</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">nginx <span class=\"string\">version:</span> nginx/<span class=\"number\">1.6</span><span class=\"number\">.0</span></div><div class=\"line\">built by gcc <span class=\"number\">4.4</span><span class=\"number\">.7</span> <span class=\"number\">20120313</span> (Red Hat <span class=\"number\">4.4</span><span class=\"number\">.7</span><span class=\"number\">-4</span>) (GCC)</div><div class=\"line\">TLS SNI support enabled</div><div class=\"line\">configure <span class=\"string\">arguments:</span> --prefix=<span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/nginx --with-http_ssl_module --with-openssl=/</span>usr<span class=\"regexp\">/local/</span>src<span class=\"regexp\">/openssl-1.0.1/</span></div></pre></td></tr></table></figure>\n<p>然后在<code>usr/local/nginx/conf/nginx.conf</code>中修改配置，配置如下<br>在server中加入以下内容，注意修改一下对应<code>ssl_certificate</code>和<code>ssl_certificate_key</code>文件的位置</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attribute\">listen</span> <span class=\"number\">443</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl</span> <span class=\"literal\">on</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_certificate</span> /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; <span class=\"comment\">#证书公钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_certificate_key</span>  /usr/local/nginx/ssl/2_blog.xiaomo.<span class=\"literal\">info</span>.key;   <span class=\"comment\">#证书私钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_session_timeout</span>  <span class=\"number\">5m</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_protocols</span> SSLv3 TLSv1 TLSv1.<span class=\"number\">1</span> TLSv1.<span class=\"number\">2</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_ciphers</span>  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;</div></pre></td></tr></table></figure>\n<p>这一段主要是开启SSL</p>\n<p>保存配置之后要确认是否配置正确，执行<code>/usr/local/nginx/sbin/nginx -t</code>命令</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">linux-<span class=\"keyword\">test</span>:~ # /usr/<span class=\"keyword\">local</span>/nginx/sbin/nginx -t</div><div class=\"line\">#如下显示则为正确无误：</div><div class=\"line\">nginx: the configuration <span class=\"keyword\">file</span> /usr/<span class=\"keyword\">local</span>/nginx/<span class=\"keyword\">conf</span>/nginx.<span class=\"keyword\">conf</span> <span class=\"keyword\">syntax</span> is ok</div><div class=\"line\">nginx: configuration <span class=\"keyword\">file</span> /usr/<span class=\"keyword\">local</span>/nginx/<span class=\"keyword\">conf</span>/nginx.<span class=\"keyword\">conf</span> <span class=\"keyword\">test</span> is successful</div></pre></td></tr></table></figure>\n<p>重定向http到https,加入以下这段，意思是访问http的网站的时候会重定向到https上去。</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attribute\">location</span> / &#123;</div><div class=\"line\">             <span class=\"attribute\">if</span> (<span class=\"variable\">$scheme</span> = http) &#123;</div><div class=\"line\">                     <span class=\"attribute\">return</span> <span class=\"number\">301</span> https://<span class=\"variable\">$host</span><span class=\"variable\">$request_uri</span>;</div><div class=\"line\">                     &#125;</div><div class=\"line\">     &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"七、生效\"><a href=\"#七、生效\" class=\"headerlink\" title=\"七、生效\"></a>七、生效</h3><p>执行<code>/usr/local/nginx/sbin/nginx -s reload</code>,如无错误，现在应该可以顺利访问 <a href=\"https://blog.xiaomo.info\">blog.xiaomo.info</a>这个网站，并且是https的。</p>\n<h3 id=\"八、附录\"><a href=\"#八、附录\" class=\"headerlink\" title=\"八、附录\"></a>八、附录</h3><p>nginx配置</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"section\">server</span></div><div class=\"line\">    &#123;</div><div class=\"line\">        <span class=\"attribute\">listen</span> <span class=\"number\">80</span>;</div><div class=\"line\">        <span class=\"attribute\">listen</span> <span class=\"number\">443</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl</span> <span class=\"literal\">on</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_certificate</span> /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; <span class=\"comment\">#证书公钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_certificate_key</span>  /usr/local/nginx/ssl/2_blog.xiaomo.<span class=\"literal\">info</span>.key;   <span class=\"comment\">#证书私钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_session_timeout</span>  <span class=\"number\">5m</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_protocols</span> SSLv3 TLSv1 TLSv1.<span class=\"number\">1</span> TLSv1.<span class=\"number\">2</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_ciphers</span>  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">server_name</span> blog.xiaomo.<span class=\"literal\">info</span>;</div><div class=\"line\">        <span class=\"attribute\">index</span> index.html index.htm index.php;</div><div class=\"line\">        <span class=\"attribute\">root</span>  /data2/xiaomo.github.io/public;</div><div class=\"line\"></div><div class=\"line\">         <span class=\"attribute\">location</span> <span class=\"regexp\">~ \\.(jpg|png|gif|js|css|swf|flv|ico)$</span> &#123;</div><div class=\"line\">                 <span class=\"attribute\">expires</span> <span class=\"number\">12h</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">location</span> / &#123;</div><div class=\"line\">                <span class=\"attribute\">if</span> (<span class=\"variable\">$scheme</span> = http) &#123;</div><div class=\"line\">                        <span class=\"attribute\">return</span> <span class=\"number\">301</span> https://<span class=\"variable\">$host</span><span class=\"variable\">$request_uri</span>;</div><div class=\"line\">                        &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">location</span> <span class=\"regexp\">~* ^/(doc|logs|app|sys)/</span> &#123;</div><div class=\"line\">                <span class=\"attribute\">return</span> <span class=\"number\">403</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">location</span> <span class=\"regexp\">~ .*\\.(php|php5)?$</span></div><div class=\"line\">        &#123;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_connect_timeout</span> <span class=\"number\">300</span>;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_send_timeout</span> <span class=\"number\">300</span>;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_read_timeout</span> <span class=\"number\">300</span>;</div><div class=\"line\">                <span class=\"attribute\">try_files</span> <span class=\"variable\">$uri</span> =<span class=\"number\">404</span>;</div><div class=\"line\">                <span class=\"attribute\">error_page</span> <span class=\"number\">404</span> = /<span class=\"number\">404</span>.html;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_pass</span>  unix:/tmp/php-cgi.sock;</div><div class=\"line\">                <span class=\"attribute\">include</span> fastcgi.conf;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_index</span>  index.php;</div><div class=\"line\">                <span class=\"attribute\">include</span> fastcgi.conf;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_index</span>  index.php;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_param</span>  SCRIPT_FILENAME <span class=\"variable\">$document_root</span><span class=\"variable\">$fastcgi_script_name</span>;</div><div class=\"line\">                <span class=\"attribute\">include</span>        fastcgi_params;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">error_log</span>  /home/wwwlogs/error_log.log;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h3><p><a href=\"https://zhangge.net/4861.html\" target=\"_blank\" rel=\"external\">https://zhangge.net/4861.html</a></p>\n","excerpt":"<p>在百度和谷歌的鼓励下，现在很多网站都开始换成https了啊，只是有的没有隐私数据的网站感觉没有太大必要，但是设计要密码账号的网站必须要的。不过有部分网站没有换成https只是暂时的，2-3年后预估互联网会全部变成https。因为https成本也不是很高，免费SSL证书也有，比如腾讯免费SSL证书，starssl免费证书等。关键是https对SEO更加友好。<br>","more":"<br><img src=\"https://image.xiaomo.info/banner/linux.png\" alt=\"1\"></p>\n<h3 id=\"准备工作\"><a href=\"#准备工作\" class=\"headerlink\" title=\"准备工作\"></a>准备工作</h3><h4 id=\"域-名：阿里云\"><a href=\"#域-名：阿里云\" class=\"headerlink\" title=\"域 名：阿里云\"></a>域 名：阿里云</h4><h4 id=\"服务器：阿里云ECS\"><a href=\"#服务器：阿里云ECS\" class=\"headerlink\" title=\"服务器：阿里云ECS\"></a>服务器：阿里云ECS</h4><h4 id=\"SSL证书-腾讯SSL免费版\"><a href=\"#SSL证书-腾讯SSL免费版\" class=\"headerlink\" title=\"SSL证书: 腾讯SSL免费版\"></a>SSL证书: 腾讯SSL免费版</h4><h4 id=\"web容器：nginx-php\"><a href=\"#web容器：nginx-php\" class=\"headerlink\" title=\"web容器：nginx+php\"></a>web容器：nginx+php</h4><h3 id=\"一、为什么要切换到HTTPS\"><a href=\"#一、为什么要切换到HTTPS\" class=\"headerlink\" title=\"一、为什么要切换到HTTPS\"></a>一、为什么要切换到HTTPS</h3><h4 id=\"1-安全方面\"><a href=\"#1-安全方面\" class=\"headerlink\" title=\"1.安全方面\"></a>1.安全方面</h4><p>HTTPS比HTTP更加安全</p>\n<h4 id=\"2-技术方面\"><a href=\"#2-技术方面\" class=\"headerlink\" title=\"2.技术方面\"></a>2.技术方面</h4><p>不懂HTTPS多不好意思啊，所以就当是学习了。</p>\n<h3 id=\"二、为什么要用腾讯SSL\"><a href=\"#二、为什么要用腾讯SSL\" class=\"headerlink\" title=\"二、为什么要用腾讯SSL\"></a>二、为什么要用腾讯SSL</h3><p>因为免费啊，毕竟穷人用不起企业级别的，先用一年免费的再说。starssl是外国的，看不习惯鸟语还是老老实实用中文。</p>\n<h3 id=\"三、申请证书\"><a href=\"#三、申请证书\" class=\"headerlink\" title=\"三、申请证书\"></a>三、申请证书</h3><p>申请地址：<a href=\"https://console.qcloud.com/ssl\">https://console.qcloud.com/ssl</a></p>\n<p>申请证书之后会给一个下载链接，下载之后会有3个文件夹。分别是nginx、tomcat、apache。因为我个人用的是nginx，就说下nginx的配置。没有调查就没有发言权，用其他两种的小伙伴请自行研究。</p>\n<h4 id=\"四、DNS配置\"><a href=\"#四、DNS配置\" class=\"headerlink\" title=\"四、DNS配置\"></a>四、DNS配置</h4><p>证书申请通过之后会让你配置一个CNAME类型的DNS，根据提示配置一下就好了。</p>\n<h3 id=\"五、上传\"><a href=\"#五、上传\" class=\"headerlink\" title=\"五、上传\"></a>五、上传</h3><p>将下载的证书nginx文件夹打包上传到 <code>usr/local/nginx</code>目录</p>\n<h3 id=\"六、nginx配置\"><a href=\"#六、nginx配置\" class=\"headerlink\" title=\"六、nginx配置\"></a>六、nginx配置</h3><p>先确认<code>nginx</code>安装时已编译http_ssl模块，也就是执行如下命令查看是否存在–with-http_ssl_module参数：</p>\n<p>执行<code>/usr/local/nginx/sbin/nginx -V</code>这个命令</p>\n<p>在返回的结果中找是否有<code>--with-http_ssl_module</code>参数，没有的话要先激活这个模块。</p>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">nginx <span class=\"string\">version:</span> nginx/<span class=\"number\">1.6</span><span class=\"number\">.0</span></div><div class=\"line\">built by gcc <span class=\"number\">4.4</span><span class=\"number\">.7</span> <span class=\"number\">20120313</span> (Red Hat <span class=\"number\">4.4</span><span class=\"number\">.7</span><span class=\"number\">-4</span>) (GCC)</div><div class=\"line\">TLS SNI support enabled</div><div class=\"line\">configure <span class=\"string\">arguments:</span> --prefix=<span class=\"regexp\">/usr/</span>local<span class=\"regexp\">/nginx --with-http_ssl_module --with-openssl=/</span>usr<span class=\"regexp\">/local/</span>src<span class=\"regexp\">/openssl-1.0.1/</span></div></pre></td></tr></table></figure>\n<p>然后在<code>usr/local/nginx/conf/nginx.conf</code>中修改配置，配置如下<br>在server中加入以下内容，注意修改一下对应<code>ssl_certificate</code>和<code>ssl_certificate_key</code>文件的位置</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attribute\">listen</span> <span class=\"number\">443</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl</span> <span class=\"literal\">on</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_certificate</span> /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; <span class=\"comment\">#证书公钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_certificate_key</span>  /usr/local/nginx/ssl/2_blog.xiaomo.<span class=\"literal\">info</span>.key;   <span class=\"comment\">#证书私钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_session_timeout</span>  <span class=\"number\">5m</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_protocols</span> SSLv3 TLSv1 TLSv1.<span class=\"number\">1</span> TLSv1.<span class=\"number\">2</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_ciphers</span>  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;</div></pre></td></tr></table></figure>\n<p>这一段主要是开启SSL</p>\n<p>保存配置之后要确认是否配置正确，执行<code>/usr/local/nginx/sbin/nginx -t</code>命令</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">linux-<span class=\"keyword\">test</span>:~ # /usr/<span class=\"keyword\">local</span>/nginx/sbin/nginx -t</div><div class=\"line\">#如下显示则为正确无误：</div><div class=\"line\">nginx: the configuration <span class=\"keyword\">file</span> /usr/<span class=\"keyword\">local</span>/nginx/<span class=\"keyword\">conf</span>/nginx.<span class=\"keyword\">conf</span> <span class=\"keyword\">syntax</span> is ok</div><div class=\"line\">nginx: configuration <span class=\"keyword\">file</span> /usr/<span class=\"keyword\">local</span>/nginx/<span class=\"keyword\">conf</span>/nginx.<span class=\"keyword\">conf</span> <span class=\"keyword\">test</span> is successful</div></pre></td></tr></table></figure>\n<p>重定向http到https,加入以下这段，意思是访问http的网站的时候会重定向到https上去。</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"attribute\">location</span> / &#123;</div><div class=\"line\">             <span class=\"attribute\">if</span> (<span class=\"variable\">$scheme</span> = http) &#123;</div><div class=\"line\">                     <span class=\"attribute\">return</span> <span class=\"number\">301</span> https://<span class=\"variable\">$host</span><span class=\"variable\">$request_uri</span>;</div><div class=\"line\">                     &#125;</div><div class=\"line\">     &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"七、生效\"><a href=\"#七、生效\" class=\"headerlink\" title=\"七、生效\"></a>七、生效</h3><p>执行<code>/usr/local/nginx/sbin/nginx -s reload</code>,如无错误，现在应该可以顺利访问 <a href=\"https://blog.xiaomo.info\">blog.xiaomo.info</a>这个网站，并且是https的。</p>\n<h3 id=\"八、附录\"><a href=\"#八、附录\" class=\"headerlink\" title=\"八、附录\"></a>八、附录</h3><p>nginx配置</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"section\">server</span></div><div class=\"line\">    &#123;</div><div class=\"line\">        <span class=\"attribute\">listen</span> <span class=\"number\">80</span>;</div><div class=\"line\">        <span class=\"attribute\">listen</span> <span class=\"number\">443</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl</span> <span class=\"literal\">on</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_certificate</span> /usr/local/nginx/ssl/1_blog.xiaomo.info_bundle.crt; <span class=\"comment\">#证书公钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_certificate_key</span>  /usr/local/nginx/ssl/2_blog.xiaomo.<span class=\"literal\">info</span>.key;   <span class=\"comment\">#证书私钥文件路径</span></div><div class=\"line\">        <span class=\"attribute\">ssl_session_timeout</span>  <span class=\"number\">5m</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_protocols</span> SSLv3 TLSv1 TLSv1.<span class=\"number\">1</span> TLSv1.<span class=\"number\">2</span>;</div><div class=\"line\">        <span class=\"attribute\">ssl_ciphers</span>  HIGH:!ADH:!EXPORT56:RC4+RSA:+MEDIUM;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">server_name</span> blog.xiaomo.<span class=\"literal\">info</span>;</div><div class=\"line\">        <span class=\"attribute\">index</span> index.html index.htm index.php;</div><div class=\"line\">        <span class=\"attribute\">root</span>  /data2/xiaomo.github.io/public;</div><div class=\"line\"></div><div class=\"line\">         <span class=\"attribute\">location</span> <span class=\"regexp\">~ \\.(jpg|png|gif|js|css|swf|flv|ico)$</span> &#123;</div><div class=\"line\">                 <span class=\"attribute\">expires</span> <span class=\"number\">12h</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">location</span> / &#123;</div><div class=\"line\">                <span class=\"attribute\">if</span> (<span class=\"variable\">$scheme</span> = http) &#123;</div><div class=\"line\">                        <span class=\"attribute\">return</span> <span class=\"number\">301</span> https://<span class=\"variable\">$host</span><span class=\"variable\">$request_uri</span>;</div><div class=\"line\">                        &#125;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">location</span> <span class=\"regexp\">~* ^/(doc|logs|app|sys)/</span> &#123;</div><div class=\"line\">                <span class=\"attribute\">return</span> <span class=\"number\">403</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">location</span> <span class=\"regexp\">~ .*\\.(php|php5)?$</span></div><div class=\"line\">        &#123;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_connect_timeout</span> <span class=\"number\">300</span>;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_send_timeout</span> <span class=\"number\">300</span>;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_read_timeout</span> <span class=\"number\">300</span>;</div><div class=\"line\">                <span class=\"attribute\">try_files</span> <span class=\"variable\">$uri</span> =<span class=\"number\">404</span>;</div><div class=\"line\">                <span class=\"attribute\">error_page</span> <span class=\"number\">404</span> = /<span class=\"number\">404</span>.html;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_pass</span>  unix:/tmp/php-cgi.sock;</div><div class=\"line\">                <span class=\"attribute\">include</span> fastcgi.conf;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_index</span>  index.php;</div><div class=\"line\">                <span class=\"attribute\">include</span> fastcgi.conf;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_index</span>  index.php;</div><div class=\"line\">                <span class=\"attribute\">fastcgi_param</span>  SCRIPT_FILENAME <span class=\"variable\">$document_root</span><span class=\"variable\">$fastcgi_script_name</span>;</div><div class=\"line\">                <span class=\"attribute\">include</span>        fastcgi_params;</div><div class=\"line\">        &#125;</div><div class=\"line\"></div><div class=\"line\">        <span class=\"attribute\">error_log</span>  /home/wwwlogs/error_log.log;</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure>\n<h3 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h3><p><a href=\"https://zhangge.net/4861.html\">https://zhangge.net/4861.html</a></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"civ0ggq5a0001rwvnwt2ri3eb","category_id":"civ0ggq5m0005rwvntg0qpcz5","_id":"civ0ggq62000erwvnht1ot106"},{"post_id":"civ0ggq5h0003rwvnr4iky3qr","category_id":"civ0ggq5z000crwvnae2602lp","_id":"civ0ggq6a000mrwvn558pmmgg"},{"post_id":"civ0ggq5o0007rwvnhuvr1u2f","category_id":"civ0ggq65000hrwvnj4diiqo8","_id":"civ0ggq6g000urwvnu9c589k8"},{"post_id":"civ0ggq5r0009rwvn8f31xj1i","category_id":"civ0ggq6b000prwvn1qh0p5l8","_id":"civ0ggq6o0011rwvn6mt1gk1k"},{"post_id":"civ0ggq5w000brwvnw1kht6nt","category_id":"civ0ggq6h000vrwvnja3msgqg","_id":"civ0ggq6r0016rwvnmougjwjz"},{"post_id":"civ0ggq60000drwvnn89dmayo","category_id":"civ0ggq6p0013rwvnxdinxbzw","_id":"civ0ggq6z001frwvn4s8xizkl"},{"post_id":"civ0ggq63000frwvnqhxfbhj9","category_id":"civ0ggq6t0019rwvnoqk8ob08","_id":"civ0ggq76001mrwvnb5xn99fp"},{"post_id":"civ0ggq67000jrwvnvqwv5toi","category_id":"civ0ggq70001grwvn3ivycz5t","_id":"civ0ggq7e001trwvn3req6dyr"},{"post_id":"civ0ggq69000lrwvnttf9bzkk","category_id":"civ0ggq76001nrwvn8ys2s61t","_id":"civ0ggq7j0020rwvntmaj2zej"},{"post_id":"civ0ggq6c000qrwvnd4dawuc3","category_id":"civ0ggq7g001vrwvne5t69dx6","_id":"civ0ggq7o0026rwvnjcjh057z"},{"post_id":"civ0ggq6f000srwvn4kjosuay","category_id":"civ0ggq7k0022rwvnjf9394zz","_id":"civ0ggq7x002erwvnbtcq4bcs"},{"post_id":"civ0ggq6i000xrwvnyoyp3e7k","category_id":"civ0ggq7o0027rwvn7ex5cf88","_id":"civ0ggq81002krwvnjcrh2qkb"},{"post_id":"civ0ggq80002jrwvng1s8hxnv","category_id":"civ0ggq7x002frwvng677xew1","_id":"civ0ggq86002rrwvnhgdjj473"},{"post_id":"civ0ggq6o0012rwvnjqbexgyc","category_id":"civ0ggq83002nrwvn2rzvwrl2","_id":"civ0ggq8d002zrwvnc9p1w75z"},{"post_id":"civ0ggq6q0014rwvn8xx4gghl","category_id":"civ0ggq88002urwvnkm3sr5eo","_id":"civ0ggq8n0036rwvnlbwzzb50"},{"post_id":"civ0ggq6r0018rwvn1xb7xsw2","category_id":"civ0ggq8e0031rwvnfjpoiiyj","_id":"civ0ggq91003erwvnke8b9a4f"},{"post_id":"civ0ggq8h0035rwvn9tnrg7yn","category_id":"civ0ggq7x002frwvng677xew1","_id":"civ0ggq94003jrwvnksbbeey0"},{"post_id":"civ0ggq6u001brwvndoholrfy","category_id":"civ0ggq8p0039rwvnucbv3nn3","_id":"civ0ggq96003lrwvna4rwauez"},{"post_id":"civ0ggq72001irwvn7vztr5yj","category_id":"civ0ggq9a003orwvn345t6n6s","_id":"civ0ggq9l003zrwvn94lm9907"},{"post_id":"civ0ggq74001lrwvn2rv4hbcn","category_id":"civ0ggq7x002frwvng677xew1","_id":"civ0ggq9o0044rwvnhkmkckek"},{"post_id":"civ0ggq77001prwvnrtdgb8dh","category_id":"civ0ggq7x002frwvng677xew1","_id":"civ0ggq9s004brwvndn294o5c"},{"post_id":"civ0ggq9p0047rwvnwpi6zs73","category_id":"civ0ggq9a003orwvn345t6n6s","_id":"civ0ggq9u004grwvn07fcb67m"},{"post_id":"civ0ggq7e001urwvnpyngvjpd","category_id":"civ0ggq9s004drwvnjoocdws7","_id":"civ0ggqa4004qrwvnu3g61amr"},{"post_id":"civ0ggq7h001yrwvnahsvm8nz","category_id":"civ0ggq9a003orwvn345t6n6s","_id":"civ0ggqa8004xrwvnqrqv0a2e"},{"post_id":"civ0ggq7j0021rwvna3nd4guu","category_id":"civ0ggqa5004srwvn7sflk55t","_id":"civ0ggqad0055rwvnjr4h9c93"},{"post_id":"civ0ggq7m0025rwvn29ifu1iz","category_id":"civ0ggqaa004zrwvn92yhc0o9","_id":"civ0ggqal005crwvny2mmbtzb"},{"post_id":"civ0ggq7p0029rwvnua9110f6","category_id":"civ0ggqae0056rwvn6qudoqpz","_id":"civ0ggqan005irwvnycdpw7fy"},{"post_id":"civ0ggq7u002crwvn49099wbg","category_id":"civ0ggqaa004zrwvn92yhc0o9","_id":"civ0ggqap005nrwvnswpl6t78"},{"post_id":"civ0ggq84002prwvncyx9ybtp","category_id":"civ0ggqar005srwvnng6z9qhd","_id":"civ0ggqat005xrwvnaxbxwzdu"},{"post_id":"civ0ggq86002srwvndbj1zrby","category_id":"civ0ggqat005vrwvnbwox9w1p","_id":"civ0ggqav0061rwvnw060wovj"},{"post_id":"civ0ggq89002xrwvnbfvmivzp","category_id":"civ0ggqau005yrwvndajrvbjo","_id":"civ0ggqaw0066rwvnvb36agqp"},{"post_id":"civ0ggq8b002yrwvnp5atl2w9","category_id":"civ0ggqat005vrwvnbwox9w1p","_id":"civ0ggqax006arwvnl854lvqq"},{"post_id":"civ0ggq8f0033rwvnzzq1ubo3","category_id":"civ0ggqaw0067rwvn0i4cmjat","_id":"civ0ggqay006erwvn8qhgfxui"},{"post_id":"civ0ggq8p003arwvnp942alsk","category_id":"civ0ggqax006brwvnz6acxjbw","_id":"civ0ggqb0006jrwvnrzoxypc0"},{"post_id":"civ0ggq8q003crwvn4yh47o27","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqb1006orwvnihgvvxdo"},{"post_id":"civ0ggq92003grwvnseofah3c","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqb2006trwvnca21sls0"},{"post_id":"civ0ggq94003krwvnwxuaubs8","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqb4006yrwvn54wphoda"},{"post_id":"civ0ggq98003nrwvngnef7i4c","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqb70076rwvnhplhnwuu"},{"post_id":"civ0ggq9b003qrwvnzpt149ep","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqb8007brwvnpskx7f8i"},{"post_id":"civ0ggq9c003trwvnr64kp1j4","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqb9007frwvnoo7dnp7a"},{"post_id":"civ0ggq9m0041rwvnykl3zdef","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqbf007trwvn2emtypff"},{"post_id":"civ0ggq9n0043rwvnxc616cbd","category_id":"civ0ggqbe007prwvnxcwt9h3f","_id":"civ0ggqbh007xrwvntudfjpew"},{"post_id":"civ0ggq9r004arwvnxa1kxpco","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqbi0080rwvnge1j4nnq"},{"post_id":"civ0ggq7c001rrwvnbo591ec7","category_id":"civ0ggq9p0045rwvnylw7uc0o","_id":"civ0ggqbj0084rwvn52kekxvh"},{"post_id":"civ0ggq7c001rrwvnbo591ec7","category_id":"civ0ggqbh007yrwvnyhebzoyq","_id":"civ0ggqbk0088rwvn2p5bc8jc"},{"post_id":"civ0ggq9t004erwvnboaq6jj8","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqbl008arwvn1s18l6s2"},{"post_id":"civ0ggq9v004irwvnhksndifi","category_id":"civ0ggqaz006grwvnq67onzdi","_id":"civ0ggqbm008frwvnp0sn6zwa"},{"post_id":"civ0ggq9w004krwvnng5kl39q","category_id":"civ0ggqbl008brwvnuf2nculc","_id":"civ0ggqbo008krwvngb6mex6j"},{"post_id":"civ0ggqa2004orwvn9cg2cb6b","category_id":"civ0ggqaa004zrwvn92yhc0o9","_id":"civ0ggqbq008prwvnikbfgtlo"},{"post_id":"civ0ggqa4004rrwvn4l20ibbp","category_id":"civ0ggqbe007prwvnxcwt9h3f","_id":"civ0ggqbr008trwvn3sgsg23h"},{"post_id":"civ0ggqa6004vrwvnctadjto4","category_id":"civ0ggqbe007prwvnxcwt9h3f","_id":"civ0ggqbt008yrwvn82c44flt"},{"post_id":"civ0ggqa9004yrwvn1iahsol9","category_id":"civ0ggqbe007prwvnxcwt9h3f","_id":"civ0ggqbt0091rwvnc4o10218"},{"post_id":"civ0ggqab0052rwvndhovzj53","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ0ggqbv0094rwvnz6xpzqfp"},{"post_id":"civ0ggqac0054rwvnnejf3nrn","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ0ggqbw0099rwvnmou5k2c6"},{"post_id":"civ0ggqaf0058rwvn4qiphtky","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ0ggqbx009erwvnmxtkbsq5"},{"post_id":"civ0ggqah005brwvnsppxdnj1","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ0ggqbz009irwvna56jpe2j"},{"post_id":"civ0ggqam005frwvn2zx9daqt","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ0ggqc0009nrwvnd0xv9h02"},{"post_id":"civ0ggq7y002grwvn9w0l94oq","category_id":"civ0ggq9p0045rwvnylw7uc0o","_id":"civ0ggqc2009srwvnzo47z8ut"},{"post_id":"civ0ggq7y002grwvn9w0l94oq","category_id":"civ0ggqbh007yrwvnyhebzoyq","_id":"civ0ggqc3009vrwvnr7yo9kee"},{"post_id":"civ0ggq82002mrwvng632s27u","category_id":"civ0ggq9p0045rwvnylw7uc0o","_id":"civ0ggqc4009xrwvn1sdagump"},{"post_id":"civ0ggq82002mrwvng632s27u","category_id":"civ0ggqbh007yrwvnyhebzoyq","_id":"civ0ggqc4009zrwvnd1esx0bz"},{"post_id":"civ0ggq6x001erwvn84cej7l9","category_id":"civ0ggq93003hrwvnql4i2c20","_id":"civ0ggqc800a7rwvnr2151r46"},{"post_id":"civ0ggq6x001erwvn84cej7l9","category_id":"civ0ggqb3006vrwvn9u7twg4u","_id":"civ0ggqca00aarwvnooge550h"},{"post_id":"civ0ggq6x001erwvn84cej7l9","category_id":"civ0ggqc2009trwvn50tgqoyn","_id":"civ0ggqca00acrwvne50li56r"},{"post_id":"civ0ggq6x001erwvn84cej7l9","category_id":"civ0ggqc500a1rwvntv6su57d","_id":"civ0ggqcb00afrwvnauy62k25"},{"post_id":"civ7sk1hx0000p8vnjzc73zi4","category_id":"civ0ggqbe007prwvnxcwt9h3f","_id":"civ7slc0d0001ysvnzo7p6z0h"},{"post_id":"civ8wt5hn0000kgvnxqr8wtoq","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ8wt5hy0002kgvnsma9245p"},{"post_id":"civ95c50m00000svn2oolzq4f","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civ95c50w00020svnw54sbmai"},{"post_id":"civdgv75k0000ssvniq5g6jcv","category_id":"civ0ggqbt008zrwvndr69ph61","_id":"civdgv7640002ssvna1si7cfq"},{"post_id":"civxfpebh0000rsvnz0qauq9x","category_id":"civ0ggqbe007prwvnxcwt9h3f","_id":"civxfpebq0002rsvngu75qxj6"},{"post_id":"civ0ggq6m000zrwvn8fp23hjm","category_id":"civxgxkrx0000ewvne1ot3ifh","_id":"civxgxksl0002ewvnl1wva5cc"}],"PostTag":[{"post_id":"civ0ggq60000drwvnn89dmayo","tag_id":"civ0ggq5k0004rwvnn7utmoij","_id":"civ0ggq66000irwvn5fs94p6n"},{"post_id":"civ0ggq60000drwvnn89dmayo","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq68000krwvnutx75rxd"},{"post_id":"civ0ggq5a0001rwvnwt2ri3eb","tag_id":"civ0ggq5k0004rwvnn7utmoij","_id":"civ0ggq6b000orwvnnp05dohs"},{"post_id":"civ0ggq5a0001rwvnwt2ri3eb","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq6e000rrwvnnjsl6ea7"},{"post_id":"civ0ggq5h0003rwvnr4iky3qr","tag_id":"civ0ggq5k0004rwvnn7utmoij","_id":"civ0ggq6h000wrwvn9i7g8wve"},{"post_id":"civ0ggq5h0003rwvnr4iky3qr","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq6m000yrwvngy5ca402"},{"post_id":"civ0ggq5o0007rwvnhuvr1u2f","tag_id":"civ0ggq5k0004rwvnn7utmoij","_id":"civ0ggq6r0017rwvnuddm905u"},{"post_id":"civ0ggq5o0007rwvnhuvr1u2f","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq6t001arwvn1ho3h1tq"},{"post_id":"civ0ggq5r0009rwvn8f31xj1i","tag_id":"civ0ggq5k0004rwvnn7utmoij","_id":"civ0ggq6w001drwvn5xdwy95j"},{"post_id":"civ0ggq5r0009rwvn8f31xj1i","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq72001hrwvn6glcpmdj"},{"post_id":"civ0ggq5w000brwvnw1kht6nt","tag_id":"civ0ggq5k0004rwvnn7utmoij","_id":"civ0ggq74001krwvnk8izwj81"},{"post_id":"civ0ggq5w000brwvnw1kht6nt","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq77001orwvn1retrkyi"},{"post_id":"civ0ggq63000frwvnqhxfbhj9","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggq7d001srwvnh5qdn26g"},{"post_id":"civ0ggq7c001rrwvnbo591ec7","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggq7g001wrwvn551j2b49"},{"post_id":"civ0ggq67000jrwvnvqwv5toi","tag_id":"civ0ggq7c001qrwvnyeram1vh","_id":"civ0ggq7j001zrwvng79xwv1y"},{"post_id":"civ0ggq69000lrwvnttf9bzkk","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggq7u002arwvnhvg6a3xo"},{"post_id":"civ0ggq69000lrwvnttf9bzkk","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq7x002drwvnqgjipwhw"},{"post_id":"civ0ggq69000lrwvnttf9bzkk","tag_id":"civ0ggq7c001qrwvnyeram1vh","_id":"civ0ggq80002irwvn4v8vb4cp"},{"post_id":"civ0ggq6c000qrwvnd4dawuc3","tag_id":"civ0ggq7p0028rwvnd5hvty7f","_id":"civ0ggq81002lrwvnzknia98h"},{"post_id":"civ0ggq6f000srwvn4kjosuay","tag_id":"civ0ggq7z002hrwvnjnloey3m","_id":"civ0ggq86002qrwvn2yepv4sy"},{"post_id":"civ0ggq82002mrwvng632s27u","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggq88002trwvn72t0cq1n"},{"post_id":"civ0ggq89002xrwvnbfvmivzp","tag_id":"civ0ggq7c001qrwvnyeram1vh","_id":"civ0ggq8d0030rwvn7zwnkuff"},{"post_id":"civ0ggq6i000xrwvnyoyp3e7k","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggq8g0034rwvn7qeyx4ay"},{"post_id":"civ0ggq6i000xrwvnyoyp3e7k","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggq8o0037rwvnc1tb7yrn"},{"post_id":"civ0ggq8f0033rwvnzzq1ubo3","tag_id":"civ0ggq7c001qrwvnyeram1vh","_id":"civ0ggq8q003brwvnodw4pgky"},{"post_id":"civ0ggq8h0035rwvn9tnrg7yn","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggq94003irwvn3wm3b4lx"},{"post_id":"civ0ggq6o0012rwvnjqbexgyc","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggq9a003prwvnkm2jxbfp"},{"post_id":"civ0ggq6o0012rwvnjqbexgyc","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggq9c003rrwvn7uhp89dh"},{"post_id":"civ0ggq6o0012rwvnjqbexgyc","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq9d003vrwvnwh1o4reo"},{"post_id":"civ0ggq6q0014rwvn8xx4gghl","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggq9p0046rwvngnfc4ed8"},{"post_id":"civ0ggq6q0014rwvn8xx4gghl","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggq9q0048rwvn4lq07hsy"},{"post_id":"civ0ggq6q0014rwvn8xx4gghl","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggq9s004crwvn0r40ggla"},{"post_id":"civ0ggq6q0014rwvn8xx4gghl","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggq9u004frwvnry43bxn0"},{"post_id":"civ0ggq9p0047rwvnwpi6zs73","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqa1004mrwvnx2kwxosz"},{"post_id":"civ0ggq6r0018rwvn1xb7xsw2","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqa3004prwvnbw09uk88"},{"post_id":"civ0ggq6r0018rwvn1xb7xsw2","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqa5004trwvnn0wiyuns"},{"post_id":"civ0ggq6r0018rwvn1xb7xsw2","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqa8004wrwvnl6102e44"},{"post_id":"civ0ggq6r0018rwvn1xb7xsw2","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggqaa0050rwvn7v996w9c"},{"post_id":"civ0ggq6u001brwvndoholrfy","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggqac0053rwvnn0lfuymt"},{"post_id":"civ0ggq6u001brwvndoholrfy","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqaf0057rwvnutq01k8d"},{"post_id":"civ0ggqa6004vrwvnctadjto4","tag_id":"civ0ggq7z002hrwvnjnloey3m","_id":"civ0ggqah005arwvnp1n7g9fh"},{"post_id":"civ0ggqa9004yrwvn1iahsol9","tag_id":"civ0ggq7z002hrwvnjnloey3m","_id":"civ0ggqal005drwvnrpf6ws7m"},{"post_id":"civ0ggq6x001erwvn84cej7l9","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqan005hrwvncp20g4dq"},{"post_id":"civ0ggq72001irwvn7vztr5yj","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqan005jrwvn7s9sb1in"},{"post_id":"civ0ggq72001irwvn7vztr5yj","tag_id":"civ0ggqaa0051rwvnxdxwj1d2","_id":"civ0ggqap005mrwvnk5ew2l92"},{"post_id":"civ0ggq74001lrwvn2rv4hbcn","tag_id":"civ0ggqag0059rwvnribd0w9d","_id":"civ0ggqap005orwvndpcpumgf"},{"post_id":"civ0ggq77001prwvnrtdgb8dh","tag_id":"civ0ggqan005grwvn0y4hedfw","_id":"civ0ggqar005rrwvn4z19j4mu"},{"post_id":"civ0ggq77001prwvnrtdgb8dh","tag_id":"civ0ggqao005lrwvn4w7eo1id","_id":"civ0ggqas005trwvnj7om5f3n"},{"post_id":"civ0ggq7e001urwvnpyngvjpd","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqav0060rwvnsxb0n7ju"},{"post_id":"civ0ggq7e001urwvnpyngvjpd","tag_id":"civ0ggqas005urwvnrtrcwtsr","_id":"civ0ggqav0063rwvn1ivqixy3"},{"post_id":"civ0ggq7e001urwvnpyngvjpd","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqaw0065rwvncrpffdg3"},{"post_id":"civ0ggq7e001urwvnpyngvjpd","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggqax0068rwvn591pdkkb"},{"post_id":"civ0ggq7h001yrwvnahsvm8nz","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqay006drwvnddepeso6"},{"post_id":"civ0ggq7h001yrwvnahsvm8nz","tag_id":"civ0ggqas005urwvnrtrcwtsr","_id":"civ0ggqaz006frwvnz6g7fb1w"},{"post_id":"civ0ggq7h001yrwvnahsvm8nz","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqaz006irwvnvgetk6he"},{"post_id":"civ0ggq7h001yrwvnahsvm8nz","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggqb0006krwvn7rwj9irn"},{"post_id":"civ0ggq7j0021rwvna3nd4guu","tag_id":"civ0ggqay006crwvnmz9we82f","_id":"civ0ggqb1006nrwvnosocx2sp"},{"post_id":"civ0ggq7j0021rwvna3nd4guu","tag_id":"civ0ggqas005urwvnrtrcwtsr","_id":"civ0ggqb1006prwvngv73griy"},{"post_id":"civ0ggq7j0021rwvna3nd4guu","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqb2006srwvn5cc58plh"},{"post_id":"civ0ggq7j0021rwvna3nd4guu","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqb2006urwvn8qs39qz1"},{"post_id":"civ0ggq7m0025rwvn29ifu1iz","tag_id":"civ0ggqb2006rrwvnk0x2u2dl","_id":"civ0ggqb50071rwvnthd5slie"},{"post_id":"civ0ggq7m0025rwvn29ifu1iz","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqb50072rwvn8ojxwv7c"},{"post_id":"civ0ggq7m0025rwvn29ifu1iz","tag_id":"civ0ggqas005urwvnrtrcwtsr","_id":"civ0ggqb70075rwvnykfjlsou"},{"post_id":"civ0ggq7p0029rwvnua9110f6","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqb70077rwvn269rk6jq"},{"post_id":"civ0ggq7p0029rwvnua9110f6","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqb8007arwvnmncbbs2t"},{"post_id":"civ0ggq7p0029rwvnua9110f6","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggqb8007crwvnezcv0rf8"},{"post_id":"civ0ggq7u002crwvn49099wbg","tag_id":"civ0ggqb2006rrwvnk0x2u2dl","_id":"civ0ggqbb007irwvng0ibmfc8"},{"post_id":"civ0ggq7u002crwvn49099wbg","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqbd007lrwvn0wdj3vdm"},{"post_id":"civ0ggq7u002crwvn49099wbg","tag_id":"civ0ggqb70079rwvnj9cd4sik","_id":"civ0ggqbe007nrwvn3e93t780"},{"post_id":"civ0ggq7u002crwvn49099wbg","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqbf007qrwvnckunhd8c"},{"post_id":"civ0ggq7y002grwvn9w0l94oq","tag_id":"civ0ggqao005lrwvn4w7eo1id","_id":"civ0ggqbf007srwvneb151cit"},{"post_id":"civ0ggq80002jrwvng1s8hxnv","tag_id":"civ0ggqbd007mrwvnw6bs81rn","_id":"civ0ggqbf007urwvnp9miswc7"},{"post_id":"civ0ggq84002prwvncyx9ybtp","tag_id":"civ0ggqbf007rrwvnp72j5oii","_id":"civ0ggqbj0083rwvncped8v7m"},{"post_id":"civ0ggq84002prwvncyx9ybtp","tag_id":"civ0ggq73001jrwvn7h39lytw","_id":"civ0ggqbk0086rwvnnzuv83ez"},{"post_id":"civ0ggq84002prwvncyx9ybtp","tag_id":"civ0ggq7h001xrwvnmerv4614","_id":"civ0ggqbk0089rwvnqruinbxu"},{"post_id":"civ0ggq84002prwvncyx9ybtp","tag_id":"civ0ggqbg007wrwvnxgpvcvfw","_id":"civ0ggqbl008crwvnrn3wyda3"},{"post_id":"civ0ggq84002prwvncyx9ybtp","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggqbm008erwvnmwcc8ir0"},{"post_id":"civ0ggq86002srwvndbj1zrby","tag_id":"civ0ggq7p0028rwvnd5hvty7f","_id":"civ0ggqbm008hrwvnkduwwzqf"},{"post_id":"civ0ggq86002srwvndbj1zrby","tag_id":"civ0ggqao005lrwvn4w7eo1id","_id":"civ0ggqbn008jrwvnxd3i01aa"},{"post_id":"civ0ggq86002srwvndbj1zrby","tag_id":"civ0ggqbg007wrwvnxgpvcvfw","_id":"civ0ggqbo008mrwvnkzdve9cv"},{"post_id":"civ0ggq8b002yrwvnp5atl2w9","tag_id":"civ0ggqbl008drwvn5pzz0tys","_id":"civ0ggqbp008orwvnihhnds35"},{"post_id":"civ0ggq8p003arwvnp942alsk","tag_id":"civ0ggqbn008irwvnxf78zchk","_id":"civ0ggqbr008srwvn9c5wmjou"},{"post_id":"civ0ggq8p003arwvnp942alsk","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqbs008vrwvnzqw1ruxl"},{"post_id":"civ0ggq8p003arwvnp942alsk","tag_id":"civ0ggq91003frwvnvekttacb","_id":"civ0ggqbs008xrwvnsjr408pq"},{"post_id":"civ0ggq8q003crwvn4yh47o27","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqbv0096rwvn5sqc7n2g"},{"post_id":"civ0ggq8q003crwvn4yh47o27","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqbv0097rwvn2a6f0dwa"},{"post_id":"civ0ggq8q003crwvn4yh47o27","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqbx009brwvnwxjtt0gs"},{"post_id":"civ0ggq8q003crwvn4yh47o27","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqbx009crwvn9xt2p5d2"},{"post_id":"civ0ggq8q003crwvn4yh47o27","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqby009grwvnfl1t6k70"},{"post_id":"civ0ggq92003grwvnseofah3c","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqbz009krwvnxaj6h0ub"},{"post_id":"civ0ggq92003grwvnseofah3c","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqc0009lrwvnbjrwp2wh"},{"post_id":"civ0ggq92003grwvnseofah3c","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqc1009prwvnzoe6clva"},{"post_id":"civ0ggq92003grwvnseofah3c","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqc1009qrwvnz1sathqt"},{"post_id":"civ0ggq92003grwvnseofah3c","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqc2009urwvnx8j37i9q"},{"post_id":"civ0ggq94003krwvnwxuaubs8","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqc4009yrwvn910wi9xd"},{"post_id":"civ0ggq94003krwvnwxuaubs8","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqc400a0rwvnrw5lbk8j"},{"post_id":"civ0ggq94003krwvnwxuaubs8","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqc600a3rwvnl4u30jh6"},{"post_id":"civ0ggq94003krwvnwxuaubs8","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqc700a4rwvnp6yf4g7r"},{"post_id":"civ0ggq94003krwvnwxuaubs8","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqc700a6rwvnq6z2fzhf"},{"post_id":"civ0ggq98003nrwvngnef7i4c","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqc900a9rwvn42u8wlys"},{"post_id":"civ0ggq98003nrwvngnef7i4c","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqca00abrwvnkf1ik8u7"},{"post_id":"civ0ggq98003nrwvngnef7i4c","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqca00aerwvnmrxwyt6j"},{"post_id":"civ0ggq98003nrwvngnef7i4c","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqcb00agrwvn7myock34"},{"post_id":"civ0ggq98003nrwvngnef7i4c","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqcb00airwvnxsnf31ak"},{"post_id":"civ0ggq9b003qrwvnzpt149ep","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqcc00akrwvn925ukctu"},{"post_id":"civ0ggq9b003qrwvnzpt149ep","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqcc00alrwvnnmi9e011"},{"post_id":"civ0ggq9b003qrwvnzpt149ep","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqce00anrwvnal51gydw"},{"post_id":"civ0ggq9b003qrwvnzpt149ep","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqce00aorwvnfpd6e4rp"},{"post_id":"civ0ggq9b003qrwvnzpt149ep","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqce00aqrwvnzel5pz6f"},{"post_id":"civ0ggq9c003trwvnr64kp1j4","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqcg00asrwvnbtiiguvz"},{"post_id":"civ0ggq9c003trwvnr64kp1j4","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqcg00atrwvnoey9zw1i"},{"post_id":"civ0ggq9c003trwvnr64kp1j4","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqcg00avrwvnvgxymsf1"},{"post_id":"civ0ggq9c003trwvnr64kp1j4","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqch00awrwvnigbiaie3"},{"post_id":"civ0ggq9c003trwvnr64kp1j4","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqch00ayrwvn3e38f75o"},{"post_id":"civ0ggq9m0041rwvnykl3zdef","tag_id":"civ0ggq83002orwvnkgxiju7a","_id":"civ0ggqcp00bgrwvnhi96mv1p"},{"post_id":"civ0ggq9m0041rwvnykl3zdef","tag_id":"civ0ggq5v000arwvnfmfelbvl","_id":"civ0ggqcp00bhrwvniicxe2rb"},{"post_id":"civ0ggq9m0041rwvnykl3zdef","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqcp00bjrwvn1yyj36f2"},{"post_id":"civ0ggq9m0041rwvnykl3zdef","tag_id":"civ0ggqbs008wrwvnxgx7ec6o","_id":"civ0ggqcq00bkrwvn0uvhw0z3"},{"post_id":"civ0ggq9m0041rwvnykl3zdef","tag_id":"civ0ggqbt0090rwvnbxosyxir","_id":"civ0ggqcr00bmrwvnlanmgtn7"},{"post_id":"civ0ggq9r004arwvnxa1kxpco","tag_id":"civ0ggqcn00bfrwvnc2d7umzz","_id":"civ0ggqcr00bnrwvnc323wktn"},{"post_id":"civ0ggq9r004arwvnxa1kxpco","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqcs00bprwvnum91venx"},{"post_id":"civ0ggq9t004erwvnboaq6jj8","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqcs00bqrwvn169dkiti"},{"post_id":"civ0ggq9v004irwvnhksndifi","tag_id":"civ0ggqbq008rrwvncftupbdw","_id":"civ0ggqcs00bsrwvn2nug7sjk"},{"post_id":"civ0ggq9w004krwvnng5kl39q","tag_id":"civ0ggqcs00brrwvnl17a6lba","_id":"civ0ggqct00burwvni4izxpco"},{"post_id":"civ0ggqa2004orwvn9cg2cb6b","tag_id":"civ0ggqb2006rrwvnk0x2u2dl","_id":"civ0ggqcu00bwrwvninbpj9u8"},{"post_id":"civ0ggqa4004rrwvn4l20ibbp","tag_id":"civ0ggqct00bvrwvnp6zih7vn","_id":"civ0ggqcv00byrwvnbrvzymnf"},{"post_id":"civ0ggqab0052rwvndhovzj53","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ0ggqcv00c0rwvnagm65zlq"},{"post_id":"civ0ggqac0054rwvnnejf3nrn","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ0ggqcw00c2rwvnunv80hie"},{"post_id":"civ0ggqaf0058rwvn4qiphtky","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ0ggqcy00c4rwvn6a9s6ukk"},{"post_id":"civ0ggqah005brwvnsppxdnj1","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ0ggqcz00c6rwvnw7kqdbzn"},{"post_id":"civ0ggqam005frwvn2zx9daqt","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ0ggqcz00c7rwvn2064dq8c"},{"post_id":"civ7sk1hx0000p8vnjzc73zi4","tag_id":"civ0ggqct00bvrwvnp6zih7vn","_id":"civ7slc0c0000ysvnswmzzue6"},{"post_id":"civ8wt5hn0000kgvnxqr8wtoq","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ8wt5hx0001kgvnlhiwlgo5"},{"post_id":"civ95c50m00000svn2oolzq4f","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civ95c50v00010svn7pzv9j1c"},{"post_id":"civ0ggq9n0043rwvnxc616cbd","tag_id":"civ98z2zv0000jwvnyp2pms6f","_id":"civ98z30e0001jwvnrmnug8wi"},{"post_id":"civdgv75k0000ssvniq5g6jcv","tag_id":"civ0ggqcu00bxrwvnn3imb7c5","_id":"civdgv7630001ssvntzshb2fh"},{"post_id":"civxfpebh0000rsvnz0qauq9x","tag_id":"civ98z2zv0000jwvnyp2pms6f","_id":"civxfpebq0001rsvn2enc39eq"},{"post_id":"civ0ggq6m000zrwvn8fp23hjm","tag_id":"civ98z2zv0000jwvnyp2pms6f","_id":"civxgxksb0001ewvnng6sz8b4"}],"Tag":[{"name":"angular","_id":"civ0ggq5k0004rwvnn7utmoij"},{"name":"javascript","_id":"civ0ggq5v000arwvnfmfelbvl"},{"name":"开发工具","_id":"civ0ggq73001jrwvn7h39lytw"},{"name":"linux","_id":"civ0ggq7c001qrwvnyeram1vh"},{"name":"node","_id":"civ0ggq7h001xrwvnmerv4614"},{"name":"markdown","_id":"civ0ggq7p0028rwvnd5hvty7f"},{"name":"生活","_id":"civ0ggq7z002hrwvnjnloey3m"},{"name":"webpack","_id":"civ0ggq83002orwvnkgxiju7a"},{"name":"es6","_id":"civ0ggq91003frwvnvekttacb"},{"name":"es5","_id":"civ0ggqaa0051rwvnxdxwj1d2"},{"name":"PhotoShop","_id":"civ0ggqag0059rwvnribd0w9d"},{"name":"html","_id":"civ0ggqan005grwvn0y4hedfw"},{"name":"css","_id":"civ0ggqao005lrwvn4w7eo1id"},{"name":"koa","_id":"civ0ggqas005urwvnrtrcwtsr"},{"name":"mongodb","_id":"civ0ggqay006crwvnmz9we82f"},{"name":"npm","_id":"civ0ggqb2006rrwvnk0x2u2dl"},{"name":"git","_id":"civ0ggqb70079rwvnj9cd4sik"},{"name":"excel","_id":"civ0ggqbd007mrwvnw6bs81rn"},{"name":"gulp","_id":"civ0ggqbf007rrwvnp72j5oii"},{"name":"JavaScript","_id":"civ0ggqbg007wrwvnxgpvcvfw"},{"name":"jquery","_id":"civ0ggqbl008drwvn5pzz0tys"},{"name":"reactjs","_id":"civ0ggqbn008irwvnxf78zchk"},{"name":"angular2","_id":"civ0ggqbq008rrwvncftupbdw"},{"name":"sass","_id":"civ0ggqbs008wrwvnxgx7ec6o"},{"name":"typescript","_id":"civ0ggqbt0090rwvnbxosyxir"},{"name":"rxjs","_id":"civ0ggqcn00bfrwvnc2d7umzz"},{"name":"ionic2","_id":"civ0ggqcs00brrwvnl17a6lba"},{"name":"动漫","_id":"civ0ggqct00bvrwvnp6zih7vn"},{"name":"java","_id":"civ0ggqcu00bxrwvnn3imb7c5"},{"name":"技术","_id":"civ98z2zv0000jwvnyp2pms6f"}]}}