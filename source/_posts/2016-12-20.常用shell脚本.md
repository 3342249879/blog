---
author: 小莫
date: 2016-12-20
title: 常用shell脚本.
tags:
- linux
category: linux
permalink: NormalShell
---
这篇文章主要介绍了5个实用的shell脚本面试题和答案,给出的脚本堪称编码规范，麻雀虽小，异常处理，友好提示，一应俱全，值得学习,需要的朋友可以参考下
<!-- more -->


### 1. 个人信息
写一个shell脚本来得到当前的日期，时间，用户名和当前工作目录。
答案 : 输出用户名，当前日期和时间，以及当前工作目录的命令就是
$LOGNAME，‘date’，‘who i am’ 和 ’pwd‘。
![question1](https://image.xiaomo.info/linux/question1.png)
样例输出
注意：带$的环境变量在赋值的时候不需要反引号

![question_answer](https://image.xiaomo.info/linux/question_answer.png)
复制代码

### 2. 计算
写一个shell脚本，进行两个数字的相加，如果没有输入参数就输出错误信息和一行使用说明
```
$#  参数个数
-ne 不等于   !=
数值比较用字数        字符串比较用符号
-ne   不等于    !=
-lt   小于          <
-gt  大于          >
-le  小于等于    <=
-ge  大于等于   >=
-eq  等于          ==
```

特殊变量，不用加反引号   
比如 echo $0，意思是输出当前文件名   
![sum](https://image.xiaomo.info/linux/sum.png)

给他添加可执行权限，并且执行。    
复制代码代码如下:   
>chmod 755 two-numbers.sh   
>chmod +x tiaojian.sh   

情形一: 未输入两个数字作为命令行参数运行脚本，你将得到下面的输出。
样例输出
![count](https://image.xiaomo.info/linux/count.png)

因此，上述shell脚本满足了问题的要求。  
 
### 3.反序   
你需要打印一个给定的数字的反序，如输入10572，输出27501，如果没有输入数据，应该抛出错误和使用脚本说明。在此之前，告诉我你需要在这里使用的算法。

算法

1.输入的数字为n 
2.赋值 rev=0, sd=0 (反向和单个数字设置为0)           
3.n % 10, 将得到最左边的数字          
4.反向数字可以用这个方法生成 rev * 10 + sd              
5.对输入数字进行右位移操作（除以10）          
6.如果n > 0, 进入第三步，否则进行第七步              
7.输出rev                  
现在，创建一个名为`numbers.sh`文件，并添加以下代码。              
复制代码代码如下:   

```
#!/bin/bash 
if [ $# -ne 1 ] 
then 
    echo "Usage: $0   number" 
    echo "       I will find reverse of given number" 
    echo "       For eg. $0 0123, I will print 3210" 
    exit 1 
fi 
 
n=$1 
rev=0 
sd=0 
 
while [ $n -gt 0 ] 
do 
    sd=`expr $n % 10` 
    rev=`expr $rev \* 10  + $sd` 
    n=`expr $n / 10` 
done 
    echo  "Reverse number is $rev"
```

授予对文件的执行权限，并运行如下所示的脚本。
复制代码代码如下:
>chmod 755 numbers.h

情形一: 当输入不包含命令行参数，你将得到下面的输出。   
样例输出  
复制代码代码如下:   

>./numbers.sh
 
```
Usage: ./numbers.sh  number 
       I will find reverse of given number 
       For eg. ./2.sh 123, I will print 321
```

情形二: 正常输入
复制代码代码如下:  

`$ ./numbers.sh 10572 `
 
Reverse number is 27501

上面的脚本非常完美，输出正是我们需要的。   


####  4. 使用终端
你应该直接用终端，而不是依靠任何shell脚本来进行实数计算。你会怎么做（比如实数7.56+2.453）？
答案 : 我们需要用如下所述的特殊方式使用bc命令。将7.56+2.453作为输入通过管道进入bc中。
复制代码代码如下:

`$ echo 7.56 + 2.453 | bc`
 
10.013
5. 圆周率

需要给出圆周率的值，精度为小数点后100位，什么是最简单的方法。

答案 : 找圆周率的值最简单的方法，我们只是需要发出以下命令。
复制代码代码如下:

# pi 100 
 
3.141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067

很明显！安装我们必须有包pi。只用一个apt或yum命令，就能获得所需的软件包，同时用最简单方法来实现这个需求。
